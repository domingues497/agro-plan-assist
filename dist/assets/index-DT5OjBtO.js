var ew=e=>{throw TypeError(e)};var Nm=(e,t,r)=>t.has(e)||ew("Cannot "+r);var te=(e,t,r)=>(Nm(e,t,"read from private field"),r?r.call(e):t.get(e)),De=(e,t,r)=>t.has(e)?ew("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Ae=(e,t,r,n)=>(Nm(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Xe=(e,t,r)=>(Nm(e,t,"access private method"),r);var mf=(e,t,r,n)=>({set _(a){Ae(e,t,a,r)},get _(){return te(e,t,n)}});function vP(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();function ob(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function cb(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var lb={exports:{}},C0={},ub={exports:{}},Qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hd=Symbol.for("react.element"),xP=Symbol.for("react.portal"),yP=Symbol.for("react.fragment"),wP=Symbol.for("react.strict_mode"),_P=Symbol.for("react.profiler"),EP=Symbol.for("react.provider"),SP=Symbol.for("react.context"),bP=Symbol.for("react.forward_ref"),TP=Symbol.for("react.suspense"),CP=Symbol.for("react.memo"),kP=Symbol.for("react.lazy"),tw=Symbol.iterator;function AP(e){return e===null||typeof e!="object"?null:(e=tw&&e[tw]||e["@@iterator"],typeof e=="function"?e:null)}var db={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fb=Object.assign,hb={};function Wl(e,t,r){this.props=e,this.context=t,this.refs=hb,this.updater=r||db}Wl.prototype.isReactComponent={};Wl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Wl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function mb(){}mb.prototype=Wl.prototype;function fx(e,t,r){this.props=e,this.context=t,this.refs=hb,this.updater=r||db}var hx=fx.prototype=new mb;hx.constructor=fx;fb(hx,Wl.prototype);hx.isPureReactComponent=!0;var rw=Array.isArray,pb=Object.prototype.hasOwnProperty,mx={current:null},gb={key:!0,ref:!0,__self:!0,__source:!0};function vb(e,t,r){var n,a={},s=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)pb.call(t,n)&&!gb.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];a.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:Hd,type:e,key:s,ref:i,props:a,_owner:mx.current}}function jP(e,t){return{$$typeof:Hd,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function px(e){return typeof e=="object"&&e!==null&&e.$$typeof===Hd}function NP(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var nw=/\/+/g;function Im(e,t){return typeof e=="object"&&e!==null&&e.key!=null?NP(""+e.key):t.toString(36)}function ih(e,t,r,n,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Hd:case xP:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+Im(i,0):n,rw(a)?(r="",e!=null&&(r=e.replace(nw,"$&/")+"/"),ih(a,t,r,"",function(u){return u})):a!=null&&(px(a)&&(a=jP(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(nw,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",rw(e))for(var o=0;o<e.length;o++){s=e[o];var l=n+Im(s,o);i+=ih(s,t,r,l,a)}else if(l=AP(e),typeof l=="function")for(e=l.call(e),o=0;!(s=e.next()).done;)s=s.value,l=n+Im(s,o++),i+=ih(s,t,r,l,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function pf(e,t,r){if(e==null)return e;var n=[],a=0;return ih(e,n,"","",function(s){return t.call(r,s,a++)}),n}function IP(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ln={current:null},oh={transition:null},RP={ReactCurrentDispatcher:ln,ReactCurrentBatchConfig:oh,ReactCurrentOwner:mx};function xb(){throw Error("act(...) is not supported in production builds of React.")}Qe.Children={map:pf,forEach:function(e,t,r){pf(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return pf(e,function(){t++}),t},toArray:function(e){return pf(e,function(t){return t})||[]},only:function(e){if(!px(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Qe.Component=Wl;Qe.Fragment=yP;Qe.Profiler=_P;Qe.PureComponent=fx;Qe.StrictMode=wP;Qe.Suspense=TP;Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RP;Qe.act=xb;Qe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=fb({},e.props),a=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=mx.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)pb.call(t,l)&&!gb.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Hd,type:e.type,key:a,ref:s,props:n,_owner:i}};Qe.createContext=function(e){return e={$$typeof:SP,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:EP,_context:e},e.Consumer=e};Qe.createElement=vb;Qe.createFactory=function(e){var t=vb.bind(null,e);return t.type=e,t};Qe.createRef=function(){return{current:null}};Qe.forwardRef=function(e){return{$$typeof:bP,render:e}};Qe.isValidElement=px;Qe.lazy=function(e){return{$$typeof:kP,_payload:{_status:-1,_result:e},_init:IP}};Qe.memo=function(e,t){return{$$typeof:CP,type:e,compare:t===void 0?null:t}};Qe.startTransition=function(e){var t=oh.transition;oh.transition={};try{e()}finally{oh.transition=t}};Qe.unstable_act=xb;Qe.useCallback=function(e,t){return ln.current.useCallback(e,t)};Qe.useContext=function(e){return ln.current.useContext(e)};Qe.useDebugValue=function(){};Qe.useDeferredValue=function(e){return ln.current.useDeferredValue(e)};Qe.useEffect=function(e,t){return ln.current.useEffect(e,t)};Qe.useId=function(){return ln.current.useId()};Qe.useImperativeHandle=function(e,t,r){return ln.current.useImperativeHandle(e,t,r)};Qe.useInsertionEffect=function(e,t){return ln.current.useInsertionEffect(e,t)};Qe.useLayoutEffect=function(e,t){return ln.current.useLayoutEffect(e,t)};Qe.useMemo=function(e,t){return ln.current.useMemo(e,t)};Qe.useReducer=function(e,t,r){return ln.current.useReducer(e,t,r)};Qe.useRef=function(e){return ln.current.useRef(e)};Qe.useState=function(e){return ln.current.useState(e)};Qe.useSyncExternalStore=function(e,t,r){return ln.current.useSyncExternalStore(e,t,r)};Qe.useTransition=function(){return ln.current.useTransition()};Qe.version="18.3.1";ub.exports=Qe;var x=ub.exports;const me=ob(x),gx=vP({__proto__:null,default:me},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PP=x,OP=Symbol.for("react.element"),FP=Symbol.for("react.fragment"),DP=Object.prototype.hasOwnProperty,MP=PP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,LP={key:!0,ref:!0,__self:!0,__source:!0};function yb(e,t,r){var n,a={},s=null,i=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)DP.call(t,n)&&!LP.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:OP,type:e,key:s,ref:i,props:a,_owner:MP.current}}C0.Fragment=FP;C0.jsx=yb;C0.jsxs=yb;lb.exports=C0;var c=lb.exports,wb={exports:{}},ra={},_b={exports:{}},Eb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Y,F){var ne=Y.length;Y.push(F);e:for(;0<ne;){var ee=ne-1>>>1,k=Y[ee];if(0<a(k,F))Y[ee]=F,Y[ne]=k,ne=ee;else break e}}function r(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var F=Y[0],ne=Y.pop();if(ne!==F){Y[0]=ne;e:for(var ee=0,k=Y.length,G=k>>>1;ee<G;){var L=2*(ee+1)-1,D=Y[L],O=L+1,P=Y[O];if(0>a(D,ne))O<k&&0>a(P,D)?(Y[ee]=P,Y[O]=ne,ee=O):(Y[ee]=D,Y[L]=ne,ee=L);else if(O<k&&0>a(P,ne))Y[ee]=P,Y[O]=ne,ee=O;else break e}}return F}function a(Y,F){var ne=Y.sortIndex-F.sortIndex;return ne!==0?ne:Y.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var l=[],u=[],d=1,f=null,h=3,m=!1,v=!1,p=!1,g=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(Y){for(var F=r(u);F!==null;){if(F.callback===null)n(u);else if(F.startTime<=Y)n(u),F.sortIndex=F.expirationTime,t(l,F);else break;F=r(u)}}function E(Y){if(p=!1,w(Y),!v)if(r(l)!==null)v=!0,z(T);else{var F=r(u);F!==null&&V(E,F.startTime-Y)}}function T(Y,F){v=!1,p&&(p=!1,y(C),C=-1),m=!0;var ne=h;try{for(w(F),f=r(l);f!==null&&(!(f.expirationTime>F)||Y&&!I());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,h=f.priorityLevel;var k=ee(f.expirationTime<=F);F=e.unstable_now(),typeof k=="function"?f.callback=k:f===r(l)&&n(l),w(F)}else n(l);f=r(l)}if(f!==null)var G=!0;else{var L=r(u);L!==null&&V(E,L.startTime-F),G=!1}return G}finally{f=null,h=ne,m=!1}}var b=!1,S=null,C=-1,A=5,j=-1;function I(){return!(e.unstable_now()-j<A)}function N(){if(S!==null){var Y=e.unstable_now();j=Y;var F=!0;try{F=S(!0,Y)}finally{F?W():(b=!1,S=null)}}else b=!1}var W;if(typeof _=="function")W=function(){_(N)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,X=M.port2;M.port1.onmessage=N,W=function(){X.postMessage(null)}}else W=function(){g(N,0)};function z(Y){S=Y,b||(b=!0,W())}function V(Y,F){C=g(function(){Y(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,z(T))},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(Y){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var ne=h;h=F;try{return Y()}finally{h=ne}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Y,F){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ne=h;h=Y;try{return F()}finally{h=ne}},e.unstable_scheduleCallback=function(Y,F,ne){var ee=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?ee+ne:ee):ne=ee,Y){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=ne+k,Y={id:d++,callback:F,priorityLevel:Y,startTime:ne,expirationTime:k,sortIndex:-1},ne>ee?(Y.sortIndex=ne,t(u,Y),r(l)===null&&Y===r(u)&&(p?(y(C),C=-1):p=!0,V(E,ne-ee))):(Y.sortIndex=k,t(l,Y),v||m||(v=!0,z(T))),Y},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(Y){var F=h;return function(){var ne=h;h=F;try{return Y.apply(this,arguments)}finally{h=ne}}}})(Eb);_b.exports=Eb;var UP=_b.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BP=x,Yn=UP;function xe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Sb=new Set,od={};function cc(e,t){Al(e,t),Al(e+"Capture",t)}function Al(e,t){for(od[e]=t,e=0;e<t.length;e++)Sb.add(t[e])}var Gs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lg=Object.prototype.hasOwnProperty,$P=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,aw={},sw={};function zP(e){return lg.call(sw,e)?!0:lg.call(aw,e)?!1:$P.test(e)?sw[e]=!0:(aw[e]=!0,!1)}function VP(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function WP(e,t,r,n){if(t===null||typeof t>"u"||VP(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function un(e,t,r,n,a,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var jr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){jr[e]=new un(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];jr[t]=new un(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){jr[e]=new un(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){jr[e]=new un(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){jr[e]=new un(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){jr[e]=new un(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){jr[e]=new un(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){jr[e]=new un(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){jr[e]=new un(e,5,!1,e.toLowerCase(),null,!1,!1)});var vx=/[\-:]([a-z])/g;function xx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(vx,xx);jr[t]=new un(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(vx,xx);jr[t]=new un(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(vx,xx);jr[t]=new un(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){jr[e]=new un(e,1,!1,e.toLowerCase(),null,!1,!1)});jr.xlinkHref=new un("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){jr[e]=new un(e,1,!1,e.toLowerCase(),null,!0,!0)});function yx(e,t,r,n){var a=jr.hasOwnProperty(t)?jr[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(WP(t,r,a,n)&&(r=null),n||a===null?zP(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Zs=BP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gf=Symbol.for("react.element"),Bc=Symbol.for("react.portal"),$c=Symbol.for("react.fragment"),wx=Symbol.for("react.strict_mode"),ug=Symbol.for("react.profiler"),bb=Symbol.for("react.provider"),Tb=Symbol.for("react.context"),_x=Symbol.for("react.forward_ref"),dg=Symbol.for("react.suspense"),fg=Symbol.for("react.suspense_list"),Ex=Symbol.for("react.memo"),mi=Symbol.for("react.lazy"),Cb=Symbol.for("react.offscreen"),iw=Symbol.iterator;function gu(e){return e===null||typeof e!="object"?null:(e=iw&&e[iw]||e["@@iterator"],typeof e=="function"?e:null)}var $t=Object.assign,Rm;function Au(e){if(Rm===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Rm=t&&t[1]||""}return`
`+Rm+e}var Pm=!1;function Om(e,t){if(!e||Pm)return"";Pm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),s=n.stack.split(`
`),i=a.length-1,o=s.length-1;1<=i&&0<=o&&a[i]!==s[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==s[o]){if(i!==1||o!==1)do if(i--,o--,0>o||a[i]!==s[o]){var l=`
`+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=o);break}}}finally{Pm=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Au(e):""}function HP(e){switch(e.tag){case 5:return Au(e.type);case 16:return Au("Lazy");case 13:return Au("Suspense");case 19:return Au("SuspenseList");case 0:case 2:case 15:return e=Om(e.type,!1),e;case 11:return e=Om(e.type.render,!1),e;case 1:return e=Om(e.type,!0),e;default:return""}}function hg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $c:return"Fragment";case Bc:return"Portal";case ug:return"Profiler";case wx:return"StrictMode";case dg:return"Suspense";case fg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Tb:return(e.displayName||"Context")+".Consumer";case bb:return(e._context.displayName||"Context")+".Provider";case _x:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ex:return t=e.displayName||null,t!==null?t:hg(e.type)||"Memo";case mi:t=e._payload,e=e._init;try{return hg(e(t))}catch{}}return null}function GP(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hg(t);case 8:return t===wx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ki(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function kb(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qP(e){var t=kb(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vf(e){e._valueTracker||(e._valueTracker=qP(e))}function Ab(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=kb(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function bh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function mg(e,t){var r=t.checked;return $t({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function ow(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ki(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function jb(e,t){t=t.checked,t!=null&&yx(e,"checked",t,!1)}function pg(e,t){jb(e,t);var r=Ki(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?gg(e,t.type,r):t.hasOwnProperty("defaultValue")&&gg(e,t.type,Ki(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function cw(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function gg(e,t,r){(t!=="number"||bh(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ju=Array.isArray;function Zc(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ki(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function vg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(xe(91));return $t({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function lw(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(xe(92));if(ju(r)){if(1<r.length)throw Error(xe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ki(r)}}function Nb(e,t){var r=Ki(t.value),n=Ki(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function uw(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ib(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ib(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var xf,Rb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(xf=xf||document.createElement("div"),xf.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=xf.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function cd(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Uu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},KP=["Webkit","ms","Moz","O"];Object.keys(Uu).forEach(function(e){KP.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Uu[t]=Uu[e]})});function Pb(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Uu.hasOwnProperty(e)&&Uu[e]?(""+t).trim():t+"px"}function Ob(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=Pb(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var JP=$t({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yg(e,t){if(t){if(JP[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(xe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(xe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(xe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(xe(62))}}function wg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _g=null;function Sx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Eg=null,el=null,tl=null;function dw(e){if(e=Kd(e)){if(typeof Eg!="function")throw Error(xe(280));var t=e.stateNode;t&&(t=I0(t),Eg(e.stateNode,e.type,t))}}function Fb(e){el?tl?tl.push(e):tl=[e]:el=e}function Db(){if(el){var e=el,t=tl;if(tl=el=null,dw(e),t)for(e=0;e<t.length;e++)dw(t[e])}}function Mb(e,t){return e(t)}function Lb(){}var Fm=!1;function Ub(e,t,r){if(Fm)return e(t,r);Fm=!0;try{return Mb(e,t,r)}finally{Fm=!1,(el!==null||tl!==null)&&(Lb(),Db())}}function ld(e,t){var r=e.stateNode;if(r===null)return null;var n=I0(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(xe(231,t,typeof r));return r}var Sg=!1;if(Gs)try{var vu={};Object.defineProperty(vu,"passive",{get:function(){Sg=!0}}),window.addEventListener("test",vu,vu),window.removeEventListener("test",vu,vu)}catch{Sg=!1}function XP(e,t,r,n,a,s,i,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Bu=!1,Th=null,Ch=!1,bg=null,YP={onError:function(e){Bu=!0,Th=e}};function QP(e,t,r,n,a,s,i,o,l){Bu=!1,Th=null,XP.apply(YP,arguments)}function ZP(e,t,r,n,a,s,i,o,l){if(QP.apply(this,arguments),Bu){if(Bu){var u=Th;Bu=!1,Th=null}else throw Error(xe(198));Ch||(Ch=!0,bg=u)}}function lc(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Bb(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function fw(e){if(lc(e)!==e)throw Error(xe(188))}function eO(e){var t=e.alternate;if(!t){if(t=lc(e),t===null)throw Error(xe(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return fw(a),e;if(s===n)return fw(a),t;s=s.sibling}throw Error(xe(188))}if(r.return!==n.return)r=a,n=s;else{for(var i=!1,o=a.child;o;){if(o===r){i=!0,r=a,n=s;break}if(o===n){i=!0,n=a,r=s;break}o=o.sibling}if(!i){for(o=s.child;o;){if(o===r){i=!0,r=s,n=a;break}if(o===n){i=!0,n=s,r=a;break}o=o.sibling}if(!i)throw Error(xe(189))}}if(r.alternate!==n)throw Error(xe(190))}if(r.tag!==3)throw Error(xe(188));return r.stateNode.current===r?e:t}function $b(e){return e=eO(e),e!==null?zb(e):null}function zb(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=zb(e);if(t!==null)return t;e=e.sibling}return null}var Vb=Yn.unstable_scheduleCallback,hw=Yn.unstable_cancelCallback,tO=Yn.unstable_shouldYield,rO=Yn.unstable_requestPaint,Kt=Yn.unstable_now,nO=Yn.unstable_getCurrentPriorityLevel,bx=Yn.unstable_ImmediatePriority,Wb=Yn.unstable_UserBlockingPriority,kh=Yn.unstable_NormalPriority,aO=Yn.unstable_LowPriority,Hb=Yn.unstable_IdlePriority,k0=null,ps=null;function sO(e){if(ps&&typeof ps.onCommitFiberRoot=="function")try{ps.onCommitFiberRoot(k0,e,void 0,(e.current.flags&128)===128)}catch{}}var Wa=Math.clz32?Math.clz32:cO,iO=Math.log,oO=Math.LN2;function cO(e){return e>>>=0,e===0?32:31-(iO(e)/oO|0)|0}var yf=64,wf=4194304;function Nu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ah(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,i=r&268435455;if(i!==0){var o=i&~a;o!==0?n=Nu(o):(s&=i,s!==0&&(n=Nu(s)))}else i=r&~a,i!==0?n=Nu(i):s!==0&&(n=Nu(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Wa(t),a=1<<r,n|=e[r],t&=~a;return n}function lO(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uO(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-Wa(s),o=1<<i,l=a[i];l===-1?(!(o&r)||o&n)&&(a[i]=lO(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}function Tg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Gb(){var e=yf;return yf<<=1,!(yf&4194240)&&(yf=64),e}function Dm(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Gd(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Wa(t),e[t]=r}function dO(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Wa(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}function Tx(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Wa(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var mt=0;function qb(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Kb,Cx,Jb,Xb,Yb,Cg=!1,_f=[],Di=null,Mi=null,Li=null,ud=new Map,dd=new Map,gi=[],fO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mw(e,t){switch(e){case"focusin":case"focusout":Di=null;break;case"dragenter":case"dragleave":Mi=null;break;case"mouseover":case"mouseout":Li=null;break;case"pointerover":case"pointerout":ud.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dd.delete(t.pointerId)}}function xu(e,t,r,n,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},t!==null&&(t=Kd(t),t!==null&&Cx(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function hO(e,t,r,n,a){switch(t){case"focusin":return Di=xu(Di,e,t,r,n,a),!0;case"dragenter":return Mi=xu(Mi,e,t,r,n,a),!0;case"mouseover":return Li=xu(Li,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return ud.set(s,xu(ud.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,dd.set(s,xu(dd.get(s)||null,e,t,r,n,a)),!0}return!1}function Qb(e){var t=To(e.target);if(t!==null){var r=lc(t);if(r!==null){if(t=r.tag,t===13){if(t=Bb(r),t!==null){e.blockedOn=t,Yb(e.priority,function(){Jb(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ch(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=kg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);_g=n,r.target.dispatchEvent(n),_g=null}else return t=Kd(r),t!==null&&Cx(t),e.blockedOn=r,!1;t.shift()}return!0}function pw(e,t,r){ch(e)&&r.delete(t)}function mO(){Cg=!1,Di!==null&&ch(Di)&&(Di=null),Mi!==null&&ch(Mi)&&(Mi=null),Li!==null&&ch(Li)&&(Li=null),ud.forEach(pw),dd.forEach(pw)}function yu(e,t){e.blockedOn===t&&(e.blockedOn=null,Cg||(Cg=!0,Yn.unstable_scheduleCallback(Yn.unstable_NormalPriority,mO)))}function fd(e){function t(a){return yu(a,e)}if(0<_f.length){yu(_f[0],e);for(var r=1;r<_f.length;r++){var n=_f[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Di!==null&&yu(Di,e),Mi!==null&&yu(Mi,e),Li!==null&&yu(Li,e),ud.forEach(t),dd.forEach(t),r=0;r<gi.length;r++)n=gi[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<gi.length&&(r=gi[0],r.blockedOn===null);)Qb(r),r.blockedOn===null&&gi.shift()}var rl=Zs.ReactCurrentBatchConfig,jh=!0;function pO(e,t,r,n){var a=mt,s=rl.transition;rl.transition=null;try{mt=1,kx(e,t,r,n)}finally{mt=a,rl.transition=s}}function gO(e,t,r,n){var a=mt,s=rl.transition;rl.transition=null;try{mt=4,kx(e,t,r,n)}finally{mt=a,rl.transition=s}}function kx(e,t,r,n){if(jh){var a=kg(e,t,r,n);if(a===null)Gm(e,t,n,Nh,r),mw(e,n);else if(hO(a,e,t,r,n))n.stopPropagation();else if(mw(e,n),t&4&&-1<fO.indexOf(e)){for(;a!==null;){var s=Kd(a);if(s!==null&&Kb(s),s=kg(e,t,r,n),s===null&&Gm(e,t,n,Nh,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else Gm(e,t,n,null,r)}}var Nh=null;function kg(e,t,r,n){if(Nh=null,e=Sx(n),e=To(e),e!==null)if(t=lc(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Bb(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Nh=e,null}function Zb(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nO()){case bx:return 1;case Wb:return 4;case kh:case aO:return 16;case Hb:return 536870912;default:return 16}default:return 16}}var Ii=null,Ax=null,lh=null;function e2(){if(lh)return lh;var e,t=Ax,r=t.length,n,a="value"in Ii?Ii.value:Ii.textContent,s=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[s-n];n++);return lh=a.slice(e,1<n?1-n:void 0)}function uh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ef(){return!0}function gw(){return!1}function na(e){function t(r,n,a,s,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ef:gw,this.isPropagationStopped=gw,this}return $t(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ef)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ef)},persist:function(){},isPersistent:Ef}),t}var Hl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jx=na(Hl),qd=$t({},Hl,{view:0,detail:0}),vO=na(qd),Mm,Lm,wu,A0=$t({},qd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nx,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wu&&(wu&&e.type==="mousemove"?(Mm=e.screenX-wu.screenX,Lm=e.screenY-wu.screenY):Lm=Mm=0,wu=e),Mm)},movementY:function(e){return"movementY"in e?e.movementY:Lm}}),vw=na(A0),xO=$t({},A0,{dataTransfer:0}),yO=na(xO),wO=$t({},qd,{relatedTarget:0}),Um=na(wO),_O=$t({},Hl,{animationName:0,elapsedTime:0,pseudoElement:0}),EO=na(_O),SO=$t({},Hl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bO=na(SO),TO=$t({},Hl,{data:0}),xw=na(TO),CO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jO(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=AO[e])?!!t[e]:!1}function Nx(){return jO}var NO=$t({},qd,{key:function(e){if(e.key){var t=CO[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=uh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?kO[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nx,charCode:function(e){return e.type==="keypress"?uh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?uh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),IO=na(NO),RO=$t({},A0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yw=na(RO),PO=$t({},qd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nx}),OO=na(PO),FO=$t({},Hl,{propertyName:0,elapsedTime:0,pseudoElement:0}),DO=na(FO),MO=$t({},A0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),LO=na(MO),UO=[9,13,27,32],Ix=Gs&&"CompositionEvent"in window,$u=null;Gs&&"documentMode"in document&&($u=document.documentMode);var BO=Gs&&"TextEvent"in window&&!$u,t2=Gs&&(!Ix||$u&&8<$u&&11>=$u),ww=" ",_w=!1;function r2(e,t){switch(e){case"keyup":return UO.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function n2(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zc=!1;function $O(e,t){switch(e){case"compositionend":return n2(t);case"keypress":return t.which!==32?null:(_w=!0,ww);case"textInput":return e=t.data,e===ww&&_w?null:e;default:return null}}function zO(e,t){if(zc)return e==="compositionend"||!Ix&&r2(e,t)?(e=e2(),lh=Ax=Ii=null,zc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return t2&&t.locale!=="ko"?null:t.data;default:return null}}var VO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ew(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!VO[e.type]:t==="textarea"}function a2(e,t,r,n){Fb(n),t=Ih(t,"onChange"),0<t.length&&(r=new jx("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var zu=null,hd=null;function WO(e){p2(e,0)}function j0(e){var t=Hc(e);if(Ab(t))return e}function HO(e,t){if(e==="change")return t}var s2=!1;if(Gs){var Bm;if(Gs){var $m="oninput"in document;if(!$m){var Sw=document.createElement("div");Sw.setAttribute("oninput","return;"),$m=typeof Sw.oninput=="function"}Bm=$m}else Bm=!1;s2=Bm&&(!document.documentMode||9<document.documentMode)}function bw(){zu&&(zu.detachEvent("onpropertychange",i2),hd=zu=null)}function i2(e){if(e.propertyName==="value"&&j0(hd)){var t=[];a2(t,hd,e,Sx(e)),Ub(WO,t)}}function GO(e,t,r){e==="focusin"?(bw(),zu=t,hd=r,zu.attachEvent("onpropertychange",i2)):e==="focusout"&&bw()}function qO(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return j0(hd)}function KO(e,t){if(e==="click")return j0(t)}function JO(e,t){if(e==="input"||e==="change")return j0(t)}function XO(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qa=typeof Object.is=="function"?Object.is:XO;function md(e,t){if(qa(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!lg.call(t,a)||!qa(e[a],t[a]))return!1}return!0}function Tw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Cw(e,t){var r=Tw(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Tw(r)}}function o2(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?o2(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function c2(){for(var e=window,t=bh();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=bh(e.document)}return t}function Rx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function YO(e){var t=c2(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&o2(r.ownerDocument.documentElement,r)){if(n!==null&&Rx(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=Cw(r,s);var i=Cw(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var QO=Gs&&"documentMode"in document&&11>=document.documentMode,Vc=null,Ag=null,Vu=null,jg=!1;function kw(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;jg||Vc==null||Vc!==bh(n)||(n=Vc,"selectionStart"in n&&Rx(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Vu&&md(Vu,n)||(Vu=n,n=Ih(Ag,"onSelect"),0<n.length&&(t=new jx("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Vc)))}function Sf(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Wc={animationend:Sf("Animation","AnimationEnd"),animationiteration:Sf("Animation","AnimationIteration"),animationstart:Sf("Animation","AnimationStart"),transitionend:Sf("Transition","TransitionEnd")},zm={},l2={};Gs&&(l2=document.createElement("div").style,"AnimationEvent"in window||(delete Wc.animationend.animation,delete Wc.animationiteration.animation,delete Wc.animationstart.animation),"TransitionEvent"in window||delete Wc.transitionend.transition);function N0(e){if(zm[e])return zm[e];if(!Wc[e])return e;var t=Wc[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in l2)return zm[e]=t[r];return e}var u2=N0("animationend"),d2=N0("animationiteration"),f2=N0("animationstart"),h2=N0("transitionend"),m2=new Map,Aw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ro(e,t){m2.set(e,t),cc(t,[e])}for(var Vm=0;Vm<Aw.length;Vm++){var Wm=Aw[Vm],ZO=Wm.toLowerCase(),e4=Wm[0].toUpperCase()+Wm.slice(1);ro(ZO,"on"+e4)}ro(u2,"onAnimationEnd");ro(d2,"onAnimationIteration");ro(f2,"onAnimationStart");ro("dblclick","onDoubleClick");ro("focusin","onFocus");ro("focusout","onBlur");ro(h2,"onTransitionEnd");Al("onMouseEnter",["mouseout","mouseover"]);Al("onMouseLeave",["mouseout","mouseover"]);Al("onPointerEnter",["pointerout","pointerover"]);Al("onPointerLeave",["pointerout","pointerover"]);cc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cc("onBeforeInput",["compositionend","keypress","textInput","paste"]);cc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),t4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Iu));function jw(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,ZP(n,t,void 0,e),e.currentTarget=null}function p2(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var i=n.length-1;0<=i;i--){var o=n[i],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&a.isPropagationStopped())break e;jw(a,o,u),s=l}else for(i=0;i<n.length;i++){if(o=n[i],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&a.isPropagationStopped())break e;jw(a,o,u),s=l}}}if(Ch)throw e=bg,Ch=!1,bg=null,e}function Ct(e,t){var r=t[Og];r===void 0&&(r=t[Og]=new Set);var n=e+"__bubble";r.has(n)||(g2(t,e,2,!1),r.add(n))}function Hm(e,t,r){var n=0;t&&(n|=4),g2(r,e,n,t)}var bf="_reactListening"+Math.random().toString(36).slice(2);function pd(e){if(!e[bf]){e[bf]=!0,Sb.forEach(function(r){r!=="selectionchange"&&(t4.has(r)||Hm(r,!1,e),Hm(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[bf]||(t[bf]=!0,Hm("selectionchange",!1,t))}}function g2(e,t,r,n){switch(Zb(t)){case 1:var a=pO;break;case 4:a=gO;break;default:a=kx}r=a.bind(null,t,r,e),a=void 0,!Sg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Gm(e,t,r,n,a){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;i=i.return}for(;o!==null;){if(i=To(o),i===null)return;if(l=i.tag,l===5||l===6){n=s=i;continue e}o=o.parentNode}}n=n.return}Ub(function(){var u=s,d=Sx(r),f=[];e:{var h=m2.get(e);if(h!==void 0){var m=jx,v=e;switch(e){case"keypress":if(uh(r)===0)break e;case"keydown":case"keyup":m=IO;break;case"focusin":v="focus",m=Um;break;case"focusout":v="blur",m=Um;break;case"beforeblur":case"afterblur":m=Um;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=vw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=yO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=OO;break;case u2:case d2:case f2:m=EO;break;case h2:m=DO;break;case"scroll":m=vO;break;case"wheel":m=LO;break;case"copy":case"cut":case"paste":m=bO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=yw}var p=(t&4)!==0,g=!p&&e==="scroll",y=p?h!==null?h+"Capture":null:h;p=[];for(var _=u,w;_!==null;){w=_;var E=w.stateNode;if(w.tag===5&&E!==null&&(w=E,y!==null&&(E=ld(_,y),E!=null&&p.push(gd(_,E,w)))),g)break;_=_.return}0<p.length&&(h=new m(h,v,null,r,d),f.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==_g&&(v=r.relatedTarget||r.fromElement)&&(To(v)||v[qs]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(v=r.relatedTarget||r.toElement,m=u,v=v?To(v):null,v!==null&&(g=lc(v),v!==g||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(p=vw,E="onMouseLeave",y="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(p=yw,E="onPointerLeave",y="onPointerEnter",_="pointer"),g=m==null?h:Hc(m),w=v==null?h:Hc(v),h=new p(E,_+"leave",m,r,d),h.target=g,h.relatedTarget=w,E=null,To(d)===u&&(p=new p(y,_+"enter",v,r,d),p.target=w,p.relatedTarget=g,E=p),g=E,m&&v)t:{for(p=m,y=v,_=0,w=p;w;w=yc(w))_++;for(w=0,E=y;E;E=yc(E))w++;for(;0<_-w;)p=yc(p),_--;for(;0<w-_;)y=yc(y),w--;for(;_--;){if(p===y||y!==null&&p===y.alternate)break t;p=yc(p),y=yc(y)}p=null}else p=null;m!==null&&Nw(f,h,m,p,!1),v!==null&&g!==null&&Nw(f,g,v,p,!0)}}e:{if(h=u?Hc(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var T=HO;else if(Ew(h))if(s2)T=JO;else{T=qO;var b=GO}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=KO);if(T&&(T=T(e,u))){a2(f,T,r,d);break e}b&&b(e,h,u),e==="focusout"&&(b=h._wrapperState)&&b.controlled&&h.type==="number"&&gg(h,"number",h.value)}switch(b=u?Hc(u):window,e){case"focusin":(Ew(b)||b.contentEditable==="true")&&(Vc=b,Ag=u,Vu=null);break;case"focusout":Vu=Ag=Vc=null;break;case"mousedown":jg=!0;break;case"contextmenu":case"mouseup":case"dragend":jg=!1,kw(f,r,d);break;case"selectionchange":if(QO)break;case"keydown":case"keyup":kw(f,r,d)}var S;if(Ix)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else zc?r2(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(t2&&r.locale!=="ko"&&(zc||C!=="onCompositionStart"?C==="onCompositionEnd"&&zc&&(S=e2()):(Ii=d,Ax="value"in Ii?Ii.value:Ii.textContent,zc=!0)),b=Ih(u,C),0<b.length&&(C=new xw(C,e,null,r,d),f.push({event:C,listeners:b}),S?C.data=S:(S=n2(r),S!==null&&(C.data=S)))),(S=BO?$O(e,r):zO(e,r))&&(u=Ih(u,"onBeforeInput"),0<u.length&&(d=new xw("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=S))}p2(f,t)})}function gd(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ih(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=ld(e,r),s!=null&&n.unshift(gd(e,s,a)),s=ld(e,t),s!=null&&n.push(gd(e,s,a))),e=e.return}return n}function yc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Nw(e,t,r,n,a){for(var s=t._reactName,i=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,a?(l=ld(r,s),l!=null&&i.unshift(gd(r,l,o))):a||(l=ld(r,s),l!=null&&i.push(gd(r,l,o)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var r4=/\r\n?/g,n4=/\u0000|\uFFFD/g;function Iw(e){return(typeof e=="string"?e:""+e).replace(r4,`
`).replace(n4,"")}function Tf(e,t,r){if(t=Iw(t),Iw(e)!==t&&r)throw Error(xe(425))}function Rh(){}var Ng=null,Ig=null;function Rg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Pg=typeof setTimeout=="function"?setTimeout:void 0,a4=typeof clearTimeout=="function"?clearTimeout:void 0,Rw=typeof Promise=="function"?Promise:void 0,s4=typeof queueMicrotask=="function"?queueMicrotask:typeof Rw<"u"?function(e){return Rw.resolve(null).then(e).catch(i4)}:Pg;function i4(e){setTimeout(function(){throw e})}function qm(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),fd(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);fd(t)}function Ui(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Pw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Gl=Math.random().toString(36).slice(2),ds="__reactFiber$"+Gl,vd="__reactProps$"+Gl,qs="__reactContainer$"+Gl,Og="__reactEvents$"+Gl,o4="__reactListeners$"+Gl,c4="__reactHandles$"+Gl;function To(e){var t=e[ds];if(t)return t;for(var r=e.parentNode;r;){if(t=r[qs]||r[ds]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Pw(e);e!==null;){if(r=e[ds])return r;e=Pw(e)}return t}e=r,r=e.parentNode}return null}function Kd(e){return e=e[ds]||e[qs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Hc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(xe(33))}function I0(e){return e[vd]||null}var Fg=[],Gc=-1;function no(e){return{current:e}}function kt(e){0>Gc||(e.current=Fg[Gc],Fg[Gc]=null,Gc--)}function _t(e,t){Gc++,Fg[Gc]=e.current,e.current=t}var Ji={},$r=no(Ji),Cn=no(!1),Wo=Ji;function jl(e,t){var r=e.type.contextTypes;if(!r)return Ji;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function kn(e){return e=e.childContextTypes,e!=null}function Ph(){kt(Cn),kt($r)}function Ow(e,t,r){if($r.current!==Ji)throw Error(xe(168));_t($r,t),_t(Cn,r)}function v2(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(xe(108,GP(e)||"Unknown",a));return $t({},r,n)}function Oh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ji,Wo=$r.current,_t($r,e),_t(Cn,Cn.current),!0}function Fw(e,t,r){var n=e.stateNode;if(!n)throw Error(xe(169));r?(e=v2(e,t,Wo),n.__reactInternalMemoizedMergedChildContext=e,kt(Cn),kt($r),_t($r,e)):kt(Cn),_t(Cn,r)}var Ds=null,R0=!1,Km=!1;function x2(e){Ds===null?Ds=[e]:Ds.push(e)}function l4(e){R0=!0,x2(e)}function ao(){if(!Km&&Ds!==null){Km=!0;var e=0,t=mt;try{var r=Ds;for(mt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ds=null,R0=!1}catch(a){throw Ds!==null&&(Ds=Ds.slice(e+1)),Vb(bx,ao),a}finally{mt=t,Km=!1}}return null}var qc=[],Kc=0,Fh=null,Dh=0,fa=[],ha=0,Ho=null,Us=1,Bs="";function xo(e,t){qc[Kc++]=Dh,qc[Kc++]=Fh,Fh=e,Dh=t}function y2(e,t,r){fa[ha++]=Us,fa[ha++]=Bs,fa[ha++]=Ho,Ho=e;var n=Us;e=Bs;var a=32-Wa(n)-1;n&=~(1<<a),r+=1;var s=32-Wa(t)+a;if(30<s){var i=a-a%5;s=(n&(1<<i)-1).toString(32),n>>=i,a-=i,Us=1<<32-Wa(t)+a|r<<a|n,Bs=s+e}else Us=1<<s|r<<a|n,Bs=e}function Px(e){e.return!==null&&(xo(e,1),y2(e,1,0))}function Ox(e){for(;e===Fh;)Fh=qc[--Kc],qc[Kc]=null,Dh=qc[--Kc],qc[Kc]=null;for(;e===Ho;)Ho=fa[--ha],fa[ha]=null,Bs=fa[--ha],fa[ha]=null,Us=fa[--ha],fa[ha]=null}var zn=null,$n=null,It=!1,Ba=null;function w2(e,t){var r=pa(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Dw(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,zn=e,$n=Ui(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,zn=e,$n=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ho!==null?{id:Us,overflow:Bs}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=pa(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,zn=e,$n=null,!0):!1;default:return!1}}function Dg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Mg(e){if(It){var t=$n;if(t){var r=t;if(!Dw(e,t)){if(Dg(e))throw Error(xe(418));t=Ui(r.nextSibling);var n=zn;t&&Dw(e,t)?w2(n,r):(e.flags=e.flags&-4097|2,It=!1,zn=e)}}else{if(Dg(e))throw Error(xe(418));e.flags=e.flags&-4097|2,It=!1,zn=e}}}function Mw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;zn=e}function Cf(e){if(e!==zn)return!1;if(!It)return Mw(e),It=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Rg(e.type,e.memoizedProps)),t&&(t=$n)){if(Dg(e))throw _2(),Error(xe(418));for(;t;)w2(e,t),t=Ui(t.nextSibling)}if(Mw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(xe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){$n=Ui(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}$n=null}}else $n=zn?Ui(e.stateNode.nextSibling):null;return!0}function _2(){for(var e=$n;e;)e=Ui(e.nextSibling)}function Nl(){$n=zn=null,It=!1}function Fx(e){Ba===null?Ba=[e]:Ba.push(e)}var u4=Zs.ReactCurrentBatchConfig;function _u(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(xe(309));var n=r.stateNode}if(!n)throw Error(xe(147,e));var a=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var o=a.refs;i===null?delete o[s]:o[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(xe(284));if(!r._owner)throw Error(xe(290,e))}return e}function kf(e,t){throw e=Object.prototype.toString.call(t),Error(xe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Lw(e){var t=e._init;return t(e._payload)}function E2(e){function t(y,_){if(e){var w=y.deletions;w===null?(y.deletions=[_],y.flags|=16):w.push(_)}}function r(y,_){if(!e)return null;for(;_!==null;)t(y,_),_=_.sibling;return null}function n(y,_){for(y=new Map;_!==null;)_.key!==null?y.set(_.key,_):y.set(_.index,_),_=_.sibling;return y}function a(y,_){return y=Vi(y,_),y.index=0,y.sibling=null,y}function s(y,_,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<_?(y.flags|=2,_):w):(y.flags|=2,_)):(y.flags|=1048576,_)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function o(y,_,w,E){return _===null||_.tag!==6?(_=tp(w,y.mode,E),_.return=y,_):(_=a(_,w),_.return=y,_)}function l(y,_,w,E){var T=w.type;return T===$c?d(y,_,w.props.children,E,w.key):_!==null&&(_.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===mi&&Lw(T)===_.type)?(E=a(_,w.props),E.ref=_u(y,_,w),E.return=y,E):(E=vh(w.type,w.key,w.props,null,y.mode,E),E.ref=_u(y,_,w),E.return=y,E)}function u(y,_,w,E){return _===null||_.tag!==4||_.stateNode.containerInfo!==w.containerInfo||_.stateNode.implementation!==w.implementation?(_=rp(w,y.mode,E),_.return=y,_):(_=a(_,w.children||[]),_.return=y,_)}function d(y,_,w,E,T){return _===null||_.tag!==7?(_=$o(w,y.mode,E,T),_.return=y,_):(_=a(_,w),_.return=y,_)}function f(y,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return _=tp(""+_,y.mode,w),_.return=y,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case gf:return w=vh(_.type,_.key,_.props,null,y.mode,w),w.ref=_u(y,null,_),w.return=y,w;case Bc:return _=rp(_,y.mode,w),_.return=y,_;case mi:var E=_._init;return f(y,E(_._payload),w)}if(ju(_)||gu(_))return _=$o(_,y.mode,w,null),_.return=y,_;kf(y,_)}return null}function h(y,_,w,E){var T=_!==null?_.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return T!==null?null:o(y,_,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case gf:return w.key===T?l(y,_,w,E):null;case Bc:return w.key===T?u(y,_,w,E):null;case mi:return T=w._init,h(y,_,T(w._payload),E)}if(ju(w)||gu(w))return T!==null?null:d(y,_,w,E,null);kf(y,w)}return null}function m(y,_,w,E,T){if(typeof E=="string"&&E!==""||typeof E=="number")return y=y.get(w)||null,o(_,y,""+E,T);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case gf:return y=y.get(E.key===null?w:E.key)||null,l(_,y,E,T);case Bc:return y=y.get(E.key===null?w:E.key)||null,u(_,y,E,T);case mi:var b=E._init;return m(y,_,w,b(E._payload),T)}if(ju(E)||gu(E))return y=y.get(w)||null,d(_,y,E,T,null);kf(_,E)}return null}function v(y,_,w,E){for(var T=null,b=null,S=_,C=_=0,A=null;S!==null&&C<w.length;C++){S.index>C?(A=S,S=null):A=S.sibling;var j=h(y,S,w[C],E);if(j===null){S===null&&(S=A);break}e&&S&&j.alternate===null&&t(y,S),_=s(j,_,C),b===null?T=j:b.sibling=j,b=j,S=A}if(C===w.length)return r(y,S),It&&xo(y,C),T;if(S===null){for(;C<w.length;C++)S=f(y,w[C],E),S!==null&&(_=s(S,_,C),b===null?T=S:b.sibling=S,b=S);return It&&xo(y,C),T}for(S=n(y,S);C<w.length;C++)A=m(S,y,C,w[C],E),A!==null&&(e&&A.alternate!==null&&S.delete(A.key===null?C:A.key),_=s(A,_,C),b===null?T=A:b.sibling=A,b=A);return e&&S.forEach(function(I){return t(y,I)}),It&&xo(y,C),T}function p(y,_,w,E){var T=gu(w);if(typeof T!="function")throw Error(xe(150));if(w=T.call(w),w==null)throw Error(xe(151));for(var b=T=null,S=_,C=_=0,A=null,j=w.next();S!==null&&!j.done;C++,j=w.next()){S.index>C?(A=S,S=null):A=S.sibling;var I=h(y,S,j.value,E);if(I===null){S===null&&(S=A);break}e&&S&&I.alternate===null&&t(y,S),_=s(I,_,C),b===null?T=I:b.sibling=I,b=I,S=A}if(j.done)return r(y,S),It&&xo(y,C),T;if(S===null){for(;!j.done;C++,j=w.next())j=f(y,j.value,E),j!==null&&(_=s(j,_,C),b===null?T=j:b.sibling=j,b=j);return It&&xo(y,C),T}for(S=n(y,S);!j.done;C++,j=w.next())j=m(S,y,C,j.value,E),j!==null&&(e&&j.alternate!==null&&S.delete(j.key===null?C:j.key),_=s(j,_,C),b===null?T=j:b.sibling=j,b=j);return e&&S.forEach(function(N){return t(y,N)}),It&&xo(y,C),T}function g(y,_,w,E){if(typeof w=="object"&&w!==null&&w.type===$c&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case gf:e:{for(var T=w.key,b=_;b!==null;){if(b.key===T){if(T=w.type,T===$c){if(b.tag===7){r(y,b.sibling),_=a(b,w.props.children),_.return=y,y=_;break e}}else if(b.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===mi&&Lw(T)===b.type){r(y,b.sibling),_=a(b,w.props),_.ref=_u(y,b,w),_.return=y,y=_;break e}r(y,b);break}else t(y,b);b=b.sibling}w.type===$c?(_=$o(w.props.children,y.mode,E,w.key),_.return=y,y=_):(E=vh(w.type,w.key,w.props,null,y.mode,E),E.ref=_u(y,_,w),E.return=y,y=E)}return i(y);case Bc:e:{for(b=w.key;_!==null;){if(_.key===b)if(_.tag===4&&_.stateNode.containerInfo===w.containerInfo&&_.stateNode.implementation===w.implementation){r(y,_.sibling),_=a(_,w.children||[]),_.return=y,y=_;break e}else{r(y,_);break}else t(y,_);_=_.sibling}_=rp(w,y.mode,E),_.return=y,y=_}return i(y);case mi:return b=w._init,g(y,_,b(w._payload),E)}if(ju(w))return v(y,_,w,E);if(gu(w))return p(y,_,w,E);kf(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,_!==null&&_.tag===6?(r(y,_.sibling),_=a(_,w),_.return=y,y=_):(r(y,_),_=tp(w,y.mode,E),_.return=y,y=_),i(y)):r(y,_)}return g}var Il=E2(!0),S2=E2(!1),Mh=no(null),Lh=null,Jc=null,Dx=null;function Mx(){Dx=Jc=Lh=null}function Lx(e){var t=Mh.current;kt(Mh),e._currentValue=t}function Lg(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function nl(e,t){Lh=e,Dx=Jc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Tn=!0),e.firstContext=null)}function _a(e){var t=e._currentValue;if(Dx!==e)if(e={context:e,memoizedValue:t,next:null},Jc===null){if(Lh===null)throw Error(xe(308));Jc=e,Lh.dependencies={lanes:0,firstContext:e}}else Jc=Jc.next=e;return t}var Co=null;function Ux(e){Co===null?Co=[e]:Co.push(e)}function b2(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Ux(t)):(r.next=a.next,a.next=r),t.interleaved=r,Ks(e,n)}function Ks(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var pi=!1;function Bx(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function T2(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bi(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,st&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Ks(e,r)}return a=n.interleaved,a===null?(t.next=t,Ux(n)):(t.next=a.next,a.next=t),n.interleaved=t,Ks(e,r)}function dh(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Tx(e,r)}}function Uw(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=i:s=s.next=i,r=r.next}while(r!==null);s===null?a=s=t:s=s.next=t}else a=s=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Uh(e,t,r,n){var a=e.updateQueue;pi=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var l=o,u=l.next;l.next=null,i===null?s=u:i.next=u,i=l;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==i&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(s!==null){var f=a.baseState;i=0,d=u=l=null,o=s;do{var h=o.lane,m=o.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=e,p=o;switch(h=t,m=r,p.tag){case 1:if(v=p.payload,typeof v=="function"){f=v.call(m,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=p.payload,h=typeof v=="function"?v.call(m,f,h):v,h==null)break e;f=$t({},f,h);break e;case 2:pi=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=m,l=f):d=d.next=m,i|=h;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;h=o,o=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(l=f),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);qo|=i,e.lanes=i,e.memoizedState=f}}function Bw(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(xe(191,a));a.call(n)}}}var Jd={},gs=no(Jd),xd=no(Jd),yd=no(Jd);function ko(e){if(e===Jd)throw Error(xe(174));return e}function $x(e,t){switch(_t(yd,t),_t(xd,e),_t(gs,Jd),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:xg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=xg(t,e)}kt(gs),_t(gs,t)}function Rl(){kt(gs),kt(xd),kt(yd)}function C2(e){ko(yd.current);var t=ko(gs.current),r=xg(t,e.type);t!==r&&(_t(xd,e),_t(gs,r))}function zx(e){xd.current===e&&(kt(gs),kt(xd))}var Lt=no(0);function Bh(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Jm=[];function Vx(){for(var e=0;e<Jm.length;e++)Jm[e]._workInProgressVersionPrimary=null;Jm.length=0}var fh=Zs.ReactCurrentDispatcher,Xm=Zs.ReactCurrentBatchConfig,Go=0,Ut=null,sr=null,xr=null,$h=!1,Wu=!1,wd=0,d4=0;function Rr(){throw Error(xe(321))}function Wx(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!qa(e[r],t[r]))return!1;return!0}function Hx(e,t,r,n,a,s){if(Go=s,Ut=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fh.current=e===null||e.memoizedState===null?p4:g4,e=r(n,a),Wu){s=0;do{if(Wu=!1,wd=0,25<=s)throw Error(xe(301));s+=1,xr=sr=null,t.updateQueue=null,fh.current=v4,e=r(n,a)}while(Wu)}if(fh.current=zh,t=sr!==null&&sr.next!==null,Go=0,xr=sr=Ut=null,$h=!1,t)throw Error(xe(300));return e}function Gx(){var e=wd!==0;return wd=0,e}function os(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xr===null?Ut.memoizedState=xr=e:xr=xr.next=e,xr}function Ea(){if(sr===null){var e=Ut.alternate;e=e!==null?e.memoizedState:null}else e=sr.next;var t=xr===null?Ut.memoizedState:xr.next;if(t!==null)xr=t,sr=e;else{if(e===null)throw Error(xe(310));sr=e,e={memoizedState:sr.memoizedState,baseState:sr.baseState,baseQueue:sr.baseQueue,queue:sr.queue,next:null},xr===null?Ut.memoizedState=xr=e:xr=xr.next=e}return xr}function _d(e,t){return typeof t=="function"?t(e):t}function Ym(e){var t=Ea(),r=t.queue;if(r===null)throw Error(xe(311));r.lastRenderedReducer=e;var n=sr,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var i=a.next;a.next=s.next,s.next=i}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var o=i=null,l=null,u=s;do{var d=u.lane;if((Go&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,i=n):l=l.next=f,Ut.lanes|=d,qo|=d}u=u.next}while(u!==null&&u!==s);l===null?i=n:l.next=o,qa(n,t.memoizedState)||(Tn=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do s=a.lane,Ut.lanes|=s,qo|=s,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Qm(e){var t=Ea(),r=t.queue;if(r===null)throw Error(xe(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do s=e(s,i.action),i=i.next;while(i!==a);qa(s,t.memoizedState)||(Tn=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function k2(){}function A2(e,t){var r=Ut,n=Ea(),a=t(),s=!qa(n.memoizedState,a);if(s&&(n.memoizedState=a,Tn=!0),n=n.queue,qx(I2.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||xr!==null&&xr.memoizedState.tag&1){if(r.flags|=2048,Ed(9,N2.bind(null,r,n,a,t),void 0,null),_r===null)throw Error(xe(349));Go&30||j2(r,t,a)}return a}function j2(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ut.updateQueue,t===null?(t={lastEffect:null,stores:null},Ut.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function N2(e,t,r,n){t.value=r,t.getSnapshot=n,R2(t)&&P2(e)}function I2(e,t,r){return r(function(){R2(t)&&P2(e)})}function R2(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!qa(e,r)}catch{return!0}}function P2(e){var t=Ks(e,1);t!==null&&Ha(t,e,1,-1)}function $w(e){var t=os();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_d,lastRenderedState:e},t.queue=e,e=e.dispatch=m4.bind(null,Ut,e),[t.memoizedState,e]}function Ed(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ut.updateQueue,t===null?(t={lastEffect:null,stores:null},Ut.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function O2(){return Ea().memoizedState}function hh(e,t,r,n){var a=os();Ut.flags|=e,a.memoizedState=Ed(1|t,r,void 0,n===void 0?null:n)}function P0(e,t,r,n){var a=Ea();n=n===void 0?null:n;var s=void 0;if(sr!==null){var i=sr.memoizedState;if(s=i.destroy,n!==null&&Wx(n,i.deps)){a.memoizedState=Ed(t,r,s,n);return}}Ut.flags|=e,a.memoizedState=Ed(1|t,r,s,n)}function zw(e,t){return hh(8390656,8,e,t)}function qx(e,t){return P0(2048,8,e,t)}function F2(e,t){return P0(4,2,e,t)}function D2(e,t){return P0(4,4,e,t)}function M2(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function L2(e,t,r){return r=r!=null?r.concat([e]):null,P0(4,4,M2.bind(null,t,e),r)}function Kx(){}function U2(e,t){var r=Ea();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Wx(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function B2(e,t){var r=Ea();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Wx(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function $2(e,t,r){return Go&21?(qa(r,t)||(r=Gb(),Ut.lanes|=r,qo|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Tn=!0),e.memoizedState=r)}function f4(e,t){var r=mt;mt=r!==0&&4>r?r:4,e(!0);var n=Xm.transition;Xm.transition={};try{e(!1),t()}finally{mt=r,Xm.transition=n}}function z2(){return Ea().memoizedState}function h4(e,t,r){var n=zi(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},V2(e))W2(t,r);else if(r=b2(e,t,r,n),r!==null){var a=sn();Ha(r,e,n,a),H2(r,t,n)}}function m4(e,t,r){var n=zi(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(V2(e))W2(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,o=s(i,r);if(a.hasEagerState=!0,a.eagerState=o,qa(o,i)){var l=t.interleaved;l===null?(a.next=a,Ux(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=b2(e,t,a,n),r!==null&&(a=sn(),Ha(r,e,n,a),H2(r,t,n))}}function V2(e){var t=e.alternate;return e===Ut||t!==null&&t===Ut}function W2(e,t){Wu=$h=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function H2(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Tx(e,r)}}var zh={readContext:_a,useCallback:Rr,useContext:Rr,useEffect:Rr,useImperativeHandle:Rr,useInsertionEffect:Rr,useLayoutEffect:Rr,useMemo:Rr,useReducer:Rr,useRef:Rr,useState:Rr,useDebugValue:Rr,useDeferredValue:Rr,useTransition:Rr,useMutableSource:Rr,useSyncExternalStore:Rr,useId:Rr,unstable_isNewReconciler:!1},p4={readContext:_a,useCallback:function(e,t){return os().memoizedState=[e,t===void 0?null:t],e},useContext:_a,useEffect:zw,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,hh(4194308,4,M2.bind(null,t,e),r)},useLayoutEffect:function(e,t){return hh(4194308,4,e,t)},useInsertionEffect:function(e,t){return hh(4,2,e,t)},useMemo:function(e,t){var r=os();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=os();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=h4.bind(null,Ut,e),[n.memoizedState,e]},useRef:function(e){var t=os();return e={current:e},t.memoizedState=e},useState:$w,useDebugValue:Kx,useDeferredValue:function(e){return os().memoizedState=e},useTransition:function(){var e=$w(!1),t=e[0];return e=f4.bind(null,e[1]),os().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ut,a=os();if(It){if(r===void 0)throw Error(xe(407));r=r()}else{if(r=t(),_r===null)throw Error(xe(349));Go&30||j2(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,zw(I2.bind(null,n,s,e),[e]),n.flags|=2048,Ed(9,N2.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=os(),t=_r.identifierPrefix;if(It){var r=Bs,n=Us;r=(n&~(1<<32-Wa(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=wd++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=d4++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},g4={readContext:_a,useCallback:U2,useContext:_a,useEffect:qx,useImperativeHandle:L2,useInsertionEffect:F2,useLayoutEffect:D2,useMemo:B2,useReducer:Ym,useRef:O2,useState:function(){return Ym(_d)},useDebugValue:Kx,useDeferredValue:function(e){var t=Ea();return $2(t,sr.memoizedState,e)},useTransition:function(){var e=Ym(_d)[0],t=Ea().memoizedState;return[e,t]},useMutableSource:k2,useSyncExternalStore:A2,useId:z2,unstable_isNewReconciler:!1},v4={readContext:_a,useCallback:U2,useContext:_a,useEffect:qx,useImperativeHandle:L2,useInsertionEffect:F2,useLayoutEffect:D2,useMemo:B2,useReducer:Qm,useRef:O2,useState:function(){return Qm(_d)},useDebugValue:Kx,useDeferredValue:function(e){var t=Ea();return sr===null?t.memoizedState=e:$2(t,sr.memoizedState,e)},useTransition:function(){var e=Qm(_d)[0],t=Ea().memoizedState;return[e,t]},useMutableSource:k2,useSyncExternalStore:A2,useId:z2,unstable_isNewReconciler:!1};function Oa(e,t){if(e&&e.defaultProps){t=$t({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Ug(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:$t({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var O0={isMounted:function(e){return(e=e._reactInternals)?lc(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=sn(),a=zi(e),s=zs(n,a);s.payload=t,r!=null&&(s.callback=r),t=Bi(e,s,a),t!==null&&(Ha(t,e,a,n),dh(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=sn(),a=zi(e),s=zs(n,a);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Bi(e,s,a),t!==null&&(Ha(t,e,a,n),dh(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=sn(),n=zi(e),a=zs(r,n);a.tag=2,t!=null&&(a.callback=t),t=Bi(e,a,n),t!==null&&(Ha(t,e,n,r),dh(t,e,n))}};function Vw(e,t,r,n,a,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,i):t.prototype&&t.prototype.isPureReactComponent?!md(r,n)||!md(a,s):!0}function G2(e,t,r){var n=!1,a=Ji,s=t.contextType;return typeof s=="object"&&s!==null?s=_a(s):(a=kn(t)?Wo:$r.current,n=t.contextTypes,s=(n=n!=null)?jl(e,a):Ji),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=O0,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function Ww(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&O0.enqueueReplaceState(t,t.state,null)}function Bg(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Bx(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=_a(s):(s=kn(t)?Wo:$r.current,a.context=jl(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Ug(e,t,s,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&O0.enqueueReplaceState(a,a.state,null),Uh(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Pl(e,t){try{var r="",n=t;do r+=HP(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function Zm(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function $g(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var x4=typeof WeakMap=="function"?WeakMap:Map;function q2(e,t,r){r=zs(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Wh||(Wh=!0,Yg=n),$g(e,t)},r}function K2(e,t,r){r=zs(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){$g(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){$g(e,t),typeof n!="function"&&($i===null?$i=new Set([this]):$i.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function Hw(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new x4;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=R4.bind(null,e,t,r),t.then(e,e))}function Gw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function qw(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=zs(-1,1),t.tag=2,Bi(r,t,1))),r.lanes|=1),e)}var y4=Zs.ReactCurrentOwner,Tn=!1;function en(e,t,r,n){t.child=e===null?S2(t,null,r,n):Il(t,e.child,r,n)}function Kw(e,t,r,n,a){r=r.render;var s=t.ref;return nl(t,a),n=Hx(e,t,r,n,s,a),r=Gx(),e!==null&&!Tn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Js(e,t,a)):(It&&r&&Px(t),t.flags|=1,en(e,t,n,a),t.child)}function Jw(e,t,r,n,a){if(e===null){var s=r.type;return typeof s=="function"&&!r1(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,J2(e,t,s,n,a)):(e=vh(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var i=s.memoizedProps;if(r=r.compare,r=r!==null?r:md,r(i,n)&&e.ref===t.ref)return Js(e,t,a)}return t.flags|=1,e=Vi(s,n),e.ref=t.ref,e.return=t,t.child=e}function J2(e,t,r,n,a){if(e!==null){var s=e.memoizedProps;if(md(s,n)&&e.ref===t.ref)if(Tn=!1,t.pendingProps=n=s,(e.lanes&a)!==0)e.flags&131072&&(Tn=!0);else return t.lanes=e.lanes,Js(e,t,a)}return zg(e,t,r,n,a)}function X2(e,t,r){var n=t.pendingProps,a=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_t(Yc,Fn),Fn|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_t(Yc,Fn),Fn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,_t(Yc,Fn),Fn|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,_t(Yc,Fn),Fn|=n;return en(e,t,a,r),t.child}function Y2(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function zg(e,t,r,n,a){var s=kn(r)?Wo:$r.current;return s=jl(t,s),nl(t,a),r=Hx(e,t,r,n,s,a),n=Gx(),e!==null&&!Tn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Js(e,t,a)):(It&&n&&Px(t),t.flags|=1,en(e,t,r,a),t.child)}function Xw(e,t,r,n,a){if(kn(r)){var s=!0;Oh(t)}else s=!1;if(nl(t,a),t.stateNode===null)mh(e,t),G2(t,r,n),Bg(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=_a(u):(u=kn(r)?Wo:$r.current,u=jl(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==n||l!==u)&&Ww(t,i,n,u),pi=!1;var h=t.memoizedState;i.state=h,Uh(t,n,i,a),l=t.memoizedState,o!==n||h!==l||Cn.current||pi?(typeof d=="function"&&(Ug(t,r,d,n),l=t.memoizedState),(o=pi||Vw(t,r,o,n,h,l,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),i.props=n,i.state=l,i.context=u,n=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,T2(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Oa(t.type,o),i.props=u,f=t.pendingProps,h=i.context,l=r.contextType,typeof l=="object"&&l!==null?l=_a(l):(l=kn(r)?Wo:$r.current,l=jl(t,l));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==f||h!==l)&&Ww(t,i,n,l),pi=!1,h=t.memoizedState,i.state=h,Uh(t,n,i,a);var v=t.memoizedState;o!==f||h!==v||Cn.current||pi?(typeof m=="function"&&(Ug(t,r,m,n),v=t.memoizedState),(u=pi||Vw(t,r,u,n,h,v,l)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,v,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,v,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),i.props=n,i.state=v,i.context=l,n=u):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Vg(e,t,r,n,s,a)}function Vg(e,t,r,n,a,s){Y2(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&Fw(t,r,!1),Js(e,t,s);n=t.stateNode,y4.current=t;var o=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Il(t,e.child,null,s),t.child=Il(t,null,o,s)):en(e,t,o,s),t.memoizedState=n.state,a&&Fw(t,r,!0),t.child}function Q2(e){var t=e.stateNode;t.pendingContext?Ow(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ow(e,t.context,!1),$x(e,t.containerInfo)}function Yw(e,t,r,n,a){return Nl(),Fx(a),t.flags|=256,en(e,t,r,n),t.child}var Wg={dehydrated:null,treeContext:null,retryLane:0};function Hg(e){return{baseLanes:e,cachePool:null,transitions:null}}function Z2(e,t,r){var n=t.pendingProps,a=Lt.current,s=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),_t(Lt,a&1),e===null)return Mg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,s?(n=t.mode,s=t.child,i={mode:"hidden",children:i},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=M0(i,n,0,null),e=$o(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Hg(r),t.memoizedState=Wg,e):Jx(t,i));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return w4(e,t,i,n,o,a,r);if(s){s=n.fallback,i=t.mode,a=e.child,o=a.sibling;var l={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Vi(a,l),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?s=Vi(o,s):(s=$o(s,i,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,i=e.child.memoizedState,i=i===null?Hg(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~r,t.memoizedState=Wg,n}return s=e.child,e=s.sibling,n=Vi(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Jx(e,t){return t=M0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Af(e,t,r,n){return n!==null&&Fx(n),Il(t,e.child,null,r),e=Jx(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function w4(e,t,r,n,a,s,i){if(r)return t.flags&256?(t.flags&=-257,n=Zm(Error(xe(422))),Af(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=M0({mode:"visible",children:n.children},a,0,null),s=$o(s,a,i,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Il(t,e.child,null,i),t.child.memoizedState=Hg(i),t.memoizedState=Wg,s);if(!(t.mode&1))return Af(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(xe(419)),n=Zm(s,n,void 0),Af(e,t,i,n)}if(o=(i&e.childLanes)!==0,Tn||o){if(n=_r,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,Ks(e,a),Ha(n,e,a,-1))}return t1(),n=Zm(Error(xe(421))),Af(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=P4.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,$n=Ui(a.nextSibling),zn=t,It=!0,Ba=null,e!==null&&(fa[ha++]=Us,fa[ha++]=Bs,fa[ha++]=Ho,Us=e.id,Bs=e.overflow,Ho=t),t=Jx(t,n.children),t.flags|=4096,t)}function Qw(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Lg(e.return,t,r)}function ep(e,t,r,n,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function eT(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(en(e,t,n.children,r),n=Lt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qw(e,r,t);else if(e.tag===19)Qw(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(_t(Lt,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Bh(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),ep(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Bh(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}ep(t,!0,r,null,s);break;case"together":ep(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function mh(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Js(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),qo|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(xe(153));if(t.child!==null){for(e=t.child,r=Vi(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Vi(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function _4(e,t,r){switch(t.tag){case 3:Q2(t),Nl();break;case 5:C2(t);break;case 1:kn(t.type)&&Oh(t);break;case 4:$x(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;_t(Mh,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(_t(Lt,Lt.current&1),t.flags|=128,null):r&t.child.childLanes?Z2(e,t,r):(_t(Lt,Lt.current&1),e=Js(e,t,r),e!==null?e.sibling:null);_t(Lt,Lt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return eT(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),_t(Lt,Lt.current),n)break;return null;case 22:case 23:return t.lanes=0,X2(e,t,r)}return Js(e,t,r)}var tT,Gg,rT,nT;tT=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Gg=function(){};rT=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,ko(gs.current);var s=null;switch(r){case"input":a=mg(e,a),n=mg(e,n),s=[];break;case"select":a=$t({},a,{value:void 0}),n=$t({},n,{value:void 0}),s=[];break;case"textarea":a=vg(e,a),n=vg(e,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Rh)}yg(r,n);var i;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var o=a[u];for(i in o)o.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(od.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(o=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(i in o)!o.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in l)l.hasOwnProperty(i)&&o[i]!==l[i]&&(r||(r={}),r[i]=l[i])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(od.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ct("scroll",e),s||o===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};nT=function(e,t,r,n){r!==n&&(t.flags|=4)};function Eu(e,t){if(!It)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Pr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function E4(e,t,r){var n=t.pendingProps;switch(Ox(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pr(t),null;case 1:return kn(t.type)&&Ph(),Pr(t),null;case 3:return n=t.stateNode,Rl(),kt(Cn),kt($r),Vx(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Cf(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ba!==null&&(ev(Ba),Ba=null))),Gg(e,t),Pr(t),null;case 5:zx(t);var a=ko(yd.current);if(r=t.type,e!==null&&t.stateNode!=null)rT(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(xe(166));return Pr(t),null}if(e=ko(gs.current),Cf(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[ds]=t,n[vd]=s,e=(t.mode&1)!==0,r){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(a=0;a<Iu.length;a++)Ct(Iu[a],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":ow(n,s),Ct("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Ct("invalid",n);break;case"textarea":lw(n,s),Ct("invalid",n)}yg(r,s),a=null;for(var i in s)if(s.hasOwnProperty(i)){var o=s[i];i==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&Tf(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Tf(n.textContent,o,e),a=["children",""+o]):od.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&Ct("scroll",n)}switch(r){case"input":vf(n),cw(n,s,!0);break;case"textarea":vf(n),uw(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Rh)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ib(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[ds]=t,e[vd]=n,tT(e,t,!1,!1),t.stateNode=e;e:{switch(i=wg(r,n),r){case"dialog":Ct("cancel",e),Ct("close",e),a=n;break;case"iframe":case"object":case"embed":Ct("load",e),a=n;break;case"video":case"audio":for(a=0;a<Iu.length;a++)Ct(Iu[a],e);a=n;break;case"source":Ct("error",e),a=n;break;case"img":case"image":case"link":Ct("error",e),Ct("load",e),a=n;break;case"details":Ct("toggle",e),a=n;break;case"input":ow(e,n),a=mg(e,n),Ct("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=$t({},n,{value:void 0}),Ct("invalid",e);break;case"textarea":lw(e,n),a=vg(e,n),Ct("invalid",e);break;default:a=n}yg(r,a),o=a;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?Ob(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Rb(e,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&cd(e,l):typeof l=="number"&&cd(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(od.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ct("scroll",e):l!=null&&yx(e,s,l,i))}switch(r){case"input":vf(e),cw(e,n,!1);break;case"textarea":vf(e),uw(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ki(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?Zc(e,!!n.multiple,s,!1):n.defaultValue!=null&&Zc(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Rh)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Pr(t),null;case 6:if(e&&t.stateNode!=null)nT(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(xe(166));if(r=ko(yd.current),ko(gs.current),Cf(t)){if(n=t.stateNode,r=t.memoizedProps,n[ds]=t,(s=n.nodeValue!==r)&&(e=zn,e!==null))switch(e.tag){case 3:Tf(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Tf(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ds]=t,t.stateNode=n}return Pr(t),null;case 13:if(kt(Lt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(It&&$n!==null&&t.mode&1&&!(t.flags&128))_2(),Nl(),t.flags|=98560,s=!1;else if(s=Cf(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(xe(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(xe(317));s[ds]=t}else Nl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Pr(t),s=!1}else Ba!==null&&(ev(Ba),Ba=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Lt.current&1?dr===0&&(dr=3):t1())),t.updateQueue!==null&&(t.flags|=4),Pr(t),null);case 4:return Rl(),Gg(e,t),e===null&&pd(t.stateNode.containerInfo),Pr(t),null;case 10:return Lx(t.type._context),Pr(t),null;case 17:return kn(t.type)&&Ph(),Pr(t),null;case 19:if(kt(Lt),s=t.memoizedState,s===null)return Pr(t),null;if(n=(t.flags&128)!==0,i=s.rendering,i===null)if(n)Eu(s,!1);else{if(dr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Bh(e),i!==null){for(t.flags|=128,Eu(s,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return _t(Lt,Lt.current&1|2),t.child}e=e.sibling}s.tail!==null&&Kt()>Ol&&(t.flags|=128,n=!0,Eu(s,!1),t.lanes=4194304)}else{if(!n)if(e=Bh(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Eu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!It)return Pr(t),null}else 2*Kt()-s.renderingStartTime>Ol&&r!==1073741824&&(t.flags|=128,n=!0,Eu(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(r=s.last,r!==null?r.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Kt(),t.sibling=null,r=Lt.current,_t(Lt,n?r&1|2:r&1),t):(Pr(t),null);case 22:case 23:return e1(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Fn&1073741824&&(Pr(t),t.subtreeFlags&6&&(t.flags|=8192)):Pr(t),null;case 24:return null;case 25:return null}throw Error(xe(156,t.tag))}function S4(e,t){switch(Ox(t),t.tag){case 1:return kn(t.type)&&Ph(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Rl(),kt(Cn),kt($r),Vx(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return zx(t),null;case 13:if(kt(Lt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(xe(340));Nl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return kt(Lt),null;case 4:return Rl(),null;case 10:return Lx(t.type._context),null;case 22:case 23:return e1(),null;case 24:return null;default:return null}}var jf=!1,Mr=!1,b4=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function Xc(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Vt(e,t,n)}else r.current=null}function qg(e,t,r){try{r()}catch(n){Vt(e,t,n)}}var Zw=!1;function T4(e,t){if(Ng=jh,e=c2(),Rx(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var i=0,o=-1,l=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(o=i+a),f!==s||n!==0&&f.nodeType!==3||(l=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===a&&(o=i),h===s&&++d===n&&(l=i),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ig={focusedElem:e,selectionRange:r},jh=!1,Oe=t;Oe!==null;)if(t=Oe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Oe=e;else for(;Oe!==null;){t=Oe;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var p=v.memoizedProps,g=v.memoizedState,y=t.stateNode,_=y.getSnapshotBeforeUpdate(t.elementType===t.type?p:Oa(t.type,p),g);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(xe(163))}}catch(E){Vt(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,Oe=e;break}Oe=t.return}return v=Zw,Zw=!1,v}function Hu(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&qg(t,r,s)}a=a.next}while(a!==n)}}function F0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Kg(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function aT(e){var t=e.alternate;t!==null&&(e.alternate=null,aT(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ds],delete t[vd],delete t[Og],delete t[o4],delete t[c4])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sT(e){return e.tag===5||e.tag===3||e.tag===4}function e_(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||sT(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Jg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Rh));else if(n!==4&&(e=e.child,e!==null))for(Jg(e,t,r),e=e.sibling;e!==null;)Jg(e,t,r),e=e.sibling}function Xg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Xg(e,t,r),e=e.sibling;e!==null;)Xg(e,t,r),e=e.sibling}var Sr=null,La=!1;function ai(e,t,r){for(r=r.child;r!==null;)iT(e,t,r),r=r.sibling}function iT(e,t,r){if(ps&&typeof ps.onCommitFiberUnmount=="function")try{ps.onCommitFiberUnmount(k0,r)}catch{}switch(r.tag){case 5:Mr||Xc(r,t);case 6:var n=Sr,a=La;Sr=null,ai(e,t,r),Sr=n,La=a,Sr!==null&&(La?(e=Sr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Sr.removeChild(r.stateNode));break;case 18:Sr!==null&&(La?(e=Sr,r=r.stateNode,e.nodeType===8?qm(e.parentNode,r):e.nodeType===1&&qm(e,r),fd(e)):qm(Sr,r.stateNode));break;case 4:n=Sr,a=La,Sr=r.stateNode.containerInfo,La=!0,ai(e,t,r),Sr=n,La=a;break;case 0:case 11:case 14:case 15:if(!Mr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&qg(r,t,i),a=a.next}while(a!==n)}ai(e,t,r);break;case 1:if(!Mr&&(Xc(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Vt(r,t,o)}ai(e,t,r);break;case 21:ai(e,t,r);break;case 22:r.mode&1?(Mr=(n=Mr)||r.memoizedState!==null,ai(e,t,r),Mr=n):ai(e,t,r);break;default:ai(e,t,r)}}function t_(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new b4),t.forEach(function(n){var a=O4.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Aa(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:Sr=o.stateNode,La=!1;break e;case 3:Sr=o.stateNode.containerInfo,La=!0;break e;case 4:Sr=o.stateNode.containerInfo,La=!0;break e}o=o.return}if(Sr===null)throw Error(xe(160));iT(s,i,a),Sr=null,La=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(u){Vt(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)oT(t,e),t=t.sibling}function oT(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Aa(t,e),as(e),n&4){try{Hu(3,e,e.return),F0(3,e)}catch(p){Vt(e,e.return,p)}try{Hu(5,e,e.return)}catch(p){Vt(e,e.return,p)}}break;case 1:Aa(t,e),as(e),n&512&&r!==null&&Xc(r,r.return);break;case 5:if(Aa(t,e),as(e),n&512&&r!==null&&Xc(r,r.return),e.flags&32){var a=e.stateNode;try{cd(a,"")}catch(p){Vt(e,e.return,p)}}if(n&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,i=r!==null?r.memoizedProps:s,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&jb(a,s),wg(o,i);var u=wg(o,s);for(i=0;i<l.length;i+=2){var d=l[i],f=l[i+1];d==="style"?Ob(a,f):d==="dangerouslySetInnerHTML"?Rb(a,f):d==="children"?cd(a,f):yx(a,d,f,u)}switch(o){case"input":pg(a,s);break;case"textarea":Nb(a,s);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Zc(a,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?Zc(a,!!s.multiple,s.defaultValue,!0):Zc(a,!!s.multiple,s.multiple?[]:"",!1))}a[vd]=s}catch(p){Vt(e,e.return,p)}}break;case 6:if(Aa(t,e),as(e),n&4){if(e.stateNode===null)throw Error(xe(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(p){Vt(e,e.return,p)}}break;case 3:if(Aa(t,e),as(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{fd(t.containerInfo)}catch(p){Vt(e,e.return,p)}break;case 4:Aa(t,e),as(e);break;case 13:Aa(t,e),as(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(Qx=Kt())),n&4&&t_(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Mr=(u=Mr)||d,Aa(t,e),Mr=u):Aa(t,e),as(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Oe=e,d=e.child;d!==null;){for(f=Oe=d;Oe!==null;){switch(h=Oe,m=h.child,h.tag){case 0:case 11:case 14:case 15:Hu(4,h,h.return);break;case 1:Xc(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(p){Vt(n,r,p)}}break;case 5:Xc(h,h.return);break;case 22:if(h.memoizedState!==null){n_(f);continue}}m!==null?(m.return=h,Oe=m):n_(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=f.stateNode,l=f.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Pb("display",i))}catch(p){Vt(e,e.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){Vt(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Aa(t,e),as(e),n&4&&t_(e);break;case 21:break;default:Aa(t,e),as(e)}}function as(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(sT(r)){var n=r;break e}r=r.return}throw Error(xe(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(cd(a,""),n.flags&=-33);var s=e_(e);Xg(e,s,a);break;case 3:case 4:var i=n.stateNode.containerInfo,o=e_(e);Jg(e,o,i);break;default:throw Error(xe(161))}}catch(l){Vt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function C4(e,t,r){Oe=e,cT(e)}function cT(e,t,r){for(var n=(e.mode&1)!==0;Oe!==null;){var a=Oe,s=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||jf;if(!i){var o=a.alternate,l=o!==null&&o.memoizedState!==null||Mr;o=jf;var u=Mr;if(jf=i,(Mr=l)&&!u)for(Oe=a;Oe!==null;)i=Oe,l=i.child,i.tag===22&&i.memoizedState!==null?a_(a):l!==null?(l.return=i,Oe=l):a_(a);for(;s!==null;)Oe=s,cT(s),s=s.sibling;Oe=a,jf=o,Mr=u}r_(e)}else a.subtreeFlags&8772&&s!==null?(s.return=a,Oe=s):r_(e)}}function r_(e){for(;Oe!==null;){var t=Oe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Mr||F0(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Mr)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Oa(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Bw(t,s,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Bw(t,i,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&fd(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(xe(163))}Mr||t.flags&512&&Kg(t)}catch(h){Vt(t,t.return,h)}}if(t===e){Oe=null;break}if(r=t.sibling,r!==null){r.return=t.return,Oe=r;break}Oe=t.return}}function n_(e){for(;Oe!==null;){var t=Oe;if(t===e){Oe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Oe=r;break}Oe=t.return}}function a_(e){for(;Oe!==null;){var t=Oe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{F0(4,t)}catch(l){Vt(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){Vt(t,a,l)}}var s=t.return;try{Kg(t)}catch(l){Vt(t,s,l)}break;case 5:var i=t.return;try{Kg(t)}catch(l){Vt(t,i,l)}}}catch(l){Vt(t,t.return,l)}if(t===e){Oe=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Oe=o;break}Oe=t.return}}var k4=Math.ceil,Vh=Zs.ReactCurrentDispatcher,Xx=Zs.ReactCurrentOwner,ga=Zs.ReactCurrentBatchConfig,st=0,_r=null,tr=null,Tr=0,Fn=0,Yc=no(0),dr=0,Sd=null,qo=0,D0=0,Yx=0,Gu=null,En=null,Qx=0,Ol=1/0,Ps=null,Wh=!1,Yg=null,$i=null,Nf=!1,Ri=null,Hh=0,qu=0,Qg=null,ph=-1,gh=0;function sn(){return st&6?Kt():ph!==-1?ph:ph=Kt()}function zi(e){return e.mode&1?st&2&&Tr!==0?Tr&-Tr:u4.transition!==null?(gh===0&&(gh=Gb()),gh):(e=mt,e!==0||(e=window.event,e=e===void 0?16:Zb(e.type)),e):1}function Ha(e,t,r,n){if(50<qu)throw qu=0,Qg=null,Error(xe(185));Gd(e,r,n),(!(st&2)||e!==_r)&&(e===_r&&(!(st&2)&&(D0|=r),dr===4&&vi(e,Tr)),An(e,n),r===1&&st===0&&!(t.mode&1)&&(Ol=Kt()+500,R0&&ao()))}function An(e,t){var r=e.callbackNode;uO(e,t);var n=Ah(e,e===_r?Tr:0);if(n===0)r!==null&&hw(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&hw(r),t===1)e.tag===0?l4(s_.bind(null,e)):x2(s_.bind(null,e)),s4(function(){!(st&6)&&ao()}),r=null;else{switch(qb(n)){case 1:r=bx;break;case 4:r=Wb;break;case 16:r=kh;break;case 536870912:r=Hb;break;default:r=kh}r=gT(r,lT.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function lT(e,t){if(ph=-1,gh=0,st&6)throw Error(xe(327));var r=e.callbackNode;if(al()&&e.callbackNode!==r)return null;var n=Ah(e,e===_r?Tr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Gh(e,n);else{t=n;var a=st;st|=2;var s=dT();(_r!==e||Tr!==t)&&(Ps=null,Ol=Kt()+500,Bo(e,t));do try{N4();break}catch(o){uT(e,o)}while(!0);Mx(),Vh.current=s,st=a,tr!==null?t=0:(_r=null,Tr=0,t=dr)}if(t!==0){if(t===2&&(a=Tg(e),a!==0&&(n=a,t=Zg(e,a))),t===1)throw r=Sd,Bo(e,0),vi(e,n),An(e,Kt()),r;if(t===6)vi(e,n);else{if(a=e.current.alternate,!(n&30)&&!A4(a)&&(t=Gh(e,n),t===2&&(s=Tg(e),s!==0&&(n=s,t=Zg(e,s))),t===1))throw r=Sd,Bo(e,0),vi(e,n),An(e,Kt()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(xe(345));case 2:yo(e,En,Ps);break;case 3:if(vi(e,n),(n&130023424)===n&&(t=Qx+500-Kt(),10<t)){if(Ah(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){sn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Pg(yo.bind(null,e,En,Ps),t);break}yo(e,En,Ps);break;case 4:if(vi(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-Wa(n);s=1<<i,i=t[i],i>a&&(a=i),n&=~s}if(n=a,n=Kt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*k4(n/1960))-n,10<n){e.timeoutHandle=Pg(yo.bind(null,e,En,Ps),n);break}yo(e,En,Ps);break;case 5:yo(e,En,Ps);break;default:throw Error(xe(329))}}}return An(e,Kt()),e.callbackNode===r?lT.bind(null,e):null}function Zg(e,t){var r=Gu;return e.current.memoizedState.isDehydrated&&(Bo(e,t).flags|=256),e=Gh(e,t),e!==2&&(t=En,En=r,t!==null&&ev(t)),e}function ev(e){En===null?En=e:En.push.apply(En,e)}function A4(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!qa(s(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function vi(e,t){for(t&=~Yx,t&=~D0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Wa(t),n=1<<r;e[r]=-1,t&=~n}}function s_(e){if(st&6)throw Error(xe(327));al();var t=Ah(e,0);if(!(t&1))return An(e,Kt()),null;var r=Gh(e,t);if(e.tag!==0&&r===2){var n=Tg(e);n!==0&&(t=n,r=Zg(e,n))}if(r===1)throw r=Sd,Bo(e,0),vi(e,t),An(e,Kt()),r;if(r===6)throw Error(xe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yo(e,En,Ps),An(e,Kt()),null}function Zx(e,t){var r=st;st|=1;try{return e(t)}finally{st=r,st===0&&(Ol=Kt()+500,R0&&ao())}}function Ko(e){Ri!==null&&Ri.tag===0&&!(st&6)&&al();var t=st;st|=1;var r=ga.transition,n=mt;try{if(ga.transition=null,mt=1,e)return e()}finally{mt=n,ga.transition=r,st=t,!(st&6)&&ao()}}function e1(){Fn=Yc.current,kt(Yc)}function Bo(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,a4(r)),tr!==null)for(r=tr.return;r!==null;){var n=r;switch(Ox(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ph();break;case 3:Rl(),kt(Cn),kt($r),Vx();break;case 5:zx(n);break;case 4:Rl();break;case 13:kt(Lt);break;case 19:kt(Lt);break;case 10:Lx(n.type._context);break;case 22:case 23:e1()}r=r.return}if(_r=e,tr=e=Vi(e.current,null),Tr=Fn=t,dr=0,Sd=null,Yx=D0=qo=0,En=Gu=null,Co!==null){for(t=0;t<Co.length;t++)if(r=Co[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var i=s.next;s.next=a,n.next=i}r.pending=n}Co=null}return e}function uT(e,t){do{var r=tr;try{if(Mx(),fh.current=zh,$h){for(var n=Ut.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}$h=!1}if(Go=0,xr=sr=Ut=null,Wu=!1,wd=0,Xx.current=null,r===null||r.return===null){dr=1,Sd=t,tr=null;break}e:{var s=e,i=r.return,o=r,l=t;if(t=Tr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Gw(i);if(m!==null){m.flags&=-257,qw(m,i,o,s,t),m.mode&1&&Hw(s,u,t),t=m,l=u;var v=t.updateQueue;if(v===null){var p=new Set;p.add(l),t.updateQueue=p}else v.add(l);break e}else{if(!(t&1)){Hw(s,u,t),t1();break e}l=Error(xe(426))}}else if(It&&o.mode&1){var g=Gw(i);if(g!==null){!(g.flags&65536)&&(g.flags|=256),qw(g,i,o,s,t),Fx(Pl(l,o));break e}}s=l=Pl(l,o),dr!==4&&(dr=2),Gu===null?Gu=[s]:Gu.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=q2(s,l,t);Uw(s,y);break e;case 1:o=l;var _=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&($i===null||!$i.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t;var E=K2(s,o,t);Uw(s,E);break e}}s=s.return}while(s!==null)}hT(r)}catch(T){t=T,tr===r&&r!==null&&(tr=r=r.return);continue}break}while(!0)}function dT(){var e=Vh.current;return Vh.current=zh,e===null?zh:e}function t1(){(dr===0||dr===3||dr===2)&&(dr=4),_r===null||!(qo&268435455)&&!(D0&268435455)||vi(_r,Tr)}function Gh(e,t){var r=st;st|=2;var n=dT();(_r!==e||Tr!==t)&&(Ps=null,Bo(e,t));do try{j4();break}catch(a){uT(e,a)}while(!0);if(Mx(),st=r,Vh.current=n,tr!==null)throw Error(xe(261));return _r=null,Tr=0,dr}function j4(){for(;tr!==null;)fT(tr)}function N4(){for(;tr!==null&&!tO();)fT(tr)}function fT(e){var t=pT(e.alternate,e,Fn);e.memoizedProps=e.pendingProps,t===null?hT(e):tr=t,Xx.current=null}function hT(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=S4(r,t),r!==null){r.flags&=32767,tr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{dr=6,tr=null;return}}else if(r=E4(r,t,Fn),r!==null){tr=r;return}if(t=t.sibling,t!==null){tr=t;return}tr=t=e}while(t!==null);dr===0&&(dr=5)}function yo(e,t,r){var n=mt,a=ga.transition;try{ga.transition=null,mt=1,I4(e,t,r,n)}finally{ga.transition=a,mt=n}return null}function I4(e,t,r,n){do al();while(Ri!==null);if(st&6)throw Error(xe(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(xe(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(dO(e,s),e===_r&&(tr=_r=null,Tr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Nf||(Nf=!0,gT(kh,function(){return al(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=ga.transition,ga.transition=null;var i=mt;mt=1;var o=st;st|=4,Xx.current=null,T4(e,r),oT(r,e),YO(Ig),jh=!!Ng,Ig=Ng=null,e.current=r,C4(r),rO(),st=o,mt=i,ga.transition=s}else e.current=r;if(Nf&&(Nf=!1,Ri=e,Hh=a),s=e.pendingLanes,s===0&&($i=null),sO(r.stateNode),An(e,Kt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Wh)throw Wh=!1,e=Yg,Yg=null,e;return Hh&1&&e.tag!==0&&al(),s=e.pendingLanes,s&1?e===Qg?qu++:(qu=0,Qg=e):qu=0,ao(),null}function al(){if(Ri!==null){var e=qb(Hh),t=ga.transition,r=mt;try{if(ga.transition=null,mt=16>e?16:e,Ri===null)var n=!1;else{if(e=Ri,Ri=null,Hh=0,st&6)throw Error(xe(331));var a=st;for(st|=4,Oe=e.current;Oe!==null;){var s=Oe,i=s.child;if(Oe.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(Oe=u;Oe!==null;){var d=Oe;switch(d.tag){case 0:case 11:case 15:Hu(8,d,s)}var f=d.child;if(f!==null)f.return=d,Oe=f;else for(;Oe!==null;){d=Oe;var h=d.sibling,m=d.return;if(aT(d),d===u){Oe=null;break}if(h!==null){h.return=m,Oe=h;break}Oe=m}}}var v=s.alternate;if(v!==null){var p=v.child;if(p!==null){v.child=null;do{var g=p.sibling;p.sibling=null,p=g}while(p!==null)}}Oe=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,Oe=i;else e:for(;Oe!==null;){if(s=Oe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Hu(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,Oe=y;break e}Oe=s.return}}var _=e.current;for(Oe=_;Oe!==null;){i=Oe;var w=i.child;if(i.subtreeFlags&2064&&w!==null)w.return=i,Oe=w;else e:for(i=_;Oe!==null;){if(o=Oe,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:F0(9,o)}}catch(T){Vt(o,o.return,T)}if(o===i){Oe=null;break e}var E=o.sibling;if(E!==null){E.return=o.return,Oe=E;break e}Oe=o.return}}if(st=a,ao(),ps&&typeof ps.onPostCommitFiberRoot=="function")try{ps.onPostCommitFiberRoot(k0,e)}catch{}n=!0}return n}finally{mt=r,ga.transition=t}}return!1}function i_(e,t,r){t=Pl(r,t),t=q2(e,t,1),e=Bi(e,t,1),t=sn(),e!==null&&(Gd(e,1,t),An(e,t))}function Vt(e,t,r){if(e.tag===3)i_(e,e,r);else for(;t!==null;){if(t.tag===3){i_(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&($i===null||!$i.has(n))){e=Pl(r,e),e=K2(t,e,1),t=Bi(t,e,1),e=sn(),t!==null&&(Gd(t,1,e),An(t,e));break}}t=t.return}}function R4(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=sn(),e.pingedLanes|=e.suspendedLanes&r,_r===e&&(Tr&r)===r&&(dr===4||dr===3&&(Tr&130023424)===Tr&&500>Kt()-Qx?Bo(e,0):Yx|=r),An(e,t)}function mT(e,t){t===0&&(e.mode&1?(t=wf,wf<<=1,!(wf&130023424)&&(wf=4194304)):t=1);var r=sn();e=Ks(e,t),e!==null&&(Gd(e,t,r),An(e,r))}function P4(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),mT(e,r)}function O4(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(xe(314))}n!==null&&n.delete(t),mT(e,r)}var pT;pT=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Cn.current)Tn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Tn=!1,_4(e,t,r);Tn=!!(e.flags&131072)}else Tn=!1,It&&t.flags&1048576&&y2(t,Dh,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;mh(e,t),e=t.pendingProps;var a=jl(t,$r.current);nl(t,r),a=Hx(null,t,n,e,a,r);var s=Gx();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,kn(n)?(s=!0,Oh(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Bx(t),a.updater=O0,t.stateNode=a,a._reactInternals=t,Bg(t,n,e,r),t=Vg(null,t,n,!0,s,r)):(t.tag=0,It&&s&&Px(t),en(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(mh(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=D4(n),e=Oa(n,e),a){case 0:t=zg(null,t,n,e,r);break e;case 1:t=Xw(null,t,n,e,r);break e;case 11:t=Kw(null,t,n,e,r);break e;case 14:t=Jw(null,t,n,Oa(n.type,e),r);break e}throw Error(xe(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Oa(n,a),zg(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Oa(n,a),Xw(e,t,n,a,r);case 3:e:{if(Q2(t),e===null)throw Error(xe(387));n=t.pendingProps,s=t.memoizedState,a=s.element,T2(e,t),Uh(t,n,null,r);var i=t.memoizedState;if(n=i.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=Pl(Error(xe(423)),t),t=Yw(e,t,n,r,a);break e}else if(n!==a){a=Pl(Error(xe(424)),t),t=Yw(e,t,n,r,a);break e}else for($n=Ui(t.stateNode.containerInfo.firstChild),zn=t,It=!0,Ba=null,r=S2(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Nl(),n===a){t=Js(e,t,r);break e}en(e,t,n,r)}t=t.child}return t;case 5:return C2(t),e===null&&Mg(t),n=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,i=a.children,Rg(n,a)?i=null:s!==null&&Rg(n,s)&&(t.flags|=32),Y2(e,t),en(e,t,i,r),t.child;case 6:return e===null&&Mg(t),null;case 13:return Z2(e,t,r);case 4:return $x(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Il(t,null,n,r):en(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Oa(n,a),Kw(e,t,n,a,r);case 7:return en(e,t,t.pendingProps,r),t.child;case 8:return en(e,t,t.pendingProps.children,r),t.child;case 12:return en(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,i=a.value,_t(Mh,n._currentValue),n._currentValue=i,s!==null)if(qa(s.value,i)){if(s.children===a.children&&!Cn.current){t=Js(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var o=s.dependencies;if(o!==null){i=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=zs(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),Lg(s.return,r,t),o.lanes|=r;break}l=l.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(xe(341));i.lanes|=r,o=i.alternate,o!==null&&(o.lanes|=r),Lg(i,r,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}en(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,nl(t,r),a=_a(a),n=n(a),t.flags|=1,en(e,t,n,r),t.child;case 14:return n=t.type,a=Oa(n,t.pendingProps),a=Oa(n.type,a),Jw(e,t,n,a,r);case 15:return J2(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Oa(n,a),mh(e,t),t.tag=1,kn(n)?(e=!0,Oh(t)):e=!1,nl(t,r),G2(t,n,a),Bg(t,n,a,r),Vg(null,t,n,!0,e,r);case 19:return eT(e,t,r);case 22:return X2(e,t,r)}throw Error(xe(156,t.tag))};function gT(e,t){return Vb(e,t)}function F4(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pa(e,t,r,n){return new F4(e,t,r,n)}function r1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function D4(e){if(typeof e=="function")return r1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===_x)return 11;if(e===Ex)return 14}return 2}function Vi(e,t){var r=e.alternate;return r===null?(r=pa(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function vh(e,t,r,n,a,s){var i=2;if(n=e,typeof e=="function")r1(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case $c:return $o(r.children,a,s,t);case wx:i=8,a|=8;break;case ug:return e=pa(12,r,t,a|2),e.elementType=ug,e.lanes=s,e;case dg:return e=pa(13,r,t,a),e.elementType=dg,e.lanes=s,e;case fg:return e=pa(19,r,t,a),e.elementType=fg,e.lanes=s,e;case Cb:return M0(r,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case bb:i=10;break e;case Tb:i=9;break e;case _x:i=11;break e;case Ex:i=14;break e;case mi:i=16,n=null;break e}throw Error(xe(130,e==null?e:typeof e,""))}return t=pa(i,r,t,a),t.elementType=e,t.type=n,t.lanes=s,t}function $o(e,t,r,n){return e=pa(7,e,n,t),e.lanes=r,e}function M0(e,t,r,n){return e=pa(22,e,n,t),e.elementType=Cb,e.lanes=r,e.stateNode={isHidden:!1},e}function tp(e,t,r){return e=pa(6,e,null,t),e.lanes=r,e}function rp(e,t,r){return t=pa(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function M4(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dm(0),this.expirationTimes=Dm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dm(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function n1(e,t,r,n,a,s,i,o,l){return e=new M4(e,t,r,o,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=pa(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bx(s),e}function L4(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bc,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function vT(e){if(!e)return Ji;e=e._reactInternals;e:{if(lc(e)!==e||e.tag!==1)throw Error(xe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(kn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(xe(171))}if(e.tag===1){var r=e.type;if(kn(r))return v2(e,r,t)}return t}function xT(e,t,r,n,a,s,i,o,l){return e=n1(r,n,!0,e,a,s,i,o,l),e.context=vT(null),r=e.current,n=sn(),a=zi(r),s=zs(n,a),s.callback=t??null,Bi(r,s,a),e.current.lanes=a,Gd(e,a,n),An(e,n),e}function L0(e,t,r,n){var a=t.current,s=sn(),i=zi(a);return r=vT(r),t.context===null?t.context=r:t.pendingContext=r,t=zs(s,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Bi(a,t,i),e!==null&&(Ha(e,a,i,s),dh(e,a,i)),i}function qh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function o_(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function a1(e,t){o_(e,t),(e=e.alternate)&&o_(e,t)}function U4(){return null}var yT=typeof reportError=="function"?reportError:function(e){console.error(e)};function s1(e){this._internalRoot=e}U0.prototype.render=s1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(xe(409));L0(e,t,null,null)};U0.prototype.unmount=s1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ko(function(){L0(null,e,null,null)}),t[qs]=null}};function U0(e){this._internalRoot=e}U0.prototype.unstable_scheduleHydration=function(e){if(e){var t=Xb();e={blockedOn:null,target:e,priority:t};for(var r=0;r<gi.length&&t!==0&&t<gi[r].priority;r++);gi.splice(r,0,e),r===0&&Qb(e)}};function i1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function B0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function c_(){}function B4(e,t,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var u=qh(i);s.call(u)}}var i=xT(t,n,e,0,null,!1,!1,"",c_);return e._reactRootContainer=i,e[qs]=i.current,pd(e.nodeType===8?e.parentNode:e),Ko(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var u=qh(l);o.call(u)}}var l=n1(e,0,!1,null,null,!1,!1,"",c_);return e._reactRootContainer=l,e[qs]=l.current,pd(e.nodeType===8?e.parentNode:e),Ko(function(){L0(t,l,r,n)}),l}function $0(e,t,r,n,a){var s=r._reactRootContainer;if(s){var i=s;if(typeof a=="function"){var o=a;a=function(){var l=qh(i);o.call(l)}}L0(t,i,e,a)}else i=B4(r,t,e,a,n);return qh(i)}Kb=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Nu(t.pendingLanes);r!==0&&(Tx(t,r|1),An(t,Kt()),!(st&6)&&(Ol=Kt()+500,ao()))}break;case 13:Ko(function(){var n=Ks(e,1);if(n!==null){var a=sn();Ha(n,e,1,a)}}),a1(e,1)}};Cx=function(e){if(e.tag===13){var t=Ks(e,134217728);if(t!==null){var r=sn();Ha(t,e,134217728,r)}a1(e,134217728)}};Jb=function(e){if(e.tag===13){var t=zi(e),r=Ks(e,t);if(r!==null){var n=sn();Ha(r,e,t,n)}a1(e,t)}};Xb=function(){return mt};Yb=function(e,t){var r=mt;try{return mt=e,t()}finally{mt=r}};Eg=function(e,t,r){switch(t){case"input":if(pg(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=I0(n);if(!a)throw Error(xe(90));Ab(n),pg(n,a)}}}break;case"textarea":Nb(e,r);break;case"select":t=r.value,t!=null&&Zc(e,!!r.multiple,t,!1)}};Mb=Zx;Lb=Ko;var $4={usingClientEntryPoint:!1,Events:[Kd,Hc,I0,Fb,Db,Zx]},Su={findFiberByHostInstance:To,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},z4={bundleType:Su.bundleType,version:Su.version,rendererPackageName:Su.rendererPackageName,rendererConfig:Su.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=$b(e),e===null?null:e.stateNode},findFiberByHostInstance:Su.findFiberByHostInstance||U4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var If=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!If.isDisabled&&If.supportsFiber)try{k0=If.inject(z4),ps=If}catch{}}ra.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$4;ra.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!i1(t))throw Error(xe(200));return L4(e,t,null,r)};ra.createRoot=function(e,t){if(!i1(e))throw Error(xe(299));var r=!1,n="",a=yT;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=n1(e,1,!1,null,null,r,!1,n,a),e[qs]=t.current,pd(e.nodeType===8?e.parentNode:e),new s1(t)};ra.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(xe(188)):(e=Object.keys(e).join(","),Error(xe(268,e)));return e=$b(t),e=e===null?null:e.stateNode,e};ra.flushSync=function(e){return Ko(e)};ra.hydrate=function(e,t,r){if(!B0(t))throw Error(xe(200));return $0(null,e,t,!0,r)};ra.hydrateRoot=function(e,t,r){if(!i1(e))throw Error(xe(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",i=yT;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=xT(t,null,e,1,r??null,a,!1,s,i),e[qs]=t.current,pd(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new U0(t)};ra.render=function(e,t,r){if(!B0(t))throw Error(xe(200));return $0(null,e,t,!1,r)};ra.unmountComponentAtNode=function(e){if(!B0(e))throw Error(xe(40));return e._reactRootContainer?(Ko(function(){$0(null,null,e,!1,function(){e._reactRootContainer=null,e[qs]=null})}),!0):!1};ra.unstable_batchedUpdates=Zx;ra.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!B0(r))throw Error(xe(200));if(e==null||e._reactInternals===void 0)throw Error(xe(38));return $0(e,t,r,!1,n)};ra.version="18.3.1-next-f1338f8080-20240426";function wT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wT)}catch(e){console.error(e)}}wT(),wb.exports=ra;var uc=wb.exports;const _T=ob(uc);var ET,l_=uc;ET=l_.createRoot,l_.hydrateRoot;const V4=1,W4=1e6;let np=0;function H4(){return np=(np+1)%Number.MAX_SAFE_INTEGER,np.toString()}const ap=new Map,u_=e=>{if(ap.has(e))return;const t=setTimeout(()=>{ap.delete(e),Ku({type:"REMOVE_TOAST",toastId:e})},W4);ap.set(e,t)},G4=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,V4)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?u_(r):e.toasts.forEach(n=>{u_(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},xh=[];let yh={toasts:[]};function Ku(e){yh=G4(yh,e),xh.forEach(t=>{t(yh)})}function q4({...e}){const t=H4(),r=a=>Ku({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>Ku({type:"DISMISS_TOAST",toastId:t});return Ku({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function dn(){const[e,t]=x.useState(yh);return x.useEffect(()=>(xh.push(t),()=>{const r=xh.indexOf(t);r>-1&&xh.splice(r,1)}),[]),{...e,toast:q4,dismiss:r=>Ku({type:"DISMISS_TOAST",toastId:r})}}function Ie(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function d_(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Jo(...e){return t=>{let r=!1;const n=e.map(a=>{const s=d_(a,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let a=0;a<n.length;a++){const s=n[a];typeof s=="function"?s():d_(e[a],null)}}}}function Ke(...e){return x.useCallback(Jo(...e),e)}function K4(e,t){const r=x.createContext(t),n=s=>{const{children:i,...o}=s,l=x.useMemo(()=>o,Object.values(o));return c.jsx(r.Provider,{value:l,children:i})};n.displayName=e+"Provider";function a(s){const i=x.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[n,a]}function Vr(e,t=[]){let r=[];function n(s,i){const o=x.createContext(i),l=r.length;r=[...r,i];const u=f=>{var y;const{scope:h,children:m,...v}=f,p=((y=h==null?void 0:h[e])==null?void 0:y[l])||o,g=x.useMemo(()=>v,Object.values(v));return c.jsx(p.Provider,{value:g,children:m})};u.displayName=s+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[l])||o,v=x.useContext(m);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const a=()=>{const s=r.map(i=>x.createContext(i));return function(o){const l=(o==null?void 0:o[e])||s;return x.useMemo(()=>({[`__scope${e}`]:{...o,[e]:l}}),[o,l])}};return a.scopeName=e,[n,J4(a,...t)]}function J4(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const i=n.reduce((o,{useScope:l,scopeName:u})=>{const f=l(s)[`__scope${u}`];return{...o,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function Xo(e){const t=Y4(e),r=x.forwardRef((n,a)=>{const{children:s,...i}=n,o=x.Children.toArray(s),l=o.find(Q4);if(l){const u=l.props.children,d=o.map(f=>f===l?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return c.jsx(t,{...i,ref:a,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return c.jsx(t,{...i,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}var X4=Xo("Slot");function Y4(e){const t=x.forwardRef((r,n)=>{const{children:a,...s}=r;if(x.isValidElement(a)){const i=eF(a),o=Z4(s,a.props);return a.type!==x.Fragment&&(o.ref=n?Jo(n,i):i),x.cloneElement(a,o)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ST=Symbol("radix.slottable");function bT(e){const t=({children:r})=>c.jsx(c.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=ST,t}function Q4(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ST}function Z4(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...o)=>{const l=s(...o);return a(...o),l}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function eF(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function z0(e){const t=e+"CollectionProvider",[r,n]=Vr(t),[a,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=p=>{const{scope:g,children:y}=p,_=me.useRef(null),w=me.useRef(new Map).current;return c.jsx(a,{scope:g,itemMap:w,collectionRef:_,children:y})};i.displayName=t;const o=e+"CollectionSlot",l=Xo(o),u=me.forwardRef((p,g)=>{const{scope:y,children:_}=p,w=s(o,y),E=Ke(g,w.collectionRef);return c.jsx(l,{ref:E,children:_})});u.displayName=o;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=Xo(d),m=me.forwardRef((p,g)=>{const{scope:y,children:_,...w}=p,E=me.useRef(null),T=Ke(g,E),b=s(d,y);return me.useEffect(()=>(b.itemMap.set(E,{ref:E,...w}),()=>void b.itemMap.delete(E))),c.jsx(h,{[f]:"",ref:T,children:_})});m.displayName=d;function v(p){const g=s(e+"CollectionConsumer",p);return me.useCallback(()=>{const _=g.collectionRef.current;if(!_)return[];const w=Array.from(_.querySelectorAll(`[${f}]`));return Array.from(g.itemMap.values()).sort((b,S)=>w.indexOf(b.ref.current)-w.indexOf(S.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:i,Slot:u,ItemSlot:m},v,n]}var tF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Pe=tF.reduce((e,t)=>{const r=Xo(`Primitive.${t}`),n=x.forwardRef((a,s)=>{const{asChild:i,...o}=a,l=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...o,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function TT(e,t){e&&uc.flushSync(()=>e.dispatchEvent(t))}function lr(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function rF(e,t=globalThis==null?void 0:globalThis.document){const r=lr(e);x.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var nF="DismissableLayer",tv="dismissableLayer.update",aF="dismissableLayer.pointerDownOutside",sF="dismissableLayer.focusOutside",f_,CT=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ql=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:i,onDismiss:o,...l}=e,u=x.useContext(CT),[d,f]=x.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=x.useState({}),v=Ke(t,S=>f(S)),p=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=p.indexOf(g),_=d?p.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,E=_>=y,T=oF(S=>{const C=S.target,A=[...u.branches].some(j=>j.contains(C));!E||A||(a==null||a(S),i==null||i(S),S.defaultPrevented||o==null||o())},h),b=cF(S=>{const C=S.target;[...u.branches].some(j=>j.contains(C))||(s==null||s(S),i==null||i(S),S.defaultPrevented||o==null||o())},h);return rF(S=>{_===u.layers.size-1&&(n==null||n(S),!S.defaultPrevented&&o&&(S.preventDefault(),o()))},h),x.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(f_=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),h_(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=f_)}},[d,h,r,u]),x.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),h_())},[d,u]),x.useEffect(()=>{const S=()=>m({});return document.addEventListener(tv,S),()=>document.removeEventListener(tv,S)},[]),c.jsx(Pe.div,{...l,ref:v,style:{pointerEvents:w?E?"auto":"none":void 0,...e.style},onFocusCapture:Ie(e.onFocusCapture,b.onFocusCapture),onBlurCapture:Ie(e.onBlurCapture,b.onBlurCapture),onPointerDownCapture:Ie(e.onPointerDownCapture,T.onPointerDownCapture)})});ql.displayName=nF;var iF="DismissableLayerBranch",kT=x.forwardRef((e,t)=>{const r=x.useContext(CT),n=x.useRef(null),a=Ke(t,n);return x.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),c.jsx(Pe.div,{...e,ref:a})});kT.displayName=iF;function oF(e,t=globalThis==null?void 0:globalThis.document){const r=lr(e),n=x.useRef(!1),a=x.useRef(()=>{});return x.useEffect(()=>{const s=o=>{if(o.target&&!n.current){let l=function(){AT(aF,r,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=l,t.addEventListener("click",a.current,{once:!0})):l()}else t.removeEventListener("click",a.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",s),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function cF(e,t=globalThis==null?void 0:globalThis.document){const r=lr(e),n=x.useRef(!1);return x.useEffect(()=>{const a=s=>{s.target&&!n.current&&AT(sF,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function h_(){const e=new CustomEvent(tv);document.dispatchEvent(e)}function AT(e,t,r,{discrete:n}){const a=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?TT(a,s):a.dispatchEvent(s)}var lF=ql,uF=kT,mr=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},dF="Portal",Xd=x.forwardRef((e,t)=>{var o;const{container:r,...n}=e,[a,s]=x.useState(!1);mr(()=>s(!0),[]);const i=r||a&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return i?_T.createPortal(c.jsx(Pe.div,{...n,ref:t}),i):null});Xd.displayName=dF;function fF(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var fn=e=>{const{present:t,children:r}=e,n=hF(t),a=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),s=Ke(n.ref,mF(a));return typeof r=="function"||n.isPresent?x.cloneElement(a,{ref:s}):null};fn.displayName="Presence";function hF(e){const[t,r]=x.useState(),n=x.useRef(null),a=x.useRef(e),s=x.useRef("none"),i=e?"mounted":"unmounted",[o,l]=fF(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=Rf(n.current);s.current=o==="mounted"?u:"none"},[o]),mr(()=>{const u=n.current,d=a.current;if(d!==e){const h=s.current,m=Rf(u);e?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,l]),mr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const p=Rf(n.current).includes(m.animationName);if(m.target===t&&p&&(l("ANIMATION_END"),!a.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},h=m=>{m.target===t&&(s.current=Rf(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:x.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Rf(e){return(e==null?void 0:e.animationName)||"none"}function mF(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var pF=gx[" useInsertionEffect ".trim().toString()]||mr;function Sa({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,s,i]=gF({defaultProp:t,onChange:r}),o=e!==void 0,l=o?e:a;{const d=x.useRef(e!==void 0);x.useEffect(()=>{const f=d.current;f!==o&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=o},[o,n])}const u=x.useCallback(d=>{var f;if(o){const h=vF(d)?d(e):d;h!==e&&((f=i.current)==null||f.call(i,h))}else s(d)},[o,e,s,i]);return[l,u]}function gF({defaultProp:e,onChange:t}){const[r,n]=x.useState(e),a=x.useRef(r),s=x.useRef(t);return pF(()=>{s.current=t},[t]),x.useEffect(()=>{var i;a.current!==r&&((i=s.current)==null||i.call(s,r),a.current=r)},[r,a]),[r,n,s]}function vF(e){return typeof e=="function"}var jT=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),xF="VisuallyHidden",V0=x.forwardRef((e,t)=>c.jsx(Pe.span,{...e,ref:t,style:{...jT,...e.style}}));V0.displayName=xF;var yF=V0,o1="ToastProvider",[c1,wF,_F]=z0("Toast"),[NT,wQ]=Vr("Toast",[_F]),[EF,W0]=NT(o1),IT=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:s=50,children:i}=e,[o,l]=x.useState(null),[u,d]=x.useState(0),f=x.useRef(!1),h=x.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${o1}\`. Expected non-empty \`string\`.`),c.jsx(c1.Provider,{scope:t,children:c.jsx(EF,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:s,toastCount:u,viewport:o,onViewportChange:l,onToastAdd:x.useCallback(()=>d(m=>m+1),[]),onToastRemove:x.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:i})})};IT.displayName=o1;var RT="ToastViewport",SF=["F8"],rv="toast.viewportPause",nv="toast.viewportResume",PT=x.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=SF,label:a="Notifications ({hotkey})",...s}=e,i=W0(RT,r),o=wF(r),l=x.useRef(null),u=x.useRef(null),d=x.useRef(null),f=x.useRef(null),h=Ke(t,f,i.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=i.toastCount>0;x.useEffect(()=>{const g=y=>{var w;n.length!==0&&n.every(E=>y[E]||y.code===E)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[n]),x.useEffect(()=>{const g=l.current,y=f.current;if(v&&g&&y){const _=()=>{if(!i.isClosePausedRef.current){const b=new CustomEvent(rv);y.dispatchEvent(b),i.isClosePausedRef.current=!0}},w=()=>{if(i.isClosePausedRef.current){const b=new CustomEvent(nv);y.dispatchEvent(b),i.isClosePausedRef.current=!1}},E=b=>{!g.contains(b.relatedTarget)&&w()},T=()=>{g.contains(document.activeElement)||w()};return g.addEventListener("focusin",_),g.addEventListener("focusout",E),g.addEventListener("pointermove",_),g.addEventListener("pointerleave",T),window.addEventListener("blur",_),window.addEventListener("focus",w),()=>{g.removeEventListener("focusin",_),g.removeEventListener("focusout",E),g.removeEventListener("pointermove",_),g.removeEventListener("pointerleave",T),window.removeEventListener("blur",_),window.removeEventListener("focus",w)}}},[v,i.isClosePausedRef]);const p=x.useCallback(({tabbingDirection:g})=>{const _=o().map(w=>{const E=w.ref.current,T=[E,...DF(E)];return g==="forwards"?T:T.reverse()});return(g==="forwards"?_.reverse():_).flat()},[o]);return x.useEffect(()=>{const g=f.current;if(g){const y=_=>{var T,b,S;const w=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!w){const C=document.activeElement,A=_.shiftKey;if(_.target===g&&A){(T=u.current)==null||T.focus();return}const N=p({tabbingDirection:A?"backwards":"forwards"}),W=N.findIndex(M=>M===C);sp(N.slice(W+1))?_.preventDefault():A?(b=u.current)==null||b.focus():(S=d.current)==null||S.focus()}};return g.addEventListener("keydown",y),()=>g.removeEventListener("keydown",y)}},[o,p]),c.jsxs(uF,{ref:l,role:"region","aria-label":a.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&c.jsx(av,{ref:u,onFocusFromOutsideViewport:()=>{const g=p({tabbingDirection:"forwards"});sp(g)}}),c.jsx(c1.Slot,{scope:r,children:c.jsx(Pe.ol,{tabIndex:-1,...s,ref:h})}),v&&c.jsx(av,{ref:d,onFocusFromOutsideViewport:()=>{const g=p({tabbingDirection:"backwards"});sp(g)}})]})});PT.displayName=RT;var OT="ToastFocusProxy",av=x.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,s=W0(OT,r);return c.jsx(V0,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const o=i.relatedTarget;!((u=s.viewport)!=null&&u.contains(o))&&n()}})});av.displayName=OT;var Yd="Toast",bF="toast.swipeStart",TF="toast.swipeMove",CF="toast.swipeCancel",kF="toast.swipeEnd",FT=x.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:s,...i}=e,[o,l]=Sa({prop:n,defaultProp:a??!0,onChange:s,caller:Yd});return c.jsx(fn,{present:r||o,children:c.jsx(NF,{open:o,...i,ref:t,onClose:()=>l(!1),onPause:lr(e.onPause),onResume:lr(e.onResume),onSwipeStart:Ie(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ie(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ie(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ie(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});FT.displayName=Yd;var[AF,jF]=NT(Yd,{onClose(){}}),NF=x.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:s,onClose:i,onEscapeKeyDown:o,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...v}=e,p=W0(Yd,r),[g,y]=x.useState(null),_=Ke(t,M=>y(M)),w=x.useRef(null),E=x.useRef(null),T=a||p.duration,b=x.useRef(0),S=x.useRef(T),C=x.useRef(0),{onToastAdd:A,onToastRemove:j}=p,I=lr(()=>{var X;(g==null?void 0:g.contains(document.activeElement))&&((X=p.viewport)==null||X.focus()),i()}),N=x.useCallback(M=>{!M||M===1/0||(window.clearTimeout(C.current),b.current=new Date().getTime(),C.current=window.setTimeout(I,M))},[I]);x.useEffect(()=>{const M=p.viewport;if(M){const X=()=>{N(S.current),u==null||u()},z=()=>{const V=new Date().getTime()-b.current;S.current=S.current-V,window.clearTimeout(C.current),l==null||l()};return M.addEventListener(rv,z),M.addEventListener(nv,X),()=>{M.removeEventListener(rv,z),M.removeEventListener(nv,X)}}},[p.viewport,T,l,u,N]),x.useEffect(()=>{s&&!p.isClosePausedRef.current&&N(T)},[s,T,p.isClosePausedRef,N]),x.useEffect(()=>(A(),()=>j()),[A,j]);const W=x.useMemo(()=>g?zT(g):null,[g]);return p.viewport?c.jsxs(c.Fragment,{children:[W&&c.jsx(IF,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:W}),c.jsx(AF,{scope:r,onClose:I,children:uc.createPortal(c.jsx(c1.ItemSlot,{scope:r,children:c.jsx(lF,{asChild:!0,onEscapeKeyDown:Ie(o,()=>{p.isFocusedToastEscapeKeyDownRef.current||I(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:c.jsx(Pe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":p.swipeDirection,...v,ref:_,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ie(e.onKeyDown,M=>{M.key==="Escape"&&(o==null||o(M.nativeEvent),M.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:Ie(e.onPointerDown,M=>{M.button===0&&(w.current={x:M.clientX,y:M.clientY})}),onPointerMove:Ie(e.onPointerMove,M=>{if(!w.current)return;const X=M.clientX-w.current.x,z=M.clientY-w.current.y,V=!!E.current,Y=["left","right"].includes(p.swipeDirection),F=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,ne=Y?F(0,X):0,ee=Y?0:F(0,z),k=M.pointerType==="touch"?10:2,G={x:ne,y:ee},L={originalEvent:M,delta:G};V?(E.current=G,Pf(TF,f,L,{discrete:!1})):m_(G,p.swipeDirection,k)?(E.current=G,Pf(bF,d,L,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs(X)>k||Math.abs(z)>k)&&(w.current=null)}),onPointerUp:Ie(e.onPointerUp,M=>{const X=E.current,z=M.target;if(z.hasPointerCapture(M.pointerId)&&z.releasePointerCapture(M.pointerId),E.current=null,w.current=null,X){const V=M.currentTarget,Y={originalEvent:M,delta:X};m_(X,p.swipeDirection,p.swipeThreshold)?Pf(kF,m,Y,{discrete:!0}):Pf(CF,h,Y,{discrete:!0}),V.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),IF=e=>{const{__scopeToast:t,children:r,...n}=e,a=W0(Yd,t),[s,i]=x.useState(!1),[o,l]=x.useState(!1);return OF(()=>i(!0)),x.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),o?null:c.jsx(Xd,{asChild:!0,children:c.jsx(V0,{...n,children:s&&c.jsxs(c.Fragment,{children:[a.label," ",r]})})})},RF="ToastTitle",DT=x.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return c.jsx(Pe.div,{...n,ref:t})});DT.displayName=RF;var PF="ToastDescription",MT=x.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return c.jsx(Pe.div,{...n,ref:t})});MT.displayName=PF;var LT="ToastAction",UT=x.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?c.jsx($T,{altText:r,asChild:!0,children:c.jsx(l1,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${LT}\`. Expected non-empty \`string\`.`),null)});UT.displayName=LT;var BT="ToastClose",l1=x.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=jF(BT,r);return c.jsx($T,{asChild:!0,children:c.jsx(Pe.button,{type:"button",...n,ref:t,onClick:Ie(e.onClick,a.onClose)})})});l1.displayName=BT;var $T=x.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return c.jsx(Pe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function zT(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),FF(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",s=n.dataset.radixToastAnnounceExclude==="";if(!a)if(s){const i=n.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...zT(n))}}),t}function Pf(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?TT(a,s):a.dispatchEvent(s)}var m_=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),s=n>a;return t==="left"||t==="right"?s&&n>r:!s&&a>r};function OF(e=()=>{}){const t=lr(e);mr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function FF(e){return e.nodeType===e.ELEMENT_NODE}function DF(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function sp(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var MF=IT,VT=PT,WT=FT,HT=DT,GT=MT,qT=UT,KT=l1;function JT(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=JT(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function XT(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=JT(e))&&(n&&(n+=" "),n+=t);return n}const p_=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,g_=XT,H0=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return g_(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:s}=t,i=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=s==null?void 0:s[u];if(d===null)return null;const h=p_(d)||p_(f);return a[u][h]}),o=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),l=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(v=>{let[p,g]=v;return Array.isArray(g)?g.includes({...s,...o}[p]):{...s,...o}[p]===g})?[...u,f,h]:u},[]);return g_(e,i,l,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LF=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),YT=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var UF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BF=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:i,...o},l)=>x.createElement("svg",{ref:l,...UF,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:YT("lucide",a),...o},[...i.map(([u,d])=>x.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=(e,t)=>{const r=x.forwardRef(({className:n,...a},s)=>x.createElement(BF,{ref:s,iconNode:t,className:YT(`lucide-${LF(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=Rt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=Rt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=Rt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=Rt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=Rt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=Rt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=Rt("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=Rt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=Rt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $F=Rt("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=Rt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=Rt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zF=Rt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=Rt("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=Rt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF=Rt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=Rt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=Rt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=Rt("Sprout",[["path",{d:"M7 20h10",key:"e6iznv"}],["path",{d:"M10 20c5.5-2.5.8-6.4 3-10",key:"161w41"}],["path",{d:"M9.5 9.4c1.1.8 1.8 2.2 2.3 3.7-2 .4-3.5.4-4.8-.3-1.2-.6-2.3-1.9-3-4.2 2.8-.5 4.4 0 5.5.8z",key:"9gtqwd"}],["path",{d:"M14.1 6a7 7 0 0 0-1.1 4c1.9-.1 3.3-.6 4.3-1.4 1-1 1.6-2.3 1.7-4.6-2.7.1-4 1-4.9 2z",key:"bkxnd2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=Rt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WF=Rt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=Rt("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=Rt("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=Rt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),f1="-",HF=e=>{const t=qF(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const o=i.split(f1);return o[0]===""&&o.length!==1&&o.shift(),rC(o,t)||GF(i)},getConflictingClassGroupIds:(i,o)=>{const l=r[i]||[];return o&&n[i]?[...l,...n[i]]:l}}},rC=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?rC(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const s=e.join(f1);return(i=t.validators.find(({validator:o})=>o(s)))==null?void 0:i.classGroupId},v_=/^\[(.+)\]$/,GF=e=>{if(v_.test(e)){const t=v_.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},qF=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return JF(Object.entries(e.classGroups),r).forEach(([s,i])=>{ov(i,n,s,t)}),n},ov=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const s=a===""?t:x_(t,a);s.classGroupId=r;return}if(typeof a=="function"){if(KF(a)){ov(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([s,i])=>{ov(i,x_(t,s),r,n)})})},x_=(e,t)=>{let r=e;return t.split(f1).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},KF=e=>e.isThemeGetter,JF=(e,t)=>t?e.map(([r,n])=>{const a=n.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([i,o])=>[t+i,o])):s);return[r,a]}):e,XF=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(s,i)=>{r.set(s,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(s){let i=r.get(s);if(i!==void 0)return i;if((i=n.get(s))!==void 0)return a(s,i),i},set(s,i){r.has(s)?r.set(s,i):a(s,i)}}},nC="!",YF=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],s=t.length,i=o=>{const l=[];let u=0,d=0,f;for(let g=0;g<o.length;g++){let y=o[g];if(u===0){if(y===a&&(n||o.slice(g,g+s)===t)){l.push(o.slice(d,g)),d=g+s;continue}if(y==="/"){f=g;continue}}y==="["?u++:y==="]"&&u--}const h=l.length===0?o:o.substring(d),m=h.startsWith(nC),v=m?h.substring(1):h,p=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:p}};return r?o=>r({className:o,parseClassName:i}):i},QF=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},ZF=e=>({cache:XF(e.cacheSize),parseClassName:YF(e),...HF(e)}),e3=/\s+/,t3=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,s=[],i=e.trim().split(e3);let o="";for(let l=i.length-1;l>=0;l-=1){const u=i[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let v=!!m,p=n(v?h.substring(0,m):h);if(!p){if(!v){o=u+(o.length>0?" "+o:o);continue}if(p=n(h),!p){o=u+(o.length>0?" "+o:o);continue}v=!1}const g=QF(d).join(":"),y=f?g+nC:g,_=y+p;if(s.includes(_))continue;s.push(_);const w=a(p,v);for(let E=0;E<w.length;++E){const T=w[E];s.push(y+T)}o=u+(o.length>0?" "+o:o)}return o};function r3(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=aC(t))&&(n&&(n+=" "),n+=r);return n}const aC=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=aC(e[n]))&&(r&&(r+=" "),r+=t);return r};function n3(e,...t){let r,n,a,s=i;function i(l){const u=t.reduce((d,f)=>f(d),e());return r=ZF(u),n=r.cache.get,a=r.cache.set,s=o,o(l)}function o(l){const u=n(l);if(u)return u;const d=t3(l,r);return a(l,d),d}return function(){return s(r3.apply(null,arguments))}}const Tt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},sC=/^\[(?:([a-z-]+):)?(.+)\]$/i,a3=/^\d+\/\d+$/,s3=new Set(["px","full","screen"]),i3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,o3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,c3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,l3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,u3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,As=e=>sl(e)||s3.has(e)||a3.test(e),si=e=>Kl(e,"length",x3),sl=e=>!!e&&!Number.isNaN(Number(e)),op=e=>Kl(e,"number",sl),bu=e=>!!e&&Number.isInteger(Number(e)),d3=e=>e.endsWith("%")&&sl(e.slice(0,-1)),Je=e=>sC.test(e),ii=e=>i3.test(e),f3=new Set(["length","size","percentage"]),h3=e=>Kl(e,f3,iC),m3=e=>Kl(e,"position",iC),p3=new Set(["image","url"]),g3=e=>Kl(e,p3,w3),v3=e=>Kl(e,"",y3),Tu=()=>!0,Kl=(e,t,r)=>{const n=sC.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},x3=e=>o3.test(e)&&!c3.test(e),iC=()=>!1,y3=e=>l3.test(e),w3=e=>u3.test(e),_3=()=>{const e=Tt("colors"),t=Tt("spacing"),r=Tt("blur"),n=Tt("brightness"),a=Tt("borderColor"),s=Tt("borderRadius"),i=Tt("borderSpacing"),o=Tt("borderWidth"),l=Tt("contrast"),u=Tt("grayscale"),d=Tt("hueRotate"),f=Tt("invert"),h=Tt("gap"),m=Tt("gradientColorStops"),v=Tt("gradientColorStopPositions"),p=Tt("inset"),g=Tt("margin"),y=Tt("opacity"),_=Tt("padding"),w=Tt("saturate"),E=Tt("scale"),T=Tt("sepia"),b=Tt("skew"),S=Tt("space"),C=Tt("translate"),A=()=>["auto","contain","none"],j=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",Je,t],N=()=>[Je,t],W=()=>["",As,si],M=()=>["auto",sl,Je],X=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],z=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Y=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",Je],ne=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[sl,Je];return{cacheSize:500,separator:":",theme:{colors:[Tu],spacing:[As,si],blur:["none","",ii,Je],brightness:ee(),borderColor:[e],borderRadius:["none","","full",ii,Je],borderSpacing:N(),borderWidth:W(),contrast:ee(),grayscale:F(),hueRotate:ee(),invert:F(),gap:N(),gradientColorStops:[e],gradientColorStopPositions:[d3,si],inset:I(),margin:I(),opacity:ee(),padding:N(),saturate:ee(),scale:ee(),sepia:F(),skew:ee(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",Je]}],container:["container"],columns:[{columns:[ii]}],"break-after":[{"break-after":ne()}],"break-before":[{"break-before":ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...X(),Je]}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",bu,Je]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Je]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",bu,Je]}],"grid-cols":[{"grid-cols":[Tu]}],"col-start-end":[{col:["auto",{span:["full",bu,Je]},Je]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[Tu]}],"row-start-end":[{row:["auto",{span:[bu,Je]},Je]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Je]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Je]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...Y()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Y(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Y(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Je,t]}],"min-w":[{"min-w":[Je,t,"min","max","fit"]}],"max-w":[{"max-w":[Je,t,"none","full","min","max","fit","prose",{screen:[ii]},ii]}],h:[{h:[Je,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Je,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Je,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Je,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ii,si]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",op]}],"font-family":[{font:[Tu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Je]}],"line-clamp":[{"line-clamp":["none",sl,op]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",As,Je]}],"list-image":[{"list-image":["none",Je]}],"list-style-type":[{list:["none","disc","decimal",Je]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",As,si]}],"underline-offset":[{"underline-offset":["auto",As,Je]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Je]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Je]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...X(),m3]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",h3]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},g3]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...z(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:z()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...z()]}],"outline-offset":[{"outline-offset":[As,Je]}],"outline-w":[{outline:[As,si]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[As,si]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ii,v3]}],"shadow-color":[{shadow:[Tu]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ii,Je]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Je]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",Je]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",Je]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[bu,Je]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[b]}],"skew-y":[{"skew-y":[b]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Je]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Je]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Je]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[As,si,op]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},E3=n3(_3);function Te(...e){return E3(XT(e))}function il(){const e=globalThis.crypto;if(e!=null&&e.randomUUID)try{return e.randomUUID()}catch{}if(e!=null&&e.getRandomValues){const r=new Uint8Array(16);e.getRandomValues(r),r[6]=r[6]&15|64,r[8]=r[8]&63|128;const n=Array.from(r,a=>a.toString(16).padStart(2,"0"));return`${n[0]}${n[1]}${n[2]}${n[3]}-${n[4]}${n[5]}-${n[6]}${n[7]}-${n[8]}${n[9]}-${n[10]}${n[11]}${n[12]}${n[13]}${n[14]}${n[15]}`}const t=()=>Math.floor((1+Math.random())*65536).toString(16).substring(1);return`${t()}${t()}-${t()}-${t()}-${t()}-${t()}${t()}${t()}`}const S3=MF,oC=x.forwardRef(({className:e,...t},r)=>c.jsx(VT,{ref:r,className:Te("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));oC.displayName=VT.displayName;const b3=H0("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),cC=x.forwardRef(({className:e,variant:t,...r},n)=>c.jsx(WT,{ref:n,className:Te(b3({variant:t}),e),...r}));cC.displayName=WT.displayName;const T3=x.forwardRef(({className:e,...t},r)=>c.jsx(qT,{ref:r,className:Te("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));T3.displayName=qT.displayName;const lC=x.forwardRef(({className:e,...t},r)=>c.jsx(KT,{ref:r,className:Te("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:c.jsx(tC,{className:"h-4 w-4"})}));lC.displayName=KT.displayName;const uC=x.forwardRef(({className:e,...t},r)=>c.jsx(HT,{ref:r,className:Te("text-sm font-semibold",e),...t}));uC.displayName=HT.displayName;const dC=x.forwardRef(({className:e,...t},r)=>c.jsx(GT,{ref:r,className:Te("text-sm opacity-90",e),...t}));dC.displayName=GT.displayName;function C3(){const{toasts:e}=dn();return c.jsxs(S3,{children:[e.map(function({id:t,title:r,description:n,action:a,...s}){return c.jsxs(cC,{...s,children:[c.jsxs("div",{className:"grid gap-1",children:[r&&c.jsx(uC,{children:r}),n&&c.jsx(dC,{children:n})]}),a,c.jsx(lC,{})]},t)}),c.jsx(oC,{})]})}var y_=["light","dark"],k3="(prefers-color-scheme: dark)",A3=x.createContext(void 0),j3={setTheme:e=>{},themes:[]},N3=()=>{var e;return(e=x.useContext(A3))!=null?e:j3};x.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:s,value:i,attrs:o,nonce:l})=>{let u=s==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${o.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=a?y_.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(v,p=!1,g=!0)=>{let y=i?i[v]:v,_=p?v+"|| ''":`'${y}'`,w="";return a&&g&&!p&&y_.includes(v)&&(w+=`d.style.colorScheme = '${v}';`),r==="class"?p||y?w+=`c.add(${_})`:w+="null":y&&(w+=`d[s](n,${_})`),w},m=e?`!function(){${d}${h(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${k3}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}${u?"":"else{"+h(s,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}else{${h(s,!1,!1)};}${f}}catch(t){}}();`;return x.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})});var I3=e=>{switch(e){case"success":return O3;case"info":return D3;case"warning":return F3;case"error":return M3;default:return null}},R3=Array(12).fill(0),P3=({visible:e,className:t})=>me.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},me.createElement("div",{className:"sonner-spinner"},R3.map((r,n)=>me.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),O3=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),F3=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),D3=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),M3=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),L3=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},me.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),me.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),U3=()=>{let[e,t]=me.useState(document.hidden);return me.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},cv=1,B3=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:cv++,s=this.toasts.find(o=>o.id===a),i=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),s?this.toasts=this.toasts.map(o=>o.id===a?(this.publish({...o,...e,id:a,title:r}),{...o,...e,id:a,dismissible:i,title:r}):o):this.addToast({title:r,...n,dismissible:i,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),a=r!==void 0,s,i=n.then(async l=>{if(s=["resolve",l],me.isValidElement(l))a=!1,this.create({id:r,type:"default",message:l});else if(z3(l)&&!l.ok){a=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${l.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${l.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){a=!1;let u=typeof t.success=="function"?await t.success(l):t.success,d=typeof t.description=="function"?await t.description(l):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async l=>{if(s=["reject",l],t.error!==void 0){a=!1;let u=typeof t.error=="function"?await t.error(l):t.error,d=typeof t.description=="function"?await t.description(l):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var l;a&&(this.dismiss(r),r=void 0),(l=t.finally)==null||l.call(t)}),o=()=>new Promise((l,u)=>i.then(()=>s[0]==="reject"?u(s[1]):l(s[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:o}:Object.assign(r,{unwrap:o})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||cv++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},wn=new B3,$3=(e,t)=>{let r=(t==null?void 0:t.id)||cv++;return wn.addToast({title:e,...t,id:r}),r},z3=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",V3=$3,W3=()=>wn.toasts,H3=()=>wn.getActiveToasts(),le=Object.assign(V3,{success:wn.success,info:wn.info,warning:wn.warning,error:wn.error,custom:wn.custom,message:wn.message,promise:wn.promise,dismiss:wn.dismiss,loading:wn.loading},{getHistory:W3,getToasts:H3});function G3(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}G3(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ff(e){return e.label!==void 0}var q3=3,K3="32px",J3="16px",w_=4e3,X3=356,Y3=14,Q3=20,Z3=200;function ja(...e){return e.filter(Boolean).join(" ")}function eD(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var tD=e=>{var t,r,n,a,s,i,o,l,u,d,f;let{invert:h,toast:m,unstyled:v,interacting:p,setHeights:g,visibleToasts:y,heights:_,index:w,toasts:E,expanded:T,removeToast:b,defaultRichColors:S,closeButton:C,style:A,cancelButtonStyle:j,actionButtonStyle:I,className:N="",descriptionClassName:W="",duration:M,position:X,gap:z,loadingIcon:V,expandByDefault:Y,classNames:F,icons:ne,closeButtonAriaLabel:ee="Close toast",pauseWhenPageIsHidden:k}=e,[G,L]=me.useState(null),[D,O]=me.useState(null),[P,Q]=me.useState(!1),[Z,re]=me.useState(!1),[ce,U]=me.useState(!1),[we,Ne]=me.useState(!1),[$e,Me]=me.useState(!1),[pe,et]=me.useState(0),[Pt,Ot]=me.useState(0),Xt=me.useRef(m.duration||M||w_),Gt=me.useRef(null),rr=me.useRef(null),he=w===0,be=w+1<=y,Ce=m.type,gt=m.dismissible!==!1,At=m.className||"",Kr=m.descriptionClassName||"",ze=me.useMemo(()=>_.findIndex(Ve=>Ve.toastId===m.id)||0,[_,m.id]),Ze=me.useMemo(()=>{var Ve;return(Ve=m.closeButton)!=null?Ve:C},[m.closeButton,C]),ct=me.useMemo(()=>m.duration||M||w_,[m.duration,M]),jt=me.useRef(0),Nr=me.useRef(0),ia=me.useRef(0),Ts=me.useRef(null),[lu,hf]=X.split("-"),uu=me.useMemo(()=>_.reduce((Ve,lt,yt)=>yt>=ze?Ve:Ve+lt.height,0),[_,ze]),du=U3(),km=m.invert||h,fu=Ce==="loading";Nr.current=me.useMemo(()=>ze*z+uu,[ze,uu]),me.useEffect(()=>{Xt.current=ct},[ct]),me.useEffect(()=>{Q(!0)},[]),me.useEffect(()=>{let Ve=rr.current;if(Ve){let lt=Ve.getBoundingClientRect().height;return Ot(lt),g(yt=>[{toastId:m.id,height:lt,position:m.position},...yt]),()=>g(yt=>yt.filter(Rn=>Rn.toastId!==m.id))}},[g,m.id]),me.useLayoutEffect(()=>{if(!P)return;let Ve=rr.current,lt=Ve.style.height;Ve.style.height="auto";let yt=Ve.getBoundingClientRect().height;Ve.style.height=lt,Ot(yt),g(Rn=>Rn.find(Pn=>Pn.toastId===m.id)?Rn.map(Pn=>Pn.toastId===m.id?{...Pn,height:yt}:Pn):[{toastId:m.id,height:yt,position:m.position},...Rn])},[P,m.title,m.description,g,m.id]);let In=me.useCallback(()=>{re(!0),et(Nr.current),g(Ve=>Ve.filter(lt=>lt.toastId!==m.id)),setTimeout(()=>{b(m)},Z3)},[m,b,g,Nr]);me.useEffect(()=>{if(m.promise&&Ce==="loading"||m.duration===1/0||m.type==="loading")return;let Ve;return T||p||k&&du?(()=>{if(ia.current<jt.current){let lt=new Date().getTime()-jt.current;Xt.current=Xt.current-lt}ia.current=new Date().getTime()})():Xt.current!==1/0&&(jt.current=new Date().getTime(),Ve=setTimeout(()=>{var lt;(lt=m.onAutoClose)==null||lt.call(m,m),In()},Xt.current)),()=>clearTimeout(Ve)},[T,p,m,Ce,k,du,In]),me.useEffect(()=>{m.delete&&In()},[In,m.delete]);function Am(){var Ve,lt,yt;return ne!=null&&ne.loading?me.createElement("div",{className:ja(F==null?void 0:F.loader,(Ve=m==null?void 0:m.classNames)==null?void 0:Ve.loader,"sonner-loader"),"data-visible":Ce==="loading"},ne.loading):V?me.createElement("div",{className:ja(F==null?void 0:F.loader,(lt=m==null?void 0:m.classNames)==null?void 0:lt.loader,"sonner-loader"),"data-visible":Ce==="loading"},V):me.createElement(P3,{className:ja(F==null?void 0:F.loader,(yt=m==null?void 0:m.classNames)==null?void 0:yt.loader),visible:Ce==="loading"})}return me.createElement("li",{tabIndex:0,ref:rr,className:ja(N,At,F==null?void 0:F.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,F==null?void 0:F.default,F==null?void 0:F[Ce],(r=m==null?void 0:m.classNames)==null?void 0:r[Ce]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:S,"data-styled":!(m.jsx||m.unstyled||v),"data-mounted":P,"data-promise":!!m.promise,"data-swiped":$e,"data-removed":Z,"data-visible":be,"data-y-position":lu,"data-x-position":hf,"data-index":w,"data-front":he,"data-swiping":ce,"data-dismissible":gt,"data-type":Ce,"data-invert":km,"data-swipe-out":we,"data-swipe-direction":D,"data-expanded":!!(T||Y&&P),style:{"--index":w,"--toasts-before":w,"--z-index":E.length-w,"--offset":`${Z?pe:Nr.current}px`,"--initial-height":Y?"auto":`${Pt}px`,...A,...m.style},onDragEnd:()=>{U(!1),L(null),Ts.current=null},onPointerDown:Ve=>{fu||!gt||(Gt.current=new Date,et(Nr.current),Ve.target.setPointerCapture(Ve.pointerId),Ve.target.tagName!=="BUTTON"&&(U(!0),Ts.current={x:Ve.clientX,y:Ve.clientY}))},onPointerUp:()=>{var Ve,lt,yt,Rn;if(we||!gt)return;Ts.current=null;let Pn=Number(((Ve=rr.current)==null?void 0:Ve.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),rs=Number(((lt=rr.current)==null?void 0:lt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Cs=new Date().getTime()-((yt=Gt.current)==null?void 0:yt.getTime()),Jr=G==="x"?Pn:rs,ns=Math.abs(Jr)/Cs;if(Math.abs(Jr)>=Q3||ns>.11){et(Nr.current),(Rn=m.onDismiss)==null||Rn.call(m,m),O(G==="x"?Pn>0?"right":"left":rs>0?"down":"up"),In(),Ne(!0),Me(!1);return}U(!1),L(null)},onPointerMove:Ve=>{var lt,yt,Rn,Pn;if(!Ts.current||!gt||((lt=window.getSelection())==null?void 0:lt.toString().length)>0)return;let rs=Ve.clientY-Ts.current.y,Cs=Ve.clientX-Ts.current.x,Jr=(yt=e.swipeDirections)!=null?yt:eD(X);!G&&(Math.abs(Cs)>1||Math.abs(rs)>1)&&L(Math.abs(Cs)>Math.abs(rs)?"x":"y");let ns={x:0,y:0};G==="y"?(Jr.includes("top")||Jr.includes("bottom"))&&(Jr.includes("top")&&rs<0||Jr.includes("bottom")&&rs>0)&&(ns.y=rs):G==="x"&&(Jr.includes("left")||Jr.includes("right"))&&(Jr.includes("left")&&Cs<0||Jr.includes("right")&&Cs>0)&&(ns.x=Cs),(Math.abs(ns.x)>0||Math.abs(ns.y)>0)&&Me(!0),(Rn=rr.current)==null||Rn.style.setProperty("--swipe-amount-x",`${ns.x}px`),(Pn=rr.current)==null||Pn.style.setProperty("--swipe-amount-y",`${ns.y}px`)}},Ze&&!m.jsx?me.createElement("button",{"aria-label":ee,"data-disabled":fu,"data-close-button":!0,onClick:fu||!gt?()=>{}:()=>{var Ve;In(),(Ve=m.onDismiss)==null||Ve.call(m,m)},className:ja(F==null?void 0:F.closeButton,(a=m==null?void 0:m.classNames)==null?void 0:a.closeButton)},(s=ne==null?void 0:ne.close)!=null?s:L3):null,m.jsx||x.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:me.createElement(me.Fragment,null,Ce||m.icon||m.promise?me.createElement("div",{"data-icon":"",className:ja(F==null?void 0:F.icon,(i=m==null?void 0:m.classNames)==null?void 0:i.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Am():null,m.type!=="loading"?m.icon||(ne==null?void 0:ne[Ce])||I3(Ce):null):null,me.createElement("div",{"data-content":"",className:ja(F==null?void 0:F.content,(o=m==null?void 0:m.classNames)==null?void 0:o.content)},me.createElement("div",{"data-title":"",className:ja(F==null?void 0:F.title,(l=m==null?void 0:m.classNames)==null?void 0:l.title)},typeof m.title=="function"?m.title():m.title),m.description?me.createElement("div",{"data-description":"",className:ja(W,Kr,F==null?void 0:F.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),x.isValidElement(m.cancel)?m.cancel:m.cancel&&Ff(m.cancel)?me.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||j,onClick:Ve=>{var lt,yt;Ff(m.cancel)&&gt&&((yt=(lt=m.cancel).onClick)==null||yt.call(lt,Ve),In())},className:ja(F==null?void 0:F.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,x.isValidElement(m.action)?m.action:m.action&&Ff(m.action)?me.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||I,onClick:Ve=>{var lt,yt;Ff(m.action)&&((yt=(lt=m.action).onClick)==null||yt.call(lt,Ve),!Ve.defaultPrevented&&In())},className:ja(F==null?void 0:F.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function __(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function rD(e,t){let r={};return[e,t].forEach((n,a)=>{let s=a===1,i=s?"--mobile-offset":"--offset",o=s?J3:K3;function l(u){["top","right","bottom","left"].forEach(d=>{r[`${i}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?l(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${i}-${u}`]=o:r[`${i}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):l(o)}),r}var nD=x.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:l,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:m,visibleToasts:v=q3,toastOptions:p,dir:g=__(),gap:y=Y3,loadingIcon:_,icons:w,containerAriaLabel:E="Notifications",pauseWhenPageIsHidden:T}=e,[b,S]=me.useState([]),C=me.useMemo(()=>Array.from(new Set([n].concat(b.filter(k=>k.position).map(k=>k.position)))),[b,n]),[A,j]=me.useState([]),[I,N]=me.useState(!1),[W,M]=me.useState(!1),[X,z]=me.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),V=me.useRef(null),Y=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=me.useRef(null),ne=me.useRef(!1),ee=me.useCallback(k=>{S(G=>{var L;return(L=G.find(D=>D.id===k.id))!=null&&L.delete||wn.dismiss(k.id),G.filter(({id:D})=>D!==k.id)})},[]);return me.useEffect(()=>wn.subscribe(k=>{if(k.dismiss){S(G=>G.map(L=>L.id===k.id?{...L,delete:!0}:L));return}setTimeout(()=>{_T.flushSync(()=>{S(G=>{let L=G.findIndex(D=>D.id===k.id);return L!==-1?[...G.slice(0,L),{...G[L],...k},...G.slice(L+1)]:[k,...G]})})})}),[]),me.useEffect(()=>{if(d!=="system"){z(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?z("dark"):z("light")),typeof window>"u")return;let k=window.matchMedia("(prefers-color-scheme: dark)");try{k.addEventListener("change",({matches:G})=>{z(G?"dark":"light")})}catch{k.addListener(({matches:L})=>{try{z(L?"dark":"light")}catch(D){console.error(D)}})}},[d]),me.useEffect(()=>{b.length<=1&&N(!1)},[b]),me.useEffect(()=>{let k=G=>{var L,D;a.every(O=>G[O]||G.code===O)&&(N(!0),(L=V.current)==null||L.focus()),G.code==="Escape"&&(document.activeElement===V.current||(D=V.current)!=null&&D.contains(document.activeElement))&&N(!1)};return document.addEventListener("keydown",k),()=>document.removeEventListener("keydown",k)},[a]),me.useEffect(()=>{if(V.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,ne.current=!1)}},[V.current]),me.createElement("section",{ref:t,"aria-label":`${E} ${Y}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((k,G)=>{var L;let[D,O]=k.split("-");return b.length?me.createElement("ol",{key:k,dir:g==="auto"?__():g,tabIndex:-1,ref:V,className:o,"data-sonner-toaster":!0,"data-theme":X,"data-y-position":D,"data-lifted":I&&b.length>1&&!s,"data-x-position":O,style:{"--front-toast-height":`${((L=A[0])==null?void 0:L.height)||0}px`,"--width":`${X3}px`,"--gap":`${y}px`,...m,...rD(l,u)},onBlur:P=>{ne.current&&!P.currentTarget.contains(P.relatedTarget)&&(ne.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:P=>{P.target instanceof HTMLElement&&P.target.dataset.dismissible==="false"||ne.current||(ne.current=!0,F.current=P.relatedTarget)},onMouseEnter:()=>N(!0),onMouseMove:()=>N(!0),onMouseLeave:()=>{W||N(!1)},onDragEnd:()=>N(!1),onPointerDown:P=>{P.target instanceof HTMLElement&&P.target.dataset.dismissible==="false"||M(!0)},onPointerUp:()=>M(!1)},b.filter(P=>!P.position&&G===0||P.position===k).map((P,Q)=>{var Z,re;return me.createElement(tD,{key:P.id,icons:w,index:Q,toast:P,defaultRichColors:f,duration:(Z=p==null?void 0:p.duration)!=null?Z:h,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:r,visibleToasts:v,closeButton:(re=p==null?void 0:p.closeButton)!=null?re:i,interacting:W,position:k,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:ee,toasts:b.filter(ce=>ce.position==P.position),heights:A.filter(ce=>ce.position==P.position),setHeights:j,expandByDefault:s,gap:y,loadingIcon:_,expanded:I,pauseWhenPageIsHidden:T,swipeDirections:e.swipeDirections})})):null}))});const aD=({...e})=>{const{theme:t="system"}=N3();return c.jsx(nD,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var sD=gx[" useId ".trim().toString()]||(()=>{}),iD=0;function Cr(e){const[t,r]=x.useState(sD());return mr(()=>{e||r(n=>n??String(iD++))},[e]),e||(t?`radix-${t}`:"")}const oD=["top","right","bottom","left"],Xi=Math.min,Dn=Math.max,Xh=Math.round,Df=Math.floor,vs=e=>({x:e,y:e}),cD={left:"right",right:"left",bottom:"top",top:"bottom"},lD={start:"end",end:"start"};function lv(e,t,r){return Dn(e,Xi(t,r))}function Xs(e,t){return typeof e=="function"?e(t):e}function Ys(e){return e.split("-")[0]}function Jl(e){return e.split("-")[1]}function h1(e){return e==="x"?"y":"x"}function m1(e){return e==="y"?"height":"width"}const uD=new Set(["top","bottom"]);function ms(e){return uD.has(Ys(e))?"y":"x"}function p1(e){return h1(ms(e))}function dD(e,t,r){r===void 0&&(r=!1);const n=Jl(e),a=p1(e),s=m1(a);let i=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(i=Yh(i)),[i,Yh(i)]}function fD(e){const t=Yh(e);return[uv(e),t,uv(t)]}function uv(e){return e.replace(/start|end/g,t=>lD[t])}const E_=["left","right"],S_=["right","left"],hD=["top","bottom"],mD=["bottom","top"];function pD(e,t,r){switch(e){case"top":case"bottom":return r?t?S_:E_:t?E_:S_;case"left":case"right":return t?hD:mD;default:return[]}}function gD(e,t,r,n){const a=Jl(e);let s=pD(Ys(e),r==="start",n);return a&&(s=s.map(i=>i+"-"+a),t&&(s=s.concat(s.map(uv)))),s}function Yh(e){return e.replace(/left|right|bottom|top/g,t=>cD[t])}function vD(e){return{top:0,right:0,bottom:0,left:0,...e}}function fC(e){return typeof e!="number"?vD(e):{top:e,right:e,bottom:e,left:e}}function Qh(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function b_(e,t,r){let{reference:n,floating:a}=e;const s=ms(t),i=p1(t),o=m1(i),l=Ys(t),u=s==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[o]/2-a[o]/2;let m;switch(l){case"top":m={x:d,y:n.y-a.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-a.width,y:f};break;default:m={x:n.x,y:n.y}}switch(Jl(t)){case"start":m[i]-=h*(r&&u?-1:1);break;case"end":m[i]+=h*(r&&u?-1:1);break}return m}const xD=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:s=[],platform:i}=r,o=s.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=b_(u,n,l),h=n,m={},v=0;for(let p=0;p<o.length;p++){const{name:g,fn:y}=o[p],{x:_,y:w,data:E,reset:T}=await y({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:m,rects:u,platform:i,elements:{reference:e,floating:t}});d=_??d,f=w??f,m={...m,[g]:{...m[g],...E}},T&&v<=50&&(v++,typeof T=="object"&&(T.placement&&(h=T.placement),T.rects&&(u=T.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:a}):T.rects),{x:d,y:f}=b_(u,h,l)),p=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:m}};async function bd(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:s,rects:i,elements:o,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Xs(t,e),v=fC(m),g=o[h?f==="floating"?"reference":"floating":f],y=Qh(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(g)))==null||r?g:g.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:l})),_=f==="floating"?{x:n,y:a,width:i.floating.width,height:i.floating.height}:i.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),E=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},T=Qh(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:_,offsetParent:w,strategy:l}):_);return{top:(y.top-T.top+v.top)/E.y,bottom:(T.bottom-y.bottom+v.bottom)/E.y,left:(y.left-T.left+v.left)/E.x,right:(T.right-y.right+v.right)/E.x}}const yD=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:s,platform:i,elements:o,middlewareData:l}=t,{element:u,padding:d=0}=Xs(e,t)||{};if(u==null)return{};const f=fC(d),h={x:r,y:n},m=p1(a),v=m1(m),p=await i.getDimensions(u),g=m==="y",y=g?"top":"left",_=g?"bottom":"right",w=g?"clientHeight":"clientWidth",E=s.reference[v]+s.reference[m]-h[m]-s.floating[v],T=h[m]-s.reference[m],b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let S=b?b[w]:0;(!S||!await(i.isElement==null?void 0:i.isElement(b)))&&(S=o.floating[w]||s.floating[v]);const C=E/2-T/2,A=S/2-p[v]/2-1,j=Xi(f[y],A),I=Xi(f[_],A),N=j,W=S-p[v]-I,M=S/2-p[v]/2+C,X=lv(N,M,W),z=!l.arrow&&Jl(a)!=null&&M!==X&&s.reference[v]/2-(M<N?j:I)-p[v]/2<0,V=z?M<N?M-N:M-W:0;return{[m]:h[m]+V,data:{[m]:X,centerOffset:M-X-V,...z&&{alignmentOffset:V}},reset:z}}}),wD=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:s,rects:i,initialPlacement:o,platform:l,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:p=!0,...g}=Xs(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const y=Ys(a),_=ms(o),w=Ys(o)===o,E=await(l.isRTL==null?void 0:l.isRTL(u.floating)),T=h||(w||!p?[Yh(o)]:fD(o)),b=v!=="none";!h&&b&&T.push(...gD(o,p,v,E));const S=[o,...T],C=await bd(t,g),A=[];let j=((n=s.flip)==null?void 0:n.overflows)||[];if(d&&A.push(C[y]),f){const M=dD(a,i,E);A.push(C[M[0]],C[M[1]])}if(j=[...j,{placement:a,overflows:A}],!A.every(M=>M<=0)){var I,N;const M=(((I=s.flip)==null?void 0:I.index)||0)+1,X=S[M];if(X&&(!(f==="alignment"?_!==ms(X):!1)||j.every(Y=>Y.overflows[0]>0&&ms(Y.placement)===_)))return{data:{index:M,overflows:j},reset:{placement:X}};let z=(N=j.filter(V=>V.overflows[0]<=0).sort((V,Y)=>V.overflows[1]-Y.overflows[1])[0])==null?void 0:N.placement;if(!z)switch(m){case"bestFit":{var W;const V=(W=j.filter(Y=>{if(b){const F=ms(Y.placement);return F===_||F==="y"}return!0}).map(Y=>[Y.placement,Y.overflows.filter(F=>F>0).reduce((F,ne)=>F+ne,0)]).sort((Y,F)=>Y[1]-F[1])[0])==null?void 0:W[0];V&&(z=V);break}case"initialPlacement":z=o;break}if(a!==z)return{reset:{placement:z}}}return{}}}};function T_(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function C_(e){return oD.some(t=>e[t]>=0)}const _D=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=Xs(e,t);switch(n){case"referenceHidden":{const s=await bd(t,{...a,elementContext:"reference"}),i=T_(s,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:C_(i)}}}case"escaped":{const s=await bd(t,{...a,altBoundary:!0}),i=T_(s,r.floating);return{data:{escapedOffsets:i,escaped:C_(i)}}}default:return{}}}}},hC=new Set(["left","top"]);async function ED(e,t){const{placement:r,platform:n,elements:a}=e,s=await(n.isRTL==null?void 0:n.isRTL(a.floating)),i=Ys(r),o=Jl(r),l=ms(r)==="y",u=hC.has(i)?-1:1,d=s&&l?-1:1,f=Xs(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof v=="number"&&(m=o==="end"?v*-1:v),l?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const SD=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:s,placement:i,middlewareData:o}=t,l=await ED(t,e);return i===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:a+l.x,y:s+l.y,data:{...l,placement:i}}}}},bD=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:s=!0,crossAxis:i=!1,limiter:o={fn:g=>{let{x:y,y:_}=g;return{x:y,y:_}}},...l}=Xs(e,t),u={x:r,y:n},d=await bd(t,l),f=ms(Ys(a)),h=h1(f);let m=u[h],v=u[f];if(s){const g=h==="y"?"top":"left",y=h==="y"?"bottom":"right",_=m+d[g],w=m-d[y];m=lv(_,m,w)}if(i){const g=f==="y"?"top":"left",y=f==="y"?"bottom":"right",_=v+d[g],w=v-d[y];v=lv(_,v,w)}const p=o.fn({...t,[h]:m,[f]:v});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[h]:s,[f]:i}}}}}},TD=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:s,middlewareData:i}=t,{offset:o=0,mainAxis:l=!0,crossAxis:u=!0}=Xs(e,t),d={x:r,y:n},f=ms(a),h=h1(f);let m=d[h],v=d[f];const p=Xs(o,t),g=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(l){const w=h==="y"?"height":"width",E=s.reference[h]-s.floating[w]+g.mainAxis,T=s.reference[h]+s.reference[w]-g.mainAxis;m<E?m=E:m>T&&(m=T)}if(u){var y,_;const w=h==="y"?"width":"height",E=hC.has(Ys(a)),T=s.reference[f]-s.floating[w]+(E&&((y=i.offset)==null?void 0:y[f])||0)+(E?0:g.crossAxis),b=s.reference[f]+s.reference[w]+(E?0:((_=i.offset)==null?void 0:_[f])||0)-(E?g.crossAxis:0);v<T?v=T:v>b&&(v=b)}return{[h]:m,[f]:v}}}},CD=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:s,platform:i,elements:o}=t,{apply:l=()=>{},...u}=Xs(e,t),d=await bd(t,u),f=Ys(a),h=Jl(a),m=ms(a)==="y",{width:v,height:p}=s.floating;let g,y;f==="top"||f==="bottom"?(g=f,y=h===(await(i.isRTL==null?void 0:i.isRTL(o.floating))?"start":"end")?"left":"right"):(y=f,g=h==="end"?"top":"bottom");const _=p-d.top-d.bottom,w=v-d.left-d.right,E=Xi(p-d[g],_),T=Xi(v-d[y],w),b=!t.middlewareData.shift;let S=E,C=T;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(C=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(S=_),b&&!h){const j=Dn(d.left,0),I=Dn(d.right,0),N=Dn(d.top,0),W=Dn(d.bottom,0);m?C=v-2*(j!==0||I!==0?j+I:Dn(d.left,d.right)):S=p-2*(N!==0||W!==0?N+W:Dn(d.top,d.bottom))}await l({...t,availableWidth:C,availableHeight:S});const A=await i.getDimensions(o.floating);return v!==A.width||p!==A.height?{reset:{rects:!0}}:{}}}};function G0(){return typeof window<"u"}function Xl(e){return mC(e)?(e.nodeName||"").toLowerCase():"#document"}function Vn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function _s(e){var t;return(t=(mC(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function mC(e){return G0()?e instanceof Node||e instanceof Vn(e).Node:!1}function Ja(e){return G0()?e instanceof Element||e instanceof Vn(e).Element:!1}function xs(e){return G0()?e instanceof HTMLElement||e instanceof Vn(e).HTMLElement:!1}function k_(e){return!G0()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Vn(e).ShadowRoot}const kD=new Set(["inline","contents"]);function Qd(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Xa(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!kD.has(a)}const AD=new Set(["table","td","th"]);function jD(e){return AD.has(Xl(e))}const ND=[":popover-open",":modal"];function q0(e){return ND.some(t=>{try{return e.matches(t)}catch{return!1}})}const ID=["transform","translate","scale","rotate","perspective"],RD=["transform","translate","scale","rotate","perspective","filter"],PD=["paint","layout","strict","content"];function g1(e){const t=v1(),r=Ja(e)?Xa(e):e;return ID.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||RD.some(n=>(r.willChange||"").includes(n))||PD.some(n=>(r.contain||"").includes(n))}function OD(e){let t=Yi(e);for(;xs(t)&&!Dl(t);){if(g1(t))return t;if(q0(t))return null;t=Yi(t)}return null}function v1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const FD=new Set(["html","body","#document"]);function Dl(e){return FD.has(Xl(e))}function Xa(e){return Vn(e).getComputedStyle(e)}function K0(e){return Ja(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Yi(e){if(Xl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||k_(e)&&e.host||_s(e);return k_(t)?t.host:t}function pC(e){const t=Yi(e);return Dl(t)?e.ownerDocument?e.ownerDocument.body:e.body:xs(t)&&Qd(t)?t:pC(t)}function Td(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=pC(e),s=a===((n=e.ownerDocument)==null?void 0:n.body),i=Vn(a);if(s){const o=dv(i);return t.concat(i,i.visualViewport||[],Qd(a)?a:[],o&&r?Td(o):[])}return t.concat(a,Td(a,[],r))}function dv(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function gC(e){const t=Xa(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=xs(e),s=a?e.offsetWidth:r,i=a?e.offsetHeight:n,o=Xh(r)!==s||Xh(n)!==i;return o&&(r=s,n=i),{width:r,height:n,$:o}}function x1(e){return Ja(e)?e:e.contextElement}function ol(e){const t=x1(e);if(!xs(t))return vs(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:s}=gC(t);let i=(s?Xh(r.width):r.width)/n,o=(s?Xh(r.height):r.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!o||!Number.isFinite(o))&&(o=1),{x:i,y:o}}const DD=vs(0);function vC(e){const t=Vn(e);return!v1()||!t.visualViewport?DD:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function MD(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Vn(e)?!1:t}function Yo(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),s=x1(e);let i=vs(1);t&&(n?Ja(n)&&(i=ol(n)):i=ol(e));const o=MD(s,r,n)?vC(s):vs(0);let l=(a.left+o.x)/i.x,u=(a.top+o.y)/i.y,d=a.width/i.x,f=a.height/i.y;if(s){const h=Vn(s),m=n&&Ja(n)?Vn(n):n;let v=h,p=dv(v);for(;p&&n&&m!==v;){const g=ol(p),y=p.getBoundingClientRect(),_=Xa(p),w=y.left+(p.clientLeft+parseFloat(_.paddingLeft))*g.x,E=y.top+(p.clientTop+parseFloat(_.paddingTop))*g.y;l*=g.x,u*=g.y,d*=g.x,f*=g.y,l+=w,u+=E,v=Vn(p),p=dv(v)}}return Qh({width:d,height:f,x:l,y:u})}function y1(e,t){const r=K0(e).scrollLeft;return t?t.left+r:Yo(_s(e)).left+r}function xC(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:y1(e,n)),s=n.top+t.scrollTop;return{x:a,y:s}}function LD(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const s=a==="fixed",i=_s(n),o=t?q0(t.floating):!1;if(n===i||o&&s)return r;let l={scrollLeft:0,scrollTop:0},u=vs(1);const d=vs(0),f=xs(n);if((f||!f&&!s)&&((Xl(n)!=="body"||Qd(i))&&(l=K0(n)),xs(n))){const m=Yo(n);u=ol(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=i&&!f&&!s?xC(i,l,!0):vs(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-l.scrollTop*u.y+d.y+h.y}}function UD(e){return Array.from(e.getClientRects())}function BD(e){const t=_s(e),r=K0(e),n=e.ownerDocument.body,a=Dn(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=Dn(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+y1(e);const o=-r.scrollTop;return Xa(n).direction==="rtl"&&(i+=Dn(t.clientWidth,n.clientWidth)-a),{width:a,height:s,x:i,y:o}}function $D(e,t){const r=Vn(e),n=_s(e),a=r.visualViewport;let s=n.clientWidth,i=n.clientHeight,o=0,l=0;if(a){s=a.width,i=a.height;const u=v1();(!u||u&&t==="fixed")&&(o=a.offsetLeft,l=a.offsetTop)}return{width:s,height:i,x:o,y:l}}const zD=new Set(["absolute","fixed"]);function VD(e,t){const r=Yo(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,s=xs(e)?ol(e):vs(1),i=e.clientWidth*s.x,o=e.clientHeight*s.y,l=a*s.x,u=n*s.y;return{width:i,height:o,x:l,y:u}}function A_(e,t,r){let n;if(t==="viewport")n=$D(e,r);else if(t==="document")n=BD(_s(e));else if(Ja(t))n=VD(t,r);else{const a=vC(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Qh(n)}function yC(e,t){const r=Yi(e);return r===t||!Ja(r)||Dl(r)?!1:Xa(r).position==="fixed"||yC(r,t)}function WD(e,t){const r=t.get(e);if(r)return r;let n=Td(e,[],!1).filter(o=>Ja(o)&&Xl(o)!=="body"),a=null;const s=Xa(e).position==="fixed";let i=s?Yi(e):e;for(;Ja(i)&&!Dl(i);){const o=Xa(i),l=g1(i);!l&&o.position==="fixed"&&(a=null),(s?!l&&!a:!l&&o.position==="static"&&!!a&&zD.has(a.position)||Qd(i)&&!l&&yC(e,i))?n=n.filter(d=>d!==i):a=o,i=Yi(i)}return t.set(e,n),n}function HD(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const i=[...r==="clippingAncestors"?q0(t)?[]:WD(t,this._c):[].concat(r),n],o=i[0],l=i.reduce((u,d)=>{const f=A_(t,d,a);return u.top=Dn(f.top,u.top),u.right=Xi(f.right,u.right),u.bottom=Xi(f.bottom,u.bottom),u.left=Dn(f.left,u.left),u},A_(t,o,a));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function GD(e){const{width:t,height:r}=gC(e);return{width:t,height:r}}function qD(e,t,r){const n=xs(t),a=_s(t),s=r==="fixed",i=Yo(e,!0,s,t);let o={scrollLeft:0,scrollTop:0};const l=vs(0);function u(){l.x=y1(a)}if(n||!n&&!s)if((Xl(t)!=="body"||Qd(a))&&(o=K0(t)),n){const m=Yo(t,!0,s,t);l.x=m.x+t.clientLeft,l.y=m.y+t.clientTop}else a&&u();s&&!n&&a&&u();const d=a&&!n&&!s?xC(a,o):vs(0),f=i.left+o.scrollLeft-l.x-d.x,h=i.top+o.scrollTop-l.y-d.y;return{x:f,y:h,width:i.width,height:i.height}}function cp(e){return Xa(e).position==="static"}function j_(e,t){if(!xs(e)||Xa(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return _s(e)===r&&(r=r.ownerDocument.body),r}function wC(e,t){const r=Vn(e);if(q0(e))return r;if(!xs(e)){let a=Yi(e);for(;a&&!Dl(a);){if(Ja(a)&&!cp(a))return a;a=Yi(a)}return r}let n=j_(e,t);for(;n&&jD(n)&&cp(n);)n=j_(n,t);return n&&Dl(n)&&cp(n)&&!g1(n)?r:n||OD(e)||r}const KD=async function(e){const t=this.getOffsetParent||wC,r=this.getDimensions,n=await r(e.floating);return{reference:qD(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function JD(e){return Xa(e).direction==="rtl"}const XD={convertOffsetParentRelativeRectToViewportRelativeRect:LD,getDocumentElement:_s,getClippingRect:HD,getOffsetParent:wC,getElementRects:KD,getClientRects:UD,getDimensions:GD,getScale:ol,isElement:Ja,isRTL:JD};function _C(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function YD(e,t){let r=null,n;const a=_s(e);function s(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function i(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),s();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(o||t(),!h||!m)return;const v=Df(f),p=Df(a.clientWidth-(d+h)),g=Df(a.clientHeight-(f+m)),y=Df(d),w={rootMargin:-v+"px "+-p+"px "+-g+"px "+-y+"px",threshold:Dn(0,Xi(1,l))||1};let E=!0;function T(b){const S=b[0].intersectionRatio;if(S!==l){if(!E)return i();S?i(!1,S):n=setTimeout(()=>{i(!1,1e-7)},1e3)}S===1&&!_C(u,e.getBoundingClientRect())&&i(),E=!1}try{r=new IntersectionObserver(T,{...w,root:a.ownerDocument})}catch{r=new IntersectionObserver(T,w)}r.observe(e)}return i(!0),s}function QD(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=x1(e),d=a||s?[...u?Td(u):[],...Td(t)]:[];d.forEach(y=>{a&&y.addEventListener("scroll",r,{passive:!0}),s&&y.addEventListener("resize",r)});const f=u&&o?YD(u,r):null;let h=-1,m=null;i&&(m=new ResizeObserver(y=>{let[_]=y;_&&_.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),r()}),u&&!l&&m.observe(u),m.observe(t));let v,p=l?Yo(e):null;l&&g();function g(){const y=Yo(e);p&&!_C(p,y)&&r(),p=y,v=requestAnimationFrame(g)}return r(),()=>{var y;d.forEach(_=>{a&&_.removeEventListener("scroll",r),s&&_.removeEventListener("resize",r)}),f==null||f(),(y=m)==null||y.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const ZD=SD,eM=bD,tM=wD,rM=CD,nM=_D,N_=yD,aM=TD,sM=(e,t,r)=>{const n=new Map,a={platform:XD,...r},s={...a.platform,_c:n};return xD(e,t,{...a,platform:s})};var iM=typeof document<"u",oM=function(){},wh=iM?x.useLayoutEffect:oM;function Zh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Zh(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const s=a[n];if(!(s==="_owner"&&e.$$typeof)&&!Zh(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function EC(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function I_(e,t){const r=EC(e);return Math.round(t*r)/r}function lp(e){const t=x.useRef(e);return wh(()=>{t.current=e}),t}function cM(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:s,floating:i}={},transform:o=!0,whileElementsMounted:l,open:u}=e,[d,f]=x.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=x.useState(n);Zh(h,n)||m(n);const[v,p]=x.useState(null),[g,y]=x.useState(null),_=x.useCallback(Y=>{Y!==b.current&&(b.current=Y,p(Y))},[]),w=x.useCallback(Y=>{Y!==S.current&&(S.current=Y,y(Y))},[]),E=s||v,T=i||g,b=x.useRef(null),S=x.useRef(null),C=x.useRef(d),A=l!=null,j=lp(l),I=lp(a),N=lp(u),W=x.useCallback(()=>{if(!b.current||!S.current)return;const Y={placement:t,strategy:r,middleware:h};I.current&&(Y.platform=I.current),sM(b.current,S.current,Y).then(F=>{const ne={...F,isPositioned:N.current!==!1};M.current&&!Zh(C.current,ne)&&(C.current=ne,uc.flushSync(()=>{f(ne)}))})},[h,t,r,I,N]);wh(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(Y=>({...Y,isPositioned:!1})))},[u]);const M=x.useRef(!1);wh(()=>(M.current=!0,()=>{M.current=!1}),[]),wh(()=>{if(E&&(b.current=E),T&&(S.current=T),E&&T){if(j.current)return j.current(E,T,W);W()}},[E,T,W,j,A]);const X=x.useMemo(()=>({reference:b,floating:S,setReference:_,setFloating:w}),[_,w]),z=x.useMemo(()=>({reference:E,floating:T}),[E,T]),V=x.useMemo(()=>{const Y={position:r,left:0,top:0};if(!z.floating)return Y;const F=I_(z.floating,d.x),ne=I_(z.floating,d.y);return o?{...Y,transform:"translate("+F+"px, "+ne+"px)",...EC(z.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:F,top:ne}},[r,o,z.floating,d.x,d.y]);return x.useMemo(()=>({...d,update:W,refs:X,elements:z,floatingStyles:V}),[d,W,X,z,V])}const lM=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?N_({element:n.current,padding:a}).fn(r):{}:n?N_({element:n,padding:a}).fn(r):{}}}},uM=(e,t)=>({...ZD(e),options:[e,t]}),dM=(e,t)=>({...eM(e),options:[e,t]}),fM=(e,t)=>({...aM(e),options:[e,t]}),hM=(e,t)=>({...tM(e),options:[e,t]}),mM=(e,t)=>({...rM(e),options:[e,t]}),pM=(e,t)=>({...nM(e),options:[e,t]}),gM=(e,t)=>({...lM(e),options:[e,t]});var vM="Arrow",SC=x.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...s}=e;return c.jsx(Pe.svg,{...s,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});SC.displayName=vM;var xM=SC;function w1(e){const[t,r]=x.useState(void 0);return mr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const s=a[0];let i,o;if("borderBoxSize"in s){const l=s.borderBoxSize,u=Array.isArray(l)?l[0]:l;i=u.inlineSize,o=u.blockSize}else i=e.offsetWidth,o=e.offsetHeight;r({width:i,height:o})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var _1="Popper",[bC,Yl]=Vr(_1),[yM,TC]=bC(_1),CC=e=>{const{__scopePopper:t,children:r}=e,[n,a]=x.useState(null);return c.jsx(yM,{scope:t,anchor:n,onAnchorChange:a,children:r})};CC.displayName=_1;var kC="PopperAnchor",AC=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,s=TC(kC,r),i=x.useRef(null),o=Ke(t,i);return x.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:c.jsx(Pe.div,{...a,ref:o})});AC.displayName=kC;var E1="PopperContent",[wM,_M]=bC(E1),jC=x.forwardRef((e,t)=>{var P,Q,Z,re,ce,U;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:s="center",alignOffset:i=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:v,...p}=e,g=TC(E1,r),[y,_]=x.useState(null),w=Ke(t,we=>_(we)),[E,T]=x.useState(null),b=w1(E),S=(b==null?void 0:b.width)??0,C=(b==null?void 0:b.height)??0,A=n+(s!=="center"?"-"+s:""),j=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},I=Array.isArray(u)?u:[u],N=I.length>0,W={padding:j,boundary:I.filter(SM),altBoundary:N},{refs:M,floatingStyles:X,placement:z,isPositioned:V,middlewareData:Y}=cM({strategy:"fixed",placement:A,whileElementsMounted:(...we)=>QD(...we,{animationFrame:m==="always"}),elements:{reference:g.anchor},middleware:[uM({mainAxis:a+C,alignmentAxis:i}),l&&dM({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?fM():void 0,...W}),l&&hM({...W}),mM({...W,apply:({elements:we,rects:Ne,availableWidth:$e,availableHeight:Me})=>{const{width:pe,height:et}=Ne.reference,Pt=we.floating.style;Pt.setProperty("--radix-popper-available-width",`${$e}px`),Pt.setProperty("--radix-popper-available-height",`${Me}px`),Pt.setProperty("--radix-popper-anchor-width",`${pe}px`),Pt.setProperty("--radix-popper-anchor-height",`${et}px`)}}),E&&gM({element:E,padding:o}),bM({arrowWidth:S,arrowHeight:C}),h&&pM({strategy:"referenceHidden",...W})]}),[F,ne]=RC(z),ee=lr(v);mr(()=>{V&&(ee==null||ee())},[V,ee]);const k=(P=Y.arrow)==null?void 0:P.x,G=(Q=Y.arrow)==null?void 0:Q.y,L=((Z=Y.arrow)==null?void 0:Z.centerOffset)!==0,[D,O]=x.useState();return mr(()=>{y&&O(window.getComputedStyle(y).zIndex)},[y]),c.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:V?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:D,"--radix-popper-transform-origin":[(re=Y.transformOrigin)==null?void 0:re.x,(ce=Y.transformOrigin)==null?void 0:ce.y].join(" "),...((U=Y.hide)==null?void 0:U.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:c.jsx(wM,{scope:r,placedSide:F,onArrowChange:T,arrowX:k,arrowY:G,shouldHideArrow:L,children:c.jsx(Pe.div,{"data-side":F,"data-align":ne,...p,ref:w,style:{...p.style,animation:V?void 0:"none"}})})})});jC.displayName=E1;var NC="PopperArrow",EM={top:"bottom",right:"left",bottom:"top",left:"right"},IC=x.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,s=_M(NC,n),i=EM[s.placedSide];return c.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:c.jsx(xM,{...a,ref:r,style:{...a.style,display:"block"}})})});IC.displayName=NC;function SM(e){return e!==null}var bM=e=>({name:"transformOrigin",options:e,fn(t){var g,y,_;const{placement:r,rects:n,middlewareData:a}=t,i=((g=a.arrow)==null?void 0:g.centerOffset)!==0,o=i?0:e.arrowWidth,l=i?0:e.arrowHeight,[u,d]=RC(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((y=a.arrow)==null?void 0:y.x)??0)+o/2,m=(((_=a.arrow)==null?void 0:_.y)??0)+l/2;let v="",p="";return u==="bottom"?(v=i?f:`${h}px`,p=`${-l}px`):u==="top"?(v=i?f:`${h}px`,p=`${n.floating.height+l}px`):u==="right"?(v=`${-l}px`,p=i?f:`${m}px`):u==="left"&&(v=`${n.floating.width+l}px`,p=i?f:`${m}px`),{data:{x:v,y:p}}}});function RC(e){const[t,r="center"]=e.split("-");return[t,r]}var PC=CC,J0=AC,S1=jC,b1=IC,[X0,_Q]=Vr("Tooltip",[Yl]),T1=Yl(),OC="TooltipProvider",TM=700,R_="tooltip.open",[CM,FC]=X0(OC),DC=e=>{const{__scopeTooltip:t,delayDuration:r=TM,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:s}=e,i=x.useRef(!0),o=x.useRef(!1),l=x.useRef(0);return x.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),c.jsx(CM,{scope:t,isOpenDelayedRef:i,delayDuration:r,onOpen:x.useCallback(()=>{window.clearTimeout(l.current),i.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.current=!0,n)},[n]),isPointerInTransitRef:o,onPointerInTransitChange:x.useCallback(u=>{o.current=u},[]),disableHoverableContent:a,children:s})};DC.displayName=OC;var MC="Tooltip",[EQ,Y0]=X0(MC),fv="TooltipTrigger",kM=x.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=Y0(fv,r),s=FC(fv,r),i=T1(r),o=x.useRef(null),l=Ke(t,o,a.onTriggerChange),u=x.useRef(!1),d=x.useRef(!1),f=x.useCallback(()=>u.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),c.jsx(J0,{asChild:!0,...i,children:c.jsx(Pe.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:l,onPointerMove:Ie(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:Ie(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:Ie(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ie(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:Ie(e.onBlur,a.onClose),onClick:Ie(e.onClick,a.onClose)})})});kM.displayName=fv;var AM="TooltipPortal",[SQ,jM]=X0(AM,{forceMount:void 0}),Ml="TooltipContent",LC=x.forwardRef((e,t)=>{const r=jM(Ml,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...s}=e,i=Y0(Ml,e.__scopeTooltip);return c.jsx(fn,{present:n||i.open,children:i.disableHoverableContent?c.jsx(UC,{side:a,...s,ref:t}):c.jsx(NM,{side:a,...s,ref:t})})}),NM=x.forwardRef((e,t)=>{const r=Y0(Ml,e.__scopeTooltip),n=FC(Ml,e.__scopeTooltip),a=x.useRef(null),s=Ke(t,a),[i,o]=x.useState(null),{trigger:l,onClose:u}=r,d=a.current,{onPointerInTransitChange:f}=n,h=x.useCallback(()=>{o(null),f(!1)},[f]),m=x.useCallback((v,p)=>{const g=v.currentTarget,y={x:v.clientX,y:v.clientY},_=FM(y,g.getBoundingClientRect()),w=DM(y,_),E=MM(p.getBoundingClientRect()),T=UM([...w,...E]);o(T),f(!0)},[f]);return x.useEffect(()=>()=>h(),[h]),x.useEffect(()=>{if(l&&d){const v=g=>m(g,d),p=g=>m(g,l);return l.addEventListener("pointerleave",v),d.addEventListener("pointerleave",p),()=>{l.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",p)}}},[l,d,m,h]),x.useEffect(()=>{if(i){const v=p=>{const g=p.target,y={x:p.clientX,y:p.clientY},_=(l==null?void 0:l.contains(g))||(d==null?void 0:d.contains(g)),w=!LM(y,i);_?h():w&&(h(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,d,i,u,h]),c.jsx(UC,{...e,ref:s})}),[IM,RM]=X0(MC,{isInside:!1}),PM=bT("TooltipContent"),UC=x.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:s,onPointerDownOutside:i,...o}=e,l=Y0(Ml,r),u=T1(r),{onClose:d}=l;return x.useEffect(()=>(document.addEventListener(R_,d),()=>document.removeEventListener(R_,d)),[d]),x.useEffect(()=>{if(l.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),c.jsx(ql,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:c.jsxs(S1,{"data-state":l.stateAttribute,...u,...o,ref:t,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(PM,{children:n}),c.jsx(IM,{scope:r,isInside:!0,children:c.jsx(yF,{id:l.contentId,role:"tooltip",children:a||n})})]})})});LC.displayName=Ml;var BC="TooltipArrow",OM=x.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=T1(r);return RM(BC,r).isInside?null:c.jsx(b1,{...a,...n,ref:t})});OM.displayName=BC;function FM(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(r,n,a,s)){case s:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function DM(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function MM(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function LM(e,t){const{x:r,y:n}=e;let a=!1;for(let s=0,i=t.length-1;s<t.length;i=s++){const o=t[s],l=t[i],u=o.x,d=o.y,f=l.x,h=l.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function UM(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),BM(t)}function BM(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const s=t[t.length-1],i=t[t.length-2];if((s.x-i.x)*(a.y-i.y)>=(s.y-i.y)*(a.x-i.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const s=r[r.length-1],i=r[r.length-2];if((s.x-i.x)*(a.y-i.y)>=(s.y-i.y)*(a.x-i.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var $M=DC,$C=LC;const zM=$M,VM=x.forwardRef(({className:e,sideOffset:t=4,...r},n)=>c.jsx($C,{ref:n,sideOffset:t,className:Te("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));VM.displayName=$C.displayName;var Ql=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Qo=typeof window>"u"||"Deno"in globalThis;function tn(){}function WM(e,t){return typeof e=="function"?e(t):e}function hv(e){return typeof e=="number"&&e>=0&&e!==1/0}function zC(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Wi(e,t){return typeof e=="function"?e(t):e}function da(e,t){return typeof e=="function"?e(t):e}function P_(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:s,queryKey:i,stale:o}=e;if(i){if(n){if(t.queryHash!==C1(i,t.options))return!1}else if(!Cd(t.queryKey,i))return!1}if(r!=="all"){const l=t.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||a&&a!==t.state.fetchStatus||s&&!s(t))}function O_(e,t){const{exact:r,status:n,predicate:a,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(Zo(t.options.mutationKey)!==Zo(s))return!1}else if(!Cd(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function C1(e,t){return((t==null?void 0:t.queryKeyHashFn)||Zo)(e)}function Zo(e){return JSON.stringify(e,(t,r)=>mv(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Cd(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Cd(e[r],t[r])):!1}function VC(e,t){if(e===t)return e;const r=F_(e)&&F_(t);if(r||mv(e)&&mv(t)){const n=r?e:Object.keys(e),a=n.length,s=r?t:Object.keys(t),i=s.length,o=r?[]:{},l=new Set(n);let u=0;for(let d=0;d<i;d++){const f=r?d:s[d];(!r&&l.has(f)||r)&&e[f]===void 0&&t[f]===void 0?(o[f]=void 0,u++):(o[f]=VC(e[f],t[f]),o[f]===e[f]&&e[f]!==void 0&&u++)}return a===i&&u===a?e:o}return t}function e0(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function F_(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function mv(e){if(!D_(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!D_(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function D_(e){return Object.prototype.toString.call(e)==="[object Object]"}function HM(e){return new Promise(t=>{setTimeout(t,e)})}function pv(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?VC(e,t):t}function GM(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function qM(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var k1=Symbol();function WC(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===k1?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function HC(e,t){return typeof e=="function"?e(...t):!!e}var Io,_i,gl,YS,KM=(YS=class extends Ql{constructor(){super();De(this,Io);De(this,_i);De(this,gl);Ae(this,gl,t=>{if(!Qo&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){te(this,_i)||this.setEventListener(te(this,gl))}onUnsubscribe(){var t;this.hasListeners()||((t=te(this,_i))==null||t.call(this),Ae(this,_i,void 0))}setEventListener(t){var r;Ae(this,gl,t),(r=te(this,_i))==null||r.call(this),Ae(this,_i,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){te(this,Io)!==t&&(Ae(this,Io,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof te(this,Io)=="boolean"?te(this,Io):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Io=new WeakMap,_i=new WeakMap,gl=new WeakMap,YS),A1=new KM,vl,Ei,xl,QS,JM=(QS=class extends Ql{constructor(){super();De(this,vl,!0);De(this,Ei);De(this,xl);Ae(this,xl,t=>{if(!Qo&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){te(this,Ei)||this.setEventListener(te(this,xl))}onUnsubscribe(){var t;this.hasListeners()||((t=te(this,Ei))==null||t.call(this),Ae(this,Ei,void 0))}setEventListener(t){var r;Ae(this,xl,t),(r=te(this,Ei))==null||r.call(this),Ae(this,Ei,t(this.setOnline.bind(this)))}setOnline(t){te(this,vl)!==t&&(Ae(this,vl,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return te(this,vl)}},vl=new WeakMap,Ei=new WeakMap,xl=new WeakMap,QS),t0=new JM;function gv(){let e,t;const r=new Promise((a,s)=>{e=a,t=s});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function XM(e){return Math.min(1e3*2**e,3e4)}function GC(e){return(e??"online")==="online"?t0.isOnline():!0}var qC=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function up(e){return e instanceof qC}function KC(e){let t=!1,r=0,n=!1,a;const s=gv(),i=p=>{var g;n||(h(new qC(p)),(g=e.abort)==null||g.call(e))},o=()=>{t=!0},l=()=>{t=!1},u=()=>A1.isFocused()&&(e.networkMode==="always"||t0.isOnline())&&e.canRun(),d=()=>GC(e.networkMode)&&e.canRun(),f=p=>{var g;n||(n=!0,(g=e.onSuccess)==null||g.call(e,p),a==null||a(),s.resolve(p))},h=p=>{var g;n||(n=!0,(g=e.onError)==null||g.call(e,p),a==null||a(),s.reject(p))},m=()=>new Promise(p=>{var g;a=y=>{(n||u())&&p(y)},(g=e.onPause)==null||g.call(e)}).then(()=>{var p;a=void 0,n||(p=e.onContinue)==null||p.call(e)}),v=()=>{if(n)return;let p;const g=r===0?e.initialPromise:void 0;try{p=g??e.fn()}catch(y){p=Promise.reject(y)}Promise.resolve(p).then(f).catch(y=>{var b;if(n)return;const _=e.retry??(Qo?0:3),w=e.retryDelay??XM,E=typeof w=="function"?w(r,y):w,T=_===!0||typeof _=="number"&&r<_||typeof _=="function"&&_(r,y);if(t||!T){h(y);return}r++,(b=e.onFail)==null||b.call(e,r,y),HM(E).then(()=>u()?void 0:m()).then(()=>{t?h(y):v()})})};return{promise:s,cancel:i,continue:()=>(a==null||a(),s),cancelRetry:o,continueRetry:l,canStart:d,start:()=>(d()?v():m().then(v),s)}}var YM=e=>setTimeout(e,0);function QM(){let e=[],t=0,r=o=>{o()},n=o=>{o()},a=YM;const s=o=>{t?e.push(o):a(()=>{r(o)})},i=()=>{const o=e;e=[],o.length&&a(()=>{n(()=>{o.forEach(l=>{r(l)})})})};return{batch:o=>{let l;t++;try{l=o()}finally{t--,t||i()}return l},batchCalls:o=>(...l)=>{s(()=>{o(...l)})},schedule:s,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{a=o}}}var cr=QM(),Ro,ZS,JC=(ZS=class{constructor(){De(this,Ro)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),hv(this.gcTime)&&Ae(this,Ro,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Qo?1/0:5*60*1e3))}clearGcTimeout(){te(this,Ro)&&(clearTimeout(te(this,Ro)),Ae(this,Ro,void 0))}},Ro=new WeakMap,ZS),yl,Po,ua,Oo,Fr,$d,Fo,Da,Rs,eb,ZM=(eb=class extends JC{constructor(t){super();De(this,Da);De(this,yl);De(this,Po);De(this,ua);De(this,Oo);De(this,Fr);De(this,$d);De(this,Fo);Ae(this,Fo,!1),Ae(this,$d,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ae(this,Oo,t.client),Ae(this,ua,te(this,Oo).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ae(this,yl,eL(this.options)),this.state=t.state??te(this,yl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=te(this,Fr))==null?void 0:t.promise}setOptions(t){this.options={...te(this,$d),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&te(this,ua).remove(this)}setData(t,r){const n=pv(this.state.data,t,this.options);return Xe(this,Da,Rs).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Xe(this,Da,Rs).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=te(this,Fr))==null?void 0:n.promise;return(a=te(this,Fr))==null||a.cancel(t),r?r.then(tn).catch(tn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(te(this,yl))}isActive(){return this.observers.some(t=>da(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===k1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Wi(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!zC(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=te(this,Fr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=te(this,Fr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),te(this,ua).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(te(this,Fr)&&(te(this,Fo)?te(this,Fr).cancel({revert:!0}):te(this,Fr).cancelRetry()),this.scheduleGc()),te(this,ua).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Xe(this,Da,Rs).call(this,{type:"invalidate"})}fetch(t,r){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(te(this,Fr))return te(this,Fr).continueRetry(),te(this,Fr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(Ae(this,Fo,!0),n.signal)})},s=()=>{const h=WC(this.options,r),v=(()=>{const p={client:te(this,Oo),queryKey:this.queryKey,meta:this.meta};return a(p),p})();return Ae(this,Fo,!1),this.options.persister?this.options.persister(h,v,this):h(v)},o=(()=>{const h={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:te(this,Oo),state:this.state,fetchFn:s};return a(h),h})();(u=this.options.behavior)==null||u.onFetch(o,this),Ae(this,Po,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&Xe(this,Da,Rs).call(this,{type:"fetch",meta:(f=o.fetchOptions)==null?void 0:f.meta});const l=h=>{var m,v,p,g;up(h)&&h.silent||Xe(this,Da,Rs).call(this,{type:"error",error:h}),up(h)||((v=(m=te(this,ua).config).onError)==null||v.call(m,h,this),(g=(p=te(this,ua).config).onSettled)==null||g.call(p,this.state.data,h,this)),this.scheduleGc()};return Ae(this,Fr,KC({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var m,v,p,g;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(y){l(y);return}(v=(m=te(this,ua).config).onSuccess)==null||v.call(m,h,this),(g=(p=te(this,ua).config).onSettled)==null||g.call(p,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,m)=>{Xe(this,Da,Rs).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{Xe(this,Da,Rs).call(this,{type:"pause"})},onContinue:()=>{Xe(this,Da,Rs).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),te(this,Fr).start()}},yl=new WeakMap,Po=new WeakMap,ua=new WeakMap,Oo=new WeakMap,Fr=new WeakMap,$d=new WeakMap,Fo=new WeakMap,Da=new WeakSet,Rs=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...XC(n.data,this.options),fetchMeta:t.meta??null};case"success":return Ae(this,Po,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return up(a)&&a.revert&&te(this,Po)?{...te(this,Po),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),cr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),te(this,ua).notify({query:this,type:"updated",action:t})})},eb);function XC(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:GC(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function eL(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var cs,tb,tL=(tb=class extends Ql{constructor(t={}){super();De(this,cs);this.config=t,Ae(this,cs,new Map)}build(t,r,n){const a=r.queryKey,s=r.queryHash??C1(a,r);let i=this.get(s);return i||(i=new ZM({client:t,queryKey:a,queryHash:s,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(i)),i}add(t){te(this,cs).has(t.queryHash)||(te(this,cs).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=te(this,cs).get(t.queryHash);r&&(t.destroy(),r===t&&te(this,cs).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){cr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return te(this,cs).get(t)}getAll(){return[...te(this,cs).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>P_(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>P_(t,n)):r}notify(t){cr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){cr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){cr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},cs=new WeakMap,tb),ls,Qr,Do,us,ui,rb,rL=(rb=class extends JC{constructor(t){super();De(this,us);De(this,ls);De(this,Qr);De(this,Do);this.mutationId=t.mutationId,Ae(this,Qr,t.mutationCache),Ae(this,ls,[]),this.state=t.state||YC(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){te(this,ls).includes(t)||(te(this,ls).push(t),this.clearGcTimeout(),te(this,Qr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ae(this,ls,te(this,ls).filter(r=>r!==t)),this.scheduleGc(),te(this,Qr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){te(this,ls).length||(this.state.status==="pending"?this.scheduleGc():te(this,Qr).remove(this))}continue(){var t;return((t=te(this,Do))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,i,o,l,u,d,f,h,m,v,p,g,y,_,w,E,T,b,S,C;const r=()=>{Xe(this,us,ui).call(this,{type:"continue"})};Ae(this,Do,KC({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(A,j)=>{Xe(this,us,ui).call(this,{type:"failed",failureCount:A,error:j})},onPause:()=>{Xe(this,us,ui).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>te(this,Qr).canRun(this)}));const n=this.state.status==="pending",a=!te(this,Do).canStart();try{if(n)r();else{Xe(this,us,ui).call(this,{type:"pending",variables:t,isPaused:a}),await((i=(s=te(this,Qr).config).onMutate)==null?void 0:i.call(s,t,this));const j=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));j!==this.state.context&&Xe(this,us,ui).call(this,{type:"pending",context:j,variables:t,isPaused:a})}const A=await te(this,Do).start();return await((d=(u=te(this,Qr).config).onSuccess)==null?void 0:d.call(u,A,t,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,A,t,this.state.context)),await((v=(m=te(this,Qr).config).onSettled)==null?void 0:v.call(m,A,null,this.state.variables,this.state.context,this)),await((g=(p=this.options).onSettled)==null?void 0:g.call(p,A,null,t,this.state.context)),Xe(this,us,ui).call(this,{type:"success",data:A}),A}catch(A){try{throw await((_=(y=te(this,Qr).config).onError)==null?void 0:_.call(y,A,t,this.state.context,this)),await((E=(w=this.options).onError)==null?void 0:E.call(w,A,t,this.state.context)),await((b=(T=te(this,Qr).config).onSettled)==null?void 0:b.call(T,void 0,A,this.state.variables,this.state.context,this)),await((C=(S=this.options).onSettled)==null?void 0:C.call(S,void 0,A,t,this.state.context)),A}finally{Xe(this,us,ui).call(this,{type:"error",error:A})}}finally{te(this,Qr).runNext(this)}}},ls=new WeakMap,Qr=new WeakMap,Do=new WeakMap,us=new WeakSet,ui=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),cr.batch(()=>{te(this,ls).forEach(n=>{n.onMutationUpdate(t)}),te(this,Qr).notify({mutation:this,type:"updated",action:t})})},rb);function YC(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ms,Ma,zd,nb,nL=(nb=class extends Ql{constructor(t={}){super();De(this,Ms);De(this,Ma);De(this,zd);this.config=t,Ae(this,Ms,new Set),Ae(this,Ma,new Map),Ae(this,zd,0)}build(t,r,n){const a=new rL({mutationCache:this,mutationId:++mf(this,zd)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){te(this,Ms).add(t);const r=Mf(t);if(typeof r=="string"){const n=te(this,Ma).get(r);n?n.push(t):te(this,Ma).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(te(this,Ms).delete(t)){const r=Mf(t);if(typeof r=="string"){const n=te(this,Ma).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&te(this,Ma).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Mf(t);if(typeof r=="string"){const n=te(this,Ma).get(r),a=n==null?void 0:n.find(s=>s.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=Mf(t);if(typeof r=="string"){const a=(n=te(this,Ma).get(r))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){cr.batch(()=>{te(this,Ms).forEach(t=>{this.notify({type:"removed",mutation:t})}),te(this,Ms).clear(),te(this,Ma).clear()})}getAll(){return Array.from(te(this,Ms))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>O_(r,n))}findAll(t={}){return this.getAll().filter(r=>O_(t,r))}notify(t){cr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return cr.batch(()=>Promise.all(t.map(r=>r.continue().catch(tn))))}},Ms=new WeakMap,Ma=new WeakMap,zd=new WeakMap,nb);function Mf(e){var t;return(t=e.options.scope)==null?void 0:t.id}function M_(e){return{onFetch:(t,r)=>{var d,f,h,m,v;const n=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((m=t.state.data)==null?void 0:m.pages)||[],i=((v=t.state.data)==null?void 0:v.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const u=async()=>{let p=!1;const g=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},y=WC(t.options,t.fetchOptions),_=async(w,E,T)=>{if(p)return Promise.reject();if(E==null&&w.pages.length)return Promise.resolve(w);const S=(()=>{const I={client:t.client,queryKey:t.queryKey,pageParam:E,direction:T?"backward":"forward",meta:t.options.meta};return g(I),I})(),C=await y(S),{maxPages:A}=t.options,j=T?qM:GM;return{pages:j(w.pages,C,A),pageParams:j(w.pageParams,E,A)}};if(a&&s.length){const w=a==="backward",E=w?aL:L_,T={pages:s,pageParams:i},b=E(n,T);o=await _(T,b,w)}else{const w=e??s.length;do{const E=l===0?i[0]??n.initialPageParam:L_(n,o);if(l>0&&E==null)break;o=await _(o,E),l++}while(l<w)}return o};t.options.persister?t.fetchFn=()=>{var p,g;return(g=(p=t.options).persister)==null?void 0:g.call(p,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function L_(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function aL(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var zt,Si,bi,wl,_l,Ti,El,Sl,ab,sL=(ab=class{constructor(e={}){De(this,zt);De(this,Si);De(this,bi);De(this,wl);De(this,_l);De(this,Ti);De(this,El);De(this,Sl);Ae(this,zt,e.queryCache||new tL),Ae(this,Si,e.mutationCache||new nL),Ae(this,bi,e.defaultOptions||{}),Ae(this,wl,new Map),Ae(this,_l,new Map),Ae(this,Ti,0)}mount(){mf(this,Ti)._++,te(this,Ti)===1&&(Ae(this,El,A1.subscribe(async e=>{e&&(await this.resumePausedMutations(),te(this,zt).onFocus())})),Ae(this,Sl,t0.subscribe(async e=>{e&&(await this.resumePausedMutations(),te(this,zt).onOnline())})))}unmount(){var e,t;mf(this,Ti)._--,te(this,Ti)===0&&((e=te(this,El))==null||e.call(this),Ae(this,El,void 0),(t=te(this,Sl))==null||t.call(this),Ae(this,Sl,void 0))}isFetching(e){return te(this,zt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return te(this,Si).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=te(this,zt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=te(this,zt).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Wi(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return te(this,zt).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=te(this,zt).get(n.queryHash),s=a==null?void 0:a.state.data,i=WM(t,s);if(i!==void 0)return te(this,zt).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return cr.batch(()=>te(this,zt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=te(this,zt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=te(this,zt);cr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=te(this,zt);return cr.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=cr.batch(()=>te(this,zt).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(tn).catch(tn)}invalidateQueries(e,t={}){return cr.batch(()=>(te(this,zt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=cr.batch(()=>te(this,zt).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let s=a.fetch(void 0,r);return r.throwOnError||(s=s.catch(tn)),a.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(tn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=te(this,zt).build(this,t);return r.isStaleByTime(Wi(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(tn).catch(tn)}fetchInfiniteQuery(e){return e.behavior=M_(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(tn).catch(tn)}ensureInfiniteQueryData(e){return e.behavior=M_(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return t0.isOnline()?te(this,Si).resumePausedMutations():Promise.resolve()}getQueryCache(){return te(this,zt)}getMutationCache(){return te(this,Si)}getDefaultOptions(){return te(this,bi)}setDefaultOptions(e){Ae(this,bi,e)}setQueryDefaults(e,t){te(this,wl).set(Zo(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...te(this,wl).values()],r={};return t.forEach(n=>{Cd(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){te(this,_l).set(Zo(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...te(this,_l).values()],r={};return t.forEach(n=>{Cd(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...te(this,bi).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=C1(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===k1&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...te(this,bi).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){te(this,zt).clear(),te(this,Si).clear()}},zt=new WeakMap,Si=new WeakMap,bi=new WeakMap,wl=new WeakMap,_l=new WeakMap,Ti=new WeakMap,El=new WeakMap,Sl=new WeakMap,ab),xn,tt,Vd,Zr,Mo,bl,Ci,ki,Wd,Tl,Cl,Lo,Uo,Ai,kl,dt,Ru,vv,xv,yv,wv,_v,Ev,Sv,QC,sb,iL=(sb=class extends Ql{constructor(t,r){super();De(this,dt);De(this,xn);De(this,tt);De(this,Vd);De(this,Zr);De(this,Mo);De(this,bl);De(this,Ci);De(this,ki);De(this,Wd);De(this,Tl);De(this,Cl);De(this,Lo);De(this,Uo);De(this,Ai);De(this,kl,new Set);this.options=r,Ae(this,xn,t),Ae(this,ki,null),Ae(this,Ci,gv()),this.options.experimental_prefetchInRender||te(this,Ci).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(te(this,tt).addObserver(this),U_(te(this,tt),this.options)?Xe(this,dt,Ru).call(this):this.updateResult(),Xe(this,dt,wv).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return bv(te(this,tt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return bv(te(this,tt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Xe(this,dt,_v).call(this),Xe(this,dt,Ev).call(this),te(this,tt).removeObserver(this)}setOptions(t){const r=this.options,n=te(this,tt);if(this.options=te(this,xn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof da(this.options.enabled,te(this,tt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Xe(this,dt,Sv).call(this),te(this,tt).setOptions(this.options),r._defaulted&&!e0(this.options,r)&&te(this,xn).getQueryCache().notify({type:"observerOptionsUpdated",query:te(this,tt),observer:this});const a=this.hasListeners();a&&B_(te(this,tt),n,this.options,r)&&Xe(this,dt,Ru).call(this),this.updateResult(),a&&(te(this,tt)!==n||da(this.options.enabled,te(this,tt))!==da(r.enabled,te(this,tt))||Wi(this.options.staleTime,te(this,tt))!==Wi(r.staleTime,te(this,tt)))&&Xe(this,dt,vv).call(this);const s=Xe(this,dt,xv).call(this);a&&(te(this,tt)!==n||da(this.options.enabled,te(this,tt))!==da(r.enabled,te(this,tt))||s!==te(this,Ai))&&Xe(this,dt,yv).call(this,s)}getOptimisticResult(t){const r=te(this,xn).getQueryCache().build(te(this,xn),t),n=this.createResult(r,t);return cL(this,n)&&(Ae(this,Zr,n),Ae(this,bl,this.options),Ae(this,Mo,te(this,tt).state)),n}getCurrentResult(){return te(this,Zr)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),Reflect.get(n,a))})}trackProp(t){te(this,kl).add(t)}getCurrentQuery(){return te(this,tt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=te(this,xn).defaultQueryOptions(t),n=te(this,xn).getQueryCache().build(te(this,xn),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Xe(this,dt,Ru).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),te(this,Zr)))}createResult(t,r){var A;const n=te(this,tt),a=this.options,s=te(this,Zr),i=te(this,Mo),o=te(this,bl),u=t!==n?t.state:te(this,Vd),{state:d}=t;let f={...d},h=!1,m;if(r._optimisticResults){const j=this.hasListeners(),I=!j&&U_(t,r),N=j&&B_(t,n,r,a);(I||N)&&(f={...f,...XC(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:p,status:g}=f;m=f.data;let y=!1;if(r.placeholderData!==void 0&&m===void 0&&g==="pending"){let j;s!=null&&s.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(j=s.data,y=!0):j=typeof r.placeholderData=="function"?r.placeholderData((A=te(this,Cl))==null?void 0:A.state.data,te(this,Cl)):r.placeholderData,j!==void 0&&(g="success",m=pv(s==null?void 0:s.data,j,r),h=!0)}if(r.select&&m!==void 0&&!y)if(s&&m===(i==null?void 0:i.data)&&r.select===te(this,Wd))m=te(this,Tl);else try{Ae(this,Wd,r.select),m=r.select(m),m=pv(s==null?void 0:s.data,m,r),Ae(this,Tl,m),Ae(this,ki,null)}catch(j){Ae(this,ki,j)}te(this,ki)&&(v=te(this,ki),m=te(this,Tl),p=Date.now(),g="error");const _=f.fetchStatus==="fetching",w=g==="pending",E=g==="error",T=w&&_,b=m!==void 0,C={status:g,fetchStatus:f.fetchStatus,isPending:w,isSuccess:g==="success",isError:E,isInitialLoading:T,isLoading:T,data:m,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:_,isRefetching:_&&!w,isLoadingError:E&&!b,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:E&&b,isStale:j1(t,r),refetch:this.refetch,promise:te(this,Ci),isEnabled:da(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const j=W=>{C.status==="error"?W.reject(C.error):C.data!==void 0&&W.resolve(C.data)},I=()=>{const W=Ae(this,Ci,C.promise=gv());j(W)},N=te(this,Ci);switch(N.status){case"pending":t.queryHash===n.queryHash&&j(N);break;case"fulfilled":(C.status==="error"||C.data!==N.value)&&I();break;case"rejected":(C.status!=="error"||C.error!==N.reason)&&I();break}}return C}updateResult(){const t=te(this,Zr),r=this.createResult(te(this,tt),this.options);if(Ae(this,Mo,te(this,tt).state),Ae(this,bl,this.options),te(this,Mo).data!==void 0&&Ae(this,Cl,te(this,tt)),e0(r,t))return;Ae(this,Zr,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,s=typeof a=="function"?a():a;if(s==="all"||!s&&!te(this,kl).size)return!0;const i=new Set(s??te(this,kl));return this.options.throwOnError&&i.add("error"),Object.keys(te(this,Zr)).some(o=>{const l=o;return te(this,Zr)[l]!==t[l]&&i.has(l)})};Xe(this,dt,QC).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Xe(this,dt,wv).call(this)}},xn=new WeakMap,tt=new WeakMap,Vd=new WeakMap,Zr=new WeakMap,Mo=new WeakMap,bl=new WeakMap,Ci=new WeakMap,ki=new WeakMap,Wd=new WeakMap,Tl=new WeakMap,Cl=new WeakMap,Lo=new WeakMap,Uo=new WeakMap,Ai=new WeakMap,kl=new WeakMap,dt=new WeakSet,Ru=function(t){Xe(this,dt,Sv).call(this);let r=te(this,tt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(tn)),r},vv=function(){Xe(this,dt,_v).call(this);const t=Wi(this.options.staleTime,te(this,tt));if(Qo||te(this,Zr).isStale||!hv(t))return;const n=zC(te(this,Zr).dataUpdatedAt,t)+1;Ae(this,Lo,setTimeout(()=>{te(this,Zr).isStale||this.updateResult()},n))},xv=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(te(this,tt)):this.options.refetchInterval)??!1},yv=function(t){Xe(this,dt,Ev).call(this),Ae(this,Ai,t),!(Qo||da(this.options.enabled,te(this,tt))===!1||!hv(te(this,Ai))||te(this,Ai)===0)&&Ae(this,Uo,setInterval(()=>{(this.options.refetchIntervalInBackground||A1.isFocused())&&Xe(this,dt,Ru).call(this)},te(this,Ai)))},wv=function(){Xe(this,dt,vv).call(this),Xe(this,dt,yv).call(this,Xe(this,dt,xv).call(this))},_v=function(){te(this,Lo)&&(clearTimeout(te(this,Lo)),Ae(this,Lo,void 0))},Ev=function(){te(this,Uo)&&(clearInterval(te(this,Uo)),Ae(this,Uo,void 0))},Sv=function(){const t=te(this,xn).getQueryCache().build(te(this,xn),this.options);if(t===te(this,tt))return;const r=te(this,tt);Ae(this,tt,t),Ae(this,Vd,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},QC=function(t){cr.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(te(this,Zr))}),te(this,xn).getQueryCache().notify({query:te(this,tt),type:"observerResultsUpdated"})})},sb);function oL(e,t){return da(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function U_(e,t){return oL(e,t)||e.state.data!==void 0&&bv(e,t,t.refetchOnMount)}function bv(e,t,r){if(da(t.enabled,e)!==!1&&Wi(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&j1(e,t)}return!1}function B_(e,t,r,n){return(e!==t||da(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&j1(e,r)}function j1(e,t){return da(t.enabled,e)!==!1&&e.isStaleByTime(Wi(t.staleTime,e))}function cL(e,t){return!e0(e.getCurrentResult(),t)}var ji,Ni,yn,Ls,Hs,_h,Tv,ib,lL=(ib=class extends Ql{constructor(r,n){super();De(this,Hs);De(this,ji);De(this,Ni);De(this,yn);De(this,Ls);Ae(this,ji,r),this.setOptions(n),this.bindMethods(),Xe(this,Hs,_h).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=te(this,ji).defaultMutationOptions(r),e0(this.options,n)||te(this,ji).getMutationCache().notify({type:"observerOptionsUpdated",mutation:te(this,yn),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Zo(n.mutationKey)!==Zo(this.options.mutationKey)?this.reset():((a=te(this,yn))==null?void 0:a.state.status)==="pending"&&te(this,yn).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=te(this,yn))==null||r.removeObserver(this)}onMutationUpdate(r){Xe(this,Hs,_h).call(this),Xe(this,Hs,Tv).call(this,r)}getCurrentResult(){return te(this,Ni)}reset(){var r;(r=te(this,yn))==null||r.removeObserver(this),Ae(this,yn,void 0),Xe(this,Hs,_h).call(this),Xe(this,Hs,Tv).call(this)}mutate(r,n){var a;return Ae(this,Ls,n),(a=te(this,yn))==null||a.removeObserver(this),Ae(this,yn,te(this,ji).getMutationCache().build(te(this,ji),this.options)),te(this,yn).addObserver(this),te(this,yn).execute(r)}},ji=new WeakMap,Ni=new WeakMap,yn=new WeakMap,Ls=new WeakMap,Hs=new WeakSet,_h=function(){var n;const r=((n=te(this,yn))==null?void 0:n.state)??YC();Ae(this,Ni,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Tv=function(r){cr.batch(()=>{var n,a,s,i,o,l,u,d;if(te(this,Ls)&&this.hasListeners()){const f=te(this,Ni).variables,h=te(this,Ni).context;(r==null?void 0:r.type)==="success"?((a=(n=te(this,Ls)).onSuccess)==null||a.call(n,r.data,f,h),(i=(s=te(this,Ls)).onSettled)==null||i.call(s,r.data,null,f,h)):(r==null?void 0:r.type)==="error"&&((l=(o=te(this,Ls)).onError)==null||l.call(o,r.error,f,h),(d=(u=te(this,Ls)).onSettled)==null||d.call(u,void 0,r.error,f,h))}this.listeners.forEach(f=>{f(te(this,Ni))})})},ib),ZC=x.createContext(void 0),St=e=>{const t=x.useContext(ZC);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},uL=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),c.jsx(ZC.Provider,{value:e,children:t})),ek=x.createContext(!1),dL=()=>x.useContext(ek);ek.Provider;function fL(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var hL=x.createContext(fL()),mL=()=>x.useContext(hL),pL=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},gL=e=>{x.useEffect(()=>{e.clearReset()},[e])},vL=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||HC(r,[e.error,n])),xL=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},yL=(e,t)=>e.isLoading&&e.isFetching&&!t,wL=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,$_=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function _L(e,t,r){var f,h,m,v,p;const n=dL(),a=mL(),s=St(),i=s.defaultQueryOptions(e);(h=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,i),i._optimisticResults=n?"isRestoring":"optimistic",xL(i),pL(i,a),gL(a);const o=!s.getQueryCache().get(i.queryHash),[l]=x.useState(()=>new t(s,i)),u=l.getOptimisticResult(i),d=!n&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(g=>{const y=d?l.subscribe(cr.batchCalls(g)):tn;return l.updateResult(),y},[l,d]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),x.useEffect(()=>{l.setOptions(i)},[i,l]),wL(i,u))throw $_(i,l,a);if(vL({result:u,errorResetBoundary:a,throwOnError:i.throwOnError,query:s.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw u.error;if((v=(m=s.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||v.call(m,i,u),i.experimental_prefetchInRender&&!Qo&&yL(u,n)){const g=o?$_(i,l,a):(p=s.getQueryCache().get(i.queryHash))==null?void 0:p.promise;g==null||g.catch(tn).finally(()=>{l.updateResult()})}return i.notifyOnChangeProps?u:l.trackResult(u)}function bt(e,t){return _L(e,iL)}function ot(e,t){const r=St(),[n]=x.useState(()=>new lL(r,e));x.useEffect(()=>{n.setOptions(e)},[n,e]);const a=x.useSyncExternalStore(x.useCallback(i=>n.subscribe(cr.batchCalls(i)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=x.useCallback((i,o)=>{n.mutate(i,o).catch(tn)},[n]);if(a.error&&HC(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:s,mutateAsync:a.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kd(){return kd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kd.apply(this,arguments)}var Pi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Pi||(Pi={}));const z_="popstate";function EL(e){e===void 0&&(e={});function t(n,a){let{pathname:s,search:i,hash:o}=n.location;return Cv("",{pathname:s,search:i,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:r0(a)}return bL(t,r,null,e)}function Jt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function tk(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function SL(){return Math.random().toString(36).substr(2,8)}function V_(e,t){return{usr:e.state,key:e.key,idx:t}}function Cv(e,t,r,n){return r===void 0&&(r=null),kd({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Zl(t):t,{state:r,key:t&&t.key||n||SL()})}function r0(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Zl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function bL(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:s=!1}=n,i=a.history,o=Pi.Pop,l=null,u=d();u==null&&(u=0,i.replaceState(kd({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){o=Pi.Pop;let g=d(),y=g==null?null:g-u;u=g,l&&l({action:o,location:p.location,delta:y})}function h(g,y){o=Pi.Push;let _=Cv(p.location,g,y);u=d()+1;let w=V_(_,u),E=p.createHref(_);try{i.pushState(w,"",E)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;a.location.assign(E)}s&&l&&l({action:o,location:p.location,delta:1})}function m(g,y){o=Pi.Replace;let _=Cv(p.location,g,y);u=d();let w=V_(_,u),E=p.createHref(_);i.replaceState(w,"",E),s&&l&&l({action:o,location:p.location,delta:0})}function v(g){let y=a.location.origin!=="null"?a.location.origin:a.location.href,_=typeof g=="string"?g:r0(g);return _=_.replace(/ $/,"%20"),Jt(y,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,y)}let p={get action(){return o},get location(){return e(a,i)},listen(g){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(z_,f),l=g,()=>{a.removeEventListener(z_,f),l=null}},createHref(g){return t(a,g)},createURL:v,encodeLocation(g){let y=v(g);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:m,go(g){return i.go(g)}};return p}var W_;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(W_||(W_={}));function TL(e,t,r){return r===void 0&&(r="/"),CL(e,t,r,!1)}function CL(e,t,r,n){let a=typeof t=="string"?Zl(t):t,s=N1(a.pathname||"/",r);if(s==null)return null;let i=rk(e);kL(i);let o=null;for(let l=0;o==null&&l<i.length;++l){let u=LL(s);o=DL(i[l],u,n)}return o}function rk(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(s,i,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:i,route:s};l.relativePath.startsWith("/")&&(Jt(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Hi([n,l.relativePath]),d=r.concat(l);s.children&&s.children.length>0&&(Jt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),rk(s.children,t,d,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:OL(u,s.index),routesMeta:d})};return e.forEach((s,i)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))a(s,i);else for(let l of nk(s.path))a(s,i,l)}),t}function nk(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let i=nk(n.join("/")),o=[];return o.push(...i.map(l=>l===""?s:[s,l].join("/"))),a&&o.push(...i),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function kL(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:FL(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const AL=/^:[\w-]+$/,jL=3,NL=2,IL=1,RL=10,PL=-2,H_=e=>e==="*";function OL(e,t){let r=e.split("/"),n=r.length;return r.some(H_)&&(n+=PL),t&&(n+=NL),r.filter(a=>!H_(a)).reduce((a,s)=>a+(AL.test(s)?jL:s===""?IL:RL),n)}function FL(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function DL(e,t,r){let{routesMeta:n}=e,a={},s="/",i=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=G_({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=G_({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),i.push({params:a,pathname:Hi([s,f.pathname]),pathnameBase:zL(Hi([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=Hi([s,f.pathnameBase]))}return i}function G_(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=ML(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let p=o[f]||"";i=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}const v=o[f];return m&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:i,pattern:e}}function ML(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),tk(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function LL(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return tk(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function N1(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function UL(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Zl(e):e;return{pathname:r?r.startsWith("/")?r:BL(r,t):t,search:VL(n),hash:WL(a)}}function BL(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function dp(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $L(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function I1(e,t){let r=$L(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function R1(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Zl(e):(a=kd({},e),Jt(!a.pathname||!a.pathname.includes("?"),dp("?","pathname","search",a)),Jt(!a.pathname||!a.pathname.includes("#"),dp("#","pathname","hash",a)),Jt(!a.search||!a.search.includes("#"),dp("#","search","hash",a)));let s=e===""||a.pathname==="",i=s?"/":a.pathname,o;if(i==null)o=r;else{let f=t.length-1;if(!n&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}o=f>=0?t[f]:"/"}let l=UL(a,o),u=i&&i!=="/"&&i.endsWith("/"),d=(s||i===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Hi=e=>e.join("/").replace(/\/\/+/g,"/"),zL=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),VL=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,WL=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function HL(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ak=["post","put","patch","delete"];new Set(ak);const GL=["get",...ak];new Set(GL);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ad(){return Ad=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ad.apply(this,arguments)}const P1=x.createContext(null),qL=x.createContext(null),so=x.createContext(null),Q0=x.createContext(null),io=x.createContext({outlet:null,matches:[],isDataRoute:!1}),sk=x.createContext(null);function KL(e,t){let{relative:r}=t===void 0?{}:t;eu()||Jt(!1);let{basename:n,navigator:a}=x.useContext(so),{hash:s,pathname:i,search:o}=ok(e,{relative:r}),l=i;return n!=="/"&&(l=i==="/"?n:Hi([n,i])),a.createHref({pathname:l,search:o,hash:s})}function eu(){return x.useContext(Q0)!=null}function tu(){return eu()||Jt(!1),x.useContext(Q0).location}function ik(e){x.useContext(so).static||x.useLayoutEffect(e)}function Zd(){let{isDataRoute:e}=x.useContext(io);return e?o6():JL()}function JL(){eu()||Jt(!1);let e=x.useContext(P1),{basename:t,future:r,navigator:n}=x.useContext(so),{matches:a}=x.useContext(io),{pathname:s}=tu(),i=JSON.stringify(I1(a,r.v7_relativeSplatPath)),o=x.useRef(!1);return ik(()=>{o.current=!0}),x.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=R1(u,JSON.parse(i),s,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Hi([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,i,s,e])}function ok(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=x.useContext(so),{matches:a}=x.useContext(io),{pathname:s}=tu(),i=JSON.stringify(I1(a,n.v7_relativeSplatPath));return x.useMemo(()=>R1(e,JSON.parse(i),s,r==="path"),[e,i,s,r])}function XL(e,t){return YL(e,t)}function YL(e,t,r,n){eu()||Jt(!1);let{navigator:a}=x.useContext(so),{matches:s}=x.useContext(io),i=s[s.length-1],o=i?i.params:{};i&&i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let u=tu(),d;if(t){var f;let g=typeof t=="string"?Zl(t):t;l==="/"||(f=g.pathname)!=null&&f.startsWith(l)||Jt(!1),d=g}else d=u;let h=d.pathname||"/",m=h;if(l!=="/"){let g=l.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(g.length).join("/")}let v=TL(e,{pathname:m}),p=r6(v&&v.map(g=>Object.assign({},g,{params:Object.assign({},o,g.params),pathname:Hi([l,a.encodeLocation?a.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?l:Hi([l,a.encodeLocation?a.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),s,r,n);return t&&p?x.createElement(Q0.Provider,{value:{location:Ad({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Pi.Pop}},p):p}function QL(){let e=i6(),t=HL(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:a},r):null,null)}const ZL=x.createElement(QL,null);class e6 extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?x.createElement(io.Provider,{value:this.props.routeContext},x.createElement(sk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function t6(e){let{routeContext:t,match:r,children:n}=e,a=x.useContext(P1);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(io.Provider,{value:t},n)}function r6(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,o=(a=r)==null?void 0:a.errors;if(o!=null){let d=i.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||Jt(!1),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,v=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||v){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,h)=>{let m,v=!1,p=null,g=null;r&&(m=o&&f.route.id?o[f.route.id]:void 0,p=f.route.errorElement||ZL,l&&(u<0&&h===0?(v=!0,g=null):u===h&&(v=!0,g=f.route.hydrateFallbackElement||null)));let y=t.concat(i.slice(0,h+1)),_=()=>{let w;return m?w=p:v?w=g:f.route.Component?w=x.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,x.createElement(t6,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?x.createElement(e6,{location:r.location,revalidation:r.revalidation,component:p,error:m,children:_(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):_()},null)}var ck=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ck||{}),n0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(n0||{});function n6(e){let t=x.useContext(P1);return t||Jt(!1),t}function a6(e){let t=x.useContext(qL);return t||Jt(!1),t}function s6(e){let t=x.useContext(io);return t||Jt(!1),t}function lk(e){let t=s6(),r=t.matches[t.matches.length-1];return r.route.id||Jt(!1),r.route.id}function i6(){var e;let t=x.useContext(sk),r=a6(n0.UseRouteError),n=lk(n0.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function o6(){let{router:e}=n6(ck.UseNavigateStable),t=lk(n0.UseNavigateStable),r=x.useRef(!1);return ik(()=>{r.current=!0}),x.useCallback(function(a,s){s===void 0&&(s={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Ad({fromRouteId:t},s)))},[e,t])}function c6(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function l6(e){let{to:t,replace:r,state:n,relative:a}=e;eu()||Jt(!1);let{future:s,static:i}=x.useContext(so),{matches:o}=x.useContext(io),{pathname:l}=tu(),u=Zd(),d=R1(t,I1(o,s.v7_relativeSplatPath),l,a==="path"),f=JSON.stringify(d);return x.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function di(e){Jt(!1)}function u6(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Pi.Pop,navigator:s,static:i=!1,future:o}=e;eu()&&Jt(!1);let l=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:l,navigator:s,static:i,future:Ad({v7_relativeSplatPath:!1},o)}),[l,o,s,i]);typeof n=="string"&&(n=Zl(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:v="default"}=n,p=x.useMemo(()=>{let g=N1(d,l);return g==null?null:{location:{pathname:g,search:f,hash:h,state:m,key:v},navigationType:a}},[l,d,f,h,m,v,a]);return p==null?null:x.createElement(so.Provider,{value:u},x.createElement(Q0.Provider,{children:r,value:p}))}function d6(e){let{children:t,location:r}=e;return XL(kv(t),r)}new Promise(()=>{});function kv(e,t){t===void 0&&(t=[]);let r=[];return x.Children.forEach(e,(n,a)=>{if(!x.isValidElement(n))return;let s=[...t,a];if(n.type===x.Fragment){r.push.apply(r,kv(n.props.children,s));return}n.type!==di&&Jt(!1),!n.props.index||!n.props.children||Jt(!1);let i={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=kv(n.props.children,s)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Av(){return Av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Av.apply(this,arguments)}function f6(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function h6(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function m6(e,t){return e.button===0&&(!t||t==="_self")&&!h6(e)}const p6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],g6="6";try{window.__reactRouterVersion=g6}catch{}const v6="startTransition",q_=gx[v6];function x6(e){let{basename:t,children:r,future:n,window:a}=e,s=x.useRef();s.current==null&&(s.current=EL({window:a,v5Compat:!0}));let i=s.current,[o,l]=x.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},d=x.useCallback(f=>{u&&q_?q_(()=>l(f)):l(f)},[l,u]);return x.useLayoutEffect(()=>i.listen(d),[i,d]),x.useEffect(()=>c6(n),[n]),x.createElement(u6,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:i,future:n})}const y6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",w6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ao=x.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:s,replace:i,state:o,target:l,to:u,preventScrollReset:d,viewTransition:f}=t,h=f6(t,p6),{basename:m}=x.useContext(so),v,p=!1;if(typeof u=="string"&&w6.test(u)&&(v=u,y6))try{let w=new URL(window.location.href),E=u.startsWith("//")?new URL(w.protocol+u):new URL(u),T=N1(E.pathname,m);E.origin===w.origin&&T!=null?u=T+E.search+E.hash:p=!0}catch{}let g=KL(u,{relative:a}),y=_6(u,{replace:i,state:o,target:l,preventScrollReset:d,relative:a,viewTransition:f});function _(w){n&&n(w),w.defaultPrevented||y(w)}return x.createElement("a",Av({},h,{href:v||g,onClick:p||s?n:_,ref:r,target:l}))});var K_;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(K_||(K_={}));var J_;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(J_||(J_={}));function _6(e,t){let{target:r,replace:n,state:a,preventScrollReset:s,relative:i,viewTransition:o}=t===void 0?{}:t,l=Zd(),u=tu(),d=ok(e,{relative:i});return x.useCallback(f=>{if(m6(f,r)){f.preventDefault();let h=n!==void 0?n:r0(u)===r0(d);l(e,{replace:h,state:a,preventScrollReset:s,relative:i,viewTransition:o})}},[u,l,d,n,a,r,e,s,i,o])}var jv=function(e,t){return jv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},jv(e,t)};function uk(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");jv(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var ma=function(){return ma=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},ma.apply(this,arguments)};function oo(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function dk(e,t,r,n){var a=arguments.length,s=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(s=(a<3?i(s):a>3?i(t,r,s):i(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s}function fk(e,t){return function(r,n){t(r,n,e)}}function hk(e,t,r,n,a,s){function i(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var o=n.kind,l=o==="getter"?"get":o==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),f,h=!1,m=r.length-1;m>=0;m--){var v={};for(var p in n)v[p]=p==="access"?{}:n[p];for(var p in n.access)v.access[p]=n.access[p];v.addInitializer=function(y){if(h)throw new TypeError("Cannot add initializers after decoration has completed");s.push(i(y||null))};var g=(0,r[m])(o==="accessor"?{get:d.get,set:d.set}:d[l],v);if(o==="accessor"){if(g===void 0)continue;if(g===null||typeof g!="object")throw new TypeError("Object expected");(f=i(g.get))&&(d.get=f),(f=i(g.set))&&(d.set=f),(f=i(g.init))&&a.unshift(f)}else(f=i(g))&&(o==="field"?a.unshift(f):d[l]=f)}u&&Object.defineProperty(u,n.name,d),h=!0}function mk(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function pk(e){return typeof e=="symbol"?e:"".concat(e)}function gk(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function vk(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Fe(e,t,r,n){function a(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function o(d){try{u(n.next(d))}catch(f){i(f)}}function l(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?s(d.value):a(d.value).then(o,l)}u((n=n.apply(e,t||[])).next())})}function xk(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,a,s,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function o(u){return function(d){return l([u,d])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(r=0)),r;)try{if(n=1,a&&(s=u[0]&2?a.return:u[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,u[1])).done)return s;switch(a=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],a=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Z0=Object.create?function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function yk(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Z0(t,e,r)}function a0(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function O1(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,s=[],i;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(o){i={error:o}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s}function wk(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(O1(arguments[t]));return e}function _k(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var s=arguments[t],i=0,o=s.length;i<o;i++,a++)n[a]=s[i];return n}function F1(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function Ll(e){return this instanceof Ll?(this.v=e,this):new Ll(e)}function Ek(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,s=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",i),a[Symbol.asyncIterator]=function(){return this},a;function i(m){return function(v){return Promise.resolve(v).then(m,f)}}function o(m,v){n[m]&&(a[m]=function(p){return new Promise(function(g,y){s.push([m,p,g,y])>1||l(m,p)})},v&&(a[m]=v(a[m])))}function l(m,v){try{u(n[m](v))}catch(p){h(s[0][3],p)}}function u(m){m.value instanceof Ll?Promise.resolve(m.value.v).then(d,f):h(s[0][2],m)}function d(m){l("next",m)}function f(m){l("throw",m)}function h(m,v){m(v),s.shift(),s.length&&l(s[0][0],s[0][1])}}function Sk(e){var t,r;return t={},n("next"),n("throw",function(a){throw a}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(a,s){t[a]=e[a]?function(i){return(r=!r)?{value:Ll(e[a](i)),done:!1}:s?s(i):i}:s}}function bk(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof a0=="function"?a0(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(i){return new Promise(function(o,l){i=e[s](i),a(o,l,i.done,i.value)})}}function a(s,i,o,l){Promise.resolve(l).then(function(u){s({value:u,done:o})},i)}}function Tk(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var E6=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Nv=function(e){return Nv=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Nv(e)};function Ck(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Nv(e),n=0;n<r.length;n++)r[n]!=="default"&&Z0(t,e,r[n]);return E6(t,e),t}function kk(e){return e&&e.__esModule?e:{default:e}}function Ak(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function jk(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}function Nk(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function Ik(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var S6=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function Rk(e){function t(s){e.error=e.hasError?new S6(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var r,n=0;function a(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(a,function(i){return t(i),a()})}else n|=1}catch(i){t(i)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function Pk(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,a,s,i){return n?t?".jsx":".js":a&&(!s||!i)?r:a+s+"."+i.toLowerCase()+"js"}):e}const b6={__extends:uk,__assign:ma,__rest:oo,__decorate:dk,__param:fk,__esDecorate:hk,__runInitializers:mk,__propKey:pk,__setFunctionName:gk,__metadata:vk,__awaiter:Fe,__generator:xk,__createBinding:Z0,__exportStar:yk,__values:a0,__read:O1,__spread:wk,__spreadArrays:_k,__spreadArray:F1,__await:Ll,__asyncGenerator:Ek,__asyncDelegator:Sk,__asyncValues:bk,__makeTemplateObject:Tk,__importStar:Ck,__importDefault:kk,__classPrivateFieldGet:Ak,__classPrivateFieldSet:jk,__classPrivateFieldIn:Nk,__addDisposableResource:Ik,__disposeResources:Rk,__rewriteRelativeImportExtension:Pk},T6=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Ik,get __assign(){return ma},__asyncDelegator:Sk,__asyncGenerator:Ek,__asyncValues:bk,__await:Ll,__awaiter:Fe,__classPrivateFieldGet:Ak,__classPrivateFieldIn:Nk,__classPrivateFieldSet:jk,__createBinding:Z0,__decorate:dk,__disposeResources:Rk,__esDecorate:hk,__exportStar:yk,__extends:uk,__generator:xk,__importDefault:kk,__importStar:Ck,__makeTemplateObject:Tk,__metadata:vk,__param:fk,__propKey:pk,__read:O1,__rest:oo,__rewriteRelativeImportExtension:Pk,__runInitializers:mk,__setFunctionName:gk,__spread:wk,__spreadArray:F1,__spreadArrays:_k,__values:a0,default:b6},Symbol.toStringTag,{value:"Module"})),C6="modulepreload",k6=function(e){return"/"+e},X_={},ru=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=k6(l),l in X_)return;X_[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":C6,u||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return a.then(i=>{for(const o of i||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})},A6=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ru(async()=>{const{default:n}=await Promise.resolve().then(()=>dc);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class D1 extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Y_ extends D1{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Q_ extends D1{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Z_ extends D1{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Iv;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Iv||(Iv={}));class j6{constructor(t,{headers:r={},customFetch:n,region:a=Iv.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=A6(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Fe(this,arguments,void 0,function*(r,n={}){var a;try{const{headers:s,method:i,body:o,signal:l}=n;let u={},{region:d}=n;d||(d=this.region);const f=new URL(`${this.url}/${r}`);d&&d!=="any"&&(u["x-region"]=d,f.searchParams.set("forceFunctionRegion",d));let h;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",h=o):typeof o=="string"?(u["Content-Type"]="text/plain",h=o):typeof FormData<"u"&&o instanceof FormData?h=o:(u["Content-Type"]="application/json",h=JSON.stringify(o)):h=o;const m=yield this.fetch(f.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),s),body:h,signal:l}).catch(y=>{throw y.name==="AbortError"?y:new Y_(y)}),v=m.headers.get("x-relay-error");if(v&&v==="true")throw new Q_(m);if(!m.ok)throw new Z_(m);let p=((a=m.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),g;return p==="application/json"?g=yield m.json():p==="application/octet-stream"||p==="application/pdf"?g=yield m.blob():p==="text/event-stream"?g=m:p==="multipart/form-data"?g=yield m.formData():g=yield m.text(),{data:g,error:null,response:m}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new Y_(s)}:{data:null,error:s,response:s instanceof Z_||s instanceof Q_?s.context:void 0}}})}}var Sn={};const nu=cb(T6);var Lf={},Uf={},Bf={},$f={},zf={},N6=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ul=N6();const I6=Ul.fetch,Ok=Ul.fetch.bind(Ul),Fk=Ul.Headers,R6=Ul.Request,P6=Ul.Response,dc=Object.freeze(Object.defineProperty({__proto__:null,Headers:Fk,Request:R6,Response:P6,default:Ok,fetch:I6},Symbol.toStringTag,{value:"Module"})),O6=cb(dc);var Vf={},eE;function Dk(){if(eE)return Vf;eE=1,Object.defineProperty(Vf,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Vf.default=e,Vf}var tE;function Mk(){if(tE)return zf;tE=1,Object.defineProperty(zf,"__esModule",{value:!0});const e=nu,t=e.__importDefault(O6),r=e.__importDefault(Dk());class n{constructor(s){var i,o;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(o=s.isMaybeSingle)!==null&&o!==void 0?o:!1,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,f,h,m;let v=null,p=null,g=null,y=u.status,_=u.statusText;if(u.ok){if(this.method!=="HEAD"){const b=await u.text();b===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?p=b:p=JSON.parse(b))}const E=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),T=(h=u.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");E&&T&&T.length>1&&(g=parseInt(T[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(v={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,g=null,y=406,_="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const E=await u.text();try{v=JSON.parse(E),Array.isArray(v)&&u.status===404&&(p=[],v=null,y=200,_="OK")}catch{u.status===404&&E===""?(y=204,_="No Content"):v={message:E}}if(v&&this.isMaybeSingle&&(!((m=v==null?void 0:v.details)===null||m===void 0)&&m.includes("0 rows"))&&(v=null,y=200,_="OK"),v&&this.shouldThrowOnError)throw new r.default(v)}return{error:v,data:p,count:g,status:y,statusText:_}});return this.shouldThrowOnError||(l=l.catch(u=>{var d,f,h;return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(f=u==null?void 0:u.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(h=u==null?void 0:u.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),l.then(s,i)}returns(){return this}overrideTypes(){return this}}return zf.default=n,zf}var rE;function Lk(){if(rE)return $f;rE=1,Object.defineProperty($f,"__esModule",{value:!0});const t=nu.__importDefault(Mk());class r extends t.default{select(a){let s=!1;const i=(a??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:s=!0,nullsFirst:i,foreignTable:o,referencedTable:l=o}={}){const u=l?`${l}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${a}.${s?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:s,referencedTable:i=s}={}){const o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${a}`),this}range(a,s,{foreignTable:i,referencedTable:o=i}={}){const l=typeof o>"u"?"offset":`${o}.offset`,u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${a}`),this.url.searchParams.set(u,`${s-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:s=!1,settings:i=!1,buffers:o=!1,wal:l=!1,format:u="text"}={}){var d;const f=[a?"analyze":null,s?"verbose":null,i?"settings":null,o?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return $f.default=r,$f}var nE;function M1(){if(nE)return Bf;nE=1,Object.defineProperty(Bf,"__esModule",{value:!0});const t=nu.__importDefault(Lk());class r extends t.default{eq(a,s){return this.url.searchParams.append(a,`eq.${s}`),this}neq(a,s){return this.url.searchParams.append(a,`neq.${s}`),this}gt(a,s){return this.url.searchParams.append(a,`gt.${s}`),this}gte(a,s){return this.url.searchParams.append(a,`gte.${s}`),this}lt(a,s){return this.url.searchParams.append(a,`lt.${s}`),this}lte(a,s){return this.url.searchParams.append(a,`lte.${s}`),this}like(a,s){return this.url.searchParams.append(a,`like.${s}`),this}likeAllOf(a,s){return this.url.searchParams.append(a,`like(all).{${s.join(",")}}`),this}likeAnyOf(a,s){return this.url.searchParams.append(a,`like(any).{${s.join(",")}}`),this}ilike(a,s){return this.url.searchParams.append(a,`ilike.${s}`),this}ilikeAllOf(a,s){return this.url.searchParams.append(a,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(a,s){return this.url.searchParams.append(a,`ilike(any).{${s.join(",")}}`),this}is(a,s){return this.url.searchParams.append(a,`is.${s}`),this}in(a,s){const i=Array.from(new Set(s)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(a,`in.(${i})`),this}contains(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cs.{${s.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(s)}`),this}containedBy(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cd.{${s.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(s)}`),this}rangeGt(a,s){return this.url.searchParams.append(a,`sr.${s}`),this}rangeGte(a,s){return this.url.searchParams.append(a,`nxl.${s}`),this}rangeLt(a,s){return this.url.searchParams.append(a,`sl.${s}`),this}rangeLte(a,s){return this.url.searchParams.append(a,`nxr.${s}`),this}rangeAdjacent(a,s){return this.url.searchParams.append(a,`adj.${s}`),this}overlaps(a,s){return typeof s=="string"?this.url.searchParams.append(a,`ov.${s}`):this.url.searchParams.append(a,`ov.{${s.join(",")}}`),this}textSearch(a,s,{config:i,type:o}={}){let l="";o==="plain"?l="pl":o==="phrase"?l="ph":o==="websearch"&&(l="w");const u=i===void 0?"":`(${i})`;return this.url.searchParams.append(a,`${l}fts${u}.${s}`),this}match(a){return Object.entries(a).forEach(([s,i])=>{this.url.searchParams.append(s,`eq.${i}`)}),this}not(a,s,i){return this.url.searchParams.append(a,`not.${s}.${i}`),this}or(a,{foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.or`:"or";return this.url.searchParams.append(o,`(${a})`),this}filter(a,s,i){return this.url.searchParams.append(a,`${s}.${i}`),this}}return Bf.default=r,Bf}var aE;function Uk(){if(aE)return Uf;aE=1,Object.defineProperty(Uf,"__esModule",{value:!0});const t=nu.__importDefault(M1());class r{constructor(a,{headers:s={},schema:i,fetch:o}){this.url=a,this.headers=new Headers(s),this.schema=i,this.fetch=o}select(a,s){const{head:i=!1,count:o}=s??{},l=i?"HEAD":"GET";let u=!1;const d=(a??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:s,defaultToNull:i=!0}={}){var o;const l="POST";if(s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const u=a.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(a,{onConflict:s,ignoreDuplicates:i=!1,count:o,defaultToNull:l=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(f.length>0){const h=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(a,{count:s}={}){var i;const o="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:a}={}){var s;const i="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return Uf.default=r,Uf}var sE;function F6(){if(sE)return Lf;sE=1,Object.defineProperty(Lf,"__esModule",{value:!0});const e=nu,t=e.__importDefault(Uk()),r=e.__importDefault(M1());class n{constructor(s,{headers:i={},schema:o,fetch:l}={}){this.url=s,this.headers=new Headers(i),this.schemaName=o,this.fetch=l}from(s){const i=new URL(`${this.url}/${s}`);return new t.default(i,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new n(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,i={},{head:o=!1,get:l=!1,count:u}={}){var d;let f;const h=new URL(`${this.url}/rpc/${s}`);let m;o||l?(f=o?"HEAD":"GET",Object.entries(i).filter(([p,g])=>g!==void 0).map(([p,g])=>[p,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([p,g])=>{h.searchParams.append(p,g)})):(f="POST",m=i);const v=new Headers(this.headers);return u&&v.set("Prefer",`count=${u}`),new r.default({method:f,url:h,headers:v,schema:this.schemaName,body:m,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Lf.default=n,Lf}Object.defineProperty(Sn,"__esModule",{value:!0});Sn.PostgrestError=Sn.PostgrestBuilder=Sn.PostgrestTransformBuilder=Sn.PostgrestFilterBuilder=Sn.PostgrestQueryBuilder=Sn.PostgrestClient=void 0;const au=nu,Bk=au.__importDefault(F6());Sn.PostgrestClient=Bk.default;const $k=au.__importDefault(Uk());Sn.PostgrestQueryBuilder=$k.default;const zk=au.__importDefault(M1());Sn.PostgrestFilterBuilder=zk.default;const Vk=au.__importDefault(Lk());Sn.PostgrestTransformBuilder=Vk.default;const Wk=au.__importDefault(Mk());Sn.PostgrestBuilder=Wk.default;const Hk=au.__importDefault(Dk());Sn.PostgrestError=Hk.default;var D6=Sn.default={PostgrestClient:Bk.default,PostgrestQueryBuilder:$k.default,PostgrestFilterBuilder:zk.default,PostgrestTransformBuilder:Vk.default,PostgrestBuilder:Wk.default,PostgrestError:Hk.default};const{PostgrestClient:M6,PostgrestQueryBuilder:TQ,PostgrestFilterBuilder:CQ,PostgrestTransformBuilder:kQ,PostgrestBuilder:AQ,PostgrestError:jQ}=D6;class L6{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const U6="2.76.1",B6=`realtime-js/${U6}`,$6="1.0.0",Rv=1e4,z6=1e3,V6=100;var Ju;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ju||(Ju={}));var nr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(nr||(nr={}));var Ua;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ua||(Ua={}));var Pv;(function(e){e.websocket="websocket"})(Pv||(Pv={}));var Eo;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Eo||(Eo={}));class W6{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),s=r.getUint8(2);let i=this.HEADER_LENGTH+2;const o=n.decode(t.slice(i,i+a));i=i+a;const l=n.decode(t.slice(i,i+s));i=i+s;const u=JSON.parse(n.decode(t.slice(i,t.byteLength)));return{ref:null,topic:o,event:l,payload:u}}}class Gk{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var wt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(wt||(wt={}));const iE=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,i)=>(s[i]=H6(i,e,t,a),s),{}):{}},H6=(e,t,r,n)=>{const a=t.find(o=>o.name===e),s=a==null?void 0:a.type,i=r[e];return s&&!n.includes(s)?qk(s,i):Ov(i)},qk=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return J6(t,r)}switch(e){case wt.bool:return G6(t);case wt.float4:case wt.float8:case wt.int2:case wt.int4:case wt.int8:case wt.numeric:case wt.oid:return q6(t);case wt.json:case wt.jsonb:return K6(t);case wt.timestamp:return X6(t);case wt.abstime:case wt.date:case wt.daterange:case wt.int4range:case wt.int8range:case wt.money:case wt.reltime:case wt.text:case wt.time:case wt.timestamptz:case wt.timetz:case wt.tsrange:case wt.tstzrange:return Ov(t);default:return Ov(t)}},Ov=e=>e,G6=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},q6=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},K6=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},J6=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const i=e.slice(1,r);try{s=JSON.parse("["+i+"]")}catch{s=i?i.split(","):[]}return s.map(o=>qk(t,o))}return e},X6=e=>typeof e=="string"?e.replace(" ","T"):e,Kk=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class fp{constructor(t,r,n={},a=Rv){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var oE;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(oE||(oE={}));class Xu{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:s,onLeave:i,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Xu.syncState(this.state,a,s,i),this.pendingDiffs.forEach(l=>{this.state=Xu.syncDiff(this.state,l,s,i)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},a=>{const{onJoin:s,onLeave:i,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Xu.syncDiff(this.state,a,s,i),o())}),this.onJoin((a,s,i)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:i})}),this.onLeave((a,s,i)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const s=this.cloneDeep(t),i=this.transformState(r),o={},l={};return this.map(s,(u,d)=>{i[u]||(l[u]=d)}),this.map(i,(u,d)=>{const f=s[u];if(f){const h=d.map(g=>g.presence_ref),m=f.map(g=>g.presence_ref),v=d.filter(g=>m.indexOf(g.presence_ref)<0),p=f.filter(g=>h.indexOf(g.presence_ref)<0);v.length>0&&(o[u]=v),p.length>0&&(l[u]=p)}else o[u]=d}),this.syncDiff(s,{joins:o,leaves:l},n,a)}static syncDiff(t,r,n,a){const{joins:s,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(s,(o,l)=>{var u;const d=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(l),d.length>0){const f=t[o].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[o].unshift(...h)}n(o,d,l)}),this.map(i,(o,l)=>{let u=t[o];if(!u)return;const d=l.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[o]=u,a(o,u,l),u.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var cE;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(cE||(cE={}));var Yu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Yu||(Yu={}));var Os;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Os||(Os={}));class L1{constructor(t,r={config:{}},n){var a,s;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=nr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new fp(this,Ua.join,this.params,this.timeout),this.rejoinTimer=new Gk(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=nr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=nr.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=nr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=nr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=nr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ua.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new Xu(this),this.broadcastEndpointURL=Kk(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,s;if(this.socket.isConnected()||this.socket.connect(),this.state==nr.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[Yu.PRESENCE]&&this.bindings[Yu.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,f={},h={broadcast:i,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(Os.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Os.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var v;if(this.socket.setAuth(),m===void 0){t==null||t(Os.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,g=(v=p==null?void 0:p.length)!==null&&v!==void 0?v:0,y=[];for(let _=0;_<g;_++){const w=p[_],{filter:{event:E,schema:T,table:b,filter:S}}=w,C=m&&m[_];if(C&&C.event===E&&C.schema===T&&C.table===b&&C.filter===S)y.push(Object.assign(Object.assign({},w),{id:C.id}));else{this.unsubscribe(),this.state=nr.errored,t==null||t(Os.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(Os.SUBSCRIBED);return}}).receive("error",m=>{this.state=nr.errored,t==null||t(Os.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Os.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===nr.joined&&t===Yu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const i={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const u=await o.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:i}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var i,o,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(i=this.params)===null||i===void 0?void 0:i.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=nr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ua.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new fp(this,Ua.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=nr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,s=setTimeout(()=>a.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(s),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new fp(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>V6){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,s;const i=t.toLocaleLowerCase(),{close:o,error:l,leave:u,join:d}=Ua;if(n&&[o,l,u,d].indexOf(i)>=0&&n!==this._joinRef())return;let h=this._onMessage(i,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var v,p,g;return((v=m.filter)===null||v===void 0?void 0:v.event)==="*"||((g=(p=m.filter)===null||p===void 0?void 0:p.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===i}).map(m=>m.callback(h,n)):(s=this.bindings[i])===null||s===void 0||s.filter(m=>{var v,p,g,y,_,w;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in m){const E=m.id,T=(v=m.filter)===null||v===void 0?void 0:v.event;return E&&((p=r.ids)===null||p===void 0?void 0:p.includes(E))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((g=r.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const E=(_=(y=m==null?void 0:m.filter)===null||y===void 0?void 0:y.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return E==="*"||E===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===i}).map(m=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:p,table:g,commit_timestamp:y,type:_,errors:w}=v;h=Object.assign(Object.assign({},{schema:p,table:g,commit_timestamp:y,eventType:_,new:{},old:{},errors:w}),this._getPayloadRecords(v))}m.callback(h,n)})}_isClosed(){return this.state===nr.closed}_isJoined(){return this.state===nr.joined}_isJoining(){return this.state===nr.joining}_isLeaving(){return this.state===nr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),s={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&L1.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ua.close,{},t)}_onError(t){this._on(Ua.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=nr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=iE(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=iE(t.columns,t.old_record)),r}}const hp=()=>{},Wf={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Y6=[1e3,2e3,5e3,1e4],Q6=1e4,Z6=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class e8{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Rv,this.transport=null,this.heartbeatIntervalMs=Wf.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=hp,this.ref=0,this.reconnectTimer=null,this.logger=hp,this.conn=null,this.sendBuffer=[],this.serializer=new W6,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let s;return a?s=a:typeof fetch>"u"?s=(...i)=>ru(async()=>{const{default:o}=await Promise.resolve().then(()=>dc);return{default:o}},void 0).then(({default:o})=>o(...i)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...i)=>s(...i)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Pv.websocket}`,this.httpEndpoint=Kk(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=L6.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:$6}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ju.connecting:return Eo.Connecting;case Ju.open:return Eo.Open;case Ju.closing:return Eo.Closing;default:return Eo.Closed}}isConnected(){return this.connectionState()===Eo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(s=>s.topic===n);if(a)return a;{const s=new L1(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:a,ref:s}=t,i=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${s})`,a),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(z6,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Wf.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:s,ref:i}=r,o=i?`(${i})`:"",l=s.status||"";this.log("receive",`${l} ${n} ${a} ${o}`.trim(),s),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,s,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ua.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Z6],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:B6};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(Ua.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Gk(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Wf.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,s,i,o,l,u,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Rv,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:Wf.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:hp,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:f=>Y6[f-1]||Q6,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,h)=>h(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class U1 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Mt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class t8 extends U1{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Fv extends U1{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const B1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ru(async()=>{const{default:n}=await Promise.resolve().then(()=>dc);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},r8=()=>Fe(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ru(()=>Promise.resolve().then(()=>dc),void 0)).Response:Response}),Dv=e=>{if(Array.isArray(e))return e.map(r=>Dv(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[a]=Dv(n)}),t},n8=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},mp=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),a8=(e,t,r)=>Fe(void 0,void 0,void 0,function*(){const n=yield r8();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const s=e.status||500,i=(a==null?void 0:a.statusCode)||s+"";t(new t8(mp(a),s,i))}).catch(a=>{t(new Fv(mp(a),a))}):t(new Fv(mp(e),e))}),s8=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(n8(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function ef(e,t,r,n,a,s){return Fe(this,void 0,void 0,function*(){return new Promise((i,o)=>{e(r,s8(t,n,a,s)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>i(l)).catch(l=>a8(l,o,n))})})}function jd(e,t,r,n){return Fe(this,void 0,void 0,function*(){return ef(e,"GET",t,r,n)})}function Fa(e,t,r,n,a){return Fe(this,void 0,void 0,function*(){return ef(e,"POST",t,n,a,r)})}function Mv(e,t,r,n,a){return Fe(this,void 0,void 0,function*(){return ef(e,"PUT",t,n,a,r)})}function i8(e,t,r,n){return Fe(this,void 0,void 0,function*(){return ef(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function $1(e,t,r,n,a){return Fe(this,void 0,void 0,function*(){return ef(e,"DELETE",t,n,a,r)})}class o8{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return Fe(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Mt(t))return{data:null,error:t};throw t}})}}var Jk;class c8{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[Jk]="BlobDownloadBuilder",this.promise=null}asStream(){return new o8(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Fe(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Mt(t))return{data:null,error:t};throw t}})}}Jk=Symbol.toStringTag;const l8={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},lE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class u8{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=B1(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return Fe(this,void 0,void 0,function*(){try{let s;const i=Object.assign(Object.assign({},lE),a);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const l=i.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",i.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",i.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=n,o["cache-control"]=`max-age=${i.cacheControl}`,o["content-type"]=i.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),a!=null&&a.headers&&(o=Object.assign(Object.assign({},o),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?Mv:Fa)(this.fetch,`${this.url}/object/${d}`,s,Object.assign({headers:o},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Mt(s))return{data:null,error:s};throw s}})}upload(t,r,n){return Fe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return Fe(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),i=this._getFinalPath(s),o=new URL(this.url+`/object/upload/sign/${i}`);o.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:lE.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield Mv(this.fetch,o.toString(),l,{headers:d});return{data:{path:s,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Mt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return Fe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const s=yield Fa(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),i=new URL(this.url+s.url),o=i.searchParams.get("token");if(!o)throw new U1("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mt(n))return{data:null,error:n};throw n}})}update(t,r,n){return Fe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Fe(this,void 0,void 0,function*(){try{return{data:yield Fa(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Mt(a))return{data:null,error:a};throw a}})}copy(t,r,n){return Fe(this,void 0,void 0,function*(){try{return{data:{path:(yield Fa(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Mt(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return Fe(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),s=yield Fa(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${i}`)},{data:s,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Mt(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return Fe(this,void 0,void 0,function*(){try{const a=yield Fa(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${s}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Mt(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=s?`?${s}`:"",o=this._getFinalPath(t),l=()=>jd(this.fetch,`${this.url}/${a}/${o}${i}`,{headers:this.headers,noResolveJson:!0});return new c8(l,this.shouldThrowOnError)}info(t){return Fe(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield jd(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Dv(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mt(n))return{data:null,error:n};throw n}})}exists(t){return Fe(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield i8(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mt(n)&&n instanceof Fv){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&a.push(s);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&a.push(l);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(t){return Fe(this,void 0,void 0,function*(){try{return{data:yield $1(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}})}list(t,r,n){return Fe(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},l8),r),{prefix:t||""});return{data:yield Fa(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Mt(a))return{data:null,error:a};throw a}})}listV2(t,r){return Fe(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Fa(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mt(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Xk="2.76.1",Yk={"X-Client-Info":`storage-js/${Xk}`};class d8{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const s=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Yk),r),this.fetch=B1(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Fe(this,void 0,void 0,function*(){try{return{data:yield jd(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Mt(t))return{data:null,error:t};throw t}})}getBucket(t){return Fe(this,void 0,void 0,function*(){try{return{data:yield jd(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}})}createBucket(t){return Fe(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Fa(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Mt(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return Fe(this,void 0,void 0,function*(){try{return{data:yield Mv(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Fe(this,void 0,void 0,function*(){try{return{data:yield Fa(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Fe(this,void 0,void 0,function*(){try{return{data:yield $1(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}})}}class f8{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Yk),r),this.fetch=B1(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Fe(this,void 0,void 0,function*(){try{return{data:yield Fa(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}})}listBuckets(t){return Fe(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`,s=yield jd(this.fetch,a,{headers:this.headers});return{data:Array.isArray(s)?s.filter(o=>o.type==="ANALYTICS"):[],error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Fe(this,void 0,void 0,function*(){try{return{data:yield $1(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}})}}const z1={"X-Client-Info":`storage-js/${Xk}`,"Content-Type":"application/json"};class Qk extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ln(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class pp extends Qk{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class h8 extends Qk{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var uE;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(uE||(uE={}));const V1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ru(async()=>{const{default:n}=await Promise.resolve().then(()=>dc);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},m8=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},dE=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),p8=(e,t,r)=>Fe(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e.status||500,s=e;if(typeof s.json=="function")s.json().then(i=>{const o=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||a+"";t(new pp(dE(i),a,o))}).catch(()=>{const i=a+"",o=s.statusText||`HTTP ${a} error`;t(new pp(o,a,i))});else{const i=a+"",o=s.statusText||`HTTP ${a} error`;t(new pp(o,a,i))}}else t(new h8(dE(e),e))}),g8=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(m8(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a};function v8(e,t,r,n,a,s){return Fe(this,void 0,void 0,function*(){return new Promise((i,o)=>{e(r,g8(t,n,a,s)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>i(l)).catch(l=>p8(l,o,n))})})}function Un(e,t,r,n,a){return Fe(this,void 0,void 0,function*(){return v8(e,"POST",t,n,a,r)})}class x8{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},z1),r),this.fetch=V1(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Fe(this,void 0,void 0,function*(){try{return{data:(yield Un(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ln(r))return{data:null,error:r};throw r}})}getIndex(t,r){return Fe(this,void 0,void 0,function*(){try{return{data:yield Un(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ln(n))return{data:null,error:n};throw n}})}listIndexes(t){return Fe(this,void 0,void 0,function*(){try{return{data:yield Un(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ln(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return Fe(this,void 0,void 0,function*(){try{return{data:(yield Un(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ln(n))return{data:null,error:n};throw n}})}}class y8{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},z1),r),this.fetch=V1(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Fe(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Un(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ln(r))return{data:null,error:r};throw r}})}getVectors(t){return Fe(this,void 0,void 0,function*(){try{return{data:yield Un(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ln(r))return{data:null,error:r};throw r}})}listVectors(t){return Fe(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Un(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ln(r))return{data:null,error:r};throw r}})}queryVectors(t){return Fe(this,void 0,void 0,function*(){try{return{data:yield Un(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ln(r))return{data:null,error:r};throw r}})}deleteVectors(t){return Fe(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Un(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ln(r))return{data:null,error:r};throw r}})}}class w8{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},z1),r),this.fetch=V1(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Fe(this,void 0,void 0,function*(){try{return{data:(yield Un(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ln(r))return{data:null,error:r};throw r}})}getBucket(t){return Fe(this,void 0,void 0,function*(){try{return{data:yield Un(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ln(r))return{data:null,error:r};throw r}})}listBuckets(){return Fe(this,arguments,void 0,function*(t={}){try{return{data:yield Un(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ln(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Fe(this,void 0,void 0,function*(){try{return{data:(yield Un(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ln(r))return{data:null,error:r};throw r}})}}class _8 extends w8{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new E8(this.url,this.headers,t,this.fetch)}}class E8 extends x8{constructor(t,r,n,a){super(t,r,a),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Fe(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Fe(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Fe(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Fe(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new S8(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class S8 extends y8{constructor(t,r,n,a,s){super(t,r,s),this.vectorBucketName=n,this.indexName=a}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Fe(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Fe(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Fe(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Fe(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Fe(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class b8 extends d8{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new u8(this.url,this.headers,t,this.fetch)}get vectors(){return new _8(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new f8(this.url+"/iceberg",this.headers,this.fetch)}}const T8="2.76.1";let Pu="";typeof Deno<"u"?Pu="deno":typeof document<"u"?Pu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Pu="react-native":Pu="node";const C8={"X-Client-Info":`supabase-js-${Pu}/${T8}`},k8={headers:C8},A8={schema:"public"},j8={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},N8={},I8=e=>{let t;return e?t=e:typeof fetch>"u"?t=Ok:t=fetch,(...r)=>t(...r)},R8=()=>typeof Headers>"u"?Fk:Headers,P8=(e,t,r)=>{const n=I8(r),a=R8();return async(s,i)=>{var o;const l=(o=await t())!==null&&o!==void 0?o:e;let u=new a(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(s,Object.assign(Object.assign({},i),{headers:u}))}};function O8(e){return e.endsWith("/")?e:e+"/"}function F8(e,t){var r,n;const{db:a,auth:s,realtime:i,global:o}=e,{db:l,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},l),a),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},d),i),storage:{},global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function D8(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(O8(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Zk="2.76.1",Fc=30*1e3,Lv=3,gp=Lv*Fc,M8="http://localhost:9999",L8="supabase.auth.token",U8={"X-Client-Info":`gotrue-js/${Zk}`},Uv="X-Supabase-Api-Version",eA={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},B8=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,$8=10*60*1e3;class Nd extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Le(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class z8 extends Nd{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function V8(e){return Le(e)&&e.name==="AuthApiError"}class So extends Nd{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class co extends Nd{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class fi extends co{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function W8(e){return Le(e)&&e.name==="AuthSessionMissingError"}class wc extends co{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Hf extends co{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Gf extends co{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function H8(e){return Le(e)&&e.name==="AuthImplicitGrantRedirectError"}class fE extends co{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Bv extends co{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function vp(e){return Le(e)&&e.name==="AuthRetryableFetchError"}class hE extends co{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class $v extends co{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const s0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),mE=` 	
\r=`.split(""),G8=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<mE.length;t+=1)e[mE[t].charCodeAt(0)]=-2;for(let t=0;t<s0.length;t+=1)e[s0[t].charCodeAt(0)]=t;return e})();function pE(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(s0[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(s0[n]),t.queuedBits-=6}}function tA(e,t,r){const n=G8[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function gE(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=i=>{J8(i,n,r)};for(let i=0;i<e.length;i+=1)tA(e.charCodeAt(i),a,s);return t.join("")}function q8(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function K8(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}q8(n,t)}}function J8(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function cl(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)tA(e.charCodeAt(a),r,n);return new Uint8Array(t)}function X8(e){const t=[];return K8(e,r=>t.push(r)),new Uint8Array(t)}function jo(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>pE(a,r,n)),pE(null,r,n),t.join("")}function Y8(e){return Math.round(Date.now()/1e3)+e}function Q8(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const On=()=>typeof window<"u"&&typeof document<"u",go={tested:!1,writable:!1},rA=()=>{if(!On())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(go.tested)return go.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),go.tested=!0,go.writable=!0}catch{go.tested=!0,go.writable=!1}return go.writable};function Z8(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,s)=>{t[s]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const nA=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ru(async()=>{const{default:n}=await Promise.resolve().then(()=>dc);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},e5=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Dc=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},vo=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},oi=async(e,t)=>{await e.removeItem(t)};class em{constructor(){this.promise=new em.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}em.promiseConstructor=Promise;function xp(e){const t=e.split(".");if(t.length!==3)throw new $v("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!B8.test(t[n]))throw new $v("JWT not in base64url format");return{header:JSON.parse(gE(t[0])),payload:JSON.parse(gE(t[1])),signature:cl(t[2]),raw:{header:t[0],payload:t[1]}}}async function t5(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function r5(e,t){return new Promise((n,a)=>{(async()=>{for(let s=0;s<1/0;s++)try{const i=await e(s);if(!t(s,null,i)){n(i);return}}catch(i){if(!t(s,i)){a(i);return}}})()})}function n5(e){return("0"+e.toString(16)).substr(-2)}function a5(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let s=0;s<56;s++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,n5).join("")}async function s5(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(s=>String.fromCharCode(s)).join("")}async function i5(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await s5(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function _c(e,t,r=!1){const n=a5();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Dc(e,`${t}-code-verifier`,a);const s=await i5(n);return[s,n===s?"plain":"s256"]}const o5=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function c5(e){const t=e.headers.get(Uv);if(!t||!t.match(o5))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function l5(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function u5(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const d5=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ec(e){if(!d5.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function yp(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function vE(e){return JSON.parse(JSON.stringify(e))}const wo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),f5=[502,503,504];async function xE(e){var t;if(!e5(e))throw new Bv(wo(e),0);if(f5.includes(e.status))throw new Bv(wo(e),e.status);let r;try{r=await e.json()}catch(s){throw new So(wo(s),s)}let n;const a=c5(e);if(a&&a.getTime()>=eA["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new hE(wo(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new fi}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0))throw new hE(wo(r),e.status,r.weak_password.reasons);throw new z8(wo(r),e.status||500,n)}const h5=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function We(e,t,r,n){var a;const s=Object.assign({},n==null?void 0:n.headers);s[Uv]||(s[Uv]=eA["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const i=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const o=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await m5(e,t,r+o,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function m5(e,t,r,n,a,s){const i=h5(t,n,a,s);let o;try{o=await e(r,Object.assign({},i))}catch(l){throw console.error(l),new Bv(wo(l),0)}if(o.ok||await xE(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await xE(l)}}function Ra(e){var t;let r=null;v5(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Y8(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function yE(e){const t=Ra(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function xi(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function p5(e){return{data:e,error:null}}function g5(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s}=e,i=oo(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s},l=Object.assign({},i);return{data:{properties:o,user:l},error:null}}function wE(e){return e}function v5(e){return e.access_token&&e.refresh_token&&e.expires_in}const wp=["global","local","others"];class x5{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=nA(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=wp[0]){if(wp.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${wp.join(", ")}`);try{return await We(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await We(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:xi})}catch(n){if(Le(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=oo(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await We(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:g5,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Le(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await We(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:xi})}catch(r){if(Le(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,s,i,o,l;try{const u={nextPage:null,lastPage:0,total:0},d=await We(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:wE});if(d.error)throw d.error;const f=await d.json(),h=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(v=>{const p=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(v.split(";")[1].split("=")[1]);u[`${g}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Le(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Ec(t);try{return await We(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:xi})}catch(r){if(Le(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ec(t);try{return await We(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:xi})}catch(n){if(Le(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Ec(t);try{return await We(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:xi})}catch(n){if(Le(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Ec(t.userId);try{const{data:r,error:n}=await We(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Le(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ec(t.userId),Ec(t.id);try{return{data:await We(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,s,i,o,l;try{const u={nextPage:null,lastPage:0,total:0},d=await We(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:wE});if(d.error)throw d.error;const f=await d.json(),h=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(v=>{const p=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(v.split(";")[1].split("=")[1]);u[`${g}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Le(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await We(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Le(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await We(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Le(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await We(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Le(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await We(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Le(r))return{data:null,error:r};throw r}}}function _E(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Sc={debug:!!(globalThis&&rA()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class aA extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class y5 extends aA{}async function w5(e,t,r){Sc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Sc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Sc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Sc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Sc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new y5(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Sc.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function _5(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function sA(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function E5(e){return parseInt(e,16)}function S5(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function b5(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:s=new Date,nonce:i,notBefore:o,requestId:l,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=sA(e.address),v=d?`${d}://${n}`:n,p=e.statement?`${e.statement}
`:"",g=`${v} wants you to sign in with your Ethereum account:
${m}

${p}`;let y=`URI: ${f}
Version: ${h}
Chain ID: ${r}${i?`
Nonce: ${i}`:""}
Issued At: ${s.toISOString()}`;if(a&&(y+=`
Expiration Time: ${a.toISOString()}`),o&&(y+=`
Not Before: ${o.toISOString()}`),l&&(y+=`
Request ID: ${l}`),u){let _=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);_+=`
- ${w}`}y+=_}return`${g}
${y}`}class er extends Error{constructor({message:t,code:r,cause:n,name:a}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=a??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class i0 extends er{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function T5({error:e,options:t}){var r,n,a;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new er({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new er({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new er({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=s.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new er({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new er({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new er({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new er({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new er({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(iA(i)){if(s.rp.id!==i)return new er({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new er({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new er({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new er({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new er({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function C5({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new er({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new er({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(iA(n)){if(r.rpId!==n)return new er({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new er({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new er({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new er({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class k5{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const A5=new k5;function j5(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=oo(e,["challenge","user","excludeCredentials"]),s=cl(t).buffer,i=Object.assign(Object.assign({},r),{id:cl(r.id).buffer}),o=Object.assign(Object.assign({},a),{challenge:s,user:i});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];o.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:cl(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function N5(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=oo(e,["challenge","allowCredentials"]),a=cl(t).buffer,s=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let i=0;i<r.length;i++){const o=r[i];s.allowCredentials[i]=Object.assign(Object.assign({},o),{id:cl(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return s}function I5(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:jo(new Uint8Array(e.response.attestationObject)),clientDataJSON:jo(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function R5(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:jo(new Uint8Array(a.authenticatorData)),clientDataJSON:jo(new Uint8Array(a.clientDataJSON)),signature:jo(new Uint8Array(a.signature)),userHandle:a.userHandle?jo(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function iA(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function EE(){var e,t;return!!(On()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function P5(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new i0("Browser returned unexpected credential type",t)}:{data:null,error:new i0("Empty credential response",t)}}catch(t){return{data:null,error:T5({error:t,options:e})}}}async function O5(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new i0("Browser returned unexpected credential type",t)}:{data:null,error:new i0("Empty credential response",t)}}catch(t){return{data:null,error:C5({error:t,options:e})}}}const F5={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},D5={userVerification:"preferred",hints:["security-key"]};function o0(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const s in a){const i=a[s];if(i!==void 0)if(Array.isArray(i))n[s]=i;else if(r(i))n[s]=i;else if(t(i)){const o=n[s];t(o)?n[s]=o0(o,i):n[s]=o0(i)}else n[s]=i}return n}function M5(e,t){return o0(F5,e,t||{})}function L5(e,t){return o0(D5,e,t||{})}class U5{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},s){try{const{data:i,error:o}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!i)return{data:null,error:o};const l=a??A5.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:u}=i.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(i.webauthn.type){case"create":{const u=M5(i.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:d,error:f}=await P5({publicKey:u,signal:l});return d?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=L5(i.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:d,error:f}=await O5(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:u,signal:l}));return d?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(i){return Le(i)?{data:null,error:i}:{data:null,error:new So("Unexpected error in challenge",i)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}},s){if(!r)return{data:null,error:new Nd("rpId is required for WebAuthn authentication")};try{if(!EE())return{data:null,error:new So("Browser does not support WebAuthn",null)};const{data:i,error:o}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:s});if(!i)return{data:null,error:o};const{webauthn:l}=i;return this._verify({factorId:t,challengeId:i.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(i){return Le(i)?{data:null,error:i}:{data:null,error:new So("Unexpected error in authenticate",i)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a},s){if(!r)return{data:null,error:new Nd("rpId is required for WebAuthn registration")};try{if(!EE())return{data:null,error:new So("Browser does not support WebAuthn",null)};const{data:i,error:o}=await this._enroll({friendlyName:t});if(!i)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:o};const{data:l,error:u}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:s});return l?this._verify({factorId:i.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(i){return Le(i)?{data:null,error:i}:{data:null,error:new So("Unexpected error in register",i)}}}}_5();const B5={url:M8,storageKey:L8,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:U8,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function SE(e,t,r){return await r()}const bc={};class Id{get jwks(){var t,r;return(r=(t=bc[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){bc[this.storageKey]=Object.assign(Object.assign({},bc[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=bc[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){bc[this.storageKey]=Object.assign(Object.assign({},bc[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Id.nextInstanceID,Id.nextInstanceID+=1,this.instanceID>0&&On()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},B5),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new x5({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=nA(a.fetch),this.lock=a.lock||SE,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:On()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=w5:this.lock=SE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new U5(this)},this.persistSession?(a.storage?this.storage=a.storage:rA()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=_E(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=_E(this.memoryStorage)),On()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Zk}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Z8(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),On()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),H8(s)){const l=(t=s.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:i,redirectType:o}=a;return this._debug("#_initialize()","detected session in URL",i,"redirect type",o),await this._saveSession(i),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Le(r)?{error:r}:{error:new So("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const s=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Ra}),{data:i,error:o}=s;if(o||!i)return{data:{user:null,session:null},error:o};const l=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(Le(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var r,n,a;try{let s;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await _c(this.storage,this.storageKey)),s=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:v},xform:Ra})}else if("phone"in t){const{phone:d,password:f,options:h}=t;s=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ra})}else throw new Hf("You must provide either an email or phone number and a password");const{data:i,error:o}=s;if(o||!i)return{data:{user:null,session:null},error:o};const l=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(Le(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:i,options:o}=t;r=await We(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:yE})}else if("phone"in t){const{phone:s,password:i,options:o}=t;r=await We(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:yE})}else throw new Hf("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new wc}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Le(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,s,i,o,l,u,d,f,h;let m,v;if("message"in t)m=t.message,v=t.signature;else{const{chain:p,wallet:g,statement:y,options:_}=t;let w;if(On())if(typeof g=="object")w=g;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")w=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=g}const E=new URL((r=_==null?void 0:_.url)!==null&&r!==void 0?r:window.location.href),T=await w.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!T||T.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const b=sA(T[0]);let S=(n=_==null?void 0:_.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!S){const A=await w.request({method:"eth_chainId"});S=E5(A)}const C={domain:E.host,address:b,statement:y,uri:E.href,version:"1",chainId:S,nonce:(a=_==null?void 0:_.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(i=(s=_==null?void 0:_.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(o=_==null?void 0:_.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=_==null?void 0:_.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=_==null?void 0:_.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=_==null?void 0:_.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=b5(C),v=await w.request({method:"personal_sign",params:[S5(m),b]})}try{const{data:p,error:g}=await We(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:v},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Ra});if(g)throw g;return!p||!p.session||!p.user?{data:{user:null,session:null},error:new wc}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:Object.assign({},p),error:g})}catch(p){if(Le(p))return{data:{user:null,session:null},error:p};throw p}}async signInWithSolana(t){var r,n,a,s,i,o,l,u,d,f,h,m;let v,p;if("message"in t)v=t.message,p=t.signature;else{const{chain:g,wallet:y,statement:_,options:w}=t;let E;if(On())if(typeof y=="object")E=y;else{const b=window;if("solana"in b&&typeof b.solana=="object"&&("signIn"in b.solana&&typeof b.solana.signIn=="function"||"signMessage"in b.solana&&typeof b.solana.signMessage=="function"))E=b.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=y}const T=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in E&&E.signIn){const b=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),_?{statement:_}:null));let S;if(Array.isArray(b)&&b[0]&&typeof b[0]=="object")S=b[0];else if(b&&typeof b=="object"&&"signedMessage"in b&&"signature"in b)S=b;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)v=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),p=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${T.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),..._?["",_,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(a=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const b=await E.signMessage(new TextEncoder().encode(v),"utf8");if(!b||!(b instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=b}}try{const{data:g,error:y}=await We(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:jo(p)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Ra});if(y)throw y;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new wc}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:y})}catch(g){if(Le(g))return{data:{user:null,session:null},error:g};throw g}}async _exchangeCodeForSession(t){const r=await vo(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:s,error:i}=await We(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ra});if(await oi(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new wc}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:a??null}),error:i})}catch(s){if(Le(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:s,nonce:i}=t,o=await We(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:s,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ra}),{data:l,error:u}=o;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new wc}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(Le(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,s,i;try{if("email"in t){const{email:o,options:l}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await _c(this.storage,this.storageKey));const{error:f}=await We(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:o,options:l}=t,{data:u,error:d}=await We(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(a=l==null?void 0:l.data)!==null&&a!==void 0?a:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(i=l==null?void 0:l.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Hf("You must provide either an email or phone number.")}catch(o){if(Le(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let a,s;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:o}=await We(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:Ra});if(o)throw o;if(!i)throw new Error("An error occurred on token verification.");const l=i.session,u=i.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if(Le(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let s=null,i=null;return this.flowType==="pkce"&&([s,i]=await _c(this.storage,this.storageKey)),await We(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:i}),headers:this.headers,xform:p5})}catch(s){if(Le(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new fi;const{error:a}=await We(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(Le(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:s}=t,{error:i}=await We(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:n,type:a,options:s}=t,{data:i,error:o}=await We(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:o}}throw new Hf("You must provide either an email or phone number and a type")}catch(r){if(Le(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await vo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<gp:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const i=await vo(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=yp()}if(this.storage.isServer&&t.user){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,d)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:t},error:null}}const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await We(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:xi}):await this._useSession(async r=>{var n,a,s;const{data:i,error:o}=r;if(o)throw o;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new fi}:await We(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:xi})})}catch(r){if(Le(r))return W8(r)&&(await this._removeSession(),await oi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:s}=n;if(s)throw s;if(!a.session)throw new fi;const i=a.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await _c(this.storage,this.storageKey));const{data:u,error:d}=await We(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:i.access_token,xform:xi});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(Le(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new fi;const r=Date.now()/1e3;let n=r,a=!0,s=null;const{payload:i}=xp(t.access_token);if(i.exp&&(n=i.exp,a=n<=r),a){const{data:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)throw l;s={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(Le(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:o}=r;if(o)throw o;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new fi;const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Le(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!On())throw new Gf("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Gf(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new fE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Gf("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new fE("No code detected.");const{data:_,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:_.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:s,refresh_token:i,expires_in:o,expires_at:l,token_type:u}=t;if(!s||!o||!i||!u)throw new Gf("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let h=d+f;l&&(h=parseInt(l));const m=h-d;m*1e3<=Fc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const v=h-f;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,d);const{data:p,error:g}=await this._getUser(s);if(g)throw g;const y={provider_token:n,provider_refresh_token:a,access_token:s,expires_in:f,expires_at:h,refresh_token:i,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(Le(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await vo(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return{error:s};const i=(n=a.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:o}=await this.admin.signOut(i,t);if(o&&!(V8(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await oi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Q8(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:s},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await _c(this.storage,this.storageKey,!0));try{return await We(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(Le(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async s=>{var i,o,l,u,d;const{data:f,error:h}=s;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await We(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return On()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Le(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:s}}=r;if(a)throw a;const{options:i,provider:o,token:l,access_token:u,nonce:d}=t,f=await We(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:Ra}),{data:h,error:m}=f;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new wc}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:m})}catch(a){if(Le(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:i}=r;if(i)throw i;return await We(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Le(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await r5(async a=>(a>0&&await t5(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await We(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ra})),(a,s)=>{const i=200*Math.pow(2,a);return s&&vp(s)&&Date.now()+i-n<Fc})}catch(n){if(this._debug(r,"error",n),Le(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),On()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await vo(this.storage,this.storageKey);if(a&&this.userStorage){let i=await vo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:a.user},await Dc(this.userStorage,this.storageKey+"-user",i)),a.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:yp()}else if(a&&!a.user&&!a.user){const i=await vo(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(a.user=i.user,await oi(this.storage,this.storageKey+"-user"),await Dc(this.storage,this.storageKey,a)):a.user=yp()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const s=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<gp;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${gp}s`),s){if(this.autoRefreshToken&&a.refresh_token){const{error:i}=await this._callRefreshToken(a.refresh_token);i&&(console.error(i),vp(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:o}=await this._getUser(a.access_token);!o&&(i!=null&&i.user)?(a.user=i.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new fi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new em;const{data:s,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!s.session)throw new fi;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={data:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(a,"error",s),Le(s)){const i={data:null,error:s};return vp(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],i=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(l){s.push(l)}});if(await Promise.all(i),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Dc(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const s=vE(a);await Dc(this.storage,this.storageKey,s)}else{const a=vE(r);await Dc(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await oi(this.storage,this.storageKey),await oi(this.storage,this.storageKey+"-code-verifier"),await oi(this.storage,this.storageKey+"-user"),this.userStorage&&await oi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&On()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Fc);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Fc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Fc}ms, refresh threshold is ${Lv} ticks`),a<=Lv&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof aA)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!On()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,i]=await _c(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(i)}`});a.push(o.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);a.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?{data:null,error:s}:await We(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Le(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:i}=r;if(i)return{data:null,error:i};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await We(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&l.type==="totp"&&(!((a=l==null?void 0:l.totp)===null||a===void 0)&&a.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(Le(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return{data:null,error:s};const i=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?I5(t.webauthn.credential_response):R5(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:l}=await We(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:i,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(Le(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return{data:null,error:s};const i=await We(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(i.error)return i;const{data:o}=i;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:j5(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:N5(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Le(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(s),s.status==="verified"&&a[s.factor_type].push(s);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:s}=t;if(s)return{data:null,error:s};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=xp(a.access_token);let o=null;i.aal&&(o=i.aal);let l=o;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=i.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+$8>a)return n;const{data:s,error:i}=await We(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=a,n=s.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:v}=await this.getSession();if(v||!m.session)return{data:null,error:v};n=m.session.access_token}const{header:a,payload:s,signature:i,raw:{header:o,payload:l}}=xp(n);r!=null&&r.allowExpired||l5(s.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:s,header:a,signature:i},error:null}}const d=u5(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,i,X8(`${o}.${l}`)))throw new $v("Invalid JWT signature");return{data:{claims:s,header:a,signature:i},error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}}}Id.nextInstanceID=0;const $5=Id;class z5 extends $5{constructor(t){super(t)}}class V5{constructor(t,r,n){var a,s,i;this.supabaseUrl=t,this.supabaseKey=r;const o=D8(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:A8,realtime:N8,auth:Object.assign(Object.assign({},j8),{storageKey:l}),global:k8},d=F8(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=d.auth)!==null&&i!==void 0?i:{},this.headers,d.global.fetch),this.fetch=P8(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new M6(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new b8(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new j6(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:s,storageKey:i,flowType:o,lock:l,debug:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new z5({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:s,flowType:o,lock:l,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new e8(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const W5=(e,t,r)=>new V5(e,t,r);function H5(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}H5()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const G5="https://kndaphgvedudbbmikqye.supabase.co",q5="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",ge=W5(G5,q5,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),K5=5*60*1e3,J5=4*60*1e3,X5=()=>{const{toast:e}=dn(),t=x.useRef(null),r=x.useRef(null),n=()=>{e({title:"Inatividade detectada",description:"Voc ser desconectado em 1 minuto por inatividade.",variant:"destructive"})},a=async()=>{try{t.current&&clearTimeout(t.current),r.current&&clearTimeout(r.current);const{data:{session:i}}=await ge.auth.getSession();i&&(e({title:"Sesso encerrada",description:"Voc foi desconectado por inatividade.",variant:"destructive"}),await ge.auth.signOut()),window.location.replace("/auth")}catch(i){console.error("Erro ao fazer logout:",i),window.location.replace("/auth")}},s=()=>{t.current&&clearTimeout(t.current),r.current&&clearTimeout(r.current),r.current=setTimeout(n,J5),t.current=setTimeout(a,K5)};return x.useEffect(()=>{const i=["mousedown","mousemove","keypress","scroll","touchstart","click"];return i.forEach(o=>{document.addEventListener(o,s)}),s(),()=>{i.forEach(o=>{document.removeEventListener(o,s)}),t.current&&clearTimeout(t.current),r.current&&clearTimeout(r.current)}},[]),null},Ue=x.forwardRef(({className:e,...t},r)=>c.jsx("div",{ref:r,className:Te("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Ue.displayName="Card";const vt=x.forwardRef(({className:e,...t},r)=>c.jsx("div",{ref:r,className:Te("flex flex-col space-y-1.5 p-6",e),...t}));vt.displayName="CardHeader";const xt=x.forwardRef(({className:e,...t},r)=>c.jsx("h3",{ref:r,className:Te("text-2xl font-semibold leading-none tracking-tight",e),...t}));xt.displayName="CardTitle";const aa=x.forwardRef(({className:e,...t},r)=>c.jsx("p",{ref:r,className:Te("text-sm text-muted-foreground",e),...t}));aa.displayName="CardDescription";const pt=x.forwardRef(({className:e,...t},r)=>c.jsx("div",{ref:r,className:Te("p-6 pt-0",e),...t}));pt.displayName="CardContent";const Y5=x.forwardRef(({className:e,...t},r)=>c.jsx("div",{ref:r,className:Te("flex items-center p-6 pt-0",e),...t}));Y5.displayName="CardFooter";const W1=H0("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ae=x.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},s)=>{const i=n?X4:"button";return c.jsx(i,{className:Te(W1({variant:t,size:r,className:e})),ref:s,...a})});ae.displayName="Button";const gr={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},tf=()=>{const e=St(),t=(f,h)=>{try{if(!f||!h)return;const m="programacao_cultivares_produtor_map",v=localStorage.getItem(m),p=v?JSON.parse(v):{};p[f]=h,localStorage.setItem(m,JSON.stringify(p))}catch{}},r=f=>{try{if(!f)return;const h="programacao_cultivares_produtor_map",m=localStorage.getItem(h),v=m?JSON.parse(m):{};v[f]&&(delete v[f],localStorage.setItem(h,JSON.stringify(v)))}catch{}},{data:n,isLoading:a,error:s}=bt({queryKey:["programacao-cultivares"],queryFn:async()=>{const f=gr==null?void 0:gr.VITE_API_URL,h=typeof window<"u"?window.location.hostname:"127.0.0.1",m=f||`http://${h}:5000`,v=await fetch(`${m}/programacao_cultivares`);if(!v.ok)throw new Error(`Erro ao carregar cultivares: ${v.status}`);const p=await v.json(),g=(p==null?void 0:p.items)??[],y="programacao_cultivares_produtor_map";let _={};try{const T=localStorage.getItem(y);_=T?JSON.parse(T):{}}catch{}const w=[],E=g.map(T=>{if(!String(T.produtor_numerocm||"").trim()){const S=String(_[T.id]||"").trim();if(S)return w.push(fetch(`${m}/programacao_cultivares/${T.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({produtor_numerocm:S})})),{...T,produtor_numerocm:S}}return T});try{w.length&&await Promise.all(w)}catch{}return E}}),i=ot({mutationFn:async f=>{const h=gr==null?void 0:gr.VITE_API_URL,m=typeof window<"u"?window.location.hostname:"127.0.0.1",v=h||`http://${m}:5000`,{defensivos_fazenda:p,...g}=f,y={...g,defensivos_fazenda:p},_=await fetch(`${v}/programacao_cultivares`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)});if(!_.ok){const E=await _.text();throw new Error(E)}const w=await _.json();return t(w==null?void 0:w.id,f.produtor_numerocm),{...f,id:w.id}},onSuccess:(f,h)=>{e.invalidateQueries({queryKey:["programacao-cultivares"]}),le.success("Programao criada com sucesso")},onError:f=>{le.error(`Erro ao criar programao: ${f.message}`)}}),o=ot({mutationFn:async({id:f,...h})=>{const m=gr==null?void 0:gr.VITE_API_URL,v=typeof window<"u"?window.location.hostname:"127.0.0.1",p=m||`http://${v}:5000`,g=await fetch(`${p}/programacao_cultivares/${f}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)});if(!g.ok){const y=await g.text();throw new Error(y)}return t(f,h==null?void 0:h.produtor_numerocm),{id:f,...h}},onSuccess:(f,h)=>{e.invalidateQueries({queryKey:["programacao-cultivares"]}),le.success("Programao atualizada com sucesso")},onError:f=>{le.error(`Erro ao atualizar programao: ${f.message}`)}}),l=ot({mutationFn:async f=>{const h=gr==null?void 0:gr.VITE_API_URL,m=typeof window<"u"?window.location.hostname:"127.0.0.1",v=h||`http://${m}:5000`,p=await fetch(`${v}/programacao_cultivares/${f}`,{method:"DELETE"});if(!p.ok)throw new Error(`Erro ao excluir programao: ${p.status}`)},onSuccess:(f,h)=>{r(h),e.invalidateQueries({queryKey:["programacao-cultivares"]}),le.success("Programao excluda com sucesso")},onError:f=>{le.error(`Erro ao excluir programao: ${f.message}`)}}),u=ot({mutationFn:async f=>{const h=gr==null?void 0:gr.VITE_API_URL,m=typeof window<"u"?window.location.hostname:"127.0.0.1",v=h||`http://${m}:5000`,p=n==null?void 0:n.find(b=>b.id===f);if(!p)throw new Error("Programao no encontrada");const{id:g,created_at:y,updated_at:_,...w}=p,E=await fetch(`${v}/programacao_cultivares`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)});if(!E.ok){const b=await E.text();throw new Error(b)}const T=await E.json();return t(T==null?void 0:T.id,p.produtor_numerocm),{...w,id:T.id}},onSuccess:()=>{e.invalidateQueries({queryKey:["programacao-cultivares"]}),le.success("Programao duplicada com sucesso")},onError:f=>{le.error(`Erro ao duplicar programao: ${f.message}`)}}),d=ot({mutationFn:async({id:f,produtor_numerocm:h,area:m})=>{const v=gr==null?void 0:gr.VITE_API_URL,p=typeof window<"u"?window.location.hostname:"127.0.0.1",g=v||`http://${p}:5000`,y=n==null?void 0:n.find(N=>N.id===f);if(!y)throw new Error("Programao no encontrada");const{id:_,created_at:w,updated_at:E,user_id:T,produtor_numerocm:b,area:S,...C}=y,A={...C,produtor_numerocm:h,area:m},j=await fetch(`${g}/programacao_cultivares`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(A)});if(!j.ok){const N=await j.text();throw new Error(N)}const I=await j.json();return t(I==null?void 0:I.id,h),{...A,id:I.id}},onSuccess:()=>{e.invalidateQueries({queryKey:["programacao-cultivares"]}),le.success("Programao replicada com sucesso")},onError:f=>{le.error(`Erro ao replicar programao: ${f.message}`)}});return{programacoes:n??[],isLoading:a,error:s,create:i.mutate,update:o.mutate,remove:l.mutate,duplicate:u.mutate,replicate:d.mutateAsync,isCreating:i.isPending,isUpdating:o.isPending,isDeleting:l.isPending,isDuplicating:u.isPending,isReplicating:d.isPending}},Xr={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},H1=()=>{const e=St(),t=(f,h)=>{try{if(!f||!h)return;const m="programacao_adubacao_produtor_map",v=localStorage.getItem(m),p=v?JSON.parse(v):{};p[f]=(h||"").trim(),localStorage.setItem(m,JSON.stringify(p))}catch{}},r=f=>{try{if(!f)return;const h="programacao_adubacao_produtor_map",m=localStorage.getItem(h),v=m?JSON.parse(m):{};v[f]&&(delete v[f],localStorage.setItem(h,JSON.stringify(v)))}catch{}},{data:n,isLoading:a,error:s}=bt({queryKey:["programacao-adubacao"],queryFn:async()=>{const f=Xr==null?void 0:Xr.VITE_API_URL,h=typeof window<"u"?window.location.hostname:"127.0.0.1",m=f||`http://${h}:5000`,v=await fetch(`${m}/programacao_adubacao`);if(!v.ok)throw new Error(`Erro ao carregar adubao: ${v.status}`);const p=await v.json(),g=(p==null?void 0:p.items)??[],y="programacao_adubacao_produtor_map";let _={};try{const T=localStorage.getItem(y);_=T?JSON.parse(T):{}}catch{}const w=[],E=g.map(T=>{if(!String(T.produtor_numerocm||"").trim()){const S=String(_[T.id]||"").trim();if(S)return w.push(fetch(`${m}/programacao_adubacao/${T.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({produtor_numerocm:S})})),{...T,produtor_numerocm:S}}return T});try{w.length&&await Promise.all(w)}catch{}return E}}),i=ot({mutationFn:async f=>{const h=Xr==null?void 0:Xr.VITE_API_URL,m=typeof window<"u"?window.location.hostname:"127.0.0.1",v=h||`http://${m}:5000`,p=await fetch(`${v}/programacao_adubacao`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});if(!p.ok){const y=await p.text();throw new Error(y)}const g=await p.json();return t(g==null?void 0:g.id,f.produtor_numerocm),{...f,id:g.id}},onSuccess:()=>{e.invalidateQueries({queryKey:["programacao-adubacao"]}),le.success("Adubao criada com sucesso")},onError:f=>{le.error(`Erro ao criar adubao: ${f.message}`)}}),o=ot({mutationFn:async({id:f,...h})=>{const m=Xr==null?void 0:Xr.VITE_API_URL,v=typeof window<"u"?window.location.hostname:"127.0.0.1",p=m||`http://${v}:5000`,g=await fetch(`${p}/programacao_adubacao/${f}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)});if(!g.ok){const y=await g.text();throw new Error(y)}return h.produtor_numerocm&&t(f,h.produtor_numerocm),{id:f,...h}},onSuccess:()=>{e.invalidateQueries({queryKey:["programacao-adubacao"]}),le.success("Adubao atualizada com sucesso")},onError:f=>{le.error(`Erro ao atualizar adubao: ${f.message}`)}}),l=ot({mutationFn:async({id:f,produtor_numerocm:h,area:m})=>{const v=(n||[]).find(S=>S.id===f);if(!v)throw new Error("Programao no encontrada");const{id:p,created_at:g,updated_at:y,user_id:_,produtor_numerocm:w,area:E,...T}=v,b={...T,produtor_numerocm:h,area:m};return i.mutateAsync(b)},onSuccess:()=>{e.invalidateQueries({queryKey:["programacao-adubacao"]}),le.success("Adubao replicada com sucesso")},onError:f=>{le.error(`Erro ao replicar adubao: ${f.message}`)}}),u=ot({mutationFn:async f=>{const h=Xr==null?void 0:Xr.VITE_API_URL,m=typeof window<"u"?window.location.hostname:"127.0.0.1",v=h||`http://${m}:5000`,p=await fetch(`${v}/programacao_adubacao/${f}`,{method:"DELETE"});if(!p.ok)throw new Error(`Erro ao excluir adubao: ${p.status}`)},onSuccess:()=>{e.invalidateQueries({queryKey:["programacao-adubacao"]}),le.success("Adubao excluda com sucesso")},onError:f=>{le.error(`Erro ao excluir adubao: ${f.message}`)}}),d=ot({mutationFn:async f=>{const h=Xr==null?void 0:Xr.VITE_API_URL,m=typeof window<"u"?window.location.hostname:"127.0.0.1",v=h||`http://${m}:5000`,p=n==null?void 0:n.find(b=>b.id===f);if(!p)throw new Error("Adubao no encontrada");const{id:g,created_at:y,updated_at:_,...w}=p,E=await fetch(`${v}/programacao_adubacao`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)});if(!E.ok){const b=await E.text();throw new Error(b)}const T=await E.json();return t(T==null?void 0:T.id,w.produtor_numerocm),{...w,id:T.id}},onSuccess:()=>{e.invalidateQueries({queryKey:["programacao-adubacao"]}),le.success("Adubao duplicada com sucesso")},onError:f=>{le.error(`Erro ao duplicar adubao: ${f.message}`)}});return{programacoes:n??[],isLoading:a,error:s,create:i.mutate,update:o.mutate,remove:f=>{u.mutate(f,{onSuccess:()=>r(f)})},duplicate:d.mutate,replicate:l.mutateAsync,isCreating:i.isPending,isUpdating:o.isPending,isDeleting:u.isPending,isDuplicating:d.isPending,isReplicating:l.isPending}},G1=()=>{const e=St(),t=(f,h)=>{try{if(!f||!h)return;const m="aplicacoes_defensivos_produtor_map",v=localStorage.getItem(m),p=v?JSON.parse(v):{};p[f]=(h||"").trim(),localStorage.setItem(m,JSON.stringify(p))}catch{}},r=f=>{try{if(!f)return;const h="aplicacoes_defensivos_produtor_map",m=localStorage.getItem(h),v=m?JSON.parse(m):{};v[f]&&(delete v[f],localStorage.setItem(h,JSON.stringify(v)))}catch{}},{data:n=[],isLoading:a,error:s}=bt({queryKey:["aplicacoes-defensivos"],queryFn:async()=>{const{data:f,error:h}=await ge.from("aplicacoes_defensivos").select("*").order("created_at",{ascending:!1});if(h)throw h;const m="aplicacoes_defensivos_produtor_map";let v={};try{const g=localStorage.getItem(m);v=g?JSON.parse(g):{}}catch{}return await Promise.all(f.map(async g=>{const{data:y,error:_}=await ge.from("programacao_defensivos").select("*").eq("aplicacao_id",g.id).order("created_at",{ascending:!0});if(_)throw _;let w=String(g.produtor_numerocm||"").trim();if(!w){const E=String(v[g.id]||"").trim();if(E){w=E;try{await ge.from("aplicacoes_defensivos").update({produtor_numerocm:E}).eq("id",g.id)}catch{}}}return{...g,produtor_numerocm:w||g.produtor_numerocm,defensivos:y||[]}}))}}),i=ot({mutationFn:async f=>{const{data:{user:h}}=await ge.auth.getUser();if(!h)throw new Error("Usurio no autenticado");const{data:m,error:v}=await ge.from("aplicacoes_defensivos").insert({user_id:h.id,produtor_numerocm:f.produtor_numerocm,area:f.area}).select().single();if(v)throw v;const p=f.defensivos.map(y=>({aplicacao_id:m.id,user_id:h.id,classe:y.classe||null,defensivo:y.defensivo,dose:y.dose,unidade:y.unidade,alvo:y.alvo,produto_salvo:y.produto_salvo,deve_faturar:y.deve_faturar,porcentagem_salva:y.porcentagem_salva,area_hectares:y.area_hectares,safra_id:y.safra_id}));let{error:g}=await ge.from("programacao_defensivos").insert(p);if(g&&String(g.message||"").toLowerCase().includes("classe")){const y=p.map(({classe:w,...E})=>E),{error:_}=await ge.from("programacao_defensivos").insert(y);_?g=_:(le.info("Classe no persistida (coluna ausente). Migre o banco para salvar a classe."),g=null)}if(g)throw g;return t(m.id,f.produtor_numerocm),m},onSuccess:()=>{e.invalidateQueries({queryKey:["aplicacoes-defensivos"]}),le.success("Aplicao criada com sucesso!")},onError:f=>{le.error("Erro ao criar aplicao: "+f.message)}}),o=ot({mutationFn:async({id:f,...h})=>{const{data:{user:m}}=await ge.auth.getUser();if(!m)throw new Error("Usurio no autenticado");const{error:v}=await ge.from("aplicacoes_defensivos").update({produtor_numerocm:h.produtor_numerocm,area:h.area}).eq("id",f);if(v)throw v;await ge.from("programacao_defensivos").delete().eq("aplicacao_id",f);const p=h.defensivos.map(y=>({aplicacao_id:f,user_id:m.id,classe:y.classe||null,defensivo:y.defensivo,dose:y.dose,unidade:y.unidade,alvo:y.alvo,produto_salvo:y.produto_salvo,deve_faturar:y.deve_faturar,porcentagem_salva:y.porcentagem_salva,area_hectares:y.area_hectares,safra_id:y.safra_id}));let{error:g}=await ge.from("programacao_defensivos").insert(p);if(g&&String(g.message||"").toLowerCase().includes("classe")){const y=p.map(({classe:w,...E})=>E),{error:_}=await ge.from("programacao_defensivos").insert(y);_?g=_:(le.info("Classe no persistida (coluna ausente). Migre o banco para salvar a classe."),g=null)}if(g)throw g;t(f,h.produtor_numerocm)},onSuccess:()=>{e.invalidateQueries({queryKey:["aplicacoes-defensivos"]}),le.success("Aplicao atualizada com sucesso!")},onError:f=>{le.error("Erro ao atualizar aplicao: "+f.message)}}),l=ot({mutationFn:async f=>{const{error:h}=await ge.from("aplicacoes_defensivos").delete().eq("id",f);if(h)throw h},onSuccess:(f,h)=>{e.invalidateQueries({queryKey:["aplicacoes-defensivos"]}),r(h),le.success("Aplicao excluda com sucesso!")},onError:f=>{le.error("Erro ao excluir aplicao: "+f.message)}}),u=ot({mutationFn:async f=>{const h=n.find(m=>m.id===f);if(!h)throw new Error("Aplicao no encontrada");return i.mutateAsync({produtor_numerocm:h.produtor_numerocm||"",area:h.area,defensivos:h.defensivos.map(({id:m,...v})=>v)})}}),d=ot({mutationFn:async({id:f,produtor_numerocm:h,area:m})=>{const v=n.find(p=>p.id===f);if(!v)throw new Error("Aplicao no encontrada");return i.mutateAsync({produtor_numerocm:h,area:m,defensivos:v.defensivos.map(({id:p,...g})=>g)})},onSuccess:()=>{e.invalidateQueries({queryKey:["aplicacoes-defensivos"]}),le.success("Aplicao replicada com sucesso!")},onError:f=>{le.error("Erro ao replicar aplicao: "+f.message)}});return{aplicacoes:n,isLoading:a,error:s,create:i.mutateAsync,update:o.mutateAsync,remove:l.mutateAsync,duplicate:u.mutateAsync,replicate:d.mutateAsync,isCreating:i.isPending,isUpdating:o.isPending,isDeleting:l.isPending,isDuplicating:u.isPending,isReplicating:d.isPending}},oA=()=>{const{toast:e}=dn(),t=St(),{data:r,isLoading:n,error:a}=bt({queryKey:["profile"],queryFn:async()=>{const{data:{user:i}}=await ge.auth.getUser();if(!i)throw new Error("Usurio no autenticado");const{data:o,error:l}=await ge.from("profiles").select("*").eq("user_id",i.id).maybeSingle();if(l)throw l;return o}}),s=ot({mutationFn:async i=>{const{data:{user:o}}=await ge.auth.getUser();if(!o)throw new Error("Usurio no autenticado");const{data:l,error:u}=await ge.from("profiles").upsert({user_id:o.id,...i}).select().single();if(u)throw u;return l},onSuccess:()=>{t.invalidateQueries({queryKey:["profile"]}),e({title:"Perfil atualizado",description:"Suas informaes foram salvas com sucesso."})},onError:i=>{e({title:"Erro ao atualizar perfil",description:i.message,variant:"destructive"})}});return{profile:r,isLoading:n,error:a,updateProfile:s.mutate,isUpdating:s.isPending}},_p={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},Qi=e=>{const{data:t,isLoading:r,error:n}=bt({queryKey:["fazendas",e||"by-consultor"],queryFn:async()=>{var _;const{data:a}=await ge.auth.getUser(),s=a==null?void 0:a.user;if(!s)throw new Error("Usurio no autenticado");const{data:i}=await ge.from("user_roles").select("role").eq("user_id",s.id).maybeSingle(),o=i==null?void 0:i.role,l=o==="admin",u=o==="gestor",d=_p==null?void 0:_p.VITE_API_URL,f=typeof window<"u"?window.location.hostname:"127.0.0.1",h=d||`http://${f}:5000`;let m=`${h}/fazendas`;if(e)m=`${h}/fazendas?numerocm=${encodeURIComponent(e)}`;else if(!l&&!u){const{data:w}=await ge.from("profiles").select("numerocm_consultor, email").eq("user_id",s.id).maybeSingle();let E=w==null?void 0:w.numerocm_consultor;if(!E&&(w!=null&&w.email)){const T=await fetch(`${h}/consultores/by_email?email=${encodeURIComponent(String(w.email).toLowerCase())}`);if(T.ok){const b=await T.json();E=(_=b==null?void 0:b.item)==null?void 0:_.numerocm_consultor}}E&&(m=`${h}/fazendas?numerocm_consultor=${encodeURIComponent(E)}`)}const v=await fetch(m);if(!v.ok){const w=await v.text();throw new Error(w)}const p=await v.json();return((p==null?void 0:p.items)||[]).map(w=>({...w,area_cultivavel:0}))}});return{data:t??[],isLoading:r,error:n}},Ep={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},fc=()=>{const{data:e,isLoading:t,error:r}=bt({queryKey:["produtores","by-consultor"],queryFn:async()=>{var p;const{data:n}=await ge.auth.getUser(),a=n==null?void 0:n.user;if(!a)throw new Error("Usurio no autenticado");const{data:s}=await ge.from("user_roles").select("role").eq("user_id",a.id).maybeSingle(),i=s==null?void 0:s.role,o=i==="admin",l=i==="gestor",u=Ep==null?void 0:Ep.VITE_API_URL,d=typeof window<"u"?window.location.hostname:"127.0.0.1",f=u||`http://${d}:5000`;let h=`${f}/produtores`;if(!o&&!l){const{data:g}=await ge.from("profiles").select("numerocm_consultor, email").eq("user_id",a.id).maybeSingle();let y=g==null?void 0:g.numerocm_consultor;if(!y&&(g!=null&&g.email)){const _=await fetch(`${f}/consultores/by_email?email=${encodeURIComponent(String(g.email).toLowerCase())}`);if(_.ok){const w=await _.json();y=(p=w==null?void 0:w.item)==null?void 0:p.numerocm_consultor}}y&&(h=`${f}/produtores?numerocm_consultor=${encodeURIComponent(y)}`)}const m=await fetch(h);if(!m.ok){const g=await m.text();throw new Error(g)}const v=await m.json();return(v==null?void 0:v.items)||[]}});return{data:e??[],isLoading:t,error:r}},q1=()=>bt({queryKey:["admin-role"],queryFn:async()=>{const{data:{user:e}}=await ge.auth.getUser();if(!e)return{isAdmin:!1};const{data:t,error:r}=await ge.from("user_roles").select("role").eq("user_id",e.id).eq("role","admin").maybeSingle();return r?(console.error("Error checking admin role:",r),{isAdmin:!1}):{isAdmin:!!t}}});var Sp="focusScope.autoFocusOnMount",bp="focusScope.autoFocusOnUnmount",bE={bubbles:!1,cancelable:!0},Q5="FocusScope",tm=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...i}=e,[o,l]=x.useState(null),u=lr(a),d=lr(s),f=x.useRef(null),h=Ke(t,p=>l(p)),m=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let p=function(w){if(m.paused||!o)return;const E=w.target;o.contains(E)?f.current=E:hi(f.current,{select:!0})},g=function(w){if(m.paused||!o)return;const E=w.relatedTarget;E!==null&&(o.contains(E)||hi(f.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const T of w)T.removedNodes.length>0&&hi(o)};document.addEventListener("focusin",p),document.addEventListener("focusout",g);const _=new MutationObserver(y);return o&&_.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",g),_.disconnect()}}},[n,o,m.paused]),x.useEffect(()=>{if(o){CE.add(m);const p=document.activeElement;if(!o.contains(p)){const y=new CustomEvent(Sp,bE);o.addEventListener(Sp,u),o.dispatchEvent(y),y.defaultPrevented||(Z5(aU(cA(o)),{select:!0}),document.activeElement===p&&hi(o))}return()=>{o.removeEventListener(Sp,u),setTimeout(()=>{const y=new CustomEvent(bp,bE);o.addEventListener(bp,d),o.dispatchEvent(y),y.defaultPrevented||hi(p??document.body,{select:!0}),o.removeEventListener(bp,d),CE.remove(m)},0)}}},[o,u,d,m]);const v=x.useCallback(p=>{if(!r&&!n||m.paused)return;const g=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,y=document.activeElement;if(g&&y){const _=p.currentTarget,[w,E]=eU(_);w&&E?!p.shiftKey&&y===E?(p.preventDefault(),r&&hi(w,{select:!0})):p.shiftKey&&y===w&&(p.preventDefault(),r&&hi(E,{select:!0})):y===_&&p.preventDefault()}},[r,n,m.paused]);return c.jsx(Pe.div,{tabIndex:-1,...i,ref:h,onKeyDown:v})});tm.displayName=Q5;function Z5(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(hi(n,{select:t}),document.activeElement!==r)return}function eU(e){const t=cA(e),r=TE(t,e),n=TE(t.reverse(),e);return[r,n]}function cA(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function TE(e,t){for(const r of e)if(!tU(r,{upTo:t}))return r}function tU(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function rU(e){return e instanceof HTMLInputElement&&"select"in e}function hi(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&rU(e)&&t&&e.select()}}var CE=nU();function nU(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=kE(e,t),e.unshift(t)},remove(t){var r;e=kE(e,t),(r=e[0])==null||r.resume()}}}function kE(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function aU(e){return e.filter(t=>t.tagName!=="A")}var Tp=0;function K1(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??AE()),document.body.insertAdjacentElement("beforeend",e[1]??AE()),Tp++,()=>{Tp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Tp--}},[])}function AE(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Eh="right-scroll-bar-position",Sh="width-before-scroll-bar",sU="with-scroll-bars-hidden",iU="--removed-body-scroll-bar-size";function Cp(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function oU(e,t){var r=x.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var cU=typeof window<"u"?x.useLayoutEffect:x.useEffect,jE=new WeakMap;function lU(e,t){var r=oU(null,function(n){return e.forEach(function(a){return Cp(a,n)})});return cU(function(){var n=jE.get(r);if(n){var a=new Set(n),s=new Set(e),i=r.current;a.forEach(function(o){s.has(o)||Cp(o,null)}),s.forEach(function(o){a.has(o)||Cp(o,i)})}jE.set(r,e)},[e]),r}function uU(e){return e}function dU(e,t){t===void 0&&(t=uU);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var i=t(s,n);return r.push(i),function(){r=r.filter(function(o){return o!==i})}},assignSyncMedium:function(s){for(n=!0;r.length;){var i=r;r=[],i.forEach(s)}r={push:function(o){return s(o)},filter:function(){return r}}},assignMedium:function(s){n=!0;var i=[];if(r.length){var o=r;r=[],o.forEach(s),i=r}var l=function(){var d=i;i=[],d.forEach(s)},u=function(){return Promise.resolve().then(l)};u(),r={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),r}}}};return a}function fU(e){e===void 0&&(e={});var t=dU(null);return t.options=ma({async:!0,ssr:!1},e),t}var lA=function(e){var t=e.sideCar,r=oo(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return x.createElement(n,ma({},r))};lA.isSideCarExport=!0;function hU(e,t){return e.useMedium(t),lA}var uA=fU(),kp=function(){},rm=x.forwardRef(function(e,t){var r=x.useRef(null),n=x.useState({onScrollCapture:kp,onWheelCapture:kp,onTouchMoveCapture:kp}),a=n[0],s=n[1],i=e.forwardProps,o=e.children,l=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,v=e.noIsolation,p=e.inert,g=e.allowPinchZoom,y=e.as,_=y===void 0?"div":y,w=e.gapMode,E=oo(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=h,b=lU([r,t]),S=ma(ma({},E),a);return x.createElement(x.Fragment,null,d&&x.createElement(T,{sideCar:uA,removeScrollBar:u,shards:f,noRelative:m,noIsolation:v,inert:p,setCallbacks:s,allowPinchZoom:!!g,lockRef:r,gapMode:w}),i?x.cloneElement(x.Children.only(o),ma(ma({},S),{ref:b})):x.createElement(_,ma({},S,{className:l,ref:b}),o))});rm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};rm.classNames={fullWidth:Sh,zeroRight:Eh};var mU=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function pU(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=mU();return t&&e.setAttribute("nonce",t),e}function gU(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function vU(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var xU=function(){var e=0,t=null;return{add:function(r){e==0&&(t=pU())&&(gU(t,r),vU(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},yU=function(){var e=xU();return function(t,r){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},dA=function(){var e=yU(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},wU={left:0,top:0,right:0,gap:0},Ap=function(e){return parseInt(e||"",10)||0},_U=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Ap(r),Ap(n),Ap(a)]},EU=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return wU;var t=_U(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},SU=dA(),ll="data-scroll-locked",bU=function(e,t,r,n){var a=e.left,s=e.top,i=e.right,o=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(sU,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(o,"px ").concat(n,`;
  }
  body[`).concat(ll,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Eh,` {
    right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(Sh,` {
    margin-right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(Eh," .").concat(Eh,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Sh," .").concat(Sh,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(ll,`] {
    `).concat(iU,": ").concat(o,`px;
  }
`)},NE=function(){var e=parseInt(document.body.getAttribute(ll)||"0",10);return isFinite(e)?e:0},TU=function(){x.useEffect(function(){return document.body.setAttribute(ll,(NE()+1).toString()),function(){var e=NE()-1;e<=0?document.body.removeAttribute(ll):document.body.setAttribute(ll,e.toString())}},[])},CU=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;TU();var s=x.useMemo(function(){return EU(a)},[a]);return x.createElement(SU,{styles:bU(s,!t,a,r?"":"!important")})},zv=!1;if(typeof window<"u")try{var qf=Object.defineProperty({},"passive",{get:function(){return zv=!0,!0}});window.addEventListener("test",qf,qf),window.removeEventListener("test",qf,qf)}catch{zv=!1}var Tc=zv?{passive:!1}:!1,kU=function(e){return e.tagName==="TEXTAREA"},fA=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!kU(e)&&r[t]==="visible")},AU=function(e){return fA(e,"overflowY")},jU=function(e){return fA(e,"overflowX")},IE=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=hA(e,n);if(a){var s=mA(e,n),i=s[1],o=s[2];if(i>o)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},NU=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},IU=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},hA=function(e,t){return e==="v"?AU(t):jU(t)},mA=function(e,t){return e==="v"?NU(t):IU(t)},RU=function(e,t){return e==="h"&&t==="rtl"?-1:1},PU=function(e,t,r,n,a){var s=RU(e,window.getComputedStyle(t).direction),i=s*n,o=r.target,l=t.contains(o),u=!1,d=i>0,f=0,h=0;do{if(!o)break;var m=mA(e,o),v=m[0],p=m[1],g=m[2],y=p-g-s*v;(v||y)&&hA(e,o)&&(f+=y,h+=v);var _=o.parentNode;o=_&&_.nodeType===Node.DOCUMENT_FRAGMENT_NODE?_.host:_}while(!l&&o!==document.body||l&&(t.contains(o)||t===o));return(d&&(Math.abs(f)<1||!a)||!d&&(Math.abs(h)<1||!a))&&(u=!0),u},Kf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},RE=function(e){return[e.deltaX,e.deltaY]},PE=function(e){return e&&"current"in e?e.current:e},OU=function(e,t){return e[0]===t[0]&&e[1]===t[1]},FU=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},DU=0,Cc=[];function MU(e){var t=x.useRef([]),r=x.useRef([0,0]),n=x.useRef(),a=x.useState(DU++)[0],s=x.useState(dA)[0],i=x.useRef(e);x.useEffect(function(){i.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=F1([e.lockRef.current],(e.shards||[]).map(PE),!0).filter(Boolean);return p.forEach(function(g){return g.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var o=x.useCallback(function(p,g){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!i.current.allowPinchZoom;var y=Kf(p),_=r.current,w="deltaX"in p?p.deltaX:_[0]-y[0],E="deltaY"in p?p.deltaY:_[1]-y[1],T,b=p.target,S=Math.abs(w)>Math.abs(E)?"h":"v";if("touches"in p&&S==="h"&&b.type==="range")return!1;var C=IE(S,b);if(!C)return!0;if(C?T=S:(T=S==="v"?"h":"v",C=IE(S,b)),!C)return!1;if(!n.current&&"changedTouches"in p&&(w||E)&&(n.current=T),!T)return!0;var A=n.current||T;return PU(A,g,p,A==="h"?w:E,!0)},[]),l=x.useCallback(function(p){var g=p;if(!(!Cc.length||Cc[Cc.length-1]!==s)){var y="deltaY"in g?RE(g):Kf(g),_=t.current.filter(function(T){return T.name===g.type&&(T.target===g.target||g.target===T.shadowParent)&&OU(T.delta,y)})[0];if(_&&_.should){g.cancelable&&g.preventDefault();return}if(!_){var w=(i.current.shards||[]).map(PE).filter(Boolean).filter(function(T){return T.contains(g.target)}),E=w.length>0?o(g,w[0]):!i.current.noIsolation;E&&g.cancelable&&g.preventDefault()}}},[]),u=x.useCallback(function(p,g,y,_){var w={name:p,delta:g,target:y,should:_,shadowParent:LU(y)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(E){return E!==w})},1)},[]),d=x.useCallback(function(p){r.current=Kf(p),n.current=void 0},[]),f=x.useCallback(function(p){u(p.type,RE(p),p.target,o(p,e.lockRef.current))},[]),h=x.useCallback(function(p){u(p.type,Kf(p),p.target,o(p,e.lockRef.current))},[]);x.useEffect(function(){return Cc.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Tc),document.addEventListener("touchmove",l,Tc),document.addEventListener("touchstart",d,Tc),function(){Cc=Cc.filter(function(p){return p!==s}),document.removeEventListener("wheel",l,Tc),document.removeEventListener("touchmove",l,Tc),document.removeEventListener("touchstart",d,Tc)}},[]);var m=e.removeScrollBar,v=e.inert;return x.createElement(x.Fragment,null,v?x.createElement(s,{styles:FU(a)}):null,m?x.createElement(CU,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function LU(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const UU=hU(uA,MU);var nm=x.forwardRef(function(e,t){return x.createElement(rm,ma({},e,{ref:t,sideCar:UU}))});nm.classNames=rm.classNames;var BU=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},kc=new WeakMap,Jf=new WeakMap,Xf={},jp=0,pA=function(e){return e&&(e.host||pA(e.parentNode))},$U=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=pA(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},zU=function(e,t,r,n){var a=$U(t,Array.isArray(e)?e:[e]);Xf[r]||(Xf[r]=new WeakMap);var s=Xf[r],i=[],o=new Set,l=new Set(a),u=function(f){!f||o.has(f)||(o.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(o.has(h))d(h);else try{var m=h.getAttribute(n),v=m!==null&&m!=="false",p=(kc.get(h)||0)+1,g=(s.get(h)||0)+1;kc.set(h,p),s.set(h,g),i.push(h),p===1&&v&&Jf.set(h,!0),g===1&&h.setAttribute(r,"true"),v||h.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return d(t),o.clear(),jp++,function(){i.forEach(function(f){var h=kc.get(f)-1,m=s.get(f)-1;kc.set(f,h),s.set(f,m),h||(Jf.has(f)||f.removeAttribute(n),Jf.delete(f)),m||f.removeAttribute(r)}),jp--,jp||(kc=new WeakMap,kc=new WeakMap,Jf=new WeakMap,Xf={})}},J1=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=BU(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),zU(n,a,r,"aria-hidden")):function(){return null}},am="Dialog",[gA,vA]=Vr(am),[VU,Qa]=gA(am),xA=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:i=!0}=e,o=x.useRef(null),l=x.useRef(null),[u,d]=Sa({prop:n,defaultProp:a??!1,onChange:s,caller:am});return c.jsx(VU,{scope:t,triggerRef:o,contentRef:l,contentId:Cr(),titleId:Cr(),descriptionId:Cr(),open:u,onOpenChange:d,onOpenToggle:x.useCallback(()=>d(f=>!f),[d]),modal:i,children:r})};xA.displayName=am;var yA="DialogTrigger",wA=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Qa(yA,r),s=Ke(t,a.triggerRef);return c.jsx(Pe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Q1(a.open),...n,ref:s,onClick:Ie(e.onClick,a.onOpenToggle)})});wA.displayName=yA;var X1="DialogPortal",[WU,_A]=gA(X1,{forceMount:void 0}),EA=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,s=Qa(X1,t);return c.jsx(WU,{scope:t,forceMount:r,children:x.Children.map(n,i=>c.jsx(fn,{present:r||s.open,children:c.jsx(Xd,{asChild:!0,container:a,children:i})}))})};EA.displayName=X1;var c0="DialogOverlay",SA=x.forwardRef((e,t)=>{const r=_A(c0,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=Qa(c0,e.__scopeDialog);return s.modal?c.jsx(fn,{present:n||s.open,children:c.jsx(GU,{...a,ref:t})}):null});SA.displayName=c0;var HU=Xo("DialogOverlay.RemoveScroll"),GU=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Qa(c0,r);return c.jsx(nm,{as:HU,allowPinchZoom:!0,shards:[a.contentRef],children:c.jsx(Pe.div,{"data-state":Q1(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),ec="DialogContent",bA=x.forwardRef((e,t)=>{const r=_A(ec,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=Qa(ec,e.__scopeDialog);return c.jsx(fn,{present:n||s.open,children:s.modal?c.jsx(qU,{...a,ref:t}):c.jsx(KU,{...a,ref:t})})});bA.displayName=ec;var qU=x.forwardRef((e,t)=>{const r=Qa(ec,e.__scopeDialog),n=x.useRef(null),a=Ke(t,r.contentRef,n);return x.useEffect(()=>{const s=n.current;if(s)return J1(s)},[]),c.jsx(TA,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ie(e.onCloseAutoFocus,s=>{var i;s.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Ie(e.onPointerDownOutside,s=>{const i=s.detail.originalEvent,o=i.button===0&&i.ctrlKey===!0;(i.button===2||o)&&s.preventDefault()}),onFocusOutside:Ie(e.onFocusOutside,s=>s.preventDefault())})}),KU=x.forwardRef((e,t)=>{const r=Qa(ec,e.__scopeDialog),n=x.useRef(!1),a=x.useRef(!1);return c.jsx(TA,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i,o;(i=e.onCloseAutoFocus)==null||i.call(e,s),s.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),TA=x.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,...i}=e,o=Qa(ec,r),l=x.useRef(null),u=Ke(t,l);return K1(),c.jsxs(c.Fragment,{children:[c.jsx(tm,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:c.jsx(ql,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":Q1(o.open),...i,ref:u,onDismiss:()=>o.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(XU,{titleId:o.titleId}),c.jsx(QU,{contentRef:l,descriptionId:o.descriptionId})]})]})}),Y1="DialogTitle",CA=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Qa(Y1,r);return c.jsx(Pe.h2,{id:a.titleId,...n,ref:t})});CA.displayName=Y1;var kA="DialogDescription",AA=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Qa(kA,r);return c.jsx(Pe.p,{id:a.descriptionId,...n,ref:t})});AA.displayName=kA;var jA="DialogClose",NA=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Qa(jA,r);return c.jsx(Pe.button,{type:"button",...n,ref:t,onClick:Ie(e.onClick,()=>a.onOpenChange(!1))})});NA.displayName=jA;function Q1(e){return e?"open":"closed"}var IA="DialogTitleWarning",[JU,RA]=K4(IA,{contentName:ec,titleName:Y1,docsSlug:"dialog"}),XU=({titleId:e})=>{const t=RA(IA),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},YU="DialogDescriptionWarning",QU=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${RA(YU).contentName}}.`;return x.useEffect(()=>{var s;const a=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Z1=xA,PA=wA,ey=EA,sm=SA,im=bA,ty=CA,ry=AA,ny=NA;const ba=Z1,ZU=PA,eB=ey,OA=x.forwardRef(({className:e,...t},r)=>c.jsx(sm,{ref:r,className:Te("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));OA.displayName=sm.displayName;const Qn=x.forwardRef(({className:e,children:t,...r},n)=>c.jsxs(eB,{children:[c.jsx(OA,{}),c.jsxs(im,{ref:n,className:Te("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,c.jsxs(ny,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[c.jsx(tC,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Qn.displayName=im.displayName;const Zn=({className:e,...t})=>c.jsx("div",{className:Te("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Zn.displayName="DialogHeader";const Za=({className:e,...t})=>c.jsx("div",{className:Te("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Za.displayName="DialogFooter";const ea=x.forwardRef(({className:e,...t},r)=>c.jsx(ty,{ref:r,className:Te("text-lg font-semibold leading-none tracking-tight",e),...t}));ea.displayName=ty.displayName;const Vv=x.forwardRef(({className:e,...t},r)=>c.jsx(ry,{ref:r,className:Te("text-sm text-muted-foreground",e),...t}));Vv.displayName=ry.displayName;const _e=x.forwardRef(({className:e,type:t,lang:r="pt-BR",...n},a)=>c.jsx("input",{lang:r,type:t,className:Te("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...n}));_e.displayName="Input";var tB="Label",FA=x.forwardRef((e,t)=>c.jsx(Pe.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));FA.displayName=tB;var DA=FA;const rB=H0("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),de=x.forwardRef(({className:e,...t},r)=>c.jsx(DA,{ref:r,className:Te(rB(),e),...t}));de.displayName=DA.displayName;function ay(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var om="Checkbox",[nB,NQ]=Vr(om),[aB,sy]=nB(om);function sB(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:s,form:i,name:o,onCheckedChange:l,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,m]=Sa({prop:r,defaultProp:a??!1,onChange:l,caller:om}),[v,p]=x.useState(null),[g,y]=x.useState(null),_=x.useRef(!1),w=v?!!i||!!v.closest("form"):!0,E={checked:h,disabled:s,setChecked:m,control:v,setControl:p,name:o,form:i,value:d,hasConsumerStoppedPropagationRef:_,required:u,defaultChecked:Gi(a)?!1:a,isFormControl:w,bubbleInput:g,setBubbleInput:y};return c.jsx(aB,{scope:t,...E,children:iB(f)?f(E):n})}var MA="CheckboxTrigger",LA=x.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:s,value:i,disabled:o,checked:l,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:m,bubbleInput:v}=sy(MA,e),p=Ke(a,d),g=x.useRef(l);return x.useEffect(()=>{const y=s==null?void 0:s.form;if(y){const _=()=>f(g.current);return y.addEventListener("reset",_),()=>y.removeEventListener("reset",_)}},[s,f]),c.jsx(Pe.button,{type:"button",role:"checkbox","aria-checked":Gi(l)?"mixed":l,"aria-required":u,"data-state":VA(l),"data-disabled":o?"":void 0,disabled:o,value:i,...n,ref:p,onKeyDown:Ie(t,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:Ie(r,y=>{f(_=>Gi(_)?!0:!_),v&&m&&(h.current=y.isPropagationStopped(),h.current||y.stopPropagation())})})});LA.displayName=MA;var iy=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:s,required:i,disabled:o,value:l,onCheckedChange:u,form:d,...f}=e;return c.jsx(sB,{__scopeCheckbox:r,checked:a,defaultChecked:s,disabled:o,required:i,onCheckedChange:u,name:n,form:d,value:l,internal_do_not_use_render:({isFormControl:h})=>c.jsxs(c.Fragment,{children:[c.jsx(LA,{...f,ref:t,__scopeCheckbox:r}),h&&c.jsx(zA,{__scopeCheckbox:r})]})})});iy.displayName=om;var UA="CheckboxIndicator",BA=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,s=sy(UA,r);return c.jsx(fn,{present:n||Gi(s.checked)||s.checked===!0,children:c.jsx(Pe.span,{"data-state":VA(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});BA.displayName=UA;var $A="CheckboxBubbleInput",zA=x.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:s,defaultChecked:i,required:o,disabled:l,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:m}=sy($A,e),v=Ke(r,m),p=ay(s),g=w1(n);x.useEffect(()=>{const _=h;if(!_)return;const w=window.HTMLInputElement.prototype,T=Object.getOwnPropertyDescriptor(w,"checked").set,b=!a.current;if(p!==s&&T){const S=new Event("click",{bubbles:b});_.indeterminate=Gi(s),T.call(_,Gi(s)?!1:s),_.dispatchEvent(S)}},[h,p,s,a]);const y=x.useRef(Gi(s)?!1:s);return c.jsx(Pe.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??y.current,required:o,disabled:l,name:u,value:d,form:f,...t,tabIndex:-1,ref:v,style:{...t.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});zA.displayName=$A;function iB(e){return typeof e=="function"}function Gi(e){return e==="indeterminate"}function VA(e){return Gi(e)?"indeterminate":e?"checked":"unchecked"}const Bt=x.forwardRef(({className:e,...t},r)=>c.jsx(iy,{ref:r,className:Te("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:c.jsx(BA,{className:Te("flex items-center justify-center text-current"),children:c.jsx(va,{className:"h-4 w-4"})})}));Bt.displayName=iy.displayName;const Np={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},oy=e=>bt({queryKey:["talhoes",e],queryFn:async()=>{if(!e)return[];const t=Np==null?void 0:Np.VITE_API_URL,r=typeof window<"u"?window.location.hostname:"127.0.0.1",n=t||`http://${r}:5000`,a=await fetch(`${n}/talhoes?fazenda_id=${encodeURIComponent(e)}`);if(!a.ok){const i=await a.text();throw new Error(i)}const s=await a.json();return(s==null?void 0:s.items)||[]},enabled:!!e}),Ac={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"};function cy({fazendaId:e,fazendaNome:t,open:r,onOpenChange:n}){const{data:a=[],refetch:s}=oy(e),[i,o]=x.useState(null),l=St(),u=async()=>{if(!i)return;const h=parseFloat(i.area);if(isNaN(h)||h<=0){le.error("rea deve ser um nmero positivo");return}try{const m=Ac==null?void 0:Ac.VITE_API_URL,v=typeof window<"u"?window.location.hostname:"127.0.0.1",p=m||`http://${v}:5000`;if(i.id){const g=await fetch(`${p}/talhoes/${i.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({nome:i.nome,area:h,arrendado:i.arrendado})});if(!g.ok){const y=await g.text();throw new Error(y)}le.success("Talho atualizado")}else{const g=await fetch(`${p}/talhoes`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fazenda_id:e,nome:i.nome,area:h,arrendado:i.arrendado})});if(!g.ok){const y=await g.text();throw new Error(y)}le.success("Talho criado")}o(null),s(),l.invalidateQueries({queryKey:["fazendas"]}),l.invalidateQueries({queryKey:["fazendas-multi"]})}catch(m){le.error(m.message||"Erro ao salvar talho")}},d=async h=>{if(confirm("Deseja excluir este talho?"))try{const m=Ac==null?void 0:Ac.VITE_API_URL,v=typeof window<"u"?window.location.hostname:"127.0.0.1",p=m||`http://${v}:5000`,g=await fetch(`${p}/talhoes/${h}`,{method:"DELETE"});if(!g.ok){const y=await g.text();throw new Error(y)}le.success("Talho excludo"),s(),l.invalidateQueries({queryKey:["fazendas"]}),l.invalidateQueries({queryKey:["fazendas-multi"]})}catch(m){le.error(m.message||"Erro ao excluir talho")}},f=a.reduce((h,m)=>h+Number(m.area),0);return c.jsx(ba,{open:r,onOpenChange:n,children:c.jsxs(Qn,{className:"max-w-2xl",children:[c.jsx(Zn,{children:c.jsxs(ea,{children:["Gerenciar Talhes - ",t]})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("p",{className:"text-sm text-muted-foreground",children:["rea total: ",c.jsxs("span",{className:"font-semibold",children:[f.toFixed(2)," ha"]})]}),c.jsxs(ae,{onClick:()=>o({nome:"",area:"",arrendado:!1}),size:"sm",children:[c.jsx(Ka,{className:"h-4 w-4 mr-2"}),"Novo Talho"]})]}),i&&c.jsx(Ue,{className:"p-4 bg-muted/50",children:c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx(de,{children:"Nome do Talho"}),c.jsx(_e,{value:i.nome,onChange:h=>o({...i,nome:h.target.value}),placeholder:"Ex: Talho 1"})]}),c.jsxs("div",{children:[c.jsx(de,{children:"rea (ha)"}),c.jsx(_e,{type:"number",step:"0.01",value:i.area,onChange:h=>o({...i,area:h.target.value}),placeholder:"Ex: 50.5"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Bt,{id:"arrendado",checked:i.arrendado,onCheckedChange:h=>o({...i,arrendado:h})}),c.jsx(de,{htmlFor:"arrendado",className:"cursor-pointer",children:"Talho Arrendado"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(ae,{onClick:u,size:"sm",children:"Salvar"}),c.jsx(ae,{onClick:()=>o(null),variant:"outline",size:"sm",children:"Cancelar"})]})]})}),c.jsx("div",{className:"space-y-2 max-h-[300px] overflow-y-auto",children:a.length===0?c.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Nenhum talho cadastrado"}):a.map(h=>c.jsxs(Ue,{className:"p-3 flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("p",{className:"font-medium",children:h.nome}),h.arrendado&&c.jsx("span",{className:"text-xs bg-muted px-2 py-0.5 rounded",children:"Arrendado"})]}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:[Number(h.area).toFixed(2)," ha"]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(ae,{variant:"outline",size:"icon",onClick:()=>o({id:h.id,nome:h.nome,area:h.area.toString(),arrendado:h.arrendado}),children:c.jsx(Ya,{className:"h-4 w-4"})}),c.jsx(ae,{variant:"outline",size:"icon",onClick:()=>d(h.id),children:c.jsx(pr,{className:"h-4 w-4"})})]})]},h.id))})]}),c.jsx(Za,{children:c.jsx(ae,{variant:"outline",onClick:()=>n(!1),children:"Fechar"})})]})})}const Ip={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},oB=()=>{const{programacoes:e,isLoading:t,error:r}=tf(),{programacoes:n,isLoading:a,error:s}=H1(),{aplicacoes:i,isLoading:o,error:l}=G1(),u=e??[],d=n??[],f=i??[];x.useMemo(()=>new Date().toLocaleString(),[]);const h="false".toLowerCase()==="true",{profile:m,updateProfile:v}=oA(),{data:p=[]}=Qi(),{data:g=[]}=fc(),{toast:y}=dn(),_=St();x.useEffect(()=>{(async()=>{if(m&&!m.numerocm_consultor){const{data:{user:X}}=await ge.auth.getUser();if(X!=null&&X.email){const z=Ip==null?void 0:Ip.VITE_API_URL,V=typeof window<"u"?window.location.hostname:"127.0.0.1",Y=z||`http://${V}:5000`,F=await fetch(`${Y}/consultores/by_email?email=${encodeURIComponent(X.email.toLowerCase())}`);if(F.ok){const ne=await F.json(),ee=ne==null?void 0:ne.item;ee&&(await ge.from("profiles").update({numerocm_consultor:ee.numerocm_consultor,nome:ee.consultor}).eq("user_id",X.id),_.invalidateQueries({queryKey:["profile"]}))}}}})()},[m,_]);const[w,E]=x.useState(!1),[T,b]=x.useState(null),S=x.useMemo(()=>g,[g]),C=x.useMemo(()=>{const M={};return S.forEach(X=>{M[X.numerocm]=p.filter(z=>z.numerocm===X.numerocm)}),M},[S,p]),A=(M,X)=>M?"...":X.toString(),j=M=>M?c.jsx("p",{className:"text-sm text-destructive mt-2",children:"Erro ao carregar dados."}):null,I=Zd(),N=async()=>{try{await ge.auth.signOut(),_.clear(),I("/auth",{replace:!0})}catch(M){console.error("Erro ao fazer logout",M),y({title:"Erro ao sair",description:"Tente novamente.",variant:"destructive"})}},{data:W}=q1();return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx("header",{className:"border-b bg-card",children:c.jsx("div",{className:"container mx-auto px-4 py-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(iv,{className:"h-8 w-8 text-primary"}),c.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"AgroPlan"})]}),c.jsxs("div",{className:"flex gap-2",children:[(W==null?void 0:W.isAdmin)&&c.jsx(Ao,{to:"/admin",children:c.jsxs(ae,{variant:"outline",size:"sm",children:[c.jsx(Kh,{className:"h-4 w-4 mr-2"}),"Admin"]})}),c.jsx(ae,{variant:"outline",size:"sm",onClick:N,children:"Sair"})]})]})})}),c.jsxs("main",{className:"container mx-auto px-4 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:"Dashboard"}),c.jsx("p",{className:"text-muted-foreground",children:"Gerencie programacoes agricolas e cultivos"})]}),h&&c.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3 mb-8",children:[c.jsxs(Ue,{className:"p-6 hover:shadow-lg transition-shadow",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx(iv,{className:"h-10 w-10 text-primary"}),c.jsx("span",{className:"text-2xl font-bold text-primary",children:A(t,u.length)})]}),c.jsx("h3",{className:"font-semibold text-lg mb-1",children:"Cultivares ativos"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Programacoes de plantio cadastradas"}),j(r)]}),c.jsxs(Ue,{className:"p-6 hover:shadow-lg transition-shadow",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx($F,{className:"h-10 w-10 text-primary"}),c.jsx("span",{className:"text-2xl font-bold text-primary",children:A(a,d.length)})]}),c.jsx("h3",{className:"font-semibold text-lg mb-1",children:"Adubacoes"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Programacoes de fertilizacao"}),j(s)]}),c.jsxs(Ue,{className:"p-6 hover:shadow-lg transition-shadow",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx(Jh,{className:"h-10 w-10 text-primary"}),c.jsx("span",{className:"text-2xl font-bold text-primary",children:A(o,f.length)})]}),c.jsx("h3",{className:"font-semibold text-lg mb-1",children:"Defensivos"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Aplicacoes defensivas planejadas"}),j(l)]})]}),c.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[c.jsx(Ao,{to:"/programacao",children:c.jsxs(Ue,{className:"p-6 hover:bg-primary hover:text-primary-foreground transition-all cursor-pointer group",children:[c.jsx(sv,{className:"h-8 w-8 mb-4 text-primary group-hover:text-primary-foreground"}),c.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Programao"}),c.jsx("p",{className:"text-sm text-muted-foreground group-hover:text-primary-foreground",children:"Planejamento completo de cultivares e adubao"})]})}),c.jsx(Ao,{to:"/defensivos",children:c.jsxs(Ue,{className:"p-6 hover:bg-primary hover:text-primary-foreground transition-all cursor-pointer group",children:[c.jsx(Jh,{className:"h-8 w-8 mb-4 text-primary group-hover:text-primary-foreground"}),c.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Defensivos"}),c.jsx("p",{className:"text-sm text-muted-foreground group-hover:text-primary-foreground",children:"Programar aplicacoes"})]})}),c.jsx(Ao,{to:"/relatorios",children:c.jsxs(Ue,{className:"p-6 hover:bg-primary hover:text-primary-foreground transition-all cursor-pointer group",children:[c.jsx(QT,{className:"h-8 w-8 mb-4 text-primary group-hover:text-primary-foreground"}),c.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Relatorios"}),c.jsx("p",{className:"text-sm text-muted-foreground group-hover:text-primary-foreground",children:"Visualizar dados consolidados"})]})})]}),c.jsxs(Ue,{className:"mt-6 p-6 bg-card",children:[c.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(zF,{className:"h-6 w-6 text-primary"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-lg",children:"Gerenciar Talhes"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Cadastre e edite os talhes das suas fazendas"})]})]})}),S.length===0?c.jsx("div",{className:"text-center py-4 text-muted-foreground",children:c.jsx("p",{children:"Nenhum produtor vinculado ao seu perfil."})}):c.jsx("div",{className:"space-y-4",children:S.map(M=>{const X=C[M.numerocm]||[];return X.length===0?null:c.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[c.jsx("div",{className:"font-medium text-sm text-muted-foreground",children:M.nome}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:X.map(z=>c.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md hover:bg-muted/50 transition-colors",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"font-medium text-sm truncate",children:z.nomefazenda}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:[Number(z.area_cultivavel||0).toFixed(2)," ha"]})]}),c.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>{b({id:z.id,nome:z.nomefazenda}),E(!0)},children:c.jsx(Kh,{className:"h-4 w-4"})})]},z.id))})]},M.numerocm)})})]})]}),T&&c.jsx(cy,{fazendaId:T.id,fazendaNome:T.nome,open:w,onOpenChange:E})]})};var cB=x.createContext(void 0);function rf(e){const t=x.useContext(cB);return e||t||"ltr"}var Rp="rovingFocusGroup.onEntryFocus",lB={bubbles:!1,cancelable:!0},nf="RovingFocusGroup",[Wv,WA,uB]=z0(nf),[dB,HA]=Vr(nf,[uB]),[fB,hB]=dB(nf),GA=x.forwardRef((e,t)=>c.jsx(Wv.Provider,{scope:e.__scopeRovingFocusGroup,children:c.jsx(Wv.Slot,{scope:e.__scopeRovingFocusGroup,children:c.jsx(mB,{...e,ref:t})})}));GA.displayName=nf;var mB=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:s,currentTabStopId:i,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=x.useRef(null),m=Ke(t,h),v=rf(s),[p,g]=Sa({prop:i,defaultProp:o??null,onChange:l,caller:nf}),[y,_]=x.useState(!1),w=lr(u),E=WA(r),T=x.useRef(!1),[b,S]=x.useState(0);return x.useEffect(()=>{const C=h.current;if(C)return C.addEventListener(Rp,w),()=>C.removeEventListener(Rp,w)},[w]),c.jsx(fB,{scope:r,orientation:n,dir:v,loop:a,currentTabStopId:p,onItemFocus:x.useCallback(C=>g(C),[g]),onItemShiftTab:x.useCallback(()=>_(!0),[]),onFocusableItemAdd:x.useCallback(()=>S(C=>C+1),[]),onFocusableItemRemove:x.useCallback(()=>S(C=>C-1),[]),children:c.jsx(Pe.div,{tabIndex:y||b===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:Ie(e.onMouseDown,()=>{T.current=!0}),onFocus:Ie(e.onFocus,C=>{const A=!T.current;if(C.target===C.currentTarget&&A&&!y){const j=new CustomEvent(Rp,lB);if(C.currentTarget.dispatchEvent(j),!j.defaultPrevented){const I=E().filter(z=>z.focusable),N=I.find(z=>z.active),W=I.find(z=>z.id===p),X=[N,W,...I].filter(Boolean).map(z=>z.ref.current);JA(X,d)}}T.current=!1}),onBlur:Ie(e.onBlur,()=>_(!1))})})}),qA="RovingFocusGroupItem",KA=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:s,children:i,...o}=e,l=Cr(),u=s||l,d=hB(qA,r),f=d.currentTabStopId===u,h=WA(r),{onFocusableItemAdd:m,onFocusableItemRemove:v,currentTabStopId:p}=d;return x.useEffect(()=>{if(n)return m(),()=>v()},[n,m,v]),c.jsx(Wv.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:c.jsx(Pe.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...o,ref:t,onMouseDown:Ie(e.onMouseDown,g=>{n?d.onItemFocus(u):g.preventDefault()}),onFocus:Ie(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Ie(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){d.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const y=vB(g,d.orientation,d.dir);if(y!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let w=h().filter(E=>E.focusable).map(E=>E.ref.current);if(y==="last")w.reverse();else if(y==="prev"||y==="next"){y==="prev"&&w.reverse();const E=w.indexOf(g.currentTarget);w=d.loop?xB(w,E+1):w.slice(E+1)}setTimeout(()=>JA(w))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:p!=null}):i})})});KA.displayName=qA;var pB={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function gB(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function vB(e,t,r){const n=gB(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return pB[n]}function JA(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function xB(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var yB=GA,wB=KA,cm="Tabs",[_B,IQ]=Vr(cm,[HA]),XA=HA(),[EB,ly]=_B(cm),YA=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:s,orientation:i="horizontal",dir:o,activationMode:l="automatic",...u}=e,d=rf(o),[f,h]=Sa({prop:n,onChange:a,defaultProp:s??"",caller:cm});return c.jsx(EB,{scope:r,baseId:Cr(),value:f,onValueChange:h,orientation:i,dir:d,activationMode:l,children:c.jsx(Pe.div,{dir:d,"data-orientation":i,...u,ref:t})})});YA.displayName=cm;var QA="TabsList",ZA=x.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,s=ly(QA,r),i=XA(r);return c.jsx(yB,{asChild:!0,...i,orientation:s.orientation,dir:s.dir,loop:n,children:c.jsx(Pe.div,{role:"tablist","aria-orientation":s.orientation,...a,ref:t})})});ZA.displayName=QA;var ej="TabsTrigger",tj=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...s}=e,i=ly(ej,r),o=XA(r),l=aj(i.baseId,n),u=sj(i.baseId,n),d=n===i.value;return c.jsx(wB,{asChild:!0,...o,focusable:!a,active:d,children:c.jsx(Pe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:l,...s,ref:t,onMouseDown:Ie(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?i.onValueChange(n):f.preventDefault()}),onKeyDown:Ie(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(n)}),onFocus:Ie(e.onFocus,()=>{const f=i.activationMode!=="manual";!d&&!a&&f&&i.onValueChange(n)})})})});tj.displayName=ej;var rj="TabsContent",nj=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:s,...i}=e,o=ly(rj,r),l=aj(o.baseId,n),u=sj(o.baseId,n),d=n===o.value,f=x.useRef(d);return x.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),c.jsx(fn,{present:a||d,children:({present:h})=>c.jsx(Pe.div,{"data-state":d?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&s})})});nj.displayName=rj;function aj(e,t){return`${e}-trigger-${t}`}function sj(e,t){return`${e}-content-${t}`}var SB=YA,ij=ZA,oj=tj,cj=nj;const bB=SB,lj=x.forwardRef(({className:e,...t},r)=>c.jsx(ij,{ref:r,className:Te("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));lj.displayName=ij.displayName;const Hv=x.forwardRef(({className:e,...t},r)=>c.jsx(oj,{ref:r,className:Te("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Hv.displayName=oj.displayName;const Gv=x.forwardRef(({className:e,...t},r)=>c.jsx(cj,{ref:r,className:Te("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Gv.displayName=cj.displayName;const jc={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},TB=()=>{const[e,t]=x.useState(""),[r,n]=x.useState(""),[a,s]=x.useState(!1),i=Zd(),{toast:o}=dn();x.useEffect(()=>{ge.auth.getSession().then(({data:{session:d}})=>{d&&i("/",{replace:!0})})},[i]);const l=async d=>{d.preventDefault(),s(!0);const f=jc==null?void 0:jc.VITE_API_URL,h=typeof window<"u"?window.location.hostname:"127.0.0.1",m=f||`http://${h}:5000`;if(!(await fetch(`${m}/consultores/by_email?email=${encodeURIComponent(e.toLowerCase())}`)).ok){o({title:"Cadastro bloqueado",description:"Email no encontrado na base de consultores.",variant:"destructive"}),s(!1);return}const{error:p}=await ge.auth.signUp({email:e,password:r,options:{emailRedirectTo:`${window.location.origin}/`}});o(p?{title:"Erro ao criar conta",description:p.message,variant:"destructive"}:{title:"Conta criada!",description:"Voc j pode fazer login."}),s(!1)},u=async d=>{d.preventDefault(),s(!0);const f=jc==null?void 0:jc.VITE_API_URL,h=typeof window<"u"?window.location.hostname:"127.0.0.1",m=f||`http://${h}:5000`;if(!(await fetch(`${m}/consultores/by_email?email=${encodeURIComponent(e.toLowerCase())}`)).ok){o({title:"Login bloqueado",description:"Email no encontrado na base de consultores.",variant:"destructive"}),s(!1);return}const{error:p}=await ge.auth.signInWithPassword({email:e,password:r});p?o({title:"Erro ao fazer login",description:p.message,variant:"destructive"}):i("/"),s(!1)};return c.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:c.jsxs(Ue,{className:"w-full max-w-md p-8",children:[c.jsxs("div",{className:"flex flex-col items-center mb-8",children:[c.jsx(iv,{className:"h-16 w-16 text-primary mb-4"}),c.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"AgroPlan"}),c.jsx("p",{className:"text-muted-foreground text-center mt-2",children:"Sistema de Planejamento Agrcola"})]}),c.jsxs(bB,{defaultValue:"signin",className:"w-full",children:[c.jsxs(lj,{className:"grid w-full grid-cols-2",children:[c.jsx(Hv,{value:"signin",children:"Entrar"}),c.jsx(Hv,{value:"signup",children:"Criar Conta"})]}),c.jsx(Gv,{value:"signin",children:c.jsxs("form",{onSubmit:u,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(de,{htmlFor:"signin-email",children:"Email"}),c.jsx(_e,{id:"signin-email",type:"email",placeholder:"seu@email.com",value:e,onChange:d=>t(d.target.value),required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(de,{htmlFor:"signin-password",children:"Senha"}),c.jsx(_e,{id:"signin-password",type:"password",value:r,onChange:d=>n(d.target.value),required:!0})]}),c.jsx(ae,{type:"submit",className:"w-full",disabled:a,children:a?"Entrando...":"Entrar"})]})}),c.jsx(Gv,{value:"signup",children:c.jsxs("form",{onSubmit:l,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(de,{htmlFor:"signup-email",children:"Email"}),c.jsx(_e,{id:"signup-email",type:"email",placeholder:"seu@email.com",value:e,onChange:d=>t(d.target.value),required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(de,{htmlFor:"signup-password",children:"Senha"}),c.jsx(_e,{id:"signup-password",type:"password",value:r,onChange:d=>n(d.target.value),required:!0,minLength:6})]}),c.jsx(ae,{type:"submit",className:"w-full",disabled:a,children:a?"Criando conta...":"Criar Conta"})]})})]})]})})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var uj=1252,CB=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],uy={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},dy=function(e){CB.indexOf(e)!=-1&&(uj=uy[0]=e)};function kB(){dy(1252)}var za=function(e){dy(e)};function dj(){za(1200),kB()}function OE(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function AB(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function fj(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var Ou=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?AB(e.slice(2)):t==254&&r==255?fj(e.slice(2)):t==65279?e.slice(1):e},Yf=function(t){return String.fromCharCode(t)},FE=function(t){return String.fromCharCode(t)},yi,Oi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function DE(e){for(var t="",r=0,n=0,a=0,s=0,i=0,o=0,l=0,u=0;u<e.length;)r=e.charCodeAt(u++),s=r>>2,n=e.charCodeAt(u++),i=(r&3)<<4|n>>4,a=e.charCodeAt(u++),o=(n&15)<<2|a>>6,l=a&63,isNaN(n)?o=l=64:isNaN(a)&&(l=64),t+=Oi.charAt(s)+Oi.charAt(i)+Oi.charAt(o)+Oi.charAt(l);return t}function ta(e){var t="",r=0,n=0,a=0,s=0,i=0,o=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)s=Oi.indexOf(e.charAt(u++)),i=Oi.indexOf(e.charAt(u++)),r=s<<2|i>>4,t+=String.fromCharCode(r),o=Oi.indexOf(e.charAt(u++)),n=(i&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),l=Oi.indexOf(e.charAt(u++)),a=(o&3)<<6|l,l!==64&&(t+=String.fromCharCode(a));return t}var rt=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),hc=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Zi(e){return rt?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function ME(e){return rt?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var $a=function(t){return rt?hc(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function mc(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function fy(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return fy(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var wi=rt?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:hc(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function jB(e){for(var t=[],r=0,n=e.length+250,a=Zi(e.length+255),s=0;s<e.length;++s){var i=e.charCodeAt(s);if(i<128)a[r++]=i;else if(i<2048)a[r++]=192|i>>6&31,a[r++]=128|i&63;else if(i>=55296&&i<57344){i=(i&1023)+64;var o=e.charCodeAt(++s)&1023;a[r++]=240|i>>8&7,a[r++]=128|i>>2&63,a[r++]=128|o>>6&15|(i&3)<<4,a[r++]=128|o&63}else a[r++]=224|i>>12&15,a[r++]=128|i>>6&63,a[r++]=128|i&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Zi(65535),n=65530)}return t.push(a.slice(0,r)),wi(t)}var on=/\u0000/g,Fu=/[\u0001-\u0006]/g;function ul(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Va(e,t){var r=""+e;return r.length>=t?r:Wt("0",t-r.length)+r}function hy(e,t){var r=""+e;return r.length>=t?r:Wt(" ",t-r.length)+r}function l0(e,t){var r=""+e;return r.length>=t?r:r+Wt(" ",t-r.length)}function NB(e,t){var r=""+Math.round(e);return r.length>=t?r:Wt("0",t-r.length)+r}function IB(e,t){var r=""+e;return r.length>=t?r:Wt("0",t-r.length)+r}var LE=Math.pow(2,32);function Nc(e,t){if(e>LE||e<-LE)return NB(e,t);var r=Math.round(e);return IB(r,t)}function u0(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var UE=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Pp=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function RB(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var qe={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},BE={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},PB={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function d0(e,t,r){for(var n=e<0?-1:1,a=e*n,s=0,i=1,o=0,l=1,u=0,d=0,f=Math.floor(a);u<t&&(f=Math.floor(a),o=f*i+s,d=f*u+l,!(a-f<5e-8));)a=1/(a-f),s=i,i=o,l=u,u=d;if(d>t&&(u>t?(d=l,o=s):(d=u,o=i)),!r)return[0,n*o,d];var h=Math.floor(n*o/d);return[h,n*o-h*d,d]}function No(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),s=0,i=[],o={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)i=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)i=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),i=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),n<60&&(s=(s+6)%7),r&&(s=UB(l,i))}return o.y=i[0],o.m=i[1],o.d=i[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=s,o}var hj=new Date(1899,11,31,0,0,0),OB=hj.getTime(),FB=new Date(1900,2,1,0,0,0);function mj(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=FB&&(r+=24*60*60*1e3),(r-(OB+(e.getTimezoneOffset()-hj.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function my(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function DB(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function MB(e){var t=e<0?12:11,r=my(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function LB(e){var t=my(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Rd(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=MB(e):t===10?r=e.toFixed(10).substr(0,12):r=LB(e),my(DB(r.toUpperCase()))}function tc(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Rd(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Ta(14,mj(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function UB(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function BB(e,t,r,n){var a="",s=0,i=0,o=r.y,l,u=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:l=o%100,u=2;break;default:l=o%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:l=r.m,u=t.length;break;case 3:return Pp[r.m-1][1];case 5:return Pp[r.m-1][0];default:return Pp[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=r.d,u=t.length;break;case 3:return UE[r.q][0];default:return UE[r.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Va(r.S,t.length):(n>=2?i=n===3?1e3:100:i=n===1?10:1,s=Math.round(i*(r.S+r.u)),s>=60*i&&(s=0),t==="s"?s===0?"0":""+s/i:(a=Va(s,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:l=o,u=1;break}var d=u>0?Va(l,u):"";return d}function Fi(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var pj=/%/g;function $B(e,t,r){var n=t.replace(pj,""),a=t.length-n.length;return Vs(e,n,r*Math.pow(10,2*a))+Wt("%",a)}function zB(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Vs(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function gj(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+gj(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),r.indexOf("e")===-1){var i=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+s):r+="E+"+(i-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,u,d){return l+u+d.substr(0,(a+s)%a)+"."+d.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var vj=/# (\?+)( ?)\/( ?)(\d+)/;function VB(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),s=Math.floor(a/n),i=a-s*n,o=n;return r+(s===0?"":""+s)+" "+(i===0?Wt(" ",e[1].length+1+e[4].length):hy(i,e[1].length)+e[2]+"/"+e[3]+Va(o,e[4].length))}function WB(e,t,r){return r+(t===0?"":""+t)+Wt(" ",e[1].length+2+e[4].length)}var xj=/^#*0*\.([0#]+)/,yj=/\).*[0#]/,wj=/\(###\) ###\\?-####/;function rn(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function $E(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function zE(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function HB(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function GB(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function ca(e,t,r){if(e.charCodeAt(0)===40&&!t.match(yj)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ca("n",n,r):"("+ca("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return zB(e,t,r);if(t.indexOf("%")!==-1)return $B(e,t,r);if(t.indexOf("E")!==-1)return gj(t,r);if(t.charCodeAt(0)===36)return"$"+ca(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,i,o,l=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Nc(l,t.length);if(t.match(/^[#?]+$/))return a=Nc(r,0),a==="0"&&(a=""),a.length>t.length?a:rn(t.substr(0,t.length-a.length))+a;if(s=t.match(vj))return VB(s,l,u);if(t.match(/^#+0+$/))return u+Nc(l,t.length-t.indexOf("0"));if(s=t.match(xj))return a=$E(r,s[1].length).replace(/^([^\.]+)$/,"$1."+rn(s[1])).replace(/\.$/,"."+rn(s[1])).replace(/\.(\d*)$/,function(v,p){return"."+p+Wt("0",rn(s[1]).length-p.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+$E(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+Fi(Nc(l,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ca(e,t,-r):Fi(""+(Math.floor(r)+HB(r,s[1].length)))+"."+Va(zE(r,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return ca(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=ul(ca(e,t.replace(/[\\-]/g,""),r)),i=0,ul(ul(t.replace(/\\/g,"")).replace(/[0#]/g,function(v){return i<a.length?a.charAt(i++):v==="0"?"0":""}));if(t.match(wj))return a=ca(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(s[4].length,7),o=d0(l,Math.pow(10,i)-1,!1),a=""+u,d=Vs("n",s[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+s[2]+"/"+s[3],d=l0(o[2],i),d.length<s[4].length&&(d=rn(s[4].substr(s[4].length-d.length))+d),a+=d,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(s[1].length,s[4].length),7),o=d0(l,Math.pow(10,i)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?hy(o[1],i)+s[2]+"/"+s[3]+l0(o[2],i):Wt(" ",2*i+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=Nc(r,0),t.length<=a.length?a:rn(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),i=a.indexOf(".");var f=t.indexOf(".")-i,h=t.length-a.length-f;return rn(t.substr(0,f)+a+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return i=zE(r,s[1].length),r<0?"-"+ca(e,t,-r):Fi(GB(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?Va(0,3-v.length):"")+v})+"."+Va(i,s[1].length);switch(t){case"###,##0.00":return ca(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var m=Fi(Nc(l,0));return m!=="0"?u+m:"";case"###,###.00":return ca(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return ca(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function qB(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Vs(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function KB(e,t,r){var n=t.replace(pj,""),a=t.length-n.length;return Vs(e,n,r*Math.pow(10,2*a))+Wt("%",a)}function _j(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+_j(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),!r.match(/[Ee]/)){var i=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+s):r+="E+"+(i-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,u,d){return l+u+d.substr(0,(a+s)%a)+"."+d.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function is(e,t,r){if(e.charCodeAt(0)===40&&!t.match(yj)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?is("n",n,r):"("+is("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return qB(e,t,r);if(t.indexOf("%")!==-1)return KB(e,t,r);if(t.indexOf("E")!==-1)return _j(t,r);if(t.charCodeAt(0)===36)return"$"+is(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,i,o,l=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Va(l,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:rn(t.substr(0,t.length-a.length))+a;if(s=t.match(vj))return WB(s,l,u);if(t.match(/^#+0+$/))return u+Va(l,t.length-t.indexOf("0"));if(s=t.match(xj))return a=(""+r).replace(/^([^\.]+)$/,"$1."+rn(s[1])).replace(/\.$/,"."+rn(s[1])),a=a.replace(/\.(\d*)$/,function(v,p){return"."+p+Wt("0",rn(s[1]).length-p.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+Fi(""+l);if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+is(e,t,-r):Fi(""+r)+"."+Wt("0",s[1].length);if(s=t.match(/^#,#*,#0/))return is(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=ul(is(e,t.replace(/[\\-]/g,""),r)),i=0,ul(ul(t.replace(/\\/g,"")).replace(/[0#]/g,function(v){return i<a.length?a.charAt(i++):v==="0"?"0":""}));if(t.match(wj))return a=is(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(s[4].length,7),o=d0(l,Math.pow(10,i)-1,!1),a=""+u,d=Vs("n",s[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+s[2]+"/"+s[3],d=l0(o[2],i),d.length<s[4].length&&(d=rn(s[4].substr(s[4].length-d.length))+d),a+=d,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(s[1].length,s[4].length),7),o=d0(l,Math.pow(10,i)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?hy(o[1],i)+s[2]+"/"+s[3]+l0(o[2],i):Wt(" ",2*i+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:rn(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),i=a.indexOf(".");var f=t.indexOf(".")-i,h=t.length-a.length-f;return rn(t.substr(0,f)+a+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+is(e,t,-r):Fi(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?Va(0,3-v.length):"")+v})+"."+Va(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var m=Fi(""+l);return m!=="0"?u+m:"";default:if(t.match(/\.[0#?]*$/))return is(e,t.slice(0,t.lastIndexOf(".")),r)+rn(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Vs(e,t,r){return(r|0)===r?is(e,t,r):ca(e,t,r)}function JB(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var Ej=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function su(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":u0(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(Ej))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function XB(e,t,r,n){for(var a=[],s="",i=0,o="",l="t",u,d,f,h="H";i<e.length;)switch(o=e.charAt(i)){case"G":if(!u0(e,i))throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"G",v:"General"},i+=7;break;case'"':for(s="";(f=e.charCodeAt(++i))!==34&&i<e.length;)s+=String.fromCharCode(f);a[a.length]={t:"t",v:s},++i;break;case"\\":var m=e.charAt(++i),v=m==="("||m===")"?m:"t";a[a.length]={t:v,v:m},++i;break;case"_":a[a.length]={t:"t",v:" "},i+=2;break;case"@":a[a.length]={t:"T",v:t},++i;break;case"B":case"b":if(e.charAt(i+1)==="1"||e.charAt(i+1)==="2"){if(u==null&&(u=No(t,r,e.charAt(i+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(i,2)},l=o,i+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=No(t,r),u==null))return"";for(s=o;++i<e.length&&e.charAt(i).toLowerCase()===o;)s+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),a[a.length]={t:o,v:s},l=o;break;case"A":case"a":case"":var p={t:o,v:o};if(u==null&&(u=No(t,r)),e.substr(i,3).toUpperCase()==="A/P"?(u!=null&&(p.v=u.H>=12?"P":"A"),p.t="T",h="h",i+=3):e.substr(i,5).toUpperCase()==="AM/PM"?(u!=null&&(p.v=u.H>=12?"PM":"AM"),p.t="T",i+=5,h="h"):e.substr(i,5).toUpperCase()==="/"?(u!=null&&(p.v=u.H>=12?"":""),p.t="T",i+=5,h="h"):(p.t="t",++i),u==null&&p.t==="T")return"";a[a.length]=p,l=o;break;case"[":for(s=o;e.charAt(i++)!=="]"&&i<e.length;)s+=e.charAt(i);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(Ej)){if(u==null&&(u=No(t,r),u==null))return"";a[a.length]={t:"Z",v:s.toLowerCase()},l=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",su(e)||(a[a.length]={t:"t",v:s}));break;case".":if(u!=null){for(s=o;++i<e.length&&(o=e.charAt(i))==="0";)s+=o;a[a.length]={t:"s",v:s};break}case"0":case"#":for(s=o;++i<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(i))>-1;)s+=o;a[a.length]={t:"n",v:s};break;case"?":for(s=o;e.charAt(++i)===o;)s+=o;a[a.length]={t:o,v:s},l=o;break;case"*":++i,(e.charAt(i)==" "||e.charAt(i)=="*")&&++i;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++i;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=o;i<e.length&&"0123456789".indexOf(e.charAt(++i))>-1;)s+=e.charAt(i);a[a.length]={t:"D",v:s};break;case" ":a[a.length]={t:o,v:o},++i;break;case"$":a[a.length]={t:"t",v:"$"},++i;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"t",v:o},++i;break}var g=0,y=0,_;for(i=a.length-1,l="t";i>=0;--i)switch(a[i].t){case"h":case"H":a[i].t=h,l="h",g<1&&(g=1);break;case"s":(_=a[i].v.match(/\.0+$/))&&(y=Math.max(y,_[0].length-1)),g<3&&(g=3);case"d":case"y":case"M":case"e":l=a[i].t;break;case"m":l==="s"&&(a[i].t="M",g<2&&(g=2));break;case"X":break;case"Z":g<1&&a[i].v.match(/[Hh]/)&&(g=1),g<2&&a[i].v.match(/[Mm]/)&&(g=2),g<3&&a[i].v.match(/[Ss]/)&&(g=3)}switch(g){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var w="",E;for(i=0;i<a.length;++i)switch(a[i].t){case"t":case"T":case" ":case"D":break;case"X":a[i].v="",a[i].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[i].v=BB(a[i].t.charCodeAt(0),a[i].v,u,y),a[i].t="t";break;case"n":case"?":for(E=i+1;a[E]!=null&&((o=a[E].t)==="?"||o==="D"||(o===" "||o==="t")&&a[E+1]!=null&&(a[E+1].t==="?"||a[E+1].t==="t"&&a[E+1].v==="/")||a[i].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[E].v==="/"||a[E].v===" "&&a[E+1]!=null&&a[E+1].t=="?"));)a[i].v+=a[E].v,a[E]={v:"",t:";"},++E;w+=a[i].v,i=E-1;break;case"G":a[i].t="t",a[i].v=tc(t,r);break}var T="",b,S;if(w.length>0){w.charCodeAt(0)==40?(b=t<0&&w.charCodeAt(0)===45?-t:t,S=Vs("n",w,b)):(b=t<0&&n>1?-t:t,S=Vs("n",w,b),b<0&&a[0]&&a[0].t=="t"&&(S=S.substr(1),a[0].v="-"+a[0].v)),E=S.length-1;var C=a.length;for(i=0;i<a.length;++i)if(a[i]!=null&&a[i].t!="t"&&a[i].v.indexOf(".")>-1){C=i;break}var A=a.length;if(C===a.length&&S.indexOf("E")===-1){for(i=a.length-1;i>=0;--i)a[i]==null||"n?".indexOf(a[i].t)===-1||(E>=a[i].v.length-1?(E-=a[i].v.length,a[i].v=S.substr(E+1,a[i].v.length)):E<0?a[i].v="":(a[i].v=S.substr(0,E+1),E=-1),a[i].t="t",A=i);E>=0&&A<a.length&&(a[A].v=S.substr(0,E+1)+a[A].v)}else if(C!==a.length&&S.indexOf("E")===-1){for(E=S.indexOf(".")-1,i=C;i>=0;--i)if(!(a[i]==null||"n?".indexOf(a[i].t)===-1)){for(d=a[i].v.indexOf(".")>-1&&i===C?a[i].v.indexOf(".")-1:a[i].v.length-1,T=a[i].v.substr(d+1);d>=0;--d)E>=0&&(a[i].v.charAt(d)==="0"||a[i].v.charAt(d)==="#")&&(T=S.charAt(E--)+T);a[i].v=T,a[i].t="t",A=i}for(E>=0&&A<a.length&&(a[A].v=S.substr(0,E+1)+a[A].v),E=S.indexOf(".")+1,i=C;i<a.length;++i)if(!(a[i]==null||"n?(".indexOf(a[i].t)===-1&&i!==C)){for(d=a[i].v.indexOf(".")>-1&&i===C?a[i].v.indexOf(".")+1:0,T=a[i].v.substr(0,d);d<a[i].v.length;++d)E<S.length&&(T+=S.charAt(E++));a[i].v=T,a[i].t="t",A=i}}}for(i=0;i<a.length;++i)a[i]!=null&&"n?".indexOf(a[i].t)>-1&&(b=n>1&&t<0&&i>0&&a[i-1].v==="-"?-t:t,a[i].v=Vs(a[i].t,a[i].v,b),a[i].t="t");var j="";for(i=0;i!==a.length;++i)a[i]!=null&&(j+=a[i].v);return j}var VE=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function WE(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function YB(e,t){var r=JB(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var i=r[0].match(VE),o=r[1].match(VE);return WE(t,i)?[n,r[0]]:WE(t,o)?[n,r[1]]:[n,r[i!=null&&o!=null?2:1]]}return[n,s]}function Ta(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:qe)[e],n==null&&(n=r.table&&r.table[BE[e]]||qe[BE[e]]),n==null&&(n=PB[e]||"General");break}if(u0(n,0))return tc(t,r);t instanceof Date&&(t=mj(t,r.date1904));var a=YB(n,t);if(u0(a[1]))return tc(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return XB(a[1],t,r,a[0])}function zo(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(qe[r]==null){t<0&&(t=r);continue}if(qe[r]==e){t=r;break}}t<0&&(t=391)}return qe[t]=e,t}function Sj(){qe=RB()}var QB={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},bj=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function ZB(e){var t=typeof e=="number"?qe[e]:e;return t=t.replace(bj,"(\\d+)"),new RegExp("^"+t+"$")}function e$(e,t,r){var n=-1,a=-1,s=-1,i=-1,o=-1,l=-1;(t.match(bj)||[]).forEach(function(f,h){var m=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=m;break;case"d":s=m;break;case"h":i=m;break;case"s":l=m;break;case"m":i>=0?o=m:a=m;break}}),l>=0&&o==-1&&a>=0&&(o=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(i>=0?i:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return i==-1&&o==-1&&l==-1?u:n==-1&&a==-1&&s==-1?d:u+"T"+d}var t$=function(){var e={};e.version="1.2.0";function t(){for(var S=0,C=new Array(256),A=0;A!=256;++A)S=A,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,C[A]=S;return typeof Int32Array<"u"?new Int32Array(C):C}var r=t();function n(S){var C=0,A=0,j=0,I=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(j=0;j!=256;++j)I[j]=S[j];for(j=0;j!=256;++j)for(A=S[j],C=256+j;C<4096;C+=256)A=I[C]=A>>>8^S[A&255];var N=[];for(j=1;j!=16;++j)N[j-1]=typeof Int32Array<"u"?I.subarray(j*256,j*256+256):I.slice(j*256,j*256+256);return N}var a=n(r),s=a[0],i=a[1],o=a[2],l=a[3],u=a[4],d=a[5],f=a[6],h=a[7],m=a[8],v=a[9],p=a[10],g=a[11],y=a[12],_=a[13],w=a[14];function E(S,C){for(var A=C^-1,j=0,I=S.length;j<I;)A=A>>>8^r[(A^S.charCodeAt(j++))&255];return~A}function T(S,C){for(var A=C^-1,j=S.length-15,I=0;I<j;)A=w[S[I++]^A&255]^_[S[I++]^A>>8&255]^y[S[I++]^A>>16&255]^g[S[I++]^A>>>24]^p[S[I++]]^v[S[I++]]^m[S[I++]]^h[S[I++]]^f[S[I++]]^d[S[I++]]^u[S[I++]]^l[S[I++]]^o[S[I++]]^i[S[I++]]^s[S[I++]]^r[S[I++]];for(j+=15;I<j;)A=A>>>8^r[(A^S[I++])&255];return~A}function b(S,C){for(var A=C^-1,j=0,I=S.length,N=0,W=0;j<I;)N=S.charCodeAt(j++),N<128?A=A>>>8^r[(A^N)&255]:N<2048?(A=A>>>8^r[(A^(192|N>>6&31))&255],A=A>>>8^r[(A^(128|N&63))&255]):N>=55296&&N<57344?(N=(N&1023)+64,W=S.charCodeAt(j++)&1023,A=A>>>8^r[(A^(240|N>>8&7))&255],A=A>>>8^r[(A^(128|N>>2&63))&255],A=A>>>8^r[(A^(128|W>>6&15|(N&3)<<4))&255],A=A>>>8^r[(A^(128|W&63))&255]):(A=A>>>8^r[(A^(224|N>>12&15))&255],A=A>>>8^r[(A^(128|N>>6&63))&255],A=A>>>8^r[(A^(128|N&63))&255]);return~A}return e.table=r,e.bstr=E,e.buf=T,e.str=b,e}(),nt=function(){var t={};t.version="1.2.1";function r(R,q){for(var B=R.split("/"),H=q.split("/"),K=0,J=0,ie=Math.min(B.length,H.length);K<ie;++K){if(J=B[K].length-H[K].length)return J;if(B[K]!=H[K])return B[K]<H[K]?-1:1}return B.length-H.length}function n(R){if(R.charAt(R.length-1)=="/")return R.slice(0,-1).indexOf("/")===-1?R:n(R.slice(0,-1));var q=R.lastIndexOf("/");return q===-1?R:R.slice(0,q+1)}function a(R){if(R.charAt(R.length-1)=="/")return a(R.slice(0,-1));var q=R.lastIndexOf("/");return q===-1?R:R.slice(q+1)}function s(R,q){typeof q=="string"&&(q=new Date(q));var B=q.getHours();B=B<<6|q.getMinutes(),B=B<<5|q.getSeconds()>>>1,R.write_shift(2,B);var H=q.getFullYear()-1980;H=H<<4|q.getMonth()+1,H=H<<5|q.getDate(),R.write_shift(2,H)}function i(R){var q=R.read_shift(2)&65535,B=R.read_shift(2)&65535,H=new Date,K=B&31;B>>>=5;var J=B&15;B>>>=4,H.setMilliseconds(0),H.setFullYear(B+1980),H.setMonth(J-1),H.setDate(K);var ie=q&31;q>>>=5;var fe=q&63;return q>>>=6,H.setHours(q),H.setMinutes(fe),H.setSeconds(ie<<1),H}function o(R){br(R,0);for(var q={},B=0;R.l<=R.length-4;){var H=R.read_shift(2),K=R.read_shift(2),J=R.l+K,ie={};switch(H){case 21589:B=R.read_shift(1),B&1&&(ie.mtime=R.read_shift(4)),K>5&&(B&2&&(ie.atime=R.read_shift(4)),B&4&&(ie.ctime=R.read_shift(4))),ie.mtime&&(ie.mt=new Date(ie.mtime*1e3));break}R.l=J,q[H]=ie}return q}var l;function u(){return l||(l={})}function d(R,q){if(R[0]==80&&R[1]==75)return du(R,q);if((R[0]|32)==109&&(R[1]|32)==105)return Pn(R,q);if(R.length<512)throw new Error("CFB file size "+R.length+" < 512");var B=3,H=512,K=0,J=0,ie=0,fe=0,se=0,oe=[],ue=R.slice(0,512);br(ue,0);var ve=f(ue);switch(B=ve[0],B){case 3:H=512;break;case 4:H=4096;break;case 0:if(ve[1]==0)return du(R,q);default:throw new Error("Major Version: Expected 3 or 4 saw "+B)}H!==512&&(ue=R.slice(0,H),br(ue,28));var Ee=R.slice(0,H);h(ue,B);var Re=ue.read_shift(4,"i");if(B===3&&Re!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Re);ue.l+=4,ie=ue.read_shift(4,"i"),ue.l+=4,ue.chk("00100000","Mini Stream Cutoff Size: "),fe=ue.read_shift(4,"i"),K=ue.read_shift(4,"i"),se=ue.read_shift(4,"i"),J=ue.read_shift(4,"i");for(var ye=-1,ke=0;ke<109&&(ye=ue.read_shift(4,"i"),!(ye<0));++ke)oe[ke]=ye;var Ge=m(R,H);g(se,J,Ge,H,oe);var Ft=_(Ge,ie,oe,H);Ft[ie].name="!Directory",K>0&&fe!==W&&(Ft[fe].name="!MiniFAT"),Ft[oe[0]].name="!FAT",Ft.fat_addrs=oe,Ft.ssz=H;var Dt={},Ir=[],hu=[],mu=[];w(ie,Ft,Ge,Ir,K,Dt,hu,fe),v(hu,mu,Ir),Ir.shift();var pu={FileIndex:hu,FullPaths:mu};return q&&q.raw&&(pu.raw={header:Ee,sectors:Ge}),pu}function f(R){if(R[R.l]==80&&R[R.l+1]==75)return[0,0];R.chk(M,"Header Signature: "),R.l+=16;var q=R.read_shift(2,"u");return[R.read_shift(2,"u"),q]}function h(R,q){var B=9;switch(R.l+=2,B=R.read_shift(2)){case 9:if(q!=3)throw new Error("Sector Shift: Expected 9 saw "+B);break;case 12:if(q!=4)throw new Error("Sector Shift: Expected 12 saw "+B);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+B)}R.chk("0600","Mini Sector Shift: "),R.chk("000000000000","Reserved: ")}function m(R,q){for(var B=Math.ceil(R.length/q)-1,H=[],K=1;K<B;++K)H[K-1]=R.slice(K*q,(K+1)*q);return H[B-1]=R.slice(B*q),H}function v(R,q,B){for(var H=0,K=0,J=0,ie=0,fe=0,se=B.length,oe=[],ue=[];H<se;++H)oe[H]=ue[H]=H,q[H]=B[H];for(;fe<ue.length;++fe)H=ue[fe],K=R[H].L,J=R[H].R,ie=R[H].C,oe[H]===H&&(K!==-1&&oe[K]!==K&&(oe[H]=oe[K]),J!==-1&&oe[J]!==J&&(oe[H]=oe[J])),ie!==-1&&(oe[ie]=H),K!==-1&&H!=oe[H]&&(oe[K]=oe[H],ue.lastIndexOf(K)<fe&&ue.push(K)),J!==-1&&H!=oe[H]&&(oe[J]=oe[H],ue.lastIndexOf(J)<fe&&ue.push(J));for(H=1;H<se;++H)oe[H]===H&&(J!==-1&&oe[J]!==J?oe[H]=oe[J]:K!==-1&&oe[K]!==K&&(oe[H]=oe[K]));for(H=1;H<se;++H)if(R[H].type!==0){if(fe=H,fe!=oe[fe])do fe=oe[fe],q[H]=q[fe]+"/"+q[H];while(fe!==0&&oe[fe]!==-1&&fe!=oe[fe]);oe[H]=-1}for(q[0]+="/",H=1;H<se;++H)R[H].type!==2&&(q[H]+="/")}function p(R,q,B){for(var H=R.start,K=R.size,J=[],ie=H;B&&K>0&&ie>=0;)J.push(q.slice(ie*N,ie*N+N)),K-=N,ie=bo(B,ie*4);return J.length===0?ar(0):wi(J).slice(0,R.size)}function g(R,q,B,H,K){var J=W;if(R===W){if(q!==0)throw new Error("DIFAT chain shorter than expected")}else if(R!==-1){var ie=B[R],fe=(H>>>2)-1;if(!ie)return;for(var se=0;se<fe&&(J=bo(ie,se*4))!==W;++se)K.push(J);g(bo(ie,H-4),q-1,B,H,K)}}function y(R,q,B,H,K){var J=[],ie=[];K||(K=[]);var fe=H-1,se=0,oe=0;for(se=q;se>=0;){K[se]=!0,J[J.length]=se,ie.push(R[se]);var ue=B[Math.floor(se*4/H)];if(oe=se*4&fe,H<4+oe)throw new Error("FAT boundary crossed: "+se+" 4 "+H);if(!R[ue])break;se=bo(R[ue],oe)}return{nodes:J,data:eS([ie])}}function _(R,q,B,H){var K=R.length,J=[],ie=[],fe=[],se=[],oe=H-1,ue=0,ve=0,Ee=0,Re=0;for(ue=0;ue<K;++ue)if(fe=[],Ee=ue+q,Ee>=K&&(Ee-=K),!ie[Ee]){se=[];var ye=[];for(ve=Ee;ve>=0;){ye[ve]=!0,ie[ve]=!0,fe[fe.length]=ve,se.push(R[ve]);var ke=B[Math.floor(ve*4/H)];if(Re=ve*4&oe,H<4+Re)throw new Error("FAT boundary crossed: "+ve+" 4 "+H);if(!R[ke]||(ve=bo(R[ke],Re),ye[ve]))break}J[Ee]={nodes:fe,data:eS([se])}}return J}function w(R,q,B,H,K,J,ie,fe){for(var se=0,oe=H.length?2:0,ue=q[R].data,ve=0,Ee=0,Re;ve<ue.length;ve+=128){var ye=ue.slice(ve,ve+128);br(ye,64),Ee=ye.read_shift(2),Re=yy(ye,0,Ee-oe),H.push(Re);var ke={name:Re,type:ye.read_shift(1),color:ye.read_shift(1),L:ye.read_shift(4,"i"),R:ye.read_shift(4,"i"),C:ye.read_shift(4,"i"),clsid:ye.read_shift(16),state:ye.read_shift(4,"i"),start:0,size:0},Ge=ye.read_shift(2)+ye.read_shift(2)+ye.read_shift(2)+ye.read_shift(2);Ge!==0&&(ke.ct=E(ye,ye.l-8));var Ft=ye.read_shift(2)+ye.read_shift(2)+ye.read_shift(2)+ye.read_shift(2);Ft!==0&&(ke.mt=E(ye,ye.l-8)),ke.start=ye.read_shift(4,"i"),ke.size=ye.read_shift(4,"i"),ke.size<0&&ke.start<0&&(ke.size=ke.type=0,ke.start=W,ke.name=""),ke.type===5?(se=ke.start,K>0&&se!==W&&(q[se].name="!StreamData")):ke.size>=4096?(ke.storage="fat",q[ke.start]===void 0&&(q[ke.start]=y(B,ke.start,q.fat_addrs,q.ssz)),q[ke.start].name=ke.name,ke.content=q[ke.start].data.slice(0,ke.size)):(ke.storage="minifat",ke.size<0?ke.size=0:se!==W&&ke.start!==W&&q[se]&&(ke.content=p(ke,q[se].data,(q[fe]||{}).data))),ke.content&&br(ke.content,0),J[Re]=ke,ie.push(ke)}}function E(R,q){return new Date((Mn(R,q+4)/1e7*Math.pow(2,32)+Mn(R,q)/1e7-11644473600)*1e3)}function T(R,q){return u(),d(l.readFileSync(R),q)}function b(R,q){var B=q&&q.type;switch(B||rt&&Buffer.isBuffer(R)&&(B="buffer"),B||"base64"){case"file":return T(R,q);case"base64":return d($a(ta(R)),q);case"binary":return d($a(R),q)}return d(R,q)}function S(R,q){var B=q||{},H=B.root||"Root Entry";if(R.FullPaths||(R.FullPaths=[]),R.FileIndex||(R.FileIndex=[]),R.FullPaths.length!==R.FileIndex.length)throw new Error("inconsistent CFB structure");R.FullPaths.length===0&&(R.FullPaths[0]=H+"/",R.FileIndex[0]={name:H,type:5}),B.CLSID&&(R.FileIndex[0].clsid=B.CLSID),C(R)}function C(R){var q="Sh33tJ5";if(!nt.find(R,"/"+q)){var B=ar(4);B[0]=55,B[1]=B[3]=50,B[2]=54,R.FileIndex.push({name:q,type:2,content:B,size:4,L:69,R:69,C:69}),R.FullPaths.push(R.FullPaths[0]+q),A(R)}}function A(R,q){S(R);for(var B=!1,H=!1,K=R.FullPaths.length-1;K>=0;--K){var J=R.FileIndex[K];switch(J.type){case 0:H?B=!0:(R.FileIndex.pop(),R.FullPaths.pop());break;case 1:case 2:case 5:H=!0,isNaN(J.R*J.L*J.C)&&(B=!0),J.R>-1&&J.L>-1&&J.R==J.L&&(B=!0);break;default:B=!0;break}}if(!(!B&&!q)){var ie=new Date(1987,1,19),fe=0,se=Object.create?Object.create(null):{},oe=[];for(K=0;K<R.FullPaths.length;++K)se[R.FullPaths[K]]=!0,R.FileIndex[K].type!==0&&oe.push([R.FullPaths[K],R.FileIndex[K]]);for(K=0;K<oe.length;++K){var ue=n(oe[K][0]);H=se[ue],H||(oe.push([ue,{name:a(ue).replace("/",""),type:1,clsid:z,ct:ie,mt:ie,content:null}]),se[ue]=!0)}for(oe.sort(function(Re,ye){return r(Re[0],ye[0])}),R.FullPaths=[],R.FileIndex=[],K=0;K<oe.length;++K)R.FullPaths[K]=oe[K][0],R.FileIndex[K]=oe[K][1];for(K=0;K<oe.length;++K){var ve=R.FileIndex[K],Ee=R.FullPaths[K];if(ve.name=a(Ee).replace("/",""),ve.L=ve.R=ve.C=-(ve.color=1),ve.size=ve.content?ve.content.length:0,ve.start=0,ve.clsid=ve.clsid||z,K===0)ve.C=oe.length>1?1:-1,ve.size=0,ve.type=5;else if(Ee.slice(-1)=="/"){for(fe=K+1;fe<oe.length&&n(R.FullPaths[fe])!=Ee;++fe);for(ve.C=fe>=oe.length?-1:fe,fe=K+1;fe<oe.length&&n(R.FullPaths[fe])!=n(Ee);++fe);ve.R=fe>=oe.length?-1:fe,ve.type=1}else n(R.FullPaths[K+1]||"")==n(Ee)&&(ve.R=K+1),ve.type=2}}}function j(R,q){var B=q||{};if(B.fileType=="mad")return rs(R,B);switch(A(R),B.fileType){case"zip":return fu(R,B)}var H=function(Re){for(var ye=0,ke=0,Ge=0;Ge<Re.FileIndex.length;++Ge){var Ft=Re.FileIndex[Ge];if(Ft.content){var Dt=Ft.content.length;Dt>0&&(Dt<4096?ye+=Dt+63>>6:ke+=Dt+511>>9)}}for(var Ir=Re.FullPaths.length+3>>2,hu=ye+7>>3,mu=ye+127>>7,pu=hu+ke+Ir+mu,po=pu+127>>7,jm=po<=109?0:Math.ceil((po-109)/127);pu+po+jm+127>>7>po;)jm=++po<=109?0:Math.ceil((po-109)/127);var ks=[1,jm,po,mu,Ir,ke,ye,0];return Re.FileIndex[0].size=ye<<6,ks[7]=(Re.FileIndex[0].start=ks[0]+ks[1]+ks[2]+ks[3]+ks[4]+ks[5])+(ks[6]+7>>3),ks}(R),K=ar(H[7]<<9),J=0,ie=0;{for(J=0;J<8;++J)K.write_shift(1,X[J]);for(J=0;J<8;++J)K.write_shift(2,0);for(K.write_shift(2,62),K.write_shift(2,3),K.write_shift(2,65534),K.write_shift(2,9),K.write_shift(2,6),J=0;J<3;++J)K.write_shift(2,0);for(K.write_shift(4,0),K.write_shift(4,H[2]),K.write_shift(4,H[0]+H[1]+H[2]+H[3]-1),K.write_shift(4,0),K.write_shift(4,4096),K.write_shift(4,H[3]?H[0]+H[1]+H[2]-1:W),K.write_shift(4,H[3]),K.write_shift(-4,H[1]?H[0]-1:W),K.write_shift(4,H[1]),J=0;J<109;++J)K.write_shift(-4,J<H[2]?H[1]+J:-1)}if(H[1])for(ie=0;ie<H[1];++ie){for(;J<236+ie*127;++J)K.write_shift(-4,J<H[2]?H[1]+J:-1);K.write_shift(-4,ie===H[1]-1?W:ie+1)}var fe=function(Re){for(ie+=Re;J<ie-1;++J)K.write_shift(-4,J+1);Re&&(++J,K.write_shift(-4,W))};for(ie=J=0,ie+=H[1];J<ie;++J)K.write_shift(-4,V.DIFSECT);for(ie+=H[2];J<ie;++J)K.write_shift(-4,V.FATSECT);fe(H[3]),fe(H[4]);for(var se=0,oe=0,ue=R.FileIndex[0];se<R.FileIndex.length;++se)ue=R.FileIndex[se],ue.content&&(oe=ue.content.length,!(oe<4096)&&(ue.start=ie,fe(oe+511>>9)));for(fe(H[6]+7>>3);K.l&511;)K.write_shift(-4,V.ENDOFCHAIN);for(ie=J=0,se=0;se<R.FileIndex.length;++se)ue=R.FileIndex[se],ue.content&&(oe=ue.content.length,!(!oe||oe>=4096)&&(ue.start=ie,fe(oe+63>>6)));for(;K.l&511;)K.write_shift(-4,V.ENDOFCHAIN);for(J=0;J<H[4]<<2;++J){var ve=R.FullPaths[J];if(!ve||ve.length===0){for(se=0;se<17;++se)K.write_shift(4,0);for(se=0;se<3;++se)K.write_shift(4,-1);for(se=0;se<12;++se)K.write_shift(4,0);continue}ue=R.FileIndex[J],J===0&&(ue.start=ue.size?ue.start-1:W);var Ee=J===0&&B.root||ue.name;if(oe=2*(Ee.length+1),K.write_shift(64,Ee,"utf16le"),K.write_shift(2,oe),K.write_shift(1,ue.type),K.write_shift(1,ue.color),K.write_shift(-4,ue.L),K.write_shift(-4,ue.R),K.write_shift(-4,ue.C),ue.clsid)K.write_shift(16,ue.clsid,"hex");else for(se=0;se<4;++se)K.write_shift(4,0);K.write_shift(4,ue.state||0),K.write_shift(4,0),K.write_shift(4,0),K.write_shift(4,0),K.write_shift(4,0),K.write_shift(4,ue.start),K.write_shift(4,ue.size),K.write_shift(4,0)}for(J=1;J<R.FileIndex.length;++J)if(ue=R.FileIndex[J],ue.size>=4096)if(K.l=ue.start+1<<9,rt&&Buffer.isBuffer(ue.content))ue.content.copy(K,K.l,0,ue.size),K.l+=ue.size+511&-512;else{for(se=0;se<ue.size;++se)K.write_shift(1,ue.content[se]);for(;se&511;++se)K.write_shift(1,0)}for(J=1;J<R.FileIndex.length;++J)if(ue=R.FileIndex[J],ue.size>0&&ue.size<4096)if(rt&&Buffer.isBuffer(ue.content))ue.content.copy(K,K.l,0,ue.size),K.l+=ue.size+63&-64;else{for(se=0;se<ue.size;++se)K.write_shift(1,ue.content[se]);for(;se&63;++se)K.write_shift(1,0)}if(rt)K.l=K.length;else for(;K.l<K.length;)K.write_shift(1,0);return K}function I(R,q){var B=R.FullPaths.map(function(se){return se.toUpperCase()}),H=B.map(function(se){var oe=se.split("/");return oe[oe.length-(se.slice(-1)=="/"?2:1)]}),K=!1;q.charCodeAt(0)===47?(K=!0,q=B[0].slice(0,-1)+q):K=q.indexOf("/")!==-1;var J=q.toUpperCase(),ie=K===!0?B.indexOf(J):H.indexOf(J);if(ie!==-1)return R.FileIndex[ie];var fe=!J.match(Fu);for(J=J.replace(on,""),fe&&(J=J.replace(Fu,"!")),ie=0;ie<B.length;++ie)if((fe?B[ie].replace(Fu,"!"):B[ie]).replace(on,"")==J||(fe?H[ie].replace(Fu,"!"):H[ie]).replace(on,"")==J)return R.FileIndex[ie];return null}var N=64,W=-2,M="d0cf11e0a1b11ae1",X=[208,207,17,224,161,177,26,225],z="00000000000000000000000000000000",V={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:W,FREESECT:-1,HEADER_SIGNATURE:M,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:z,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Y(R,q,B){u();var H=j(R,B);l.writeFileSync(q,H)}function F(R){for(var q=new Array(R.length),B=0;B<R.length;++B)q[B]=String.fromCharCode(R[B]);return q.join("")}function ne(R,q){var B=j(R,q);switch(q&&q.type||"buffer"){case"file":return u(),l.writeFileSync(q.filename,B),B;case"binary":return typeof B=="string"?B:F(B);case"base64":return DE(typeof B=="string"?B:F(B));case"buffer":if(rt)return Buffer.isBuffer(B)?B:hc(B);case"array":return typeof B=="string"?$a(B):B}return B}var ee;function k(R){try{var q=R.InflateRaw,B=new q;if(B._processChunk(new Uint8Array([3,0]),B._finishFlushFlag),B.bytesRead)ee=R;else throw new Error("zlib does not expose bytesRead")}catch(H){console.error("cannot use native zlib: "+(H.message||H))}}function G(R,q){if(!ee)return hf(R,q);var B=ee.InflateRaw,H=new B,K=H._processChunk(R.slice(R.l),H._finishFlushFlag);return R.l+=H.bytesRead,K}function L(R){return ee?ee.deflateRawSync(R):ze(R)}var D=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],O=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],P=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Q(R){var q=(R<<1|R<<11)&139536|(R<<5|R<<15)&558144;return(q>>16|q>>8|q)&255}for(var Z=typeof Uint8Array<"u",re=Z?new Uint8Array(256):[],ce=0;ce<256;++ce)re[ce]=Q(ce);function U(R,q){var B=re[R&255];return q<=8?B>>>8-q:(B=B<<8|re[R>>8&255],q<=16?B>>>16-q:(B=B<<8|re[R>>16&255],B>>>24-q))}function we(R,q){var B=q&7,H=q>>>3;return(R[H]|(B<=6?0:R[H+1]<<8))>>>B&3}function Ne(R,q){var B=q&7,H=q>>>3;return(R[H]|(B<=5?0:R[H+1]<<8))>>>B&7}function $e(R,q){var B=q&7,H=q>>>3;return(R[H]|(B<=4?0:R[H+1]<<8))>>>B&15}function Me(R,q){var B=q&7,H=q>>>3;return(R[H]|(B<=3?0:R[H+1]<<8))>>>B&31}function pe(R,q){var B=q&7,H=q>>>3;return(R[H]|(B<=1?0:R[H+1]<<8))>>>B&127}function et(R,q,B){var H=q&7,K=q>>>3,J=(1<<B)-1,ie=R[K]>>>H;return B<8-H||(ie|=R[K+1]<<8-H,B<16-H)||(ie|=R[K+2]<<16-H,B<24-H)||(ie|=R[K+3]<<24-H),ie&J}function Pt(R,q,B){var H=q&7,K=q>>>3;return H<=5?R[K]|=(B&7)<<H:(R[K]|=B<<H&255,R[K+1]=(B&7)>>8-H),q+3}function Ot(R,q,B){var H=q&7,K=q>>>3;return B=(B&1)<<H,R[K]|=B,q+1}function Xt(R,q,B){var H=q&7,K=q>>>3;return B<<=H,R[K]|=B&255,B>>>=8,R[K+1]=B,q+8}function Gt(R,q,B){var H=q&7,K=q>>>3;return B<<=H,R[K]|=B&255,B>>>=8,R[K+1]=B&255,R[K+2]=B>>>8,q+16}function rr(R,q){var B=R.length,H=2*B>q?2*B:q+5,K=0;if(B>=q)return R;if(rt){var J=ME(H);if(R.copy)R.copy(J);else for(;K<R.length;++K)J[K]=R[K];return J}else if(Z){var ie=new Uint8Array(H);if(ie.set)ie.set(R);else for(;K<B;++K)ie[K]=R[K];return ie}return R.length=H,R}function he(R){for(var q=new Array(R),B=0;B<R;++B)q[B]=0;return q}function be(R,q,B){var H=1,K=0,J=0,ie=0,fe=0,se=R.length,oe=Z?new Uint16Array(32):he(32);for(J=0;J<32;++J)oe[J]=0;for(J=se;J<B;++J)R[J]=0;se=R.length;var ue=Z?new Uint16Array(se):he(se);for(J=0;J<se;++J)oe[K=R[J]]++,H<K&&(H=K),ue[J]=0;for(oe[0]=0,J=1;J<=H;++J)oe[J+16]=fe=fe+oe[J-1]<<1;for(J=0;J<se;++J)fe=R[J],fe!=0&&(ue[J]=oe[fe+16]++);var ve=0;for(J=0;J<se;++J)if(ve=R[J],ve!=0)for(fe=U(ue[J],H)>>H-ve,ie=(1<<H+4-ve)-1;ie>=0;--ie)q[fe|ie<<ve]=ve&15|J<<4;return H}var Ce=Z?new Uint16Array(512):he(512),gt=Z?new Uint16Array(32):he(32);if(!Z){for(var At=0;At<512;++At)Ce[At]=0;for(At=0;At<32;++At)gt[At]=0}(function(){for(var R=[],q=0;q<32;q++)R.push(5);be(R,gt,32);var B=[];for(q=0;q<=143;q++)B.push(8);for(;q<=255;q++)B.push(9);for(;q<=279;q++)B.push(7);for(;q<=287;q++)B.push(8);be(B,Ce,288)})();var Kr=function(){for(var q=Z?new Uint8Array(32768):[],B=0,H=0;B<P.length-1;++B)for(;H<P[B+1];++H)q[H]=B;for(;H<32768;++H)q[H]=29;var K=Z?new Uint8Array(259):[];for(B=0,H=0;B<O.length-1;++B)for(;H<O[B+1];++H)K[H]=B;function J(fe,se){for(var oe=0;oe<fe.length;){var ue=Math.min(65535,fe.length-oe),ve=oe+ue==fe.length;for(se.write_shift(1,+ve),se.write_shift(2,ue),se.write_shift(2,~ue&65535);ue-- >0;)se[se.l++]=fe[oe++]}return se.l}function ie(fe,se){for(var oe=0,ue=0,ve=Z?new Uint16Array(32768):[];ue<fe.length;){var Ee=Math.min(65535,fe.length-ue);if(Ee<10){for(oe=Pt(se,oe,+(ue+Ee==fe.length)),oe&7&&(oe+=8-(oe&7)),se.l=oe/8|0,se.write_shift(2,Ee),se.write_shift(2,~Ee&65535);Ee-- >0;)se[se.l++]=fe[ue++];oe=se.l*8;continue}oe=Pt(se,oe,+(ue+Ee==fe.length)+2);for(var Re=0;Ee-- >0;){var ye=fe[ue];Re=(Re<<5^ye)&32767;var ke=-1,Ge=0;if((ke=ve[Re])&&(ke|=ue&-32768,ke>ue&&(ke-=32768),ke<ue))for(;fe[ke+Ge]==fe[ue+Ge]&&Ge<250;)++Ge;if(Ge>2){ye=K[Ge],ye<=22?oe=Xt(se,oe,re[ye+1]>>1)-1:(Xt(se,oe,3),oe+=5,Xt(se,oe,re[ye-23]>>5),oe+=3);var Ft=ye<8?0:ye-4>>2;Ft>0&&(Gt(se,oe,Ge-O[ye]),oe+=Ft),ye=q[ue-ke],oe=Xt(se,oe,re[ye]>>3),oe-=3;var Dt=ye<4?0:ye-2>>1;Dt>0&&(Gt(se,oe,ue-ke-P[ye]),oe+=Dt);for(var Ir=0;Ir<Ge;++Ir)ve[Re]=ue&32767,Re=(Re<<5^fe[ue])&32767,++ue;Ee-=Ge-1}else ye<=143?ye=ye+48:oe=Ot(se,oe,1),oe=Xt(se,oe,re[ye]),ve[Re]=ue&32767,++ue}oe=Xt(se,oe,0)-1}return se.l=(oe+7)/8|0,se.l}return function(se,oe){return se.length<8?J(se,oe):ie(se,oe)}}();function ze(R){var q=ar(50+Math.floor(R.length*1.1)),B=Kr(R,q);return q.slice(0,B)}var Ze=Z?new Uint16Array(32768):he(32768),ct=Z?new Uint16Array(32768):he(32768),jt=Z?new Uint16Array(128):he(128),Nr=1,ia=1;function Ts(R,q){var B=Me(R,q)+257;q+=5;var H=Me(R,q)+1;q+=5;var K=$e(R,q)+4;q+=4;for(var J=0,ie=Z?new Uint8Array(19):he(19),fe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],se=1,oe=Z?new Uint8Array(8):he(8),ue=Z?new Uint8Array(8):he(8),ve=ie.length,Ee=0;Ee<K;++Ee)ie[D[Ee]]=J=Ne(R,q),se<J&&(se=J),oe[J]++,q+=3;var Re=0;for(oe[0]=0,Ee=1;Ee<=se;++Ee)ue[Ee]=Re=Re+oe[Ee-1]<<1;for(Ee=0;Ee<ve;++Ee)(Re=ie[Ee])!=0&&(fe[Ee]=ue[Re]++);var ye=0;for(Ee=0;Ee<ve;++Ee)if(ye=ie[Ee],ye!=0){Re=re[fe[Ee]]>>8-ye;for(var ke=(1<<7-ye)-1;ke>=0;--ke)jt[Re|ke<<ye]=ye&7|Ee<<3}var Ge=[];for(se=1;Ge.length<B+H;)switch(Re=jt[pe(R,q)],q+=Re&7,Re>>>=3){case 16:for(J=3+we(R,q),q+=2,Re=Ge[Ge.length-1];J-- >0;)Ge.push(Re);break;case 17:for(J=3+Ne(R,q),q+=3;J-- >0;)Ge.push(0);break;case 18:for(J=11+pe(R,q),q+=7;J-- >0;)Ge.push(0);break;default:Ge.push(Re),se<Re&&(se=Re);break}var Ft=Ge.slice(0,B),Dt=Ge.slice(B);for(Ee=B;Ee<286;++Ee)Ft[Ee]=0;for(Ee=H;Ee<30;++Ee)Dt[Ee]=0;return Nr=be(Ft,Ze,286),ia=be(Dt,ct,30),q}function lu(R,q){if(R[0]==3&&!(R[1]&3))return[Zi(q),2];for(var B=0,H=0,K=ME(q||1<<18),J=0,ie=K.length>>>0,fe=0,se=0;!(H&1);){if(H=Ne(R,B),B+=3,H>>>1)H>>1==1?(fe=9,se=5):(B=Ts(R,B),fe=Nr,se=ia);else{B&7&&(B+=8-(B&7));var oe=R[B>>>3]|R[(B>>>3)+1]<<8;if(B+=32,oe>0)for(!q&&ie<J+oe&&(K=rr(K,J+oe),ie=K.length);oe-- >0;)K[J++]=R[B>>>3],B+=8;continue}for(;;){!q&&ie<J+32767&&(K=rr(K,J+32767),ie=K.length);var ue=et(R,B,fe),ve=H>>>1==1?Ce[ue]:Ze[ue];if(B+=ve&15,ve>>>=4,!(ve>>>8&255))K[J++]=ve;else{if(ve==256)break;ve-=257;var Ee=ve<8?0:ve-4>>2;Ee>5&&(Ee=0);var Re=J+O[ve];Ee>0&&(Re+=et(R,B,Ee),B+=Ee),ue=et(R,B,se),ve=H>>>1==1?gt[ue]:ct[ue],B+=ve&15,ve>>>=4;var ye=ve<4?0:ve-2>>1,ke=P[ve];for(ye>0&&(ke+=et(R,B,ye),B+=ye),!q&&ie<Re&&(K=rr(K,Re+100),ie=K.length);J<Re;)K[J]=K[J-ke],++J}}}return q?[K,B+7>>>3]:[K.slice(0,J),B+7>>>3]}function hf(R,q){var B=R.slice(R.l||0),H=lu(B,q);return R.l+=H[1],H[0]}function uu(R,q){if(R)typeof console<"u"&&console.error(q);else throw new Error(q)}function du(R,q){var B=R;br(B,0);var H=[],K=[],J={FileIndex:H,FullPaths:K};S(J,{root:q.root});for(var ie=B.length-4;(B[ie]!=80||B[ie+1]!=75||B[ie+2]!=5||B[ie+3]!=6)&&ie>=0;)--ie;B.l=ie+4,B.l+=4;var fe=B.read_shift(2);B.l+=6;var se=B.read_shift(4);for(B.l=se,ie=0;ie<fe;++ie){B.l+=20;var oe=B.read_shift(4),ue=B.read_shift(4),ve=B.read_shift(2),Ee=B.read_shift(2),Re=B.read_shift(2);B.l+=8;var ye=B.read_shift(4),ke=o(B.slice(B.l+ve,B.l+ve+Ee));B.l+=ve+Ee+Re;var Ge=B.l;B.l=ye+4,km(B,oe,ue,J,ke),B.l=Ge}return J}function km(R,q,B,H,K){R.l+=2;var J=R.read_shift(2),ie=R.read_shift(2),fe=i(R);if(J&8257)throw new Error("Unsupported ZIP encryption");for(var se=R.read_shift(4),oe=R.read_shift(4),ue=R.read_shift(4),ve=R.read_shift(2),Ee=R.read_shift(2),Re="",ye=0;ye<ve;++ye)Re+=String.fromCharCode(R[R.l++]);if(Ee){var ke=o(R.slice(R.l,R.l+Ee));(ke[21589]||{}).mt&&(fe=ke[21589].mt),((K||{})[21589]||{}).mt&&(fe=K[21589].mt)}R.l+=Ee;var Ge=R.slice(R.l,R.l+oe);switch(ie){case 8:Ge=G(R,ue);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ie)}var Ft=!1;J&8&&(se=R.read_shift(4),se==134695760&&(se=R.read_shift(4),Ft=!0),oe=R.read_shift(4),ue=R.read_shift(4)),oe!=q&&uu(Ft,"Bad compressed size: "+q+" != "+oe),ue!=B&&uu(Ft,"Bad uncompressed size: "+B+" != "+ue),Jr(H,Re,Ge,{unsafe:!0,mt:fe})}function fu(R,q){var B=q||{},H=[],K=[],J=ar(1),ie=B.compression?8:0,fe=0,se=0,oe=0,ue=0,ve=0,Ee=R.FullPaths[0],Re=Ee,ye=R.FileIndex[0],ke=[],Ge=0;for(se=1;se<R.FullPaths.length;++se)if(Re=R.FullPaths[se].slice(Ee.length),ye=R.FileIndex[se],!(!ye.size||!ye.content||Re=="Sh33tJ5")){var Ft=ue,Dt=ar(Re.length);for(oe=0;oe<Re.length;++oe)Dt.write_shift(1,Re.charCodeAt(oe)&127);Dt=Dt.slice(0,Dt.l),ke[ve]=t$.buf(ye.content,0);var Ir=ye.content;ie==8&&(Ir=L(Ir)),J=ar(30),J.write_shift(4,67324752),J.write_shift(2,20),J.write_shift(2,fe),J.write_shift(2,ie),ye.mt?s(J,ye.mt):J.write_shift(4,0),J.write_shift(-4,ke[ve]),J.write_shift(4,Ir.length),J.write_shift(4,ye.content.length),J.write_shift(2,Dt.length),J.write_shift(2,0),ue+=J.length,H.push(J),ue+=Dt.length,H.push(Dt),ue+=Ir.length,H.push(Ir),J=ar(46),J.write_shift(4,33639248),J.write_shift(2,0),J.write_shift(2,20),J.write_shift(2,fe),J.write_shift(2,ie),J.write_shift(4,0),J.write_shift(-4,ke[ve]),J.write_shift(4,Ir.length),J.write_shift(4,ye.content.length),J.write_shift(2,Dt.length),J.write_shift(2,0),J.write_shift(2,0),J.write_shift(2,0),J.write_shift(2,0),J.write_shift(4,0),J.write_shift(4,Ft),Ge+=J.l,K.push(J),Ge+=Dt.length,K.push(Dt),++ve}return J=ar(22),J.write_shift(4,101010256),J.write_shift(2,0),J.write_shift(2,0),J.write_shift(2,ve),J.write_shift(2,ve),J.write_shift(4,Ge),J.write_shift(4,ue),J.write_shift(2,0),wi([wi(H),wi(K),J])}var In={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Am(R,q){if(R.ctype)return R.ctype;var B=R.name||"",H=B.match(/\.([^\.]+)$/);return H&&In[H[1]]||q&&(H=(B=q).match(/[\.\\]([^\.\\])+$/),H&&In[H[1]])?In[H[1]]:"application/octet-stream"}function Ve(R){for(var q=DE(R),B=[],H=0;H<q.length;H+=76)B.push(q.slice(H,H+76));return B.join(`\r
`)+`\r
`}function lt(R){var q=R.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(oe){var ue=oe.charCodeAt(0).toString(16).toUpperCase();return"="+(ue.length==1?"0"+ue:ue)});q=q.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),q.charAt(0)==`
`&&(q="=0D"+q.slice(1)),q=q.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var B=[],H=q.split(`\r
`),K=0;K<H.length;++K){var J=H[K];if(J.length==0){B.push("");continue}for(var ie=0;ie<J.length;){var fe=76,se=J.slice(ie,ie+fe);se.charAt(fe-1)=="="?fe--:se.charAt(fe-2)=="="?fe-=2:se.charAt(fe-3)=="="&&(fe-=3),se=J.slice(ie,ie+fe),ie+=fe,ie<J.length&&(se+="="),B.push(se)}}return B.join(`\r
`)}function yt(R){for(var q=[],B=0;B<R.length;++B){for(var H=R[B];B<=R.length&&H.charAt(H.length-1)=="=";)H=H.slice(0,H.length-1)+R[++B];q.push(H)}for(var K=0;K<q.length;++K)q[K]=q[K].replace(/[=][0-9A-Fa-f]{2}/g,function(J){return String.fromCharCode(parseInt(J.slice(1),16))});return $a(q.join(`\r
`))}function Rn(R,q,B){for(var H="",K="",J="",ie,fe=0;fe<10;++fe){var se=q[fe];if(!se||se.match(/^\s*$/))break;var oe=se.match(/^(.*?):\s*([^\s].*)$/);if(oe)switch(oe[1].toLowerCase()){case"content-location":H=oe[2].trim();break;case"content-type":J=oe[2].trim();break;case"content-transfer-encoding":K=oe[2].trim();break}}switch(++fe,K.toLowerCase()){case"base64":ie=$a(ta(q.slice(fe).join("")));break;case"quoted-printable":ie=yt(q.slice(fe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+K)}var ue=Jr(R,H.slice(B.length),ie,{unsafe:!0});J&&(ue.ctype=J)}function Pn(R,q){if(F(R.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var B=q&&q.root||"",H=(rt&&Buffer.isBuffer(R)?R.toString("binary"):F(R)).split(`\r
`),K=0,J="";for(K=0;K<H.length;++K)if(J=H[K],!!/^Content-Location:/i.test(J)&&(J=J.slice(J.indexOf("file")),B||(B=J.slice(0,J.lastIndexOf("/")+1)),J.slice(0,B.length)!=B))for(;B.length>0&&(B=B.slice(0,B.length-1),B=B.slice(0,B.lastIndexOf("/")+1),J.slice(0,B.length)!=B););var ie=(H[1]||"").match(/boundary="(.*?)"/);if(!ie)throw new Error("MAD cannot find boundary");var fe="--"+(ie[1]||""),se=[],oe=[],ue={FileIndex:se,FullPaths:oe};S(ue);var ve,Ee=0;for(K=0;K<H.length;++K){var Re=H[K];Re!==fe&&Re!==fe+"--"||(Ee++&&Rn(ue,H.slice(ve,K),B),ve=K)}return ue}function rs(R,q){var B=q||{},H=B.boundary||"SheetJS";H="------="+H;for(var K=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+H.slice(2)+'"',"","",""],J=R.FullPaths[0],ie=J,fe=R.FileIndex[0],se=1;se<R.FullPaths.length;++se)if(ie=R.FullPaths[se].slice(J.length),fe=R.FileIndex[se],!(!fe.size||!fe.content||ie=="Sh33tJ5")){ie=ie.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ge){return"_x"+Ge.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ge){return"_u"+Ge.charCodeAt(0).toString(16)+"_"});for(var oe=fe.content,ue=rt&&Buffer.isBuffer(oe)?oe.toString("binary"):F(oe),ve=0,Ee=Math.min(1024,ue.length),Re=0,ye=0;ye<=Ee;++ye)(Re=ue.charCodeAt(ye))>=32&&Re<128&&++ve;var ke=ve>=Ee*4/5;K.push(H),K.push("Content-Location: "+(B.root||"file:///C:/SheetJS/")+ie),K.push("Content-Transfer-Encoding: "+(ke?"quoted-printable":"base64")),K.push("Content-Type: "+Am(fe,ie)),K.push(""),K.push(ke?lt(ue):Ve(ue))}return K.push(H+`--\r
`),K.join(`\r
`)}function Cs(R){var q={};return S(q,R),q}function Jr(R,q,B,H){var K=H&&H.unsafe;K||S(R);var J=!K&&nt.find(R,q);if(!J){var ie=R.FullPaths[0];q.slice(0,ie.length)==ie?ie=q:(ie.slice(-1)!="/"&&(ie+="/"),ie=(ie+q).replace("//","/")),J={name:a(q),type:2},R.FileIndex.push(J),R.FullPaths.push(ie),K||nt.utils.cfb_gc(R)}return J.content=B,J.size=B?B.length:0,H&&(H.CLSID&&(J.clsid=H.CLSID),H.mt&&(J.mt=H.mt),H.ct&&(J.ct=H.ct)),J}function ns(R,q){S(R);var B=nt.find(R,q);if(B){for(var H=0;H<R.FileIndex.length;++H)if(R.FileIndex[H]==B)return R.FileIndex.splice(H,1),R.FullPaths.splice(H,1),!0}return!1}function pP(R,q,B){S(R);var H=nt.find(R,q);if(H){for(var K=0;K<R.FileIndex.length;++K)if(R.FileIndex[K]==H)return R.FileIndex[K].name=a(B),R.FullPaths[K]=B,!0}return!1}function gP(R){A(R,!0)}return t.find=I,t.read=b,t.parse=d,t.write=ne,t.writeFile=Y,t.utils={cfb_new:Cs,cfb_add:Jr,cfb_del:ns,cfb_mov:pP,cfb_gc:gP,ReadShift:Qu,CheckField:Gj,prep_blob:br,bconcat:wi,use_zlib:k,_deflateRaw:ze,_inflateRaw:hf,consts:V},t}();function r$(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function ys(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function py(e){for(var t=[],r=ys(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}var f0=new Date(1899,11,30,0,0,0);function cn(e,t){var r=e.getTime(),n=f0.getTime()+(e.getTimezoneOffset()-f0.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var Tj=new Date,n$=f0.getTime()+(Tj.getTimezoneOffset()-f0.getTimezoneOffset())*6e4,HE=Tj.getTimezoneOffset();function lm(e){var t=new Date;return t.setTime(e*24*60*60*1e3+n$),t.getTimezoneOffset()!==HE&&t.setTime(t.getTime()+(t.getTimezoneOffset()-HE)*6e4),t}function a$(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var s=1;s!=a.length;++s)if(a[s]){switch(r=1,s>3&&(n=!0),a[s].slice(a[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[s].slice(a[s].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[s],10)}return t}var GE=new Date("2017-02-19T19:06:09.000Z"),Cj=isNaN(GE.getFullYear())?new Date("2/19/17"):GE,s$=Cj.getFullYear()==2017;function Er(e,t){var r=new Date(e);if(s$)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(Cj.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function rc(e,t){if(rt&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Mu(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Mu(fj(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Mu(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Mu(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(s){return r[s]||s})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function kr(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=kr(e[r]));return t}function Wt(e,t){for(var r="";r.length<t;)r+=e;return r}function Ga(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,s){return r=-r,s}),!isNaN(t=Number(n)))?t/r:t}var i$=["january","february","march","april","may","june","july","august","september","october","november","december"];function Bl(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),s=t.getDate();if(isNaN(s))return r;var i=e.toLowerCase();if(i.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(i=i.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),i.length>3&&i$.indexOf(i)==-1)return r}else if(i.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||s>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var o$=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var s=r.split(n),i=[s[0]],o=1;o<s.length;++o)i.push(a),i.push(s[o]);return i}}();function kj(e){return e?e.content&&e.type?rc(e.content,!0):e.data?Ou(e.data):e.asNodeBuffer&&rt?Ou(e.asNodeBuffer().toString("binary")):e.asBinary?Ou(e.asBinary()):e._data&&e._data.getContent?Ou(rc(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function Aj(e){if(!e)return null;if(e.data)return OE(e.data);if(e.asNodeBuffer&&rt)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?OE(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function c$(e){return e&&e.name.slice(-4)===".bin"?Aj(e):kj(e)}function la(e,t){for(var r=e.FullPaths||ys(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),s=0;s<r.length;++s){var i=r[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==i||a==i)return e.files?e.files[r[s]]:e.FileIndex[s]}return null}function gy(e,t){var r=la(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function Qt(e,t,r){if(!r)return c$(gy(e,t));if(!t)return null;try{return Qt(e,t)}catch{return null}}function Bn(e,t,r){if(!r)return kj(gy(e,t));if(!t)return null;try{return Bn(e,t)}catch{return null}}function l$(e,t,r){return Aj(gy(e,t))}function qE(e){for(var t=e.FullPaths||ys(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function u$(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return rt?n=hc(r):n=jB(r),nt.utils.cfb_add(e,t,n)}nt.utils.cfb_add(e,t,r)}else e.file(t,r)}function jj(e,t){switch(t.type){case"base64":return nt.read(e,{type:"base64"});case"binary":return nt.read(e,{type:"binary"});case"buffer":case"array":return nt.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function Du(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var Nj=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,d$=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,KE=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,f$=/<[^>]*>/g,Wr=Nj.match(KE)?KE:f$,h$=/<\w*:/,m$=/<(\/?)\w+:/;function Be(e,t,r){for(var n={},a=0,s=0;a!==e.length&&!((s=e.charCodeAt(a))===32||s===10||s===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var i=e.match(d$),o=0,l="",u=0,d="",f="",h=1;if(i)for(u=0;u!=i.length;++u){for(f=i[u],s=0;s!=f.length&&f.charCodeAt(s)!==61;++s);for(d=f.slice(0,s).trim();f.charCodeAt(s+1)==32;)++s;for(h=(a=f.charCodeAt(s+1))==34||a==39?1:0,l=f.slice(s+1+h,f.length-h),o=0;o!=d.length&&d.charCodeAt(o)!==58;++o);if(o===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),n[d]=l,n[d.toLowerCase()]=l;else{var m=(o===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(o+1);if(n[m]&&d.slice(o-3,o)=="ext")continue;n[m]=l,n[m.toLowerCase()]=l}}return n}function Es(e){return e.replace(m$,"<$1")}var Ij={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},p$=py(Ij),it=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",s=a.indexOf("<![CDATA[");if(s==-1)return a.replace(e,function(o,l){return Ij[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,l){return String.fromCharCode(parseInt(l,16))});var i=a.indexOf("]]>");return r(a.slice(0,s))+a.slice(s+9,i)+r(a.slice(i+3))}}(),g$=/[&<>'"]/g,v$=/[\u0000-\u001f]/g;function vy(e){var t=e+"";return t.replace(g$,function(r){return p$[r]}).replace(/\n/g,"<br/>").replace(v$,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var JE=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function Nt(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Op(e){for(var t="",r=0,n=0,a=0,s=0,i=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){i=(n&31)<<6,i|=a&63,t+=String.fromCharCode(i);continue}if(s=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|s&63);continue}i=e.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(s&63)<<6|i&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function XE(e){var t=Zi(2*e.length),r,n,a=1,s=0,i=0,o;for(n=0;n<e.length;n+=a)a=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,i=55296+(r>>>10&1023),r=56320+(r&1023)),i!==0&&(t[s++]=i&255,t[s++]=i>>>8,i=0),t[s++]=r%256,t[s++]=r>>>8;return t.slice(0,s).toString("ucs2")}function YE(e){return hc(e,"binary").toString("utf8")}var Qf="foo bar baz",Et=rt&&(YE(Qf)==Op(Qf)&&YE||XE(Qf)==Op(Qf)&&XE)||Op,Mu=rt?function(e){return hc(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},Pd=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),Rj=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),x$=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),y$=/<\/?(?:vt:)?variant>/g,w$=/<(?:vt:)([^>]*)>([\s\S]*)</;function QE(e,t){var r=Be(e),n=e.match(x$(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(s){var i=s.replace(y$,"").match(w$);i&&a.push({v:Et(i[2]),t:i[1]})}),a}var _$=/(^\s|\s$|\n)/;function E$(e){return ys(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function S$(e,t,r){return"<"+e+(r!=null?E$(r):"")+(t!=null?(t.match(_$)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function xy(e){if(rt&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Et(mc(fy(e)));throw new Error("Bad input format: expected Buffer or string")}var Od=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,b$={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},T$=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function C$(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,s=5;s>=0;--s)a=a*256+e[t+s];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function k$(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,s=0,i=n?-t:t;isFinite(i)?i==0?a=s=0:(a=Math.floor(Math.log(i)/Math.LN2),s=i*Math.pow(2,52-a),a<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?a=-1022:(s-=Math.pow(2,52),a+=1023)):(a=2047,s=isNaN(t)?26985:0);for(var o=0;o<=5;++o,s/=256)e[r+o]=s&255;e[r+6]=(a&15)<<4|s&15,e[r+7]=a>>4|n}var ZE=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,s=e[0][n].length;a<s;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},eS=rt?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:hc(t)})):ZE(e)}:ZE,tS=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode($s(e,a)));return n.join("").replace(on,"")},yy=rt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(on,""):tS(e,t,r)}:tS,rS=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},Pj=rt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):rS(e,t,r)}:rS,nS=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(Mc(e,a)));return n.join("")},af=rt?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):nS(t,r,n)}:nS,Oj=function(e,t){var r=Mn(e,t);return r>0?af(e,t+4,t+4+r-1):""},Fj=Oj,Dj=function(e,t){var r=Mn(e,t);return r>0?af(e,t+4,t+4+r-1):""},Mj=Dj,Lj=function(e,t){var r=2*Mn(e,t);return r>0?af(e,t+4,t+4+r-1):""},Uj=Lj,Bj=function(t,r){var n=Mn(t,r);return n>0?yy(t,r+4,r+4+n):""},$j=Bj,zj=function(e,t){var r=Mn(e,t);return r>0?af(e,t+4,t+4+r):""},Vj=zj,Wj=function(e,t){return C$(e,t)},h0=Wj,Hj=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};rt&&(Fj=function(t,r){if(!Buffer.isBuffer(t))return Oj(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},Mj=function(t,r){if(!Buffer.isBuffer(t))return Dj(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},Uj=function(t,r){if(!Buffer.isBuffer(t))return Lj(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},$j=function(t,r){if(!Buffer.isBuffer(t))return Bj(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},Vj=function(t,r){if(!Buffer.isBuffer(t))return zj(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},h0=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):Wj(t,r)},Hj=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Mc=function(e,t){return e[t]},$s=function(e,t){return e[t+1]*256+e[t]},A$=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Mn=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},bo=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},j$=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Qu(e,t){var r="",n,a,s=[],i,o,l,u;switch(t){case"dbcs":if(u=this.l,rt&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)r+=String.fromCharCode($s(this,u)),u+=2;e*=2;break;case"utf8":r=af(this,this.l,this.l+e);break;case"utf16le":e*=2,r=yy(this,this.l,this.l+e);break;case"wstr":return Qu.call(this,e,"dbcs");case"lpstr-ansi":r=Fj(this,this.l),e=4+Mn(this,this.l);break;case"lpstr-cp":r=Mj(this,this.l),e=4+Mn(this,this.l);break;case"lpwstr":r=Uj(this,this.l),e=4+2*Mn(this,this.l);break;case"lpp4":e=4+Mn(this,this.l),r=$j(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Mn(this,this.l),r=Vj(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(i=Mc(this,this.l+e++))!==0;)s.push(Yf(i));r=s.join("");break;case"_wstr":for(e=0,r="";(i=$s(this,this.l+e))!==0;)s.push(Yf(i)),e+=2;e+=2,r=s.join("");break;case"dbcs-cont":for(r="",u=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return i=Mc(this,u),this.l=u+1,o=Qu.call(this,e-l,i?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(Yf($s(this,u))),u+=2}r=s.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return i=Mc(this,u),this.l=u+1,o=Qu.call(this,e-l,i?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(Yf(Mc(this,u))),u+=1}r=s.join("");break;default:switch(e){case 1:return n=Mc(this,this.l),this.l++,n;case 2:return n=(t==="i"?A$:$s)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?bo:j$)(this,this.l),this.l+=4,n):(a=Mn(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=h0(this,this.l):a=h0([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=Pj(this,this.l,e);break}}return this.l+=e,r}var N$=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},I$=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},R$=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function P$(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)R$(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var i=t.charCodeAt(a);this[this.l++]=i&255,this[this.l++]=i>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,N$(this,t,this.l);break;case 8:if(n=8,r==="f"){k$(this,t,this.l);break}case 16:break;case-4:n=4,I$(this,t,this.l);break}return this.l+=n,this}function Gj(e,t){var r=Pj(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function br(e,t){e.l=t,e.read_shift=Qu,e.chk=Gj,e.write_shift=P$}function zr(e,t){e.l+=t}function ar(e){var t=Zi(e);return br(t,0),t}function ei(e,t,r){if(e){var n,a,s;br(e,e.l||0);for(var i=e.length,o=0,l=0;e.l<i;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var u=y0[o]||y0[65535];for(n=e.read_shift(1),s=n&127,a=1;a<4&&n&128;++a)s+=((n=e.read_shift(1))&127)<<7*a;l=e.l+s;var d=u.f&&u.f(e,s,r);if(e.l=l,t(d,u,o))return}}}function qv(){var e=[],t=rt?256:2048,r=function(u){var d=ar(u);return br(d,0),d},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},s=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},i=function(){return a(),wi(e)},o=function(u){a(),n=u,n.l==null&&(n.l=n.length),s(t)};return{next:s,push:o,end:i,_bufs:e}}function Zu(e,t,r){var n=kr(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function aS(e,t,r){var n=kr(e);return n.s=Zu(n.s,t.s,r),n.e=Zu(n.e,t.s,r),n}function ed(e,t){if(e.cRel&&e.c<0)for(e=kr(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=kr(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=He(e);return!e.cRel&&e.cRel!=null&&(r=D$(r)),!e.rRel&&e.rRel!=null&&(r=O$(r)),r}function Fp(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+fr(e.s.c)+":"+(e.e.cRel?"":"$")+fr(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Ar(e.s.r)+":"+(e.e.rRel?"":"$")+Ar(e.e.r):ed(e.s,t.biff)+":"+ed(e.e,t.biff)}function wy(e){return parseInt(F$(e),10)-1}function Ar(e){return""+(e+1)}function O$(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function F$(e){return e.replace(/\$(\d+)$/,"$1")}function _y(e){for(var t=M$(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function fr(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function D$(e){return e.replace(/^([A-Z])/,"$$$1")}function M$(e){return e.replace(/^\$([A-Z])/,"$1")}function L$(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function an(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function He(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function iu(e){var t=e.indexOf(":");return t==-1?{s:an(e),e:an(e)}:{s:an(e.slice(0,t)),e:an(e.slice(t+1))}}function at(e,t){return typeof t>"u"||typeof t=="number"?at(e.s,e.e):(typeof e!="string"&&(e=He(e)),typeof t!="string"&&(t=He(t)),e==t?e:e+":"+t)}function Ht(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,s=e.length;for(r=0;n<s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===s||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function sS(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Ta(e.z,r?cn(t):t)}catch{}try{return e.w=Ta((e.XF||{}).numFmtId||(r?14:0),r?cn(t):t)}catch{return""+t}}function Qs(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?vc[e.v]||e.v:t==null?sS(e,e.v):sS(e,t))}function lo(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function qj(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,s=e||(a?[]:{}),i=0,o=0;if(s&&n.origin!=null){if(typeof n.origin=="number")i=n.origin;else{var l=typeof n.origin=="string"?an(n.origin):n.origin;i=l.r,o=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var d=Ht(s["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),i==-1&&(u.e.r=i=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var m={v:t[f][h]},v=i+f,p=o+h;if(u.s.r>v&&(u.s.r=v),u.s.c>p&&(u.s.c=p),u.e.r<v&&(u.e.r=v),u.e.c<p&&(u.e.c=p),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))m=t[f][h];else if(Array.isArray(m.v)&&(m.f=t[f][h][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(n.nullError)m.t="e",m.v=0;else if(n.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=n.dateNF||qe[14],n.cellDates?(m.t="d",m.w=Ta(m.z,cn(m.v))):(m.t="n",m.v=cn(m.v),m.w=Ta(m.z,m.v))):m.t="s";if(a)s[v]||(s[v]=[]),s[v][p]&&s[v][p].z&&(m.z=s[v][p].z),s[v][p]=m;else{var g=He({c:p,r:v});s[g]&&s[g].z&&(m.z=s[g].z),s[g]=m}}}return u.s.c<1e7&&(s["!ref"]=at(u)),s}function ou(e,t){return qj(null,e,t)}function U$(e){return e.read_shift(4,"i")}function Br(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function B$(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function Ey(e,t){var r=e.l,n=e.read_shift(1),a=Br(e),s=[],i={t:a,h:a};if(n&1){for(var o=e.read_shift(4),l=0;l!=o;++l)s.push(B$(e));i.r=s}else i.r=[{ich:0,ifnt:0}];return e.l=r+t,i}var $$=Ey;function Ca(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function pc(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var z$=Br;function Sy(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var V$=Br,Kv=Sy;function by(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?h0([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):bo(t,0)>>2;return r?a/100:a}function Kj(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var gc=Kj;function Lr(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function W$(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),s=e.read_shift(2,"i"),i=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=Vo[a];u&&(t.rgb=Dd(u));break;case 2:t.rgb=Dd([i,o,l]);break;case 3:t.theme=a;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function H$(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function Jj(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function G$(e){return Jj(e,1)}function q$(e){return Jj(e,2)}var Ty=2,_n=3,Zf=11,iS=12,m0=19,eh=64,K$=65,J$=71,X$=4108,Y$=4126,vr=80,Xj=81,Q$=[vr,Xj],Z$={1:{n:"CodePage",t:Ty},2:{n:"Category",t:vr},3:{n:"PresentationFormat",t:vr},4:{n:"ByteCount",t:_n},5:{n:"LineCount",t:_n},6:{n:"ParagraphCount",t:_n},7:{n:"SlideCount",t:_n},8:{n:"NoteCount",t:_n},9:{n:"HiddenCount",t:_n},10:{n:"MultimediaClipCount",t:_n},11:{n:"ScaleCrop",t:Zf},12:{n:"HeadingPairs",t:X$},13:{n:"TitlesOfParts",t:Y$},14:{n:"Manager",t:vr},15:{n:"Company",t:vr},16:{n:"LinksUpToDate",t:Zf},17:{n:"CharacterCount",t:_n},19:{n:"SharedDoc",t:Zf},22:{n:"HyperlinksChanged",t:Zf},23:{n:"AppVersion",t:_n,p:"version"},24:{n:"DigSig",t:K$},26:{n:"ContentType",t:vr},27:{n:"ContentStatus",t:vr},28:{n:"Language",t:vr},29:{n:"Version",t:vr},255:{},2147483648:{n:"Locale",t:m0},2147483651:{n:"Behavior",t:m0},1919054434:{}},e7={1:{n:"CodePage",t:Ty},2:{n:"Title",t:vr},3:{n:"Subject",t:vr},4:{n:"Author",t:vr},5:{n:"Keywords",t:vr},6:{n:"Comments",t:vr},7:{n:"Template",t:vr},8:{n:"LastAuthor",t:vr},9:{n:"RevNumber",t:vr},10:{n:"EditTime",t:eh},11:{n:"LastPrinted",t:eh},12:{n:"CreatedDate",t:eh},13:{n:"ModifiedDate",t:eh},14:{n:"PageCount",t:_n},15:{n:"WordCount",t:_n},16:{n:"CharCount",t:_n},17:{n:"Thumbnail",t:J$},18:{n:"Application",t:vr},19:{n:"DocSecurity",t:_n},255:{},2147483648:{n:"Locale",t:m0},2147483651:{n:"Behavior",t:m0},1919054434:{}},oS={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},t7=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function r7(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var n7=r7([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Vo=kr(n7),vc={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Yj={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},cS={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function a7(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function s7(e){var t=a7();if(!e||!e.match)return t;var r={};if((e.match(Wr)||[]).forEach(function(n){var a=Be(n);switch(a[0].replace(h$,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[cS[a.ContentType]]!==void 0&&t[cS[a.ContentType]].push(a.PartName);break}}),t.xmlns!==b$.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var Qc={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Jv(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function td(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Wr)||[]).forEach(function(a){var s=Be(a);if(s[0]==="<Relationship"){var i={};i.Type=s.Type,i.Target=s.Target,i.Id=s.Id,s.TargetMode&&(i.TargetMode=s.TargetMode);var o=s.TargetMode==="External"?s.Target:Du(s.Target,t);r[o]=i,n[s.Id]=i}}),r["!id"]=n,r}var i7="application/vnd.oasis.opendocument.spreadsheet";function o7(e,t){for(var r=xy(e),n,a;n=Od.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=Be(n[0],!1),a.path=="/"&&a.type!==i7)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var rd=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],c7=function(){for(var e=new Array(rd.length),t=0;t<rd.length;++t){var r=rd[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function Qj(e){var t={};e=Et(e);for(var r=0;r<rd.length;++r){var n=rd[r],a=e.match(c7[r]);a!=null&&a.length>0&&(t[n[1]]=it(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=Er(t[n[1]]))}return t}var l7=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function Zj(e,t,r,n){var a=[];if(typeof e=="string")a=QE(e,n);else for(var s=0;s<e.length;++s)a=a.concat(e[s].map(function(d){return{v:d}}));var i=typeof t=="string"?QE(t,n).map(function(d){return d.v}):t,o=0,l=0;if(i.length>0)for(var u=0;u!==a.length;u+=2){switch(l=+a[u+1].v,a[u].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=l,r.SheetNames=i.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=l,r.DefinedNames=i.slice(o,o+l);break;case"Charts":case"Diagramme":r.Chartsheets=l,r.ChartNames=i.slice(o,o+l);break}o+=l}}function u7(e,t,r){var n={};return t||(t={}),e=Et(e),l7.forEach(function(a){var s=(e.match(Pd(a[0]))||[])[1];switch(a[2]){case"string":s&&(t[a[1]]=it(s));break;case"bool":t[a[1]]=s==="true";break;case"raw":var i=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));i&&i.length>0&&(n[a[1]]=i[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&Zj(n.HeadingPairs,n.TitlesOfParts,t,r),t}var d7=/<[^>]+>[^<]*/g;function f7(e,t){var r={},n="",a=e.match(d7);if(a)for(var s=0;s!=a.length;++s){var i=a[s],o=Be(i);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=it(o.name);break;case"</property>":n=null;break;default:if(i.indexOf("<vt:")===0){var l=i.split(">"),u=l[0].slice(4),d=l[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[n]=it(d);break;case"bool":r[n]=Nt(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(d);break;case"filetime":case"date":r[n]=Er(d);break;case"cy":case"error":r[n]=it(d);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",i,u,l)}}else if(i.slice(0,2)!=="</"){if(t.WTF)throw new Error(i)}}}return r}var h7={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},Dp;function m7(e,t,r){Dp||(Dp=py(h7)),t=Dp[t]||t,e[t]=r}function Cy(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function eN(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function tN(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function rN(e,t,r){return t===31?tN(e):eN(e,t,r)}function Xv(e,t,r){return rN(e,t,r===!1?0:4)}function p7(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return rN(e,t,0)}function g7(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(on,""),e.l-a&2&&(e.l+=2)}return r}function v7(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(on,"");return r}function x7(e){var t=e.l,r=p0(e,Xj);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=p0(e,_n);return[r,n]}function y7(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(x7(e));return r}function lS(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var s=e.read_shift(4),i=e.read_shift(4);n[s]=e.read_shift(i,t===1200?"utf16le":"utf8").replace(on,"").replace(Fu,"!"),t===1200&&i%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function nN(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function w7(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function p0(e,t,r){var n=e.read_shift(2),a,s=r||{};if(e.l+=2,t!==iS&&n!==t&&Q$.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===iS?n:t){case 2:return a=e.read_shift(2,"i"),s.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return eN(e,n,4).replace(on,"");case 31:return tN(e);case 64:return Cy(e);case 65:return nN(e);case 71:return w7(e);case 80:return Xv(e,n,!s.raw).replace(on,"");case 81:return p7(e,n).replace(on,"");case 4108:return y7(e);case 4126:case 4127:return n==4127?g7(e):v7(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function uS(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),s=[],i=0,o=0,l=-1,u={};for(i=0;i!=a;++i){var d=e.read_shift(4),f=e.read_shift(4);s[i]=[d,f+r]}s.sort(function(_,w){return _[1]-w[1]});var h={};for(i=0;i!=a;++i){if(e.l!==s[i][1]){var m=!0;if(i>0&&t)switch(t[s[i-1][0]].t){case 2:e.l+2===s[i][1]&&(e.l+=2,m=!1);break;case 80:e.l<=s[i][1]&&(e.l=s[i][1],m=!1);break;case 4108:e.l<=s[i][1]&&(e.l=s[i][1],m=!1);break}if((!t||i==0)&&e.l<=s[i][1]&&(m=!1,e.l=s[i][1]),m)throw new Error("Read Error: Expected address "+s[i][1]+" at "+e.l+" :"+i)}if(t){var v=t[s[i][0]];if(h[v.n]=p0(e,v.t,{raw:!0}),v.p==="version"&&(h[v.n]=String(h[v.n]>>16)+"."+("0000"+String(h[v.n]&65535)).slice(-4)),v.n=="CodePage")switch(h[v.n]){case 0:h[v.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:za(o=h[v.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[v.n])}}else if(s[i][0]===1){if(o=h.CodePage=p0(e,Ty),za(o),l!==-1){var p=e.l;e.l=s[l][1],u=lS(e,o),e.l=p}}else if(s[i][0]===0){if(o===0){l=i,e.l=s[i+1][1];continue}u=lS(e,o)}else{var g=u[s[i][0]],y;switch(e[e.l]){case 65:e.l+=4,y=nN(e);break;case 30:e.l+=4,y=Xv(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,y=Xv(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,y=e.read_shift(4,"i");break;case 19:e.l+=4,y=e.read_shift(4);break;case 5:e.l+=4,y=e.read_shift(8,"f");break;case 11:e.l+=4,y=qt(e,4);break;case 64:e.l+=4,y=Er(Cy(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[g]=y}}return e.l=r+n,h}function dS(e,t,r){var n=e.content;if(!n)return{};br(n,0);var a,s,i,o,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),d=n.read_shift(16);if(d!==nt.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(s=n.read_shift(16),o=n.read_shift(4),a===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);a===2&&(i=n.read_shift(16),l=n.read_shift(4));var f=uS(n,t),h={SystemIdentifier:u};for(var m in f)h[m]=f[m];if(h.FMTID=s,a===1)return h;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);var v;try{v=uS(n,null)}catch{}for(m in v)h[m]=v[m];return h.FMTID=[s,i],h}function ci(e,t){return e.read_shift(t),null}function _7(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function qt(e,t){return e.read_shift(t)===1}function Zt(e){return e.read_shift(2,"u")}function aN(e,t){return _7(e,t,Zt)}function E7(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function sf(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=e.read_shift(1);s&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var i=n?e.read_shift(n,a):"";return i}function S7(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,s=1+(r&1),i=0,o,l={};a&&(i=e.read_shift(2)),n&&(o=e.read_shift(4));var u=s==2?"dbcs-cont":"sbcs-cont",d=t===0?"":e.read_shift(t,u);return a&&(e.l+=4*i),n&&(e.l+=o),l.t=d,a||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function nc(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function of(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):nc(e,n,r)}function xc(e,t,r){if(r.biff>5)return of(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function b7(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function T7(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(on,"");return n&&(e.l+=24),a}function C7(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var s=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var i=e.read_shift(s>>1,"utf16le").replace(on,"");return r+i}function k7(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return T7(e);case"0303000000000000c000000000000046":return C7(e);default:throw new Error("Unsupported Moniker "+r)}}function th(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(on,""):"";return r}function A7(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var s,i,o,l,u="",d,f;a&16&&(s=th(e,r-e.l)),a&128&&(i=th(e,r-e.l)),(a&257)===257&&(o=th(e,r-e.l)),(a&257)===1&&(l=k7(e,r-e.l)),a&8&&(u=th(e,r-e.l)),a&32&&(d=e.read_shift(16)),a&64&&(f=Cy(e)),e.l=r;var h=i||o||l||"";h&&u&&(h+="#"+u),h||(h="#"+u),a&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var m={Target:h};return d&&(m.guid=d),f&&(m.time=f),s&&(m.Tooltip=s),m}function sN(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function iN(e,t){var r=sN(e);return r[3]=0,r}function Ss(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function j7(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function N7(e,t,r){return t===0?"":xc(e,t,r)}function I7(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),s=e.read_shift(n,"i"),i=e.read_shift(n,"i");return[a,s,i]}function oN(e){var t=e.read_shift(2),r=by(e);return[t,r]}function R7(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=sf(e,t,r),s=e.read_shift(2);if(n-=e.l,s!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+s);return e.l+=s,a}function um(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function cN(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var P7=cN;function lN(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function O7(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function F7(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Or(e){e.l+=2,e.l+=e.read_shift(2)}var D7={0:Or,4:Or,5:Or,6:Or,7:F7,8:Or,9:Or,10:Or,11:Or,12:Or,13:O7,14:Or,15:Or,16:Or,17:Or,18:Or,19:Or,20:Or,21:lN};function M7(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(D7[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function rh(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function L7(e,t){return t===0||e.read_shift(2),1200}function U7(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=xc(e,0,r);return e.read_shift(t+n-e.l),a}function B7(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function $7(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,s=e.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var i=sf(e,0,r);return i.length===0&&(i="Sheet1"),{pos:n,hs:a,dt:s,name:i}}function z7(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),s=[],i=0;i!=a&&e.l<r;++i)s.push(S7(e));return s.Count=n,s.Unique=a,s}function V7(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function W7(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function H7(e){var t=j7(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function G7(e){return e.read_shift(2),e.read_shift(4)}function fS(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var s={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[s,a]}function q7(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:s,CurTab:i,FirstTab:o,Selected:l,TabRatio:u}}function K7(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function J7(){}function X7(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=sf(e,0,r),n}function Y7(e){var t=Ss(e);return t.isst=e.read_shift(4),t}function Q7(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=Ss(e);r.biff==2&&e.l++;var s=of(e,n-e.l,r);return a.val=s,a}function Z7(e,t,r){var n=e.read_shift(2),a=xc(e,0,r);return[n,a]}var ez=xc;function hS(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,s=e.read_shift(a),i=e.read_shift(a),o=e.read_shift(2),l=e.read_shift(2);return e.l=n,{s:{r:s,c:o},e:{r:i,c:l}}}function tz(e){var t=e.read_shift(2),r=e.read_shift(2),n=oN(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function rz(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(oN(e));if(e.l!==r)throw new Error("MulRK read error");var i=e.read_shift(2);if(s.length!=i-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:i,rkrec:s}}function nz(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var i=e.read_shift(2);if(s.length!=i-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:i,ixfe:s}}function az(e,t,r,n){var a={},s=e.read_shift(4),i=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(2);return a.patternType=t7[o>>26],n.cellStyles&&(a.alc=s&7,a.fWrap=s>>3&1,a.alcV=s>>4&7,a.fJustLast=s>>7&1,a.trot=s>>8&255,a.cIndent=s>>16&15,a.fShrinkToFit=s>>20&1,a.iReadOrder=s>>22&2,a.fAtrNum=s>>26&1,a.fAtrFnt=s>>27&1,a.fAtrAlc=s>>28&1,a.fAtrBdr=s>>29&1,a.fAtrPat=s>>30&1,a.fAtrProt=s>>31&1,a.dgLeft=i&15,a.dgRight=i>>4&15,a.dgTop=i>>8&15,a.dgBottom=i>>12&15,a.icvLeft=i>>16&127,a.icvRight=i>>23&127,a.grbitDiag=i>>30&3,a.icvTop=o&127,a.icvBottom=o>>7&127,a.icvDiag=o>>14&127,a.dgDiag=o>>21&15,a.icvFore=l&127,a.icvBack=l>>7&127,a.fsxButton=l>>14&1),a}function sz(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=az(e,t,n.fStyle,r),n}function iz(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function mS(e,t,r){var n=Ss(e);(r.biff==2||t==9)&&++e.l;var a=E7(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function oz(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=Ss(e),a=Lr(e);return n.val=a,n}var pS=N7;function cz(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(2);if(r.sbcch=s,s==1025||s==14849)return[s,a];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var i=nc(e,s),o=[];n>e.l;)o.push(of(e));return[s,a,i,o]}function gS(e,t,r){var n=e.read_shift(2),a,s={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=R7(e,t-2,r)),s.body=a||e.read_shift(t-2),typeof a=="string"&&(s.Name=a),s}var lz=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function vS(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(1),i=e.read_shift(1),o=e.read_shift(r&&r.biff==2?1:2),l=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),l=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var u=nc(e,i,r);a&32&&(u=lz[u.charCodeAt(0)]);var d=n-e.l;r&&r.biff==2&&--d;var f=n==e.l||o===0||!(d>0)?[]:WW(e,d,r,o);return{chKey:s,Name:u,itab:l,rgce:f}}function uN(e,t,r){if(r.biff<8)return uz(e,t,r);for(var n=[],a=e.l+t,s=e.read_shift(r.biff>8?4:2);s--!==0;)n.push(I7(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function uz(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=sf(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function dz(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),s=nc(e,n,r),i=nc(e,a,r);return[s,i]}function fz(e,t,r){var n=cN(e);e.l++;var a=e.read_shift(1);return t-=8,[HW(e,t,r),a,n]}function xS(e,t,r){var n=P7(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,zW(e,t,r)]}function hz(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function mz(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),o=xc(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},o,i,s]}}function pz(e,t,r){return mz(e,t,r)}function gz(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(um(e));return r}function vz(e,t,r){if(r&&r.biff<8)return yz(e,t,r);var n=lN(e),a=M7(e,t-22,n[1]);return{cmo:n,ft:a}}var xz={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function yz(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var i=[];return i.push((xz[n]||zr)(e,t,r)),{cmo:[a,n,s],ft:i}}function wz(e,t,r){var n=e.l,a="";try{e.l+=4;var s=(r.lastobj||{cmo:[0,0]}).cmo[1],i;[0,5,7,11,12,14].indexOf(s)==-1?e.l+=6:i=b7(e,6,r);var o=e.read_shift(2);e.read_shift(2),Zt(e,2);var l=e.read_shift(2);e.l+=l;for(var u=1;u<e.lens.length-1;++u){if(e.l-n!=e.lens[u])throw new Error("TxO: bad continue record");var d=e[e.l],f=nc(e,e.lens[u+1]-e.lens[u]-1);if(a+=f,a.length>=(d?o:2*o))break}if(a.length!==o&&a.length!==o*2)throw new Error("cchText: "+o+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function _z(e,t){var r=um(e);e.l+=16;var n=A7(e,t-24);return[r,n]}function Ez(e,t){e.read_shift(2);var r=um(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(on,""),[r,n]}function Sz(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=oS[r]||r,r=e.read_shift(2),t[1]=oS[r]||r,t}function bz(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(iN(e));return r}function Tz(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(iN(e));return r}function Cz(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function dN(e,t,r){if(!r.cellStyles)return zr(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),s=e.read_shift(n),i=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:s,w:i,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(u.level=l>>8&7),u}function kz(e,t){var r={};return t<32||(e.l+=16,r.header=Lr(e),r.footer=Lr(e),e.l+=2),r}function Az(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}var jz=Ss,Nz=aN,Iz=of;function Rz(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function Pz(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=Ss(e);++e.l;var a=xc(e,t-7,r);return n.t="str",n.val=a,n}function Oz(e){var t=Ss(e);++e.l;var r=Lr(e);return t.t="n",t.val=r,t}function Fz(e){var t=Ss(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function Dz(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function Mz(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function Lz(e,t,r){var n=e.l+t,a=Ss(e),s=e.read_shift(2),i=nc(e,s,r);return e.l=n,a.t="str",a.val=i,a}var Uz=[2,3,48,49,131,139,140,245],yS=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=py({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var u=[],d=Zi(1);switch(l.type){case"base64":d=$a(ta(o));break;case"binary":d=$a(o);break;case"buffer":case"array":d=o;break}br(d,0);var f=d.read_shift(1),h=!!(f&136),m=!1,v=!1;switch(f){case 2:break;case 3:break;case 48:m=!0,h=!0;break;case 49:m=!0,h=!0;break;case 131:break;case 139:break;case 140:v=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var p=0,g=521;f==2&&(p=d.read_shift(2)),d.l+=3,f!=2&&(p=d.read_shift(4)),p>1048576&&(p=1e6),f!=2&&(g=d.read_shift(2));var y=d.read_shift(2),_=l.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(_=e[d[d.l]]),d.l+=1,d.l+=2),v&&(d.l+=36);for(var w=[],E={},T=Math.min(d.length,f==2?521:g-10-(m?264:0)),b=v?32:11;d.l<T&&d[d.l]!=13;)switch(E={},E.name=yi.utils.decode(_,d.slice(d.l,d.l+b)).replace(/[\u0000\r\n].*$/g,""),d.l+=b,E.type=String.fromCharCode(d.read_shift(1)),f!=2&&!v&&(E.offset=d.read_shift(4)),E.len=d.read_shift(1),f==2&&(E.offset=d.read_shift(2)),E.dec=d.read_shift(1),E.name.length&&w.push(E),f!=2&&(d.l+=v?13:14),E.type){case"B":(!m||E.len!=8)&&l.WTF&&console.log("Skipping "+E.name+":"+E.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+E.name+":"+E.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+E.type)}if(d[d.l]!==13&&(d.l=g-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=g;var S=0,C=0;for(u[0]=[],C=0;C!=w.length;++C)u[0][C]=w[C].name;for(;p-- >0;){if(d[d.l]===42){d.l+=y;continue}for(++d.l,u[++S]=[],C=0,C=0;C!=w.length;++C){var A=d.slice(d.l,d.l+w[C].len);d.l+=w[C].len,br(A,0);var j=yi.utils.decode(_,A);switch(w[C].type){case"C":j.trim().length&&(u[S][C]=j.replace(/\s+$/,""));break;case"D":j.length===8?u[S][C]=new Date(+j.slice(0,4),+j.slice(4,6)-1,+j.slice(6,8)):u[S][C]=j;break;case"F":u[S][C]=parseFloat(j.trim());break;case"+":case"I":u[S][C]=v?A.read_shift(-4,"i")^2147483648:A.read_shift(4,"i");break;case"L":switch(j.trim().toUpperCase()){case"Y":case"T":u[S][C]=!0;break;case"N":case"F":u[S][C]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+j+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[S][C]="##MEMO##"+(v?parseInt(j.trim(),10):A.read_shift(4));break;case"N":j=j.replace(/\u0000/g,"").trim(),j&&j!="."&&(u[S][C]=+j||0);break;case"@":u[S][C]=new Date(A.read_shift(-8,"f")-621356832e5);break;case"T":u[S][C]=new Date((A.read_shift(4)-2440588)*864e5+A.read_shift(4));break;case"Y":u[S][C]=A.read_shift(4,"i")/1e4+A.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[S][C]=-A.read_shift(-8,"f");break;case"B":if(m&&w[C].len==8){u[S][C]=A.read_shift(8,"f");break}case"G":case"P":A.l+=w[C].len;break;case"0":if(w[C].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+w[C].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return l&&l.sheetRows&&(u=u.slice(0,l.sheetRows)),l.DBF=w,u}function n(o,l){var u=l||{};u.dateNF||(u.dateNF="yyyymmdd");var d=ou(r(o,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function a(o,l){try{return lo(n(o,l),l)}catch(u){if(l&&l.WTF)throw u}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function i(o,l){var u=l||{};if(+u.codepage>=0&&za(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=qv(),f=rx(o,{header:1,raw:!0,cellDates:!0}),h=f[0],m=f.slice(1),v=o["!cols"]||[],p=0,g=0,y=0,_=1;for(p=0;p<h.length;++p){if(((v[p]||{}).DBF||{}).name){h[p]=v[p].DBF.name,++y;continue}if(h[p]!=null){if(++y,typeof h[p]=="number"&&(h[p]=h[p].toString(10)),typeof h[p]!="string")throw new Error("DBF Invalid column name "+h[p]+" |"+typeof h[p]+"|");if(h.indexOf(h[p])!==p){for(g=0;g<1024;++g)if(h.indexOf(h[p]+"_"+g)==-1){h[p]+="_"+g;break}}}}var w=Ht(o["!ref"]),E=[],T=[],b=[];for(p=0;p<=w.e.c-w.s.c;++p){var S="",C="",A=0,j=[];for(g=0;g<m.length;++g)m[g][p]!=null&&j.push(m[g][p]);if(j.length==0||h[p]==null){E[p]="?";continue}for(g=0;g<j.length;++g){switch(typeof j[g]){case"number":C="B";break;case"string":C="C";break;case"boolean":C="L";break;case"object":C=j[g]instanceof Date?"D":"C";break;default:C="C"}A=Math.max(A,String(j[g]).length),S=S&&S!=C?"C":C}A>250&&(A=250),C=((v[p]||{}).DBF||{}).type,C=="C"&&v[p].DBF.len>A&&(A=v[p].DBF.len),S=="B"&&C=="N"&&(S="N",b[p]=v[p].DBF.dec,A=v[p].DBF.len),T[p]=S=="C"||C=="N"?A:s[S]||0,_+=T[p],E[p]=S}var I=d.next(32);for(I.write_shift(4,318902576),I.write_shift(4,m.length),I.write_shift(2,296+32*y),I.write_shift(2,_),p=0;p<4;++p)I.write_shift(4,0);for(I.write_shift(4,0|(+t[uj]||3)<<8),p=0,g=0;p<h.length;++p)if(h[p]!=null){var N=d.next(32),W=(h[p].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);N.write_shift(1,W,"sbcs"),N.write_shift(1,E[p]=="?"?"C":E[p],"sbcs"),N.write_shift(4,g),N.write_shift(1,T[p]||s[E[p]]||0),N.write_shift(1,b[p]||0),N.write_shift(1,2),N.write_shift(4,0),N.write_shift(1,0),N.write_shift(4,0),N.write_shift(4,0),g+=T[p]||s[E[p]]||0}var M=d.next(264);for(M.write_shift(4,13),p=0;p<65;++p)M.write_shift(4,0);for(p=0;p<m.length;++p){var X=d.next(_);for(X.write_shift(1,0),g=0;g<h.length;++g)if(h[g]!=null)switch(E[g]){case"L":X.write_shift(1,m[p][g]==null?63:m[p][g]?84:70);break;case"B":X.write_shift(8,m[p][g]||0,"f");break;case"N":var z="0";for(typeof m[p][g]=="number"&&(z=m[p][g].toFixed(b[g]||0)),y=0;y<T[g]-z.length;++y)X.write_shift(1,32);X.write_shift(1,z,"sbcs");break;case"D":m[p][g]?(X.write_shift(4,("0000"+m[p][g].getFullYear()).slice(-4),"sbcs"),X.write_shift(2,("00"+(m[p][g].getMonth()+1)).slice(-2),"sbcs"),X.write_shift(2,("00"+m[p][g].getDate()).slice(-2),"sbcs")):X.write_shift(8,"00000000","sbcs");break;case"C":var V=String(m[p][g]!=null?m[p][g]:"").slice(0,T[g]);for(X.write_shift(1,V,"sbcs"),y=0;y<T[g]-V.length;++y)X.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:i}}(),Bz=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+ys(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,m){var v=e[m];return typeof v=="number"?FE(v):v},n=function(h,m,v){var p=m.charCodeAt(0)-32<<4|v.charCodeAt(0)-48;return p==59?h:FE(p)};e["|"]=254;function a(h,m){switch(m.type){case"base64":return s(ta(h),m);case"binary":return s(h,m);case"buffer":return s(rt&&Buffer.isBuffer(h)?h.toString("binary"):mc(h),m);case"array":return s(rc(h),m)}throw new Error("Unrecognized type "+m.type)}function s(h,m){var v=h.split(/[\n\r]+/),p=-1,g=-1,y=0,_=0,w=[],E=[],T=null,b={},S=[],C=[],A=[],j=0,I;for(+m.codepage>=0&&za(+m.codepage);y!==v.length;++y){j=0;var N=v[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),W=N.replace(/;;/g,"\0").split(";").map(function(D){return D.replace(/\u0000/g,";")}),M=W[0],X;if(N.length>0)switch(M){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":W[1].charAt(0)=="P"&&E.push(N.slice(3).replace(/;;/g,";"));break;case"C":var z=!1,V=!1,Y=!1,F=!1,ne=-1,ee=-1;for(_=1;_<W.length;++_)switch(W[_].charAt(0)){case"A":break;case"X":g=parseInt(W[_].slice(1))-1,V=!0;break;case"Y":for(p=parseInt(W[_].slice(1))-1,V||(g=0),I=w.length;I<=p;++I)w[I]=[];break;case"K":X=W[_].slice(1),X.charAt(0)==='"'?X=X.slice(1,X.length-1):X==="TRUE"?X=!0:X==="FALSE"?X=!1:isNaN(Ga(X))?isNaN(Bl(X).getDate())||(X=Er(X)):(X=Ga(X),T!==null&&su(T)&&(X=lm(X))),z=!0;break;case"E":F=!0;var k=dl(W[_].slice(1),{r:p,c:g});w[p][g]=[w[p][g],k];break;case"S":Y=!0,w[p][g]=[w[p][g],"S5S"];break;case"G":break;case"R":ne=parseInt(W[_].slice(1))-1;break;case"C":ee=parseInt(W[_].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+N)}if(z&&(w[p][g]&&w[p][g].length==2?w[p][g][0]=X:w[p][g]=X,T=null),Y){if(F)throw new Error("SYLK shared formula cannot have own formula");var G=ne>-1&&w[ne][ee];if(!G||!G[1])throw new Error("SYLK shared formula cannot find base");w[p][g][1]=_N(G[1],{r:p-ne,c:g-ee})}break;case"F":var L=0;for(_=1;_<W.length;++_)switch(W[_].charAt(0)){case"X":g=parseInt(W[_].slice(1))-1,++L;break;case"Y":for(p=parseInt(W[_].slice(1))-1,I=w.length;I<=p;++I)w[I]=[];break;case"M":j=parseInt(W[_].slice(1))/20;break;case"F":break;case"G":break;case"P":T=E[parseInt(W[_].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(A=W[_].slice(1).split(" "),I=parseInt(A[0],10);I<=parseInt(A[1],10);++I)j=parseInt(A[2],10),C[I-1]=j===0?{hidden:!0}:{wch:j},$l(C[I-1]);break;case"C":g=parseInt(W[_].slice(1))-1,C[g]||(C[g]={});break;case"R":p=parseInt(W[_].slice(1))-1,S[p]||(S[p]={}),j>0?(S[p].hpt=j,S[p].hpx=Md(j)):j===0&&(S[p].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+N)}L<1&&(T=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+N)}}return S.length>0&&(b["!rows"]=S),C.length>0&&(b["!cols"]=C),m&&m.sheetRows&&(w=w.slice(0,m.sheetRows)),[w,b]}function i(h,m){var v=a(h,m),p=v[0],g=v[1],y=ou(p,m);return ys(g).forEach(function(_){y[_]=g[_]}),y}function o(h,m){return lo(i(h,m),m)}function l(h,m,v,p){var g="C;Y"+(v+1)+";X"+(p+1)+";K";switch(h.t){case"n":g+=h.v||0,h.f&&!h.F&&(g+=";E"+CV(h.f,{r:v,c:p}));break;case"b":g+=h.v?"TRUE":"FALSE";break;case"e":g+=h.w||h.v;break;case"d":g+='"'+(h.w||h.v)+'"';break;case"s":g+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return g}function u(h,m){m.forEach(function(v,p){var g="F;W"+(p+1)+" "+(p+1)+" ";v.hidden?g+="0":(typeof v.width=="number"&&!v.wpx&&(v.wpx=v0(v.width)),typeof v.wpx=="number"&&!v.wch&&(v.wch=x0(v.wpx)),typeof v.wch=="number"&&(g+=Math.round(v.wch))),g.charAt(g.length-1)!=" "&&h.push(g)})}function d(h,m){m.forEach(function(v,p){var g="F;";v.hidden?g+="M0;":v.hpt?g+="M"+20*v.hpt+";":v.hpx&&(g+="M"+20*xN(v.hpx)+";"),g.length>2&&h.push(g+"R"+(p+1))})}function f(h,m){var v=["ID;PWXL;N;E"],p=[],g=Ht(h["!ref"]),y,_=Array.isArray(h),w=`\r
`;v.push("P;PGeneral"),v.push("F;P0;DG0G8;M255"),h["!cols"]&&u(v,h["!cols"]),h["!rows"]&&d(v,h["!rows"]),v.push("B;Y"+(g.e.r-g.s.r+1)+";X"+(g.e.c-g.s.c+1)+";D"+[g.s.c,g.s.r,g.e.c,g.e.r].join(" "));for(var E=g.s.r;E<=g.e.r;++E)for(var T=g.s.c;T<=g.e.c;++T){var b=He({r:E,c:T});y=_?(h[E]||[])[T]:h[b],!(!y||y.v==null&&(!y.f||y.F))&&p.push(l(y,h,E,T))}return v.join(w)+w+p.join(w)+w+"E"+w}return{to_workbook:o,to_sheet:i,from_sheet:f}}(),$z=function(){function e(s,i){switch(i.type){case"base64":return t(ta(s),i);case"binary":return t(s,i);case"buffer":return t(rt&&Buffer.isBuffer(s)?s.toString("binary"):mc(s),i);case"array":return t(rc(s),i)}throw new Error("Unrecognized type "+i.type)}function t(s,i){for(var o=s.split(`
`),l=-1,u=-1,d=0,f=[];d!==o.length;++d){if(o[d].trim()==="BOT"){f[++l]=[],u=0;continue}if(!(l<0)){var h=o[d].trim().split(","),m=h[0],v=h[1];++d;for(var p=o[d]||"";(p.match(/["]/g)||[]).length&1&&d<o.length-1;)p+=`
`+o[++d];switch(p=p.trim(),+m){case-1:if(p==="BOT"){f[++l]=[],u=0;continue}else if(p!=="EOD")throw new Error("Unrecognized DIF special command "+p);break;case 0:p==="TRUE"?f[l][u]=!0:p==="FALSE"?f[l][u]=!1:isNaN(Ga(v))?isNaN(Bl(v).getDate())?f[l][u]=v:f[l][u]=Er(v):f[l][u]=Ga(v),++u;break;case 1:p=p.slice(1,p.length-1),p=p.replace(/""/g,'"'),p&&p.match(/^=".*"$/)&&(p=p.slice(2,-1)),f[l][u++]=p!==""?p:null;break}if(p==="EOD")break}}return i&&i.sheetRows&&(f=f.slice(0,i.sheetRows)),f}function r(s,i){return ou(e(s,i),i)}function n(s,i){return lo(r(s,i),i)}var a=function(){var s=function(l,u,d,f,h){l.push(u),l.push(d+","+f),l.push('"'+h.replace(/"/g,'""')+'"')},i=function(l,u,d,f){l.push(u+","+d),l.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var u=[],d=Ht(l["!ref"]),f,h=Array.isArray(l);s(u,"TABLE",0,1,"sheetjs"),s(u,"VECTORS",0,d.e.r-d.s.r+1,""),s(u,"TUPLES",0,d.e.c-d.s.c+1,""),s(u,"DATA",0,0,"");for(var m=d.s.r;m<=d.e.r;++m){i(u,-1,0,"BOT");for(var v=d.s.c;v<=d.e.c;++v){var p=He({r:m,c:v});if(f=h?(l[m]||[])[v]:l[p],!f){i(u,1,0,"");continue}switch(f.t){case"n":var g=f.w;!g&&f.v!=null&&(g=f.v),g==null?f.f&&!f.F?i(u,1,0,"="+f.f):i(u,1,0,""):i(u,0,g,"V");break;case"b":i(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":i(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Ta(f.z||qe[14],cn(Er(f.v)))),i(u,0,f.w,"V");break;default:i(u,1,0,"")}}}i(u,-1,0,"EOD");var y=`\r
`,_=u.join(y);return _}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),zz=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var m=f.split(`
`),v=-1,p=-1,g=0,y=[];g!==m.length;++g){var _=m[g].trim().split(":");if(_[0]==="cell"){var w=an(_[1]);if(y.length<=w.r)for(v=y.length;v<=w.r;++v)y[v]||(y[v]=[]);switch(v=w.r,p=w.c,_[2]){case"t":y[v][p]=e(_[3]);break;case"v":y[v][p]=+_[3];break;case"vtf":var E=_[_.length-1];case"vtc":switch(_[3]){case"nl":y[v][p]=!!+_[4];break;default:y[v][p]=+_[4];break}_[2]=="vtf"&&(y[v][p]=[y[v][p],E])}}}return h&&h.sheetRows&&(y=y.slice(0,h.sheetRows)),y}function n(f,h){return ou(r(f,h),h)}function a(f,h){return lo(n(f,h),h)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),i=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var h=[],m=[],v,p="",g=iu(f["!ref"]),y=Array.isArray(f),_=g.s.r;_<=g.e.r;++_)for(var w=g.s.c;w<=g.e.c;++w)if(p=He({r:_,c:w}),v=y?(f[_]||[])[w]:f[p],!(!v||v.v==null||v.t==="z")){switch(m=["cell",p,"t"],v.t){case"s":case"str":m.push(t(v.v));break;case"n":v.f?(m[2]="vtf",m[3]="n",m[4]=v.v,m[5]=t(v.f)):(m[2]="v",m[3]=v.v);break;case"b":m[2]="vt"+(v.f?"f":"c"),m[3]="nl",m[4]=v.v?"1":"0",m[5]=t(v.f||(v.v?"TRUE":"FALSE"));break;case"d":var E=cn(Er(v.v));m[2]="vtc",m[3]="nd",m[4]=""+E,m[5]=v.w||Ta(v.z||qe[14],E);break;case"e":continue}h.push(m.join(":"))}return h.push("sheet:c:"+(g.e.c-g.s.c+1)+":r:"+(g.e.r-g.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function d(f){return[s,i,o,i,u(f),l].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}}(),Fd=function(){function e(d,f,h,m,v){v.raw?f[h][m]=d:d===""||(d==="TRUE"?f[h][m]=!0:d==="FALSE"?f[h][m]=!1:isNaN(Ga(d))?isNaN(Bl(d).getDate())?f[h][m]=d:f[h][m]=Er(d):f[h][m]=Ga(d))}function t(d,f){var h=f||{},m=[];if(!d||d.length===0)return m;for(var v=d.split(/[\r\n]/),p=v.length-1;p>=0&&v[p].length===0;)--p;for(var g=10,y=0,_=0;_<=p;++_)y=v[_].indexOf(" "),y==-1?y=v[_].length:y++,g=Math.max(g,y);for(_=0;_<=p;++_){m[_]=[];var w=0;for(e(v[_].slice(0,g).trim(),m,_,w,h),w=1;w<=(v[_].length-g)/10+1;++w)e(v[_].slice(g+(w-1)*10,g+w*10).trim(),m,_,w,h)}return h.sheetRows&&(m=m.slice(0,h.sheetRows)),m}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var f={},h=!1,m=0,v=0;m<d.length;++m)(v=d.charCodeAt(m))==34?h=!h:!h&&v in r&&(f[v]=(f[v]||0)+1);v=[];for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&v.push([f[m],m]);if(!v.length){f=n;for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&v.push([f[m],m])}return v.sort(function(p,g){return p[0]-g[0]||n[p[1]]-n[g[1]]}),r[v.pop()[1]]||44}function s(d,f){var h=f||{},m="",v=h.dense?[]:{},p={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(m=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(m=d.charAt(4),d=d.slice(6)):m=a(d.slice(0,1024)):h&&h.FS?m=h.FS:m=a(d.slice(0,1024));var g=0,y=0,_=0,w=0,E=0,T=m.charCodeAt(0),b=!1,S=0,C=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var A=h.dateNF!=null?ZB(h.dateNF):null;function j(){var I=d.slice(w,E),N={};if(I.charAt(0)=='"'&&I.charAt(I.length-1)=='"'&&(I=I.slice(1,-1).replace(/""/g,'"')),I.length===0)N.t="z";else if(h.raw)N.t="s",N.v=I;else if(I.trim().length===0)N.t="s",N.v=I;else if(I.charCodeAt(0)==61)I.charCodeAt(1)==34&&I.charCodeAt(I.length-1)==34?(N.t="s",N.v=I.slice(2,-1).replace(/""/g,'"')):AV(I)?(N.t="n",N.f=I.slice(1)):(N.t="s",N.v=I);else if(I=="TRUE")N.t="b",N.v=!0;else if(I=="FALSE")N.t="b",N.v=!1;else if(!isNaN(_=Ga(I)))N.t="n",h.cellText!==!1&&(N.w=I),N.v=_;else if(!isNaN(Bl(I).getDate())||A&&I.match(A)){N.z=h.dateNF||qe[14];var W=0;A&&I.match(A)&&(I=e$(I,h.dateNF,I.match(A)||[]),W=1),h.cellDates?(N.t="d",N.v=Er(I,W)):(N.t="n",N.v=cn(Er(I,W))),h.cellText!==!1&&(N.w=Ta(N.z,N.v instanceof Date?cn(N.v):N.v)),h.cellNF||delete N.z}else N.t="s",N.v=I;if(N.t=="z"||(h.dense?(v[g]||(v[g]=[]),v[g][y]=N):v[He({c:y,r:g})]=N),w=E+1,C=d.charCodeAt(w),p.e.c<y&&(p.e.c=y),p.e.r<g&&(p.e.r=g),S==T)++y;else if(y=0,++g,h.sheetRows&&h.sheetRows<=g)return!0}e:for(;E<d.length;++E)switch(S=d.charCodeAt(E)){case 34:C===34&&(b=!b);break;case T:case 10:case 13:if(!b&&j())break e;break}return E-w>0&&j(),v["!ref"]=at(p),v}function i(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?s(d,f):ou(t(d,f),f)}function o(d,f){var h="",m=f.type=="string"?[0,0,0,0]:Oy(d,f);switch(f.type){case"base64":h=ta(d);break;case"binary":h=d;break;case"buffer":f.codepage==65001?h=d.toString("utf8"):f.codepage&&typeof yi<"u"?h=yi.utils.decode(f.codepage,d):h=rt&&Buffer.isBuffer(d)?d.toString("binary"):mc(d);break;case"array":h=rc(d);break;case"string":h=d;break;default:throw new Error("Unrecognized type "+f.type)}return m[0]==239&&m[1]==187&&m[2]==191?h=Et(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=Et(h):f.type=="binary"&&typeof yi<"u"&&f.codepage&&(h=yi.utils.decode(f.codepage,yi.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?zz.to_sheet(f.type=="string"?h:Et(h),f):i(h,f)}function l(d,f){return lo(o(d,f),f)}function u(d){for(var f=[],h=Ht(d["!ref"]),m,v=Array.isArray(d),p=h.s.r;p<=h.e.r;++p){for(var g=[],y=h.s.c;y<=h.e.c;++y){var _=He({r:p,c:y});if(m=v?(d[p]||[])[y]:d[_],!m||m.v==null){g.push("          ");continue}for(var w=(m.w||(Qs(m),m.w)||"").slice(0,10);w.length<10;)w+=" ";g.push(w+(y===0?" ":""))}f.push(g.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:u}}();function Vz(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=Bz.to_workbook(e,r);return r.WTF=n,a}catch(s){if(r.WTF=n,!s.message.match(/SYLK bad record ID/)&&n)throw s;return Fd.to_workbook(e,t)}}var nd=function(){function e(k,G,L){if(k){br(k,k.l||0);for(var D=L.Enum||ne;k.l<k.length;){var O=k.read_shift(2),P=D[O]||D[65535],Q=k.read_shift(2),Z=k.l+Q,re=P.f&&P.f(k,Q,L);if(k.l=Z,G(re,P,O))return}}}function t(k,G){switch(G.type){case"base64":return r($a(ta(k)),G);case"binary":return r($a(k),G);case"buffer":case"array":return r(k,G)}throw"Unsupported type "+G.type}function r(k,G){if(!k)return k;var L=G||{},D=L.dense?[]:{},O="Sheet1",P="",Q=0,Z={},re=[],ce=[],U={s:{r:0,c:0},e:{r:0,c:0}},we=L.sheetRows||0;if(k[2]==0&&(k[3]==8||k[3]==9)&&k.length>=16&&k[14]==5&&k[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(k[2]==2)L.Enum=ne,e(k,function(pe,et,Pt){switch(Pt){case 0:L.vers=pe,pe>=4096&&(L.qpro=!0);break;case 6:U=pe;break;case 204:pe&&(P=pe);break;case 222:P=pe;break;case 15:case 51:L.qpro||(pe[1].v=pe[1].v.slice(1));case 13:case 14:case 16:Pt==14&&(pe[2]&112)==112&&(pe[2]&15)>1&&(pe[2]&15)<15&&(pe[1].z=L.dateNF||qe[14],L.cellDates&&(pe[1].t="d",pe[1].v=lm(pe[1].v))),L.qpro&&pe[3]>Q&&(D["!ref"]=at(U),Z[O]=D,re.push(O),D=L.dense?[]:{},U={s:{r:0,c:0},e:{r:0,c:0}},Q=pe[3],O=P||"Sheet"+(Q+1),P="");var Ot=L.dense?(D[pe[0].r]||[])[pe[0].c]:D[He(pe[0])];if(Ot){Ot.t=pe[1].t,Ot.v=pe[1].v,pe[1].z!=null&&(Ot.z=pe[1].z),pe[1].f!=null&&(Ot.f=pe[1].f);break}L.dense?(D[pe[0].r]||(D[pe[0].r]=[]),D[pe[0].r][pe[0].c]=pe[1]):D[He(pe[0])]=pe[1];break}},L);else if(k[2]==26||k[2]==14)L.Enum=ee,k[2]==14&&(L.qpro=!0,k.l=0),e(k,function(pe,et,Pt){switch(Pt){case 204:O=pe;break;case 22:pe[1].v=pe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(pe[3]>Q&&(D["!ref"]=at(U),Z[O]=D,re.push(O),D=L.dense?[]:{},U={s:{r:0,c:0},e:{r:0,c:0}},Q=pe[3],O="Sheet"+(Q+1)),we>0&&pe[0].r>=we)break;L.dense?(D[pe[0].r]||(D[pe[0].r]=[]),D[pe[0].r][pe[0].c]=pe[1]):D[He(pe[0])]=pe[1],U.e.c<pe[0].c&&(U.e.c=pe[0].c),U.e.r<pe[0].r&&(U.e.r=pe[0].r);break;case 27:pe[14e3]&&(ce[pe[14e3][0]]=pe[14e3][1]);break;case 1537:ce[pe[0]]=pe[1],pe[0]==Q&&(O=pe[1]);break}},L);else throw new Error("Unrecognized LOTUS BOF "+k[2]);if(D["!ref"]=at(U),Z[P||O]=D,re.push(P||O),!ce.length)return{SheetNames:re,Sheets:Z};for(var Ne={},$e=[],Me=0;Me<ce.length;++Me)Z[re[Me]]?($e.push(ce[Me]||re[Me]),Ne[ce[Me]]=Z[ce[Me]]||Z[re[Me]]):($e.push(ce[Me]),Ne[ce[Me]]={"!ref":"A1"});return{SheetNames:$e,Sheets:Ne}}function n(k,G){var L=G||{};if(+L.codepage>=0&&za(+L.codepage),L.type=="string")throw new Error("Cannot write WK1 to JS string");var D=qv(),O=Ht(k["!ref"]),P=Array.isArray(k),Q=[];Ia(D,0,s(1030)),Ia(D,6,l(O));for(var Z=Math.min(O.e.r,8191),re=O.s.r;re<=Z;++re)for(var ce=Ar(re),U=O.s.c;U<=O.e.c;++U){re===O.s.r&&(Q[U]=fr(U));var we=Q[U]+ce,Ne=P?(k[re]||[])[U]:k[we];if(!(!Ne||Ne.t=="z"))if(Ne.t=="n")(Ne.v|0)==Ne.v&&Ne.v>=-32768&&Ne.v<=32767?Ia(D,13,m(re,U,Ne.v)):Ia(D,14,p(re,U,Ne.v));else{var $e=Qs(Ne);Ia(D,15,f(re,U,$e.slice(0,239)))}}return Ia(D,1),D.end()}function a(k,G){var L=G||{};if(+L.codepage>=0&&za(+L.codepage),L.type=="string")throw new Error("Cannot write WK3 to JS string");var D=qv();Ia(D,0,i(k));for(var O=0,P=0;O<k.SheetNames.length;++O)(k.Sheets[k.SheetNames[O]]||{})["!ref"]&&Ia(D,27,F(k.SheetNames[O],P++));var Q=0;for(O=0;O<k.SheetNames.length;++O){var Z=k.Sheets[k.SheetNames[O]];if(!(!Z||!Z["!ref"])){for(var re=Ht(Z["!ref"]),ce=Array.isArray(Z),U=[],we=Math.min(re.e.r,8191),Ne=re.s.r;Ne<=we;++Ne)for(var $e=Ar(Ne),Me=re.s.c;Me<=re.e.c;++Me){Ne===re.s.r&&(U[Me]=fr(Me));var pe=U[Me]+$e,et=ce?(Z[Ne]||[])[Me]:Z[pe];if(!(!et||et.t=="z"))if(et.t=="n")Ia(D,23,j(Ne,Me,Q,et.v));else{var Pt=Qs(et);Ia(D,22,S(Ne,Me,Q,Pt.slice(0,239)))}}++Q}}return Ia(D,1),D.end()}function s(k){var G=ar(2);return G.write_shift(2,k),G}function i(k){var G=ar(26);G.write_shift(2,4096),G.write_shift(2,4),G.write_shift(4,0);for(var L=0,D=0,O=0,P=0;P<k.SheetNames.length;++P){var Q=k.SheetNames[P],Z=k.Sheets[Q];if(!(!Z||!Z["!ref"])){++O;var re=iu(Z["!ref"]);L<re.e.r&&(L=re.e.r),D<re.e.c&&(D=re.e.c)}}return L>8191&&(L=8191),G.write_shift(2,L),G.write_shift(1,O),G.write_shift(1,D),G.write_shift(2,0),G.write_shift(2,0),G.write_shift(1,1),G.write_shift(1,2),G.write_shift(4,0),G.write_shift(4,0),G}function o(k,G,L){var D={s:{c:0,r:0},e:{c:0,r:0}};return G==8&&L.qpro?(D.s.c=k.read_shift(1),k.l++,D.s.r=k.read_shift(2),D.e.c=k.read_shift(1),k.l++,D.e.r=k.read_shift(2),D):(D.s.c=k.read_shift(2),D.s.r=k.read_shift(2),G==12&&L.qpro&&(k.l+=2),D.e.c=k.read_shift(2),D.e.r=k.read_shift(2),G==12&&L.qpro&&(k.l+=2),D.s.c==65535&&(D.s.c=D.e.c=D.s.r=D.e.r=0),D)}function l(k){var G=ar(8);return G.write_shift(2,k.s.c),G.write_shift(2,k.s.r),G.write_shift(2,k.e.c),G.write_shift(2,k.e.r),G}function u(k,G,L){var D=[{c:0,r:0},{t:"n",v:0},0,0];return L.qpro&&L.vers!=20768?(D[0].c=k.read_shift(1),D[3]=k.read_shift(1),D[0].r=k.read_shift(2),k.l+=2):(D[2]=k.read_shift(1),D[0].c=k.read_shift(2),D[0].r=k.read_shift(2)),D}function d(k,G,L){var D=k.l+G,O=u(k,G,L);if(O[1].t="s",L.vers==20768){k.l++;var P=k.read_shift(1);return O[1].v=k.read_shift(P,"utf8"),O}return L.qpro&&k.l++,O[1].v=k.read_shift(D-k.l,"cstr"),O}function f(k,G,L){var D=ar(7+L.length);D.write_shift(1,255),D.write_shift(2,G),D.write_shift(2,k),D.write_shift(1,39);for(var O=0;O<D.length;++O){var P=L.charCodeAt(O);D.write_shift(1,P>=128?95:P)}return D.write_shift(1,0),D}function h(k,G,L){var D=u(k,G,L);return D[1].v=k.read_shift(2,"i"),D}function m(k,G,L){var D=ar(7);return D.write_shift(1,255),D.write_shift(2,G),D.write_shift(2,k),D.write_shift(2,L,"i"),D}function v(k,G,L){var D=u(k,G,L);return D[1].v=k.read_shift(8,"f"),D}function p(k,G,L){var D=ar(13);return D.write_shift(1,255),D.write_shift(2,G),D.write_shift(2,k),D.write_shift(8,L,"f"),D}function g(k,G,L){var D=k.l+G,O=u(k,G,L);if(O[1].v=k.read_shift(8,"f"),L.qpro)k.l=D;else{var P=k.read_shift(2);E(k.slice(k.l,k.l+P),O),k.l+=P}return O}function y(k,G,L){var D=G&32768;return G&=-32769,G=(D?k:0)+(G>=8192?G-16384:G),(D?"":"$")+(L?fr(G):Ar(G))}var _={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function E(k,G){br(k,0);for(var L=[],D=0,O="",P="",Q="",Z="";k.l<k.length;){var re=k[k.l++];switch(re){case 0:L.push(k.read_shift(8,"f"));break;case 1:P=y(G[0].c,k.read_shift(2),!0),O=y(G[0].r,k.read_shift(2),!1),L.push(P+O);break;case 2:{var ce=y(G[0].c,k.read_shift(2),!0),U=y(G[0].r,k.read_shift(2),!1);P=y(G[0].c,k.read_shift(2),!0),O=y(G[0].r,k.read_shift(2),!1),L.push(ce+U+":"+P+O)}break;case 3:if(k.l<k.length){console.error("WK1 premature formula end");return}break;case 4:L.push("("+L.pop()+")");break;case 5:L.push(k.read_shift(2));break;case 6:{for(var we="";re=k[k.l++];)we+=String.fromCharCode(re);L.push('"'+we.replace(/"/g,'""')+'"')}break;case 8:L.push("-"+L.pop());break;case 23:L.push("+"+L.pop());break;case 22:L.push("NOT("+L.pop()+")");break;case 20:case 21:Z=L.pop(),Q=L.pop(),L.push(["AND","OR"][re-20]+"("+Q+","+Z+")");break;default:if(re<32&&w[re])Z=L.pop(),Q=L.pop(),L.push(Q+w[re]+Z);else if(_[re]){if(D=_[re][1],D==69&&(D=k[k.l++]),D>L.length){console.error("WK1 bad formula parse 0x"+re.toString(16)+":|"+L.join("|")+"|");return}var Ne=L.slice(-D);L.length-=D,L.push(_[re][0]+"("+Ne.join(",")+")")}else return re<=7?console.error("WK1 invalid opcode "+re.toString(16)):re<=24?console.error("WK1 unsupported op "+re.toString(16)):re<=30?console.error("WK1 invalid opcode "+re.toString(16)):re<=115?console.error("WK1 unsupported function opcode "+re.toString(16)):console.error("WK1 unrecognized opcode "+re.toString(16))}}L.length==1?G[1].f=""+L[0]:console.error("WK1 bad formula parse |"+L.join("|")+"|")}function T(k){var G=[{c:0,r:0},{t:"n",v:0},0];return G[0].r=k.read_shift(2),G[3]=k[k.l++],G[0].c=k[k.l++],G}function b(k,G){var L=T(k);return L[1].t="s",L[1].v=k.read_shift(G-4,"cstr"),L}function S(k,G,L,D){var O=ar(6+D.length);O.write_shift(2,k),O.write_shift(1,L),O.write_shift(1,G),O.write_shift(1,39);for(var P=0;P<D.length;++P){var Q=D.charCodeAt(P);O.write_shift(1,Q>=128?95:Q)}return O.write_shift(1,0),O}function C(k,G){var L=T(k);L[1].v=k.read_shift(2);var D=L[1].v>>1;if(L[1].v&1)switch(D&7){case 0:D=(D>>3)*5e3;break;case 1:D=(D>>3)*500;break;case 2:D=(D>>3)/20;break;case 3:D=(D>>3)/200;break;case 4:D=(D>>3)/2e3;break;case 5:D=(D>>3)/2e4;break;case 6:D=(D>>3)/16;break;case 7:D=(D>>3)/64;break}return L[1].v=D,L}function A(k,G){var L=T(k),D=k.read_shift(4),O=k.read_shift(4),P=k.read_shift(2);if(P==65535)return D===0&&O===3221225472?(L[1].t="e",L[1].v=15):D===0&&O===3489660928?(L[1].t="e",L[1].v=42):L[1].v=0,L;var Q=P&32768;return P=(P&32767)-16446,L[1].v=(1-Q*2)*(O*Math.pow(2,P+32)+D*Math.pow(2,P)),L}function j(k,G,L,D){var O=ar(14);if(O.write_shift(2,k),O.write_shift(1,L),O.write_shift(1,G),D==0)return O.write_shift(4,0),O.write_shift(4,0),O.write_shift(2,65535),O;var P=0,Q=0,Z=0,re=0;return D<0&&(P=1,D=-D),Q=Math.log2(D)|0,D/=Math.pow(2,Q-31),re=D>>>0,re&2147483648||(D/=2,++Q,re=D>>>0),D-=re,re|=2147483648,re>>>=0,D*=Math.pow(2,32),Z=D>>>0,O.write_shift(4,Z),O.write_shift(4,re),Q+=16383+(P?32768:0),O.write_shift(2,Q),O}function I(k,G){var L=A(k);return k.l+=G-14,L}function N(k,G){var L=T(k),D=k.read_shift(4);return L[1].v=D>>6,L}function W(k,G){var L=T(k),D=k.read_shift(8,"f");return L[1].v=D,L}function M(k,G){var L=W(k);return k.l+=G-10,L}function X(k,G){return k[k.l+G-1]==0?k.read_shift(G,"cstr"):""}function z(k,G){var L=k[k.l++];L>G-1&&(L=G-1);for(var D="";D.length<L;)D+=String.fromCharCode(k[k.l++]);return D}function V(k,G,L){if(!(!L.qpro||G<21)){var D=k.read_shift(1);k.l+=17,k.l+=1,k.l+=2;var O=k.read_shift(G-21,"cstr");return[D,O]}}function Y(k,G){for(var L={},D=k.l+G;k.l<D;){var O=k.read_shift(2);if(O==14e3){for(L[O]=[0,""],L[O][0]=k.read_shift(2);k[k.l];)L[O][1]+=String.fromCharCode(k[k.l]),k.l++;k.l++}}return L}function F(k,G){var L=ar(5+k.length);L.write_shift(2,14e3),L.write_shift(2,G);for(var D=0;D<k.length;++D){var O=k.charCodeAt(D);L[L.l++]=O>127?95:O}return L[L.l++]=0,L}var ne={0:{n:"BOF",f:Zt},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:v},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:g},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:X},222:{n:"SHEETNAMELP",f:z},65535:{n:""}},ee={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:b},23:{n:"NUMBER17",f:A},24:{n:"NUMBER18",f:C},25:{n:"FORMULA19",f:I},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Y},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:N},38:{n:"??"},39:{n:"NUMBER27",f:W},40:{n:"FORMULA28",f:M},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:X},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:V},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function Wz(e){var t={},r=e.match(Wr),n=0,a=!1;if(r)for(;n!=r.length;++n){var s=Be(r[n]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;t.cp=uy[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=s.val;break;case"<sz":t.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":s.rgb&&(t.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(s[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+s[0])}}return t}var Hz=function(){var e=Pd("t"),t=Pd("rPr");function r(s){var i=s.match(e);if(!i)return{t:"s",v:""};var o={t:"s",v:it(i[1])},l=s.match(t);return l&&(o.s=Wz(l[1])),o}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(i){return i.replace(n,"").split(a).map(r).filter(function(o){return o.v})}}(),Gz=function(){var t=/(\r\n|\n)/g;function r(a,s,i){var o=[];a.u&&o.push("text-decoration: underline;"),a.uval&&o.push("text-underline-style:"+a.uval+";"),a.sz&&o.push("font-size:"+a.sz+"pt;"),a.outline&&o.push("text-effect: outline;"),a.shadow&&o.push("text-shadow: auto;"),s.push('<span style="'+o.join("")+'">'),a.b&&(s.push("<b>"),i.push("</b>")),a.i&&(s.push("<i>"),i.push("</i>")),a.strike&&(s.push("<s>"),i.push("</s>"));var l=a.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(s.push("<"+l+">"),i.push("</"+l+">")),i.push("</span>"),a}function n(a){var s=[[],a.v,[]];return a.v?(a.s&&r(a.s,s[0],s[2]),s[0].join("")+s[1].replace(t,"<br/>")+s[2].join("")):""}return function(s){return s.map(n).join("")}}(),qz=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,Kz=/<(?:\w+:)?r>/,Jz=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function ky(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=it(Et(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Et(e),r&&(n.h=vy(n.t))):e.match(Kz)&&(n.r=Et(e),n.t=it(Et((e.replace(Jz,"").match(qz)||[]).join("").replace(Wr,""))),r&&(n.h=Gz(Hz(n.r)))),n):{t:""}}var Xz=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,Yz=/<(?:\w+:)?(?:si|sstItem)>/g,Qz=/<\/(?:\w+:)?(?:si|sstItem)>/;function Zz(e,t){var r=[],n="";if(!e)return r;var a=e.match(Xz);if(a){n=a[2].replace(Yz,"").split(Qz);for(var s=0;s!=n.length;++s){var i=ky(n[s].trim(),t);i!=null&&(r[r.length]=i)}a=Be(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}function e9(e){return[e.read_shift(4),e.read_shift(4)]}function t9(e,t){var r=[],n=!1;return ei(e,function(s,i,o){switch(o){case 159:r.Count=s[0],r.Unique=s[1];break;case 19:r.push(s);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(i.T,!n||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function fN(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function Ws(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function r9(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=Ws(e,4),t.U=Ws(e,4),t.W=Ws(e,4),t}function n9(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),s=[];a-- >0;)s.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=s,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function a9(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(n9(e));return t}function s9(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function i9(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Ws(e,4),t.U=Ws(e,4),t.W=Ws(e,4),t}function o9(e){var t=i9(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function hN(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function mN(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function c9(e){var t=Ws(e);switch(t.Minor){case 2:return[t.Minor,l9(e)];case 3:return[t.Minor,u9()];case 4:return[t.Minor,d9(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function l9(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=hN(e,r),a=mN(e,e.length-e.l);return{t:"Std",h:n,v:a}}function u9(){throw new Error("File is password-protected: ECMA-376 Extensible")}function d9(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Wr,function(s){var i=Be(s);switch(Es(i[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){n[o]=i[o]});break;case"<dataIntegrity":n.encryptedHmacKey=i.encryptedHmacKey,n.encryptedHmacValue=i.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=i.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(i);break;default:throw i[0]}}),n}function f9(e,t){var r={},n=r.EncryptionVersionInfo=Ws(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=hN(e,a),t-=a,r.EncryptionVerifier=mN(e,t),r}function h9(e){var t={},r=t.EncryptionVersionInfo=Ws(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function m9(e){var t=0,r,n=fN(e),a=n.length+1,s,i,o,l,u;for(r=Zi(a),r[0]=n.length,s=1;s!=a;++s)r[s]=n[s-1];for(s=a-1;s>=0;--s)i=r[s],o=t&16384?1:0,l=t<<1&32767,u=o|l,t=u^i;return t^52811}var pN=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(i){return(i/2|i*128)&255},a=function(i,o){return n(i^o)},s=function(i){for(var o=t[i.length-1],l=104,u=i.length-1;u>=0;--u)for(var d=i[u],f=0;f!=7;++f)d&64&&(o^=r[l]),d*=2,--l;return o};return function(i){for(var o=fN(i),l=s(o),u=o.length,d=Zi(16),f=0;f!=16;++f)d[f]=0;var h,m,v;for((u&1)===1&&(h=l>>8,d[u]=a(e[0],h),--u,h=l&255,m=o[o.length-1],d[u]=a(m,h));u>0;)--u,h=l>>8,d[u]=a(o[u],h),--u,h=l&255,d[u]=a(o[u],h);for(u=15,v=15-o.length;v>0;)h=l>>8,d[u]=a(e[v],h),--u,--v,h=l&255,d[u]=a(o[u],h),--u,--v;return d}}(),p9=function(e,t,r,n,a){a||(a=t),n||(n=pN(e));var s,i;for(s=0;s!=t.length;++s)i=t[s],i^=n[r],i=(i>>5|i<<3)&255,a[s]=i,++r;return[a,r,n]},g9=function(e){var t=0,r=pN(e);return function(n){var a=p9("",n,t,r);return t=a[1],a[0]}};function v9(e,t,r,n){var a={key:Zt(e),verificationBytes:Zt(e)};return r.password&&(a.verifier=m9(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=g9(r.password)),a}function x9(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=h9(e):n.Data=f9(e,t),n}function y9(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?x9(e,t-2,n):v9(e,r.biff>=8?t:t-2,r,n),n}var w9=function(){function e(a,s){switch(s.type){case"base64":return t(ta(a),s);case"binary":return t(a,s);case"buffer":return t(rt&&Buffer.isBuffer(a)?a.toString("binary"):mc(a),s);case"array":return t(rc(a),s)}throw new Error("Unrecognized type "+s.type)}function t(a,s){var i=s||{},o=i.dense?[]:{},l=a.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(d,f){Array.isArray(o)&&(o[f]=[]);for(var h=/\\\w+\b/g,m=0,v,p=-1;v=h.exec(d);){switch(v[0]){case"\\cell":var g=d.slice(m,h.lastIndex-v[0].length);if(g[0]==" "&&(g=g.slice(1)),++p,g.length){var y={v:g,t:"s"};Array.isArray(o)?o[f][p]=y:o[He({r:f,c:p})]=y}break}m=h.lastIndex}p>u.e.c&&(u.e.c=p)}),o["!ref"]=at(u),o}function r(a,s){return lo(e(a,s),s)}function n(a){for(var s=["{\\rtf1\\ansi"],i=Ht(a["!ref"]),o,l=Array.isArray(a),u=i.s.r;u<=i.e.r;++u){s.push("\\trowd\\trautofit1");for(var d=i.s.c;d<=i.e.c;++d)s.push("\\cellx"+(d+1));for(s.push("\\pard\\intbl"),d=i.s.c;d<=i.e.c;++d){var f=He({r:u,c:d});o=l?(a[u]||[])[d]:a[f],!(!o||o.v==null&&(!o.f||o.F))&&(s.push(" "+(o.w||(Qs(o),o.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function _9(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Dd(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function E9(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),s=Math.min(t,r,n),i=a-s;if(i===0)return[0,0,t];var o=0,l=0,u=a+s;switch(l=i/(u>1?2-u:u),a){case t:o=((r-n)/i+6)%6;break;case r:o=(n-t)/i+2;break;case n:o=(t-r)/i+4;break}return[o/6,l,u/2]}function S9(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),s=n-a/2,i=[s,s,s],o=6*t,l;if(r!==0)switch(o|0){case 0:case 6:l=a*o,i[0]+=a,i[1]+=l;break;case 1:l=a*(2-o),i[0]+=l,i[1]+=a;break;case 2:l=a*(o-2),i[1]+=a,i[2]+=l;break;case 3:l=a*(4-o),i[1]+=l,i[2]+=a;break;case 4:l=a*(o-4),i[2]+=a,i[0]+=l;break;case 5:l=a*(6-o),i[2]+=l,i[0]+=a;break}for(var u=0;u!=3;++u)i[u]=Math.round(i[u]*255);return i}function g0(e,t){if(t===0)return e;var r=E9(_9(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),Dd(S9(r))}var gN=6,b9=15,T9=1,nn=gN;function v0(e){return Math.floor((e+Math.round(128/nn)/256)*nn)}function x0(e){return Math.floor((e-5)/nn*100+.5)/100}function Yv(e){return Math.round((e*nn+5)/nn*256)/256}function Mp(e){return Yv(x0(v0(e)))}function Ay(e){var t=Math.abs(e-Mp(e)),r=nn;if(t>.005)for(nn=T9;nn<b9;++nn)Math.abs(e-Mp(e))<=t&&(t=Math.abs(e-Mp(e)),r=nn);nn=r}function $l(e){e.width?(e.wpx=v0(e.width),e.wch=x0(e.wpx),e.MDW=nn):e.wpx?(e.wch=x0(e.wpx),e.width=Yv(e.wch),e.MDW=nn):typeof e.wch=="number"&&(e.width=Yv(e.wch),e.wpx=v0(e.width),e.MDW=nn),e.customWidth&&delete e.customWidth}var C9=96,vN=C9;function xN(e){return e*96/vN}function Md(e){return e*vN/96}var k9={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function A9(e,t,r,n){t.Borders=[];var a={},s=!1;(e[0].match(Wr)||[]).forEach(function(i){var o=Be(i);switch(Es(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},o.diagonalUp&&(a.diagonalUp=Nt(o.diagonalUp)),o.diagonalDown&&(a.diagonalDown=Nt(o.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in borders")}})}function j9(e,t,r,n){t.Fills=[];var a={},s=!1;(e[0].match(Wr)||[]).forEach(function(i){var o=Be(i);switch(Es(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":o.patternType&&(a.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),o.indexed&&(a.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(a.bgColor.theme=parseInt(o.theme,10)),o.tint&&(a.bgColor.tint=parseFloat(o.tint)),o.rgb&&(a.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),o.theme&&(a.fgColor.theme=parseInt(o.theme,10)),o.tint&&(a.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(a.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fills")}})}function N9(e,t,r,n){t.Fonts=[];var a={},s=!1;(e[0].match(Wr)||[]).forEach(function(i){var o=Be(i);switch(Es(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":o.val&&(a.name=Et(o.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=o.val?Nt(o.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=o.val?Nt(o.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(o.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=o.val?Nt(o.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=o.val?Nt(o.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=o.val?Nt(o.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=o.val?Nt(o.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=o.val?Nt(o.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":o.val&&(a.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(a.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(a.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(a.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=uy[parseInt(o.val,10)];break;case"<color":if(a.color||(a.color={}),o.auto&&(a.color.auto=Nt(o.auto)),o.rgb)a.color.rgb=o.rgb.slice(-6);else if(o.indexed){a.color.index=parseInt(o.indexed,10);var l=Vo[a.color.index];a.color.index==81&&(l=Vo[1]),l||(l=Vo[1]),a.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(a.color.theme=parseInt(o.theme,10),o.tint&&(a.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=g0(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fonts")}})}function I9(e,t,r){t.NumberFmt=[];for(var n=ys(qe),a=0;a<n.length;++a)t.NumberFmt[n[a]]=qe[n[a]];var s=e[0].match(Wr);if(s)for(a=0;a<s.length;++a){var i=Be(s[a]);switch(Es(i[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=it(Et(i.formatCode)),l=parseInt(i.numFmtId,10);if(t.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&t.NumberFmt[l]!=null;--l);t.NumberFmt[l]=o}zo(o,l)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+i[0]+" in numFmts")}}}var nh=["numFmtId","fillId","fontId","borderId","xfId"],ah=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function R9(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(Wr)||[]).forEach(function(s){var i=Be(s),o=0;switch(Es(i[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=i,delete n[0],o=0;o<nh.length;++o)n[nh[o]]&&(n[nh[o]]=parseInt(n[nh[o]],10));for(o=0;o<ah.length;++o)n[ah[o]]&&(n[ah[o]]=Nt(n[ah[o]]));if(t.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[o]){n.numFmtId=o;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};i.vertical&&(l.vertical=i.vertical),i.horizontal&&(l.horizontal=i.horizontal),i.textRotation!=null&&(l.textRotation=i.textRotation),i.indent&&(l.indent=i.indent),i.wrapText&&(l.wrapText=Nt(i.wrapText)),n.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+i[0]+" in cellXfs")}})}var P9=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,u){var d={};if(!o)return d;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=o.match(t))&&I9(f,d,u),(f=o.match(a))&&N9(f,d,l,u),(f=o.match(n))&&j9(f,d,l,u),(f=o.match(s))&&A9(f,d,l,u),(f=o.match(r))&&R9(f,d,u),d}}();function O9(e,t){var r=e.read_shift(2),n=Br(e);return[r,n]}function F9(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=H$(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var s=e.read_shift(2);switch(s===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var i=e.read_shift(1);i!=0&&(n.underline=i);var o=e.read_shift(1);o>0&&(n.family=o);var l=e.read_shift(1);switch(l>0&&(n.charset=l),e.l++,n.color=W$(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Br(e),n}var D9=zr;function M9(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}var L9=zr;function U9(e,t,r){var n={};n.NumberFmt=[];for(var a in qe)n.NumberFmt[a]=qe[a];n.CellXf=[],n.Fonts=[];var s=[],i=!1;return ei(e,function(l,u,d){switch(d){case 44:n.NumberFmt[l[0]]=l[1],zo(l[1],l[0]);break;case 43:n.Fonts.push(l),l.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(l.color.rgb=g0(t.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&n.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:s.push(d),i=!0;break;case 38:s.pop(),i=!1;break;default:if(u.T>0)s.push(d);else if(u.T<0)s.pop();else if(!i||r.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),n}var B9=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function $9(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Wr)||[]).forEach(function(a){var s=Be(a);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=s.val;break;case"<a:sysClr":n.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(t.themeElements.clrScheme[B9.indexOf(s[0])]=n,n={}):n.name=s[0].slice(3,s[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function z9(){}function V9(){}var W9=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,H9=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,G9=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function q9(e,t,r){t.themeElements={};var n;[["clrScheme",W9,$9],["fontScheme",H9,z9],["fmtScheme",G9,V9]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var K9=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function yN(e,t){(!e||e.length===0)&&(e=J9());var r,n={};if(!(r=e.match(K9)))throw new Error("themeElements not found in theme");return q9(r[0],n,t),n.raw=e,n}function J9(e,t){var r=[Nj];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function X9(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var s=e.slice(e.l);e.l=n;var i;try{i=jj(s,{type:"array"})}catch{return}var o=Bn(i,"theme/theme/theme1.xml",!0);if(o)return yN(o,r)}}function Y9(e){return e.read_shift(4)}function Q9(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=Z9(e,4);break;case 2:t.xclrValue=sN(e);break;case 3:t.xclrValue=Y9(e);break;case 4:e.l+=4;break}return e.l+=8,t}function Z9(e,t){return zr(e,t)}function eV(e,t){return zr(e,t)}function tV(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=Q9(e);break;case 6:n[1]=eV(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function rV(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),s=[];a-- >0;)s.push(tV(e,r-e.l));return{ixfe:n,ext:s}}function nV(e,t){t.forEach(function(r){switch(r[0]){}})}function aV(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Br(e)}}function sV(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function iV(e){return e.l+=4,e.read_shift(4)!=0}function oV(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},s=[],i=!1,o=2;return ei(e,function(l,u,d){switch(d){case 335:n.Types.push({name:l.name});break;case 51:l.forEach(function(f){o==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):o==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:s.push(d),i=!0;break;case 36:s.pop(),i=!1;break;default:if(!u.T){if(!i||a.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}function cV(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,s=2,i;return e.replace(Wr,function(o){var l=Be(o);switch(Es(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==l.name&&(i=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?n.Cell.push({type:n.Types[l.t-1].name,index:+l.v}):s==0&&n.Value.push({type:n.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!i)break;i.offsets||(i.offsets=[]),i.offsets.push(+l.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),n}function lV(e){var t=[];if(!e)return t;var r=1;return(e.match(Wr)||[]).forEach(function(n){var a=Be(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function uV(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=He(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function dV(e,t,r){var n=[];return ei(e,function(s,i,o){switch(o){case 63:n.push(s);break;default:if(!i.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function fV(e,t,r,n){if(!e)return e;var a=n||{},s=!1;ei(e,function(o,l,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!l.T){if(!s||a.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},a)}function hV(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}function wS(e,t,r,n){var a=Array.isArray(e),s;t.forEach(function(i){var o=an(i.ref);if(a?(e[o.r]||(e[o.r]=[]),s=e[o.r][o.c]):s=e[i.ref],!s){s={t:"z"},a?e[o.r][o.c]=s:e[i.ref]=s;var l=Ht(e["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var u=at(l);u!==e["!ref"]&&(e["!ref"]=u)}s.c||(s.c=[]);var d={a:i.author,t:i.t,r:i.r,T:r};i.h&&(d.h=i.h);for(var f=s.c.length-1;f>=0;--f){if(!r&&s.c[f].T)return;r&&!s.c[f].T&&s.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(d.a==n[f].id){d.a=n[f].name||d.a;break}}s.c.push(d)})}function mV(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(i){if(!(i===""||i.trim()==="")){var o=i.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var s=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(i){if(!(i===""||i.trim()==="")){var o=i.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=Be(o[0]),u={author:l.authorId&&r[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},d=an(l.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var f=i.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&ky(f[1])||{r:"",t:"",h:""};u.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),u.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=h.h),n.push(u)}}}}),n}function pV(e,t){var r=[],n=!1,a={},s=0;return e.replace(Wr,function(o,l){var u=Be(o);switch(Es(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":s=l+o.length;break;case"</text>":a.t=e.slice(s,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return o}),r}function gV(e,t){var r=[],n=!1;return e.replace(Wr,function(s){var i=Be(s);switch(Es(i[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:i.displayname,id:i.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+i[0]+" in threaded comments")}return s}),r}function vV(e){var t={};t.iauthor=e.read_shift(4);var r=gc(e);return t.rfx=r.s,t.ref=He(r.s),e.l+=16,t}var xV=Br;function yV(e,t){var r=[],n=[],a={},s=!1;return ei(e,function(o,l,u){switch(u){case 632:n.push(o);break;case 635:a=o;break;case 637:a.t=o.t,a.h=o.h,a.r=o.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!s||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}var wV="application/vnd.ms-office.vbaProject";function _V(e){var t=nt.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");nt.utils.cfb_add(t,a,e.FileIndex[n].content)}}),nt.write(t)}function EV(){return{"!type":"dialog"}}function SV(){return{"!type":"dialog"}}function bV(){return{"!type":"macro"}}function TV(){return{"!type":"macro"}}var dl=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,s,i){var o=!1,l=!1;s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1)),i.length==0?o=!0:i.charAt(0)=="["&&(o=!0,i=i.slice(1,-1));var u=s.length>0?parseInt(s,10)|0:0,d=i.length>0?parseInt(i,10)|0:0;return o?d+=t.c:--d,l?u+=t.r:--u,a+(o?"":"$")+fr(d)+(l?"":"$")+Ar(u)}return function(a,s){return t=s,a.replace(e,r)}}(),wN=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,CV=function(){return function(t,r){return t.replace(wN,function(n,a,s,i,o,l){var u=_y(i)-(s?0:r.c),d=wy(l)-(o?0:r.r),f=d==0?"":o?d+1:"["+d+"]",h=u==0?"":s?u+1:"["+u+"]";return a+"R"+f+"C"+h})}}();function _N(e,t){return e.replace(wN,function(r,n,a,s,i,o){return n+(a=="$"?a+s:fr(_y(s)+t.c))+(i=="$"?i+o:Ar(wy(o)+t.r))})}function kV(e,t,r){var n=iu(t),a=n.s,s=an(r),i={r:s.r-a.r,c:s.c-a.c};return _N(e,i)}function AV(e){return e.length!=1}function _S(e){return e.replace(/_xlfn\./g,"")}function Yt(e){e.l+=1}function eo(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function EN(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return SN(e);r.biff==12&&(n=4)}var a=e.read_shift(n),s=e.read_shift(n),i=eo(e),o=eo(e);return{s:{r:a,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function SN(e){var t=eo(e),r=eo(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function jV(e,t,r){if(r.biff<8)return SN(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),s=eo(e),i=eo(e);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:i[0],cRel:i[1],rRel:i[2]}}}function bN(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return NV(e);var n=e.read_shift(r&&r.biff==12?4:2),a=eo(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function NV(e){var t=eo(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function IV(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function RV(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return PV(e);var a=e.read_shift(n>=12?4:2),s=e.read_shift(2),i=(s&16384)>>14,o=(s&32768)>>15;if(s&=16383,o==1)for(;a>524287;)a-=1048576;if(i==1)for(;s>8191;)s=s-16384;return{r:a,c:s,cRel:i,rRel:o}}function PV(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function OV(e,t,r){var n=(e[e.l++]&96)>>5,a=EN(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function FV(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var i=EN(e,s,r);return[n,a,i]}function DV(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function MV(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[n,a]}function LV(e,t,r){var n=(e[e.l++]&96)>>5,a=jV(e,t-1,r);return[n,a]}function UV(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function ES(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function BV(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],s=0;s<=n;++s)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function $V(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function zV(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function VV(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function WV(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function TN(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function HV(e){return e.read_shift(2),TN(e)}function GV(e){return e.read_shift(2),TN(e)}function qV(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=bN(e,0,r);return[n,a]}function KV(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=RV(e,0,r);return[n,a]}function JV(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var s=bN(e,0,r);return[n,a,s]}function XV(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[YW[a],AN[a],n]}function YV(e,t,r){var n=e[e.l++],a=e.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:QV(e);return[a,(s[0]===0?AN:XW)[s[1]]]}function QV(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function ZV(e,t,r){e.l+=r&&r.biff==2?3:4}function eW(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function tW(e){return e.l++,vc[e.read_shift(1)]}function rW(e){return e.l++,e.read_shift(2)}function nW(e){return e.l++,e.read_shift(1)!==0}function aW(e){return e.l++,Lr(e)}function sW(e,t,r){return e.l++,sf(e,t-1,r)}function iW(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=qt(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=vc[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Lr(e);break;case 2:r[1]=xc(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function oW(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],s=0;s!=n;++s)a.push((r.biff==12?gc:um)(e));return a}function cW(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var s=0,i=[];s!=n&&(i[s]=[]);++s)for(var o=0;o!=a;++o)i[s][o]=iW(e,r.biff);return i}function lW(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,s=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,s]}function uW(e,t,r){if(r.biff==5)return dW(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),s=e.read_shift(4);return[n,a,s]}function dW(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function fW(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function hW(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function mW(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function pW(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[n,a]}var gW=zr,vW=zr,xW=zr;function cf(e,t,r){return e.l+=2,[IV(e)]}function jy(e){return e.l+=6,[]}var yW=cf,wW=jy,_W=jy,EW=cf;function CN(e){return e.l+=2,[Zt(e),e.read_shift(2)&1]}var SW=cf,bW=CN,TW=jy,CW=cf,kW=cf,AW=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function jW(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),s=e.read_shift(2),i=AW[r>>2&31];return{ixti:t,coltype:r&3,rt:i,idx:n,c:a,C:s}}function NW(e){return e.l+=2,[e.read_shift(4)]}function IW(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function RW(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function PW(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function OW(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function FW(e){return e.l+=4,[0,0]}var SS={1:{n:"PtgExp",f:eW},2:{n:"PtgTbl",f:xW},3:{n:"PtgAdd",f:Yt},4:{n:"PtgSub",f:Yt},5:{n:"PtgMul",f:Yt},6:{n:"PtgDiv",f:Yt},7:{n:"PtgPower",f:Yt},8:{n:"PtgConcat",f:Yt},9:{n:"PtgLt",f:Yt},10:{n:"PtgLe",f:Yt},11:{n:"PtgEq",f:Yt},12:{n:"PtgGe",f:Yt},13:{n:"PtgGt",f:Yt},14:{n:"PtgNe",f:Yt},15:{n:"PtgIsect",f:Yt},16:{n:"PtgUnion",f:Yt},17:{n:"PtgRange",f:Yt},18:{n:"PtgUplus",f:Yt},19:{n:"PtgUminus",f:Yt},20:{n:"PtgPercent",f:Yt},21:{n:"PtgParen",f:Yt},22:{n:"PtgMissArg",f:Yt},23:{n:"PtgStr",f:sW},26:{n:"PtgSheet",f:IW},27:{n:"PtgEndSheet",f:RW},28:{n:"PtgErr",f:tW},29:{n:"PtgBool",f:nW},30:{n:"PtgInt",f:rW},31:{n:"PtgNum",f:aW},32:{n:"PtgArray",f:UV},33:{n:"PtgFunc",f:XV},34:{n:"PtgFuncVar",f:YV},35:{n:"PtgName",f:lW},36:{n:"PtgRef",f:qV},37:{n:"PtgArea",f:OV},38:{n:"PtgMemArea",f:fW},39:{n:"PtgMemErr",f:gW},40:{n:"PtgMemNoMem",f:vW},41:{n:"PtgMemFunc",f:hW},42:{n:"PtgRefErr",f:mW},43:{n:"PtgAreaErr",f:DV},44:{n:"PtgRefN",f:KV},45:{n:"PtgAreaN",f:LV},46:{n:"PtgMemAreaN",f:PW},47:{n:"PtgMemNoMemN",f:OW},57:{n:"PtgNameX",f:uW},58:{n:"PtgRef3d",f:JV},59:{n:"PtgArea3d",f:FV},60:{n:"PtgRefErr3d",f:pW},61:{n:"PtgAreaErr3d",f:MV},255:{}},DW={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},MW={1:{n:"PtgElfLel",f:CN},2:{n:"PtgElfRw",f:CW},3:{n:"PtgElfCol",f:yW},6:{n:"PtgElfRwV",f:kW},7:{n:"PtgElfColV",f:EW},10:{n:"PtgElfRadical",f:SW},11:{n:"PtgElfRadicalS",f:TW},13:{n:"PtgElfColS",f:wW},15:{n:"PtgElfColSV",f:_W},16:{n:"PtgElfRadicalLel",f:bW},25:{n:"PtgList",f:jW},29:{n:"PtgSxName",f:NW},255:{}},LW={0:{n:"PtgAttrNoop",f:FW},1:{n:"PtgAttrSemi",f:WV},2:{n:"PtgAttrIf",f:zV},4:{n:"PtgAttrChoose",f:BV},8:{n:"PtgAttrGoto",f:$V},16:{n:"PtgAttrSum",f:ZV},32:{n:"PtgAttrBaxcel",f:ES},33:{n:"PtgAttrBaxcel",f:ES},64:{n:"PtgAttrSpace",f:HV},65:{n:"PtgAttrSpaceSemi",f:GV},128:{n:"PtgAttrIfError",f:VV},255:{}};function lf(e,t,r,n){if(n.biff<8)return zr(e,t);for(var a=e.l+t,s=[],i=0;i!==r.length;++i)switch(r[i][0]){case"PtgArray":r[i][1]=cW(e,0,n),s.push(r[i][1]);break;case"PtgMemArea":r[i][2]=oW(e,r[i][1],n),s.push(r[i][2]);break;case"PtgExp":n&&n.biff==12&&(r[i][1][1]=e.read_shift(4),s.push(r[i][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[i][0]}return t=a-e.l,t!==0&&s.push(zr(e,t)),s}function uf(e,t,r){for(var n=e.l+t,a,s,i=[];n!=e.l;)t=n-e.l,s=e[e.l],a=SS[s]||SS[DW[s]],(s===24||s===25)&&(a=(s===24?MW:LW)[e[e.l+1]]),!a||!a.f?zr(e,t):i.push([a.n,a.f(e,t,r)]);return i}function UW(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],s=0;s<n.length;++s){var i=n[s];if(i)switch(i[0]){case 2:a.push('"'+i[1].replace(/"/g,'""')+'"');break;default:a.push(i[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var BW={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function $W(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function kN(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function bS(e,t,r){var n=kN(e,t,r);return n=="#REF"?n:$W(n,r)}function Dr(e,t,r,n,a){var s=a&&a.biff||8,i={s:{c:0,r:0},e:{c:0,r:0}},o=[],l,u,d,f=0,h=0,m,v="";if(!e[0]||!e[0][0])return"";for(var p=-1,g="",y=0,_=e[0].length;y<_;++y){var w=e[0][y];switch(w[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),u=o.pop(),p>=0){switch(e[0][p][1][0]){case 0:g=Wt(" ",e[0][p][1][1]);break;case 1:g=Wt("\r",e[0][p][1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}u=u+g,p=-1}o.push(u+BW[w[0]]+l);break;case"PtgIsect":l=o.pop(),u=o.pop(),o.push(u+" "+l);break;case"PtgUnion":l=o.pop(),u=o.pop(),o.push(u+","+l);break;case"PtgRange":l=o.pop(),u=o.pop(),o.push(u+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=Zu(w[1][1],i,a),o.push(ed(d,s));break;case"PtgRefN":d=r?Zu(w[1][1],r,a):w[1][1],o.push(ed(d,s));break;case"PtgRef3d":f=w[1][1],d=Zu(w[1][2],i,a),v=bS(n,f,a),o.push(v+"!"+ed(d,s));break;case"PtgFunc":case"PtgFuncVar":var E=w[1][0],T=w[1][1];E||(E=0),E&=127;var b=E==0?[]:o.slice(-E);o.length-=E,T==="User"&&(T=b.shift()),o.push(T+"("+b.join(",")+")");break;case"PtgBool":o.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(w[1]);break;case"PtgNum":o.push(String(w[1]));break;case"PtgStr":o.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(w[1]);break;case"PtgAreaN":m=aS(w[1][1],r?{s:r}:i,a),o.push(Fp(m,a));break;case"PtgArea":m=aS(w[1][1],i,a),o.push(Fp(m,a));break;case"PtgArea3d":f=w[1][1],m=w[1][2],v=bS(n,f,a),o.push(v+"!"+Fp(m,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=w[1][2];var S=(n.names||[])[h-1]||(n[0]||[])[h],C=S?S.Name:"SH33TJSNAME"+String(h);C&&C.slice(0,6)=="_xlfn."&&!a.xlfn&&(C=C.slice(6)),o.push(C);break;case"PtgNameX":var A=w[1][1];h=w[1][2];var j;if(a.biff<=5)A<0&&(A=-A),n[A]&&(j=n[A][h]);else{var I="";if(((n[A]||[])[0]||[])[0]==14849||(((n[A]||[])[0]||[])[0]==1025?n[A][h]&&n[A][h].itab>0&&(I=n.SheetNames[n[A][h].itab-1]+"!"):I=n.SheetNames[h-1]+"!"),n[A]&&n[A][h])I+=n[A][h].Name;else if(n[0]&&n[0][h])I+=n[0][h].Name;else{var N=(kN(n,A,a)||"").split(";;");N[h-1]?I=N[h-1]:I+="SH33TJSERRX"}o.push(I);break}j||(j={Name:"SH33TJSERRY"}),o.push(j.Name);break;case"PtgParen":var W="(",M=")";if(p>=0){switch(g="",e[0][p][1][0]){case 2:W=Wt(" ",e[0][p][1][1])+W;break;case 3:W=Wt("\r",e[0][p][1][1])+W;break;case 4:M=Wt(" ",e[0][p][1][1])+M;break;case 5:M=Wt("\r",e[0][p][1][1])+M;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}p=-1}o.push(W+o.pop()+M);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":d={c:w[1][1],r:w[1][0]};var X={c:r.c,r:r.r};if(n.sharedf[He(d)]){var z=n.sharedf[He(d)];o.push(Dr(z,i,X,n,a))}else{var V=!1;for(l=0;l!=n.arrayf.length;++l)if(u=n.arrayf[l],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){o.push(Dr(u[1],i,X,n,a)),V=!0;break}V||o.push(w[1])}break;case"PtgArray":o.push("{"+UW(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":p=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w))}var Y=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&p>=0&&Y.indexOf(e[0][y][0])==-1){w=e[0][p];var F=!0;switch(w[1][0]){case 4:F=!1;case 0:g=Wt(" ",w[1][1]);break;case 5:F=!1;case 1:g=Wt("\r",w[1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}o.push((F?g:"")+o.pop()+(F?"":g)),p=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function zW(e,t,r){var n=e.l+t,a=r.biff==2?1:2,s,i=e.read_shift(a);if(i==65535)return[[],zr(e,t-2)];var o=uf(e,i,r);return t!==i+a&&(s=lf(e,t-i-a,o,r)),e.l=n,[o,s]}function VW(e,t,r){var n=e.l+t,a=r.biff==2?1:2,s,i=e.read_shift(a);if(i==65535)return[[],zr(e,t-2)];var o=uf(e,i,r);return t!==i+a&&(s=lf(e,t-i-a,o,r)),e.l=n,[o,s]}function WW(e,t,r,n){var a=e.l+t,s=uf(e,n,r),i;return a!==e.l&&(i=lf(e,a-e.l,s,r)),[s,i]}function HW(e,t,r){var n=e.l+t,a,s=e.read_shift(2),i=uf(e,s,r);return s==65535?[[],zr(e,t-2)]:(t!==s+2&&(a=lf(e,n-s-2,i,r)),[i,a])}function GW(e){var t;if($s(e,e.l+6)!==65535)return[Lr(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function Lp(e,t,r){var n=e.l+t,a=Ss(e);r.biff==2&&++e.l;var s=GW(e),i=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=VW(e,n-e.l,r);return{cell:a,val:s[0],formula:o,shared:i>>3&1,tt:s[1]}}function dm(e,t,r){var n=e.read_shift(4),a=uf(e,n,r),s=e.read_shift(4),i=s>0?lf(e,s,a,r):null;return[a,i]}var qW=dm,fm=dm,KW=dm,JW=dm,XW={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},AN={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},YW={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function TS(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function Up(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var ad={},fl={};function sd(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function jN(e,t,r,n,a,s){try{n.cellNF&&(e.z=qe[t])}catch(o){if(n.WTF)throw o}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Er(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(qe[t]==null&&zo(QB[t]||"General",t),e.t==="e")e.w=e.w||vc[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Rd(e.v);else if(e.t==="d"){var i=cn(e.v);(i|0)===i?e.w=i.toString(10):e.w=Rd(i)}else{if(e.v===void 0)return"";e.w=tc(e.v,fl)}else e.t==="d"?e.w=Ta(t,cn(e.v),fl):e.w=Ta(t,e.v,fl)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{e.s=s.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=g0(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=g0(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&s.Fills)throw o}}}function QW(e,t){var r=Ht(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=at(r))}var ZW=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,eH=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,tH=/<(?:\w:)?hyperlink [^>]*>/mg,rH=/"(\w*:\w*)"/,nH=/<(?:\w:)?col\b[^>]*[\/]?>/g,aH=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,sH=/<(?:\w:)?pageMargins[^>]*\/>/g,NN=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,iH=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,oH=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function cH(e,t,r,n,a,s,i){if(!e)return e;n||(n={"!id":{}});var o=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",d="",f=e.match(eH);f?(u=e.slice(0,f.index),d=e.slice(f.index+f[0].length)):u=d=e;var h=u.match(NN);h?Ny(h[0],o,a,r):(h=u.match(iH))&&lH(h[0],h[1]||"",o,a,r);var m=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(m>0){var v=u.slice(m,m+50).match(rH);v&&QW(o,v[1])}var p=u.match(oH);p&&p[1]&&pH(p[1],a);var g=[];if(t.cellStyles){var y=u.match(nH);y&&fH(g,y)}f&&gH(f[1],o,t,l,s,i);var _=d.match(aH);_&&(o["!autofilter"]=hH(_[0]));var w=[],E=d.match(ZW);if(E)for(m=0;m!=E.length;++m)w[m]=Ht(E[m].slice(E[m].indexOf('"')+1));var T=d.match(tH);T&&uH(o,T,n);var b=d.match(sH);if(b&&(o["!margins"]=dH(Be(b[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=at(l)),t.sheetRows>0&&o["!ref"]){var S=Ht(o["!ref"]);t.sheetRows<=+S.e.r&&(S.e.r=t.sheetRows-1,S.e.r>l.e.r&&(S.e.r=l.e.r),S.e.r<S.s.r&&(S.s.r=S.e.r),S.e.c>l.e.c&&(S.e.c=l.e.c),S.e.c<S.s.c&&(S.s.c=S.e.c),o["!fullref"]=o["!ref"],o["!ref"]=at(S))}return g.length>0&&(o["!cols"]=g),w.length>0&&(o["!merges"]=w),o}function Ny(e,t,r,n){var a=Be(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=it(Et(a.codeName)))}function lH(e,t,r,n,a){Ny(e.slice(0,e.indexOf(">")),r,n,a)}function uH(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var s=Be(Et(t[a]),!0);if(!s.ref)return;var i=((r||{})["!id"]||[])[s.id];i?(s.Target=i.Target,s.location&&(s.Target+="#"+it(s.location))):(s.Target="#"+it(s.location),i={Target:s.Target,TargetMode:"Internal"}),s.Rel=i,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var o=Ht(s.ref),l=o.s.r;l<=o.e.r;++l)for(var u=o.s.c;u<=o.e.c;++u){var d=He({c:u,r:l});n?(e[l]||(e[l]=[]),e[l][u]||(e[l][u]={t:"z",v:void 0}),e[l][u].l=s):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=s)}}}function dH(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function fH(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=Be(t[n],!0);a.hidden&&(a.hidden=Nt(a.hidden));var s=parseInt(a.min,10)-1,i=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,Ay(a.width)),$l(a);s<=i;)e[s++]=kr(a)}}function hH(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var mH=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function pH(e,t){t.Views||(t.Views=[{}]),(e.match(mH)||[]).forEach(function(r,n){var a=Be(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),Nt(a.rightToLeft)&&(t.Views[n].RTL=!0)})}var gH=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,s=Pd("v"),i=Pd("f");return function(l,u,d,f,h,m){for(var v=0,p="",g=[],y=[],_=0,w=0,E=0,T="",b,S,C=0,A=0,j,I,N=0,W=0,M=Array.isArray(m.CellXf),X,z=[],V=[],Y=Array.isArray(u),F=[],ne={},ee=!1,k=!!d.sheetStubs,G=l.split(t),L=0,D=G.length;L!=D;++L){p=G[L].trim();var O=p.length;if(O!==0){var P=0;e:for(v=0;v<O;++v)switch(p[v]){case">":if(p[v-1]!="/"){++v;break e}if(d&&d.cellStyles){if(S=Be(p.slice(P,v),!0),C=S.r!=null?parseInt(S.r,10):C+1,A=-1,d.sheetRows&&d.sheetRows<C)continue;ne={},ee=!1,S.ht&&(ee=!0,ne.hpt=parseFloat(S.ht),ne.hpx=Md(ne.hpt)),S.hidden=="1"&&(ee=!0,ne.hidden=!0),S.outlineLevel!=null&&(ee=!0,ne.level=+S.outlineLevel),ee&&(F[C-1]=ne)}break;case"<":P=v;break}if(P>=v)break;if(S=Be(p.slice(P,v),!0),C=S.r!=null?parseInt(S.r,10):C+1,A=-1,!(d.sheetRows&&d.sheetRows<C)){f.s.r>C-1&&(f.s.r=C-1),f.e.r<C-1&&(f.e.r=C-1),d&&d.cellStyles&&(ne={},ee=!1,S.ht&&(ee=!0,ne.hpt=parseFloat(S.ht),ne.hpx=Md(ne.hpt)),S.hidden=="1"&&(ee=!0,ne.hidden=!0),S.outlineLevel!=null&&(ee=!0,ne.level=+S.outlineLevel),ee&&(F[C-1]=ne)),g=p.slice(v).split(e);for(var Q=0;Q!=g.length&&g[Q].trim().charAt(0)=="<";++Q);for(g=g.slice(Q),v=0;v!=g.length;++v)if(p=g[v].trim(),p.length!==0){if(y=p.match(r),_=v,w=0,E=0,p="<c "+(p.slice(0,1)=="<"?">":"")+p,y!=null&&y.length===2){for(_=0,T=y[1],w=0;w!=T.length&&!((E=T.charCodeAt(w)-64)<1||E>26);++w)_=26*_+E;--_,A=_}else++A;for(w=0;w!=p.length&&p.charCodeAt(w)!==62;++w);if(++w,S=Be(p.slice(0,w),!0),S.r||(S.r=He({r:C-1,c:A})),T=p.slice(w),b={t:""},(y=T.match(s))!=null&&y[1]!==""&&(b.v=it(y[1])),d.cellFormula){if((y=T.match(i))!=null&&y[1]!==""){if(b.f=it(Et(y[1])).replace(/\r\n/g,`
`),d.xlfn||(b.f=_S(b.f)),y[0].indexOf('t="array"')>-1)b.F=(T.match(a)||[])[1],b.F.indexOf(":")>-1&&z.push([Ht(b.F),b.F]);else if(y[0].indexOf('t="shared"')>-1){I=Be(y[0]);var Z=it(Et(y[1]));d.xlfn||(Z=_S(Z)),V[parseInt(I.si,10)]=[I,Z,S.r]}}else(y=T.match(/<f[^>]*\/>/))&&(I=Be(y[0]),V[I.si]&&(b.f=kV(V[I.si][1],V[I.si][2],S.r)));var re=an(S.r);for(w=0;w<z.length;++w)re.r>=z[w][0].s.r&&re.r<=z[w][0].e.r&&re.c>=z[w][0].s.c&&re.c<=z[w][0].e.c&&(b.F=z[w][1])}if(S.t==null&&b.v===void 0)if(b.f||b.F)b.v=0,b.t="n";else if(k)b.t="z";else continue;else b.t=S.t||"n";switch(f.s.c>A&&(f.s.c=A),f.e.c<A&&(f.e.c=A),b.t){case"n":if(b.v==""||b.v==null){if(!k)continue;b.t="z"}else b.v=parseFloat(b.v);break;case"s":if(typeof b.v>"u"){if(!k)continue;b.t="z"}else j=ad[parseInt(b.v,10)],b.v=j.t,b.r=j.r,d.cellHTML&&(b.h=j.h);break;case"str":b.t="s",b.v=b.v!=null?Et(b.v):"",d.cellHTML&&(b.h=vy(b.v));break;case"inlineStr":y=T.match(n),b.t="s",y!=null&&(j=ky(y[1]))?(b.v=j.t,d.cellHTML&&(b.h=j.h)):b.v="";break;case"b":b.v=Nt(b.v);break;case"d":d.cellDates?b.v=Er(b.v,1):(b.v=cn(Er(b.v,1)),b.t="n");break;case"e":(!d||d.cellText!==!1)&&(b.w=b.v),b.v=Yj[b.v];break}if(N=W=0,X=null,M&&S.s!==void 0&&(X=m.CellXf[S.s],X!=null&&(X.numFmtId!=null&&(N=X.numFmtId),d.cellStyles&&X.fillId!=null&&(W=X.fillId))),jN(b,N,W,d,h,m),d.cellDates&&M&&b.t=="n"&&su(qe[N])&&(b.t="d",b.v=lm(b.v)),S.cm&&d.xlmeta){var ce=(d.xlmeta.Cell||[])[+S.cm-1];ce&&ce.type=="XLDAPR"&&(b.D=!0)}if(Y){var U=an(S.r);u[U.r]||(u[U.r]=[]),u[U.r][U.c]=b}else u[S.r]=b}}}}F.length>0&&(u["!rows"]=F)}}();function vH(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=a/20),r}var xH=gc;function yH(){}function wH(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=z$(e),r}function _H(e){var t=Ca(e);return[t]}function EH(e){var t=pc(e);return[t]}function SH(e){var t=Ca(e),r=e.read_shift(1);return[t,r,"b"]}function bH(e){var t=pc(e),r=e.read_shift(1);return[t,r,"b"]}function TH(e){var t=Ca(e),r=e.read_shift(1);return[t,r,"e"]}function CH(e){var t=pc(e),r=e.read_shift(1);return[t,r,"e"]}function kH(e){var t=Ca(e),r=e.read_shift(4);return[t,r,"s"]}function AH(e){var t=pc(e),r=e.read_shift(4);return[t,r,"s"]}function jH(e){var t=Ca(e),r=Lr(e);return[t,r,"n"]}function IN(e){var t=pc(e),r=Lr(e);return[t,r,"n"]}function NH(e){var t=Ca(e),r=by(e);return[t,r,"n"]}function IH(e){var t=pc(e),r=by(e);return[t,r,"n"]}function RH(e){var t=Ca(e),r=Ey(e);return[t,r,"is"]}function PH(e){var t=Ca(e),r=Br(e);return[t,r,"str"]}function OH(e){var t=pc(e),r=Br(e);return[t,r,"str"]}function FH(e,t,r){var n=e.l+t,a=Ca(e);a.r=r["!row"];var s=e.read_shift(1),i=[a,s,"b"];if(r.cellFormula){e.l+=2;var o=fm(e,n-e.l,r);i[3]=Dr(o,null,a,r.supbooks,r)}else e.l=n;return i}function DH(e,t,r){var n=e.l+t,a=Ca(e);a.r=r["!row"];var s=e.read_shift(1),i=[a,s,"e"];if(r.cellFormula){e.l+=2;var o=fm(e,n-e.l,r);i[3]=Dr(o,null,a,r.supbooks,r)}else e.l=n;return i}function MH(e,t,r){var n=e.l+t,a=Ca(e);a.r=r["!row"];var s=Lr(e),i=[a,s,"n"];if(r.cellFormula){e.l+=2;var o=fm(e,n-e.l,r);i[3]=Dr(o,null,a,r.supbooks,r)}else e.l=n;return i}function LH(e,t,r){var n=e.l+t,a=Ca(e);a.r=r["!row"];var s=Br(e),i=[a,s,"str"];if(r.cellFormula){e.l+=2;var o=fm(e,n-e.l,r);i[3]=Dr(o,null,a,r.supbooks,r)}else e.l=n;return i}var UH=gc;function BH(e,t){var r=e.l+t,n=gc(e),a=Sy(e),s=Br(e),i=Br(e),o=Br(e);e.l=r;var l={rfx:n,relId:a,loc:s,display:o};return i&&(l.Tooltip=i),l}function $H(){}function zH(e,t,r){var n=e.l+t,a=Kj(e),s=e.read_shift(1),i=[a];if(i[2]=s,r.cellFormula){var o=qW(e,n-e.l,r);i[1]=o}else e.l=n;return i}function VH(e,t,r){var n=e.l+t,a=gc(e),s=[a];if(r.cellFormula){var i=JW(e,n-e.l,r);s[1]=i,e.l=n}else e.l=n;return s}var WH=["left","right","top","bottom","header","footer"];function HH(e){var t={};return WH.forEach(function(r){t[r]=Lr(e)}),t}function GH(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function qH(){}function KH(){}function JH(e,t,r,n,a,s,i){if(!e)return e;var o=t||{};n||(n={"!id":{}});var l=o.dense?[]:{},u,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,m,v,p,g,y,_,w,E,T,b=[];o.biff=12,o["!row"]=0;var S=0,C=!1,A=[],j={},I=o.supbooks||a.supbooks||[[]];if(I.sharedf=j,I.arrayf=A,I.SheetNames=a.SheetNames||a.Sheets.map(function(Y){return Y.name}),!o.supbooks&&(o.supbooks=I,a.Names))for(var N=0;N<a.Names.length;++N)I[0][N+1]=a.Names[N];var W=[],M=[],X=!1;y0[16]={n:"BrtShortReal",f:IN};var z;if(ei(e,function(F,ne,ee){if(!h)switch(ee){case 148:u=F;break;case 0:m=F,o.sheetRows&&o.sheetRows<=m.r&&(h=!0),E=Ar(g=m.r),o["!row"]=m.r,(F.hidden||F.hpt||F.level!=null)&&(F.hpt&&(F.hpx=Md(F.hpt)),M[F.r]=F);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(v={t:F[2]},F[2]){case"n":v.v=F[1];break;case"s":w=ad[F[1]],v.v=w.t,v.r=w.r;break;case"b":v.v=!!F[1];break;case"e":v.v=F[1],o.cellText!==!1&&(v.w=vc[v.v]);break;case"str":v.t="s",v.v=F[1];break;case"is":v.t="s",v.v=F[1].t;break}if((p=i.CellXf[F[0].iStyleRef])&&jN(v,p.numFmtId,null,o,s,i),y=F[0].c==-1?y+1:F[0].c,o.dense?(l[g]||(l[g]=[]),l[g][y]=v):l[fr(y)+E]=v,o.cellFormula){for(C=!1,S=0;S<A.length;++S){var k=A[S];m.r>=k[0].s.r&&m.r<=k[0].e.r&&y>=k[0].s.c&&y<=k[0].e.c&&(v.F=at(k[0]),C=!0)}!C&&F.length>3&&(v.f=F[3])}if(d.s.r>m.r&&(d.s.r=m.r),d.s.c>y&&(d.s.c=y),d.e.r<m.r&&(d.e.r=m.r),d.e.c<y&&(d.e.c=y),o.cellDates&&p&&v.t=="n"&&su(qe[p.numFmtId])){var G=No(v.v);G&&(v.t="d",v.v=new Date(G.y,G.m-1,G.d,G.H,G.M,G.S,G.u))}z&&(z.type=="XLDAPR"&&(v.D=!0),z=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;v={t:"z",v:void 0},y=F[0].c==-1?y+1:F[0].c,o.dense?(l[g]||(l[g]=[]),l[g][y]=v):l[fr(y)+E]=v,d.s.r>m.r&&(d.s.r=m.r),d.s.c>y&&(d.s.c=y),d.e.r<m.r&&(d.e.r=m.r),d.e.c<y&&(d.e.c=y),z&&(z.type=="XLDAPR"&&(v.D=!0),z=void 0);break;case 176:b.push(F);break;case 49:z=((o.xlmeta||{}).Cell||[])[F-1];break;case 494:var L=n["!id"][F.relId];for(L?(F.Target=L.Target,F.loc&&(F.Target+="#"+F.loc),F.Rel=L):F.relId==""&&(F.Target="#"+F.loc),g=F.rfx.s.r;g<=F.rfx.e.r;++g)for(y=F.rfx.s.c;y<=F.rfx.e.c;++y)o.dense?(l[g]||(l[g]=[]),l[g][y]||(l[g][y]={t:"z",v:void 0}),l[g][y].l=F):(_=He({c:y,r:g}),l[_]||(l[_]={t:"z",v:void 0}),l[_].l=F);break;case 426:if(!o.cellFormula)break;A.push(F),T=o.dense?l[g][y]:l[fr(y)+E],T.f=Dr(F[1],d,{r:m.r,c:y},I,o),T.F=at(F[0]);break;case 427:if(!o.cellFormula)break;j[He(F[0].s)]=F[1],T=o.dense?l[g][y]:l[fr(y)+E],T.f=Dr(F[1],d,{r:m.r,c:y},I,o);break;case 60:if(!o.cellStyles)break;for(;F.e>=F.s;)W[F.e--]={width:F.w/256,hidden:!!(F.flags&1),level:F.level},X||(X=!0,Ay(F.w/256)),$l(W[F.e+1]);break;case 161:l["!autofilter"]={ref:at(F)};break;case 476:l["!margins"]=F;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),F.name&&(a.Sheets[r].CodeName=F.name),(F.above||F.left)&&(l["!outline"]={above:F.above,left:F.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),F.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!ne.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+ee.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(d.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(l["!ref"]=at(u||d)),o.sheetRows&&l["!ref"]){var V=Ht(l["!ref"]);o.sheetRows<=+V.e.r&&(V.e.r=o.sheetRows-1,V.e.r>d.e.r&&(V.e.r=d.e.r),V.e.r<V.s.r&&(V.s.r=V.e.r),V.e.c>d.e.c&&(V.e.c=d.e.c),V.e.c<V.s.c&&(V.s.c=V.e.c),l["!fullref"]=l["!ref"],l["!ref"]=at(V))}return b.length>0&&(l["!merges"]=b),W.length>0&&(l["!cols"]=W),M.length>0&&(l["!rows"]=M),l}function XH(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var i=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);i&&(t[+i[1]]=r?+i[2]:i[2])});var a=it((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){n=s.replace(/<.*?>/g,"")}),[t,a,n]}function YH(e,t,r,n,a,s){var i=s||{"!type":"chart"};if(!e)return s;var o=0,l=0,u="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=XH(f);d.s.r=d.s.c=0,d.e.c=o,u=fr(o),h[0].forEach(function(m,v){i[u+Ar(v)]={t:"n",v:m,z:h[1]},l=v}),d.e.r<l&&(d.e.r=l),++o}),o>0&&(i["!ref"]=at(d)),i}function QH(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},i,o=e.match(NN);return o&&Ny(o[0],s,a,r),(i=e.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=i[1]),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}function ZH(e,t){e.l+=10;var r=Br(e);return{name:r}}function eG(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},i=!1;return ei(e,function(l,u,d){switch(d){case 550:s["!rel"]=l;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),l.name&&(a.Sheets[r].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!i||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},t),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}var RN=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],tG=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],rG=[],nG=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function CS(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var s=t[a];if(n[s[0]]==null)n[s[0]]=s[1];else switch(s[2]){case"bool":typeof n[s[0]]=="string"&&(n[s[0]]=Nt(n[s[0]]));break;case"int":typeof n[s[0]]=="string"&&(n[s[0]]=parseInt(n[s[0]],10));break}}}function kS(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=Nt(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function PN(e){kS(e.WBProps,RN),kS(e.CalcPr,nG),CS(e.WBView,tG),CS(e.Sheets,rG),fl.date1904=Nt(e.WBProps.date1904)}var aG="][*?/\\".split("");function sG(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return aG.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var iG=/<\w+:workbook/;function oG(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",s={},i=0;if(e.replace(Wr,function(l,u){var d=Be(l);switch(Es(d[0])){case"<?xml":break;case"<workbook":l.match(iG)&&(a="xmlns"+l.match(/<(\w+):/)[1]),r.xmlns=d[a];break;case"</workbook>":break;case"<fileVersion":delete d[0],r.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":RN.forEach(function(f){if(d[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=Nt(d[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(d[f[0]],10);break;default:r.WBProps[f[0]]=d[f[0]]}}),d.codeName&&(r.WBProps.CodeName=Et(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],r.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=it(Et(d.name)),delete d[0],r.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":s={},s.Name=Et(d.name),d.comment&&(s.Comment=d.comment),d.localSheetId&&(s.Sheet=+d.localSheetId),Nt(d.hidden||"0")&&(s.Hidden=!0),i=u+l.length;break;case"</definedName>":s.Ref=it(Et(e.slice(i,u))),r.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete d[0],r.CalcPr=d;break;case"<calcPr/>":delete d[0],r.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return l}),T$.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return PN(r),r}function cG(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=Kv(e),r.name=Br(e),r}function lG(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Br(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function uG(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function dG(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),s=V$(e),i=KW(e,0,r),o=Sy(e);e.l=n;var l={Name:s,Ptg:i};return a<268435455&&(l.Sheet=a),o&&(l.Comment=o),l}function fG(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var s=[],i=[[]];return i.SheetNames=[],i.XTI=[],y0[16]={n:"BrtFRTArchID$",f:uG},ei(e,function(l,u,d){switch(d){case 156:i.SheetNames.push(l.name),r.Sheets.push(l);break;case 153:r.WBProps=l;break;case 39:l.Sheet!=null&&(t.SID=l.Sheet),l.Ref=Dr(l.Ptg,null,null,i,t),delete t.SID,delete l.Ptg,s.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:i[0].length?i.push([d,l]):i[0]=[d,l],i[i.length-1].XTI=[];break;case 362:i.length===0&&(i[0]=[],i[0].XTI=[]),i[i.length-1].XTI=i[i.length-1].XTI.concat(l),i.XTI=i.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(d),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(d),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!u.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),PN(r),r.Names=s,r.supbooks=i,r}function hG(e,t,r){return t.slice(-4)===".bin"?fG(e,r):oG(e,r)}function mG(e,t,r,n,a,s,i,o){return t.slice(-4)===".bin"?JH(e,n,r,a,s,i,o):cH(e,n,r,a,s,i,o)}function pG(e,t,r,n,a,s,i,o){return t.slice(-4)===".bin"?eG(e,n,r,a,s):QH(e,n,r,a,s)}function gG(e,t,r,n,a,s,i,o){return t.slice(-4)===".bin"?bV():TV()}function vG(e,t,r,n,a,s,i,o){return t.slice(-4)===".bin"?EV():SV()}function xG(e,t,r,n){return t.slice(-4)===".bin"?U9(e,r,n):P9(e,r,n)}function yG(e,t,r){return yN(e,r)}function wG(e,t,r){return t.slice(-4)===".bin"?t9(e,r):Zz(e,r)}function _G(e,t,r){return t.slice(-4)===".bin"?yV(e,r):mV(e,r)}function EG(e,t,r){return t.slice(-4)===".bin"?dV(e):lV(e)}function SG(e,t,r,n){return r.slice(-4)===".bin"?fV(e,t,r,n):void 0}function bG(e,t,r){return t.slice(-4)===".bin"?oV(e,t,r):cV(e,t,r)}var ON=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,FN=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Na(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(ON),s,i,o,l;if(a)for(l=0;l!=a.length;++l)s=a[l].match(FN),(i=s[1].indexOf(":"))===-1?n[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?o="xmlns"+s[1].slice(6):o=s[1].slice(i+1),n[o]=s[2].slice(1,s[2].length-1));return n}function TG(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(ON),a,s,i,o;if(n)for(o=0;o!=n.length;++o)a=n[o].match(FN),(s=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?i="xmlns"+a[1].slice(6):i=a[1].slice(s+1),r[i]=a[2].slice(1,a[2].length-1));return r}var id;function CG(e,t){var r=id[e]||it(e);return r==="General"?tc(t):Ta(r,t)}function kG(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=Nt(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=Er(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[it(t)]=a}function AG(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||vc[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Rd(e.v):e.w=tc(e.v):e.w=CG(t||"General",e.v)}catch(s){if(r.WTF)throw s}try{var n=id[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&su(n)){var a=No(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(s){if(r.WTF)throw s}}}function jG(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=k9[n.Pattern]||n.Pattern)}e[t.ID]=t}function NG(e,t,r,n,a,s,i,o,l,u){var d="General",f=n.StyleID,h={};u=u||{};var m=[],v=0;for(f===void 0&&o&&(f=o.StyleID),f===void 0&&i&&(f=i.StyleID);s[f]!==void 0&&(s[f].nf&&(d=s[f].nf),s[f].Interior&&m.push(s[f].Interior),!!s[f].Parent);)f=s[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Nt(e);break;case"String":n.t="s",n.r=JE(it(e)),n.v=e.indexOf("<")>-1?it(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(Er(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=it(e):n.v<60&&(n.v=n.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=Yj[e],u.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=JE(t||e));break}if(AG(n,d,u),u.cellFormula!==!1)if(n.Formula){var p=it(n.Formula);p.charCodeAt(0)==61&&(p=p.slice(1)),n.f=dl(p,a),delete n.Formula,n.ArrayRange=="RC"?n.F=dl("RC:RC",a):n.ArrayRange&&(n.F=dl(n.ArrayRange,a),l.push([Ht(n.F),n.F]))}else for(v=0;v<l.length;++v)a.r>=l[v][0].s.r&&a.r<=l[v][0].e.r&&a.c>=l[v][0].s.c&&a.c<=l[v][0].e.c&&(n.F=l[v][1]);u.cellStyles&&(m.forEach(function(g){!h.patternType&&g.patternType&&(h.patternType=g.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function IG(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function Bp(e,t){var r=t||{};Sj();var n=Ou(xy(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=Et(n));var a=n.slice(0,1024).toLowerCase(),s=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var i=kr(r);return i.type="string",Fd.to_workbook(n,i)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(et){a.indexOf("<"+et)>=0&&(s=!0)}),s)return BG(n,r);id={"General Number":"General","General Date":qe[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":qe[15],"Short Date":qe[14],"Long Time":qe[19],"Medium Time":qe[18],"Short Time":qe[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:qe[2],Standard:qe[4],Percent:qe[10],Scientific:qe[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],u,d={},f=[],h=r.dense?[]:{},m="",v={},p={},g=Na('<Data ss:Type="String">'),y=0,_=0,w=0,E={s:{r:2e6,c:2e6},e:{r:0,c:0}},T={},b={},S="",C=0,A=[],j={},I={},N=0,W=[],M=[],X={},z=[],V,Y=!1,F=[],ne=[],ee={},k=0,G=0,L={Sheets:[],WBProps:{date1904:!1}},D={};Od.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var O="";o=Od.exec(n);)switch(o[3]=(O=o[3]).toLowerCase()){case"data":if(O=="data"){if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?NG(n.slice(y,o.index),S,g,l[l.length-1][0]=="comment"?X:v,{c:_,r:w},T,z[_],p,F,r):(S="",g=Na(o[0]),y=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(M.length>0&&(v.c=M),(!r.sheetRows||r.sheetRows>w)&&v.v!==void 0&&(r.dense?(h[w]||(h[w]=[]),h[w][_]=v):h[fr(_)+Ar(w)]=v),v.HRef&&(v.l={Target:it(v.HRef)},v.HRefScreenTip&&(v.l.Tooltip=v.HRefScreenTip),delete v.HRef,delete v.HRefScreenTip),(v.MergeAcross||v.MergeDown)&&(k=_+(parseInt(v.MergeAcross,10)|0),G=w+(parseInt(v.MergeDown,10)|0),A.push({s:{c:_,r:w},e:{c:k,r:G}})),!r.sheetStubs)v.MergeAcross?_=k+1:++_;else if(v.MergeAcross||v.MergeDown){for(var P=_;P<=k;++P)for(var Q=w;Q<=G;++Q)(P>_||Q>w)&&(r.dense?(h[Q]||(h[Q]=[]),h[Q][P]={t:"z"}):h[fr(P)+Ar(Q)]={t:"z"});_=k+1}else++_;else v=TG(o[0]),v.Index&&(_=+v.Index-1),_<E.s.c&&(E.s.c=_),_>E.e.c&&(E.e.c=_),o[0].slice(-2)==="/>"&&++_,M=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(w<E.s.r&&(E.s.r=w),w>E.e.r&&(E.e.r=w),o[0].slice(-2)==="/>"&&(p=Na(o[0]),p.Index&&(w=+p.Index-1)),_=0,++w):(p=Na(o[0]),p.Index&&(w=+p.Index-1),ee={},(p.AutoFitHeight=="0"||p.Height)&&(ee.hpx=parseInt(p.Height,10),ee.hpt=xN(ee.hpx),ne[w]=ee),p.Hidden=="1"&&(ee.hidden=!0,ne[w]=ee));break;case"worksheet":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));f.push(m),E.s.r<=E.e.r&&E.s.c<=E.e.c&&(h["!ref"]=at(E),r.sheetRows&&r.sheetRows<=E.e.r&&(h["!fullref"]=h["!ref"],E.e.r=r.sheetRows-1,h["!ref"]=at(E))),A.length&&(h["!merges"]=A),z.length>0&&(h["!cols"]=z),ne.length>0&&(h["!rows"]=ne),d[m]=h}else E={s:{r:2e6,c:2e6},e:{r:0,c:0}},w=_=0,l.push([o[3],!1]),u=Na(o[0]),m=it(u.Name),h=r.dense?[]:{},A=[],F=[],ne=[],D={name:m,Hidden:0},L.Sheets.push(D);break;case"table":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),z=[],Y=!1}break;case"style":o[1]==="/"?jG(T,b,r):b=Na(o[0]);break;case"numberformat":b.nf=it(Na(o[0]).Format||"General"),id[b.nf]&&(b.nf=id[b.nf]);for(var Z=0;Z!=392&&qe[Z]!=b.nf;++Z);if(Z==392){for(Z=57;Z!=392;++Z)if(qe[Z]==null){zo(b.nf,Z);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(V=Na(o[0]),V.Hidden&&(V.hidden=!0,delete V.Hidden),V.Width&&(V.wpx=parseInt(V.Width,10)),!Y&&V.wpx>10){Y=!0,nn=gN;for(var re=0;re<z.length;++re)z[re]&&$l(z[re])}Y&&$l(V),z[V.Index-1||z.length]=V;for(var ce=0;ce<+V.Span;++ce)z[z.length]=kr(V);break;case"namedrange":if(o[1]==="/")break;L.Names||(L.Names=[]);var U=Be(o[0]),we={Name:U.Name,Ref:dl(U.RefersTo.slice(1),{r:0,c:0})};L.Sheets.length>0&&(we.Sheet=L.Sheets.length-1),L.Names.push(we);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?S+=n.slice(C,o.index):C=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;b.Interior=Na(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?m7(j,O,n.slice(N,o.index)):N=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));IG(X),M.push(X)}else l.push([o[3],!1]),u=Na(o[0]),X={a:u.Author};break;case"autofilter":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var Ne=Na(o[0]);h["!autofilter"]={ref:dl(Ne.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return PS(n,r);var $e=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:$e=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:$e=!1}break;case"excelworkbook":switch(o[3]){case"date1904":L.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:$e=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:$e=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(N,o.index)){case"SheetHidden":D.Hidden=1;break;case"SheetVeryHidden":D.Hidden=2;break}else N=o.index+o[0].length;break;case"header":h["!margins"]||sd(h["!margins"]={},"xlml"),isNaN(+Be(o[0]).Margin)||(h["!margins"].header=+Be(o[0]).Margin);break;case"footer":h["!margins"]||sd(h["!margins"]={},"xlml"),isNaN(+Be(o[0]).Margin)||(h["!margins"].footer=+Be(o[0]).Margin);break;case"pagemargins":var Me=Be(o[0]);h["!margins"]||sd(h["!margins"]={},"xlml"),isNaN(+Me.Top)||(h["!margins"].top=+Me.Top),isNaN(+Me.Left)||(h["!margins"].left=+Me.Left),isNaN(+Me.Right)||(h["!margins"].right=+Me.Right),isNaN(+Me.Bottom)||(h["!margins"].bottom=+Me.Bottom);break;case"displayrighttoleft":L.Views||(L.Views=[]),L.Views[0]||(L.Views[0]={}),L.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:$e=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:$e=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:$e=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:$e=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:$e=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:$e=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:$e=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:$e=!1}break;case"smarttags":break;default:$e=!1;break}if($e||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?kG(I,O,W,n.slice(N,o.index)):(W=o,N=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var pe={};return!r.bookSheets&&!r.bookProps&&(pe.Sheets=d),pe.SheetNames=f,pe.Workbook=L,pe.SSF=kr(qe),pe.Props=j,pe.Custprops=I,pe}function Qv(e,t){switch(Py(t=t||{}),t.type||"base64"){case"base64":return Bp(ta(e),t);case"binary":case"buffer":case"file":return Bp(e,t);case"array":return Bp(mc(e),t)}}function RG(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=G$(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=q$(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var PG=[60,1084,2066,2165,2175];function OG(e,t,r,n,a){var s=n,i=[],o=r.slice(r.l,r.l+s);if(a&&a.enc&&a.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(o)}i.push(o),r.l+=s;for(var l=$s(r,r.l),u=Zv[l],d=0;u!=null&&PG.indexOf(l)>-1;)s=$s(r,r.l+2),d=r.l+4,l==2066?d+=4:(l==2165||l==2175)&&(d+=12),o=r.slice(d,r.l+4+s),i.push(o),r.l+=4+s,u=Zv[l=$s(r,r.l)];var f=wi(i);br(f,0);var h=0;f.lens=[];for(var m=0;m<i.length;++m)f.lens.push(h),h+=i[m].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,a)}function ss(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=qe[n])}catch(s){if(t.WTF)throw s}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||vc[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Rd(e.v):e.w=tc(e.v):e.w=Ta(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(s){if(t.WTF)throw s}if(t.cellDates&&n&&e.t=="n"&&su(qe[n]||String(n))){var a=No(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function sh(e,t,r){return{v:e,ixfe:t,t:r}}function FG(e,t){var r={opts:{}},n={},a=t.dense?[]:{},s={},i={},o=null,l=[],u="",d={},f,h="",m,v,p,g,y={},_=[],w,E,T=[],b=[],S={Sheets:[],WBProps:{date1904:!1},Views:[{}]},C={},A=function(ze){return ze<8?Vo[ze]:ze<64&&b[ze-8]||Vo[ze]},j=function(ze,Ze,ct){var jt=Ze.XF.data;if(!(!jt||!jt.patternType||!ct||!ct.cellStyles)){Ze.s={},Ze.s.patternType=jt.patternType;var Nr;(Nr=Dd(A(jt.icvFore)))&&(Ze.s.fgColor={rgb:Nr}),(Nr=Dd(A(jt.icvBack)))&&(Ze.s.bgColor={rgb:Nr})}},I=function(ze,Ze,ct){if(!(ee>1)&&!(ct.sheetRows&&ze.r>=ct.sheetRows)){if(ct.cellStyles&&Ze.XF&&Ze.XF.data&&j(ze,Ze,ct),delete Ze.ixfe,delete Ze.XF,f=ze,h=He(ze),(!i||!i.s||!i.e)&&(i={s:{r:0,c:0},e:{r:0,c:0}}),ze.r<i.s.r&&(i.s.r=ze.r),ze.c<i.s.c&&(i.s.c=ze.c),ze.r+1>i.e.r&&(i.e.r=ze.r+1),ze.c+1>i.e.c&&(i.e.c=ze.c+1),ct.cellFormula&&Ze.f){for(var jt=0;jt<_.length;++jt)if(!(_[jt][0].s.c>ze.c||_[jt][0].s.r>ze.r)&&!(_[jt][0].e.c<ze.c||_[jt][0].e.r<ze.r)){Ze.F=at(_[jt][0]),(_[jt][0].s.c!=ze.c||_[jt][0].s.r!=ze.r)&&delete Ze.f,Ze.f&&(Ze.f=""+Dr(_[jt][1],i,ze,F,N));break}}ct.dense?(a[ze.r]||(a[ze.r]=[]),a[ze.r][ze.c]=Ze):a[h]=Ze}},N={enc:!1,sbcch:0,snames:[],sharedf:y,arrayf:_,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(N.password=t.password);var W,M=[],X=[],z=[],V=[],Y=!1,F=[];F.SheetNames=N.snames,F.sharedf=N.sharedf,F.arrayf=N.arrayf,F.names=[],F.XTI=[];var ne=0,ee=0,k=0,G=[],L=[],D;N.codepage=1200,za(1200);for(var O=!1;e.l<e.length-1;){var P=e.l,Q=e.read_shift(2);if(Q===0&&ne===10)break;var Z=e.l===e.length?0:e.read_shift(2),re=Zv[Q];if(re&&re.f){if(t.bookSheets&&ne===133&&Q!==133)break;if(ne=Q,re.r===2||re.r==12){var ce=e.read_shift(2);if(Z-=2,!N.enc&&ce!==Q&&((ce&255)<<8|ce>>8)!==Q)throw new Error("rt mismatch: "+ce+"!="+Q);re.r==12&&(e.l+=10,Z-=10)}var U={};if(Q===10?U=re.f(e,Z,N):U=OG(Q,re,e,Z,N),ee==0&&[9,521,1033,2057].indexOf(ne)===-1)continue;switch(Q){case 34:r.opts.Date1904=S.WBProps.date1904=U;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(N.enc||(e.l=0),N.enc=U,!t.password)throw new Error("File is password-protected");if(U.valid==null)throw new Error("Encryption scheme unsupported");if(!U.valid)throw new Error("Password is incorrect");break;case 92:N.lastuser=U;break;case 66:var we=Number(U);switch(we){case 21010:we=1200;break;case 32768:we=1e4;break;case 32769:we=1252;break}za(N.codepage=we),O=!0;break;case 317:N.rrtabid=U;break;case 25:N.winlocked=U;break;case 439:r.opts.RefreshAll=U;break;case 12:r.opts.CalcCount=U;break;case 16:r.opts.CalcDelta=U;break;case 17:r.opts.CalcIter=U;break;case 13:r.opts.CalcMode=U;break;case 14:r.opts.CalcPrecision=U;break;case 95:r.opts.CalcSaveRecalc=U;break;case 15:N.CalcRefMode=U;break;case 2211:r.opts.FullCalc=U;break;case 129:U.fDialog&&(a["!type"]="dialog"),U.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),U.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:T.push(U);break;case 430:F.push([U]),F[F.length-1].XTI=[];break;case 35:case 547:F[F.length-1].push(U);break;case 24:case 536:D={Name:U.Name,Ref:Dr(U.rgce,i,null,F,N)},U.itab>0&&(D.Sheet=U.itab-1),F.names.push(D),F[0]||(F[0]=[],F[0].XTI=[]),F[F.length-1].push(U),U.Name=="_xlnm._FilterDatabase"&&U.itab>0&&U.rgce&&U.rgce[0]&&U.rgce[0][0]&&U.rgce[0][0][0]=="PtgArea3d"&&(L[U.itab-1]={ref:at(U.rgce[0][0][1][2])});break;case 22:N.ExternCount=U;break;case 23:F.length==0&&(F[0]=[],F[0].XTI=[]),F[F.length-1].XTI=F[F.length-1].XTI.concat(U),F.XTI=F.XTI.concat(U);break;case 2196:if(N.biff<8)break;D!=null&&(D.Comment=U[1]);break;case 18:a["!protect"]=U;break;case 19:U!==0&&N.WTF&&console.error("Password verifier: "+U);break;case 133:s[U.pos]=U,N.snames.push(U.name);break;case 10:{if(--ee)break;if(i.e){if(i.e.r>0&&i.e.c>0){if(i.e.r--,i.e.c--,a["!ref"]=at(i),t.sheetRows&&t.sheetRows<=i.e.r){var Ne=i.e.r;i.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=at(i),i.e.r=Ne}i.e.r++,i.e.c++}M.length>0&&(a["!merges"]=M),X.length>0&&(a["!objects"]=X),z.length>0&&(a["!cols"]=z),V.length>0&&(a["!rows"]=V),S.Sheets.push(C)}u===""?d=a:n[u]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(N.biff===8&&(N.biff={9:2,521:3,1033:4}[Q]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[U.BIFFVer]||8),N.biffguess=U.BIFFVer==0,U.BIFFVer==0&&U.dt==4096&&(N.biff=5,O=!0,za(N.codepage=28591)),N.biff==8&&U.BIFFVer==0&&U.dt==16&&(N.biff=2),ee++)break;if(a=t.dense?[]:{},N.biff<8&&!O&&(O=!0,za(N.codepage=t.codepage||1252)),N.biff<5||U.BIFFVer==0&&U.dt==4096){u===""&&(u="Sheet1"),i={s:{r:0,c:0},e:{r:0,c:0}};var $e={pos:e.l-Z,name:u};s[$e.pos]=$e,N.snames.push(u)}else u=(s[P]||{name:""}).name;U.dt==32&&(a["!type"]="chart"),U.dt==64&&(a["!type"]="macro"),M=[],X=[],N.arrayf=_=[],z=[],V=[],Y=!1,C={Hidden:(s[P]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[U.r]||[])[U.c]:a[He({c:U.c,r:U.r})])&&++U.c,w={ixfe:U.ixfe,XF:T[U.ixfe]||{},v:U.val,t:"n"},k>0&&(w.z=G[w.ixfe>>8&63]),ss(w,t,r.opts.Date1904),I({c:U.c,r:U.r},w,t);break;case 5:case 517:w={ixfe:U.ixfe,XF:T[U.ixfe],v:U.val,t:U.t},k>0&&(w.z=G[w.ixfe>>8&63]),ss(w,t,r.opts.Date1904),I({c:U.c,r:U.r},w,t);break;case 638:w={ixfe:U.ixfe,XF:T[U.ixfe],v:U.rknum,t:"n"},k>0&&(w.z=G[w.ixfe>>8&63]),ss(w,t,r.opts.Date1904),I({c:U.c,r:U.r},w,t);break;case 189:for(var Me=U.c;Me<=U.C;++Me){var pe=U.rkrec[Me-U.c][0];w={ixfe:pe,XF:T[pe],v:U.rkrec[Me-U.c][1],t:"n"},k>0&&(w.z=G[w.ixfe>>8&63]),ss(w,t,r.opts.Date1904),I({c:Me,r:U.r},w,t)}break;case 6:case 518:case 1030:{if(U.val=="String"){o=U;break}if(w=sh(U.val,U.cell.ixfe,U.tt),w.XF=T[w.ixfe],t.cellFormula){var et=U.formula;if(et&&et[0]&&et[0][0]&&et[0][0][0]=="PtgExp"){var Pt=et[0][0][1][0],Ot=et[0][0][1][1],Xt=He({r:Pt,c:Ot});y[Xt]?w.f=""+Dr(U.formula,i,U.cell,F,N):w.F=((t.dense?(a[Pt]||[])[Ot]:a[Xt])||{}).F}else w.f=""+Dr(U.formula,i,U.cell,F,N)}k>0&&(w.z=G[w.ixfe>>8&63]),ss(w,t,r.opts.Date1904),I(U.cell,w,t),o=U}break;case 7:case 519:if(o)o.val=U,w=sh(U,o.cell.ixfe,"s"),w.XF=T[w.ixfe],t.cellFormula&&(w.f=""+Dr(o.formula,i,o.cell,F,N)),k>0&&(w.z=G[w.ixfe>>8&63]),ss(w,t,r.opts.Date1904),I(o.cell,w,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{_.push(U);var Gt=He(U[0].s);if(m=t.dense?(a[U[0].s.r]||[])[U[0].s.c]:a[Gt],t.cellFormula&&m){if(!o||!Gt||!m)break;m.f=""+Dr(U[1],i,U[0],F,N),m.F=at(U[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!o)break;y[He(o.cell)]=U[0],m=t.dense?(a[o.cell.r]||[])[o.cell.c]:a[He(o.cell)],(m||{}).f=""+Dr(U[0],i,f,F,N)}}break;case 253:w=sh(l[U.isst].t,U.ixfe,"s"),l[U.isst].h&&(w.h=l[U.isst].h),w.XF=T[w.ixfe],k>0&&(w.z=G[w.ixfe>>8&63]),ss(w,t,r.opts.Date1904),I({c:U.c,r:U.r},w,t);break;case 513:t.sheetStubs&&(w={ixfe:U.ixfe,XF:T[U.ixfe],t:"z"},k>0&&(w.z=G[w.ixfe>>8&63]),ss(w,t,r.opts.Date1904),I({c:U.c,r:U.r},w,t));break;case 190:if(t.sheetStubs)for(var rr=U.c;rr<=U.C;++rr){var he=U.ixfe[rr-U.c];w={ixfe:he,XF:T[he],t:"z"},k>0&&(w.z=G[w.ixfe>>8&63]),ss(w,t,r.opts.Date1904),I({c:rr,r:U.r},w,t)}break;case 214:case 516:case 4:w=sh(U.val,U.ixfe,"s"),w.XF=T[w.ixfe],k>0&&(w.z=G[w.ixfe>>8&63]),ss(w,t,r.opts.Date1904),I({c:U.c,r:U.r},w,t);break;case 0:case 512:ee===1&&(i=U);break;case 252:l=U;break;case 1054:if(N.biff==4){G[k++]=U[1];for(var be=0;be<k+163&&qe[be]!=U[1];++be);be>=163&&zo(U[1],k+163)}else zo(U[1],U[0]);break;case 30:{G[k++]=U;for(var Ce=0;Ce<k+163&&qe[Ce]!=U;++Ce);Ce>=163&&zo(U,k+163)}break;case 229:M=M.concat(U);break;case 93:X[U.cmo[0]]=N.lastobj=U;break;case 438:N.lastobj.TxO=U;break;case 127:N.lastobj.ImData=U;break;case 440:for(g=U[0].s.r;g<=U[0].e.r;++g)for(p=U[0].s.c;p<=U[0].e.c;++p)m=t.dense?(a[g]||[])[p]:a[He({c:p,r:g})],m&&(m.l=U[1]);break;case 2048:for(g=U[0].s.r;g<=U[0].e.r;++g)for(p=U[0].s.c;p<=U[0].e.c;++p)m=t.dense?(a[g]||[])[p]:a[He({c:p,r:g})],m&&m.l&&(m.l.Tooltip=U[1]);break;case 28:{if(N.biff<=5&&N.biff>=2)break;m=t.dense?(a[U[0].r]||[])[U[0].c]:a[He(U[0])];var gt=X[U[2]];m||(t.dense?(a[U[0].r]||(a[U[0].r]=[]),m=a[U[0].r][U[0].c]={t:"z"}):m=a[He(U[0])]={t:"z"},i.e.r=Math.max(i.e.r,U[0].r),i.s.r=Math.min(i.s.r,U[0].r),i.e.c=Math.max(i.e.c,U[0].c),i.s.c=Math.min(i.s.c,U[0].c)),m.c||(m.c=[]),v={a:U[1],t:gt.TxO.t},m.c.push(v)}break;case 2173:nV(T[U.ixfe],U.ext);break;case 125:{if(!N.cellStyles)break;for(;U.e>=U.s;)z[U.e--]={width:U.w/256,level:U.level||0,hidden:!!(U.flags&1)},Y||(Y=!0,Ay(U.w/256)),$l(z[U.e+1])}break;case 520:{var At={};U.level!=null&&(V[U.r]=At,At.level=U.level),U.hidden&&(V[U.r]=At,At.hidden=!0),U.hpt&&(V[U.r]=At,At.hpt=U.hpt,At.hpx=Md(U.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||sd(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[Q]]=U;break;case 161:a["!margins"]||sd(a["!margins"]={}),a["!margins"].header=U.header,a["!margins"].footer=U.footer;break;case 574:U.RTL&&(S.Views[0].RTL=!0);break;case 146:b=U;break;case 2198:W=U;break;case 140:E=U;break;case 442:u?C.CodeName=U||C.name:S.WBProps.CodeName=U||"ThisWorkbook";break}}else re||console.error("Missing Info for XLS Record 0x"+Q.toString(16)),e.l+=Z}return r.SheetNames=ys(s).sort(function(Kr,ze){return Number(Kr)-Number(ze)}).map(function(Kr){return s[Kr].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&d["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=d)):r.Preamble=d,r.Sheets&&L.forEach(function(Kr,ze){r.Sheets[r.SheetNames[ze]]["!autofilter"]=Kr}),r.Strings=l,r.SSF=kr(qe),N.enc&&(r.Encryption=N.enc),W&&(r.Themes=W),r.Metadata={},E!==void 0&&(r.Metadata.Country=E),F.names.length>0&&(S.Names=F.names),r.Workbook=S,r}var AS={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function DG(e,t,r){var n=nt.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=dS(n,Z$,AS.DSI);for(var s in a)t[s]=a[s]}catch(u){if(r.WTF)throw u}var i=nt.find(e,"/!SummaryInformation");if(i&&i.size>0)try{var o=dS(i,e7,AS.SI);for(var l in o)t[l]==null&&(t[l]=o[l])}catch(u){if(r.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(Zj(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function DN(e,t){t||(t={}),Py(t),dj(),t.codepage&&dy(t.codepage);var r,n;if(e.FullPaths){if(nt.find(e,"/encryption"))throw new Error("File is password-protected");r=nt.find(e,"!CompObj"),n=nt.find(e,"/Workbook")||nt.find(e,"/Book")}else{switch(t.type){case"base64":e=$a(ta(e));break;case"binary":e=$a(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}br(e,0),n={content:e}}var a,s;if(r&&RG(r),t.bookProps&&!t.bookSheets)a={};else{var i=rt?"buffer":"array";if(n&&n.content)a=FG(n.content,t);else if((s=nt.find(e,"PerfectOffice_MAIN"))&&s.content)a=nd.to_workbook(s.content,(t.type=i,t));else if((s=nt.find(e,"NativeContent_MAIN"))&&s.content)a=nd.to_workbook(s.content,(t.type=i,t));else throw(s=nt.find(e,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&nt.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=_V(e))}var o={};return e.FullPaths&&DG(e,o,t),a.Props=a.Custprops=o,t.bookFiles&&(a.cfb=e),a}var y0={0:{f:vH},1:{f:_H},2:{f:NH},3:{f:TH},4:{f:SH},5:{f:jH},6:{f:PH},7:{f:kH},8:{f:LH},9:{f:MH},10:{f:FH},11:{f:DH},12:{f:EH},13:{f:IH},14:{f:CH},15:{f:bH},16:{f:IN},17:{f:OH},18:{f:AH},19:{f:Ey},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:dG},40:{},42:{},43:{f:F9},44:{f:O9},45:{f:D9},46:{f:L9},47:{f:M9},48:{},49:{f:U$},50:{},51:{f:sV},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:dN},62:{f:RH},63:{f:uV},64:{f:qH},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:zr,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:GH},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:wH},148:{f:xH,p:16},151:{f:$H},152:{},153:{f:lG},154:{},155:{},156:{f:cG},157:{},158:{},159:{T:1,f:e9},160:{T:-1},161:{T:1,f:gc},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:UH},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:aV},336:{T:-1},337:{f:iV,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Kv},357:{},358:{},359:{},360:{T:1},361:{},362:{f:uN},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:zH},427:{f:VH},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:HH},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:yH},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:BH},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Kv},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:xV},633:{T:1},634:{T:-1},635:{T:1,f:vV},636:{T:-1},637:{f:$$},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:ZH},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:KH},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},Zv={6:{f:Lp},10:{f:ci},12:{f:Zt},13:{f:Zt},14:{f:qt},15:{f:qt},16:{f:Lr},17:{f:qt},18:{f:qt},19:{f:Zt},20:{f:pS},21:{f:pS},23:{f:uN},24:{f:vS},25:{f:qt},26:{},27:{},28:{f:pz},29:{},34:{f:qt},35:{f:gS},38:{f:Lr},39:{f:Lr},40:{f:Lr},41:{f:Lr},42:{f:qt},43:{f:qt},47:{f:y9},49:{f:X7},51:{f:Zt},60:{},61:{f:q7},64:{f:qt},65:{f:J7},66:{f:Zt},77:{},80:{},81:{},82:{},85:{f:Zt},89:{},90:{},91:{},92:{f:U7},93:{f:vz},94:{},95:{f:qt},96:{},97:{},99:{f:qt},125:{f:dN},128:{f:iz},129:{f:B7},130:{f:Zt},131:{f:qt},132:{f:qt},133:{f:$7},134:{},140:{f:Sz},141:{f:Zt},144:{},146:{f:Tz},151:{},152:{},153:{},154:{},155:{},156:{f:Zt},157:{},158:{},160:{f:Nz},161:{f:kz},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:rz},190:{f:nz},193:{f:ci},197:{},198:{},199:{},200:{},201:{},202:{f:qt},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Zt},220:{},221:{f:qt},222:{},224:{f:sz},225:{f:L7},226:{f:ci},227:{},229:{f:gz},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:z7},253:{f:Y7},255:{f:V7},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:aN},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:qt},353:{f:ci},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:cz},431:{f:qt},432:{},433:{},434:{},437:{},438:{f:wz},439:{f:qt},440:{f:_z},441:{},442:{f:of},443:{},444:{f:Zt},445:{},446:{},448:{f:ci},449:{f:G7,r:2},450:{f:ci},512:{f:hS},513:{f:jz},515:{f:oz},516:{f:Q7},517:{f:mS},519:{f:Iz},520:{f:W7},523:{},545:{f:xS},549:{f:fS},566:{},574:{f:K7},638:{f:tz},659:{},1048:{},1054:{f:Z7},1084:{},1212:{f:fz},2048:{f:Ez},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:rh},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:ci},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:Cz,r:12},2173:{f:rV,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:qt,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:dz,r:12},2197:{},2198:{f:X9,r:12},2199:{},2200:{},2201:{},2202:{f:hz,r:12},2203:{f:ci},2204:{},2205:{},2206:{},2207:{},2211:{f:H7},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Zt},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:Az},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:bz},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:hS},1:{},2:{f:Fz},3:{f:Oz},4:{f:Pz},5:{f:mS},7:{f:Dz},8:{},9:{f:rh},11:{},22:{f:Zt},30:{f:ez},31:{},32:{},33:{f:xS},36:{},37:{f:fS},50:{f:Mz},62:{},52:{},67:{},68:{f:Zt},69:{},86:{},126:{},127:{f:Rz},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:Lz},223:{},234:{},354:{},421:{},518:{f:Lp},521:{f:rh},536:{f:vS},547:{f:gS},561:{},579:{},1030:{f:Lp},1033:{f:rh},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Ia(e,t,r,n){var a=t;if(!isNaN(a)){var s=(r||[]).length||0,i=e.next(4);i.write_shift(2,a),i.write_shift(2,s),s>0&&Hj(r)&&e.push(r)}}function jS(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var s=e.match(/<\/table/i),i=a.index,o=s&&s.index||e.length,l=o$(e.slice(i,o),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,d=0,f=0,h=0,m={s:{r:1e7,c:1e7},e:{r:0,c:0}},v=[];for(i=0;i<l.length;++i){var p=l[i].trim(),g=p.slice(0,3).toLowerCase();if(g=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}d=0;continue}if(!(g!="<td"&&g!="<th")){var y=p.split(/<\/t[dh]>/i);for(o=0;o<y.length;++o){var _=y[o].trim();if(_.match(/<t[dh]/i)){for(var w=_,E=0;w.charAt(0)=="<"&&(E=w.indexOf(">"))>-1;)w=w.slice(E+1);for(var T=0;T<v.length;++T){var b=v[T];b.s.c==d&&b.s.r<u&&u<=b.e.r&&(d=b.e.c+1,T=-1)}var S=Be(_.slice(0,_.indexOf(">")));h=S.colspan?+S.colspan:1,((f=+S.rowspan)>1||h>1)&&v.push({s:{r:u,c:d},e:{r:u+(f||1)-1,c:d+h-1}});var C=S.t||S["data-t"]||"";if(!w.length){d+=h;continue}if(w=Rj(w),m.s.r>u&&(m.s.r=u),m.e.r<u&&(m.e.r=u),m.s.c>d&&(m.s.c=d),m.e.c<d&&(m.e.c=d),!w.length){d+=h;continue}var A={t:"s",v:w};r.raw||!w.trim().length||C=="s"||(w==="TRUE"?A={t:"b",v:!0}:w==="FALSE"?A={t:"b",v:!1}:isNaN(Ga(w))?isNaN(Bl(w).getDate())||(A={t:"d",v:Er(w)},r.cellDates||(A={t:"n",v:cn(A.v)}),A.z=r.dateNF||qe[14]):A={t:"n",v:Ga(w)}),r.dense?(n[u]||(n[u]=[]),n[u][d]=A):n[He({r:u,c:d})]=A,d+=h}}}}return n["!ref"]=at(m),v.length&&(n["!merges"]=v),n}function MG(e,t,r,n){for(var a=e["!merges"]||[],s=[],i=t.s.c;i<=t.e.c;++i){for(var o=0,l=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>i)&&!(a[u].e.r<r||a[u].e.c<i)){if(a[u].s.r<r||a[u].s.c<i){o=-1;break}o=a[u].e.r-a[u].s.r+1,l=a[u].e.c-a[u].s.c+1;break}if(!(o<0)){var d=He({r,c:i}),f=n.dense?(e[r]||[])[i]:e[d],h=f&&f.v!=null&&(f.h||vy(f.w||(Qs(f),f.w)||""))||"",m={};o>1&&(m.rowspan=o),l>1&&(m.colspan=l),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(m["data-t"]=f&&f.t||"z",f.v!=null&&(m["data-v"]=f.v),f.z!=null&&(m["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),m.id=(n.id||"sjs")+"-"+d,s.push(S$("td",h,m))}}var v="<tr>";return v+s.join("")+"</tr>"}var LG='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',UG="</body></html>";function BG(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return lo(jS(r[0],t),t);var n=Fy();return r.forEach(function(a,s){Dy(n,jS(a,t),"Sheet"+(s+1))}),n}function $G(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function zG(e,t){var r=t||{},n=r.header!=null?r.header:LG,a=r.footer!=null?r.footer:UG,s=[n],i=iu(e["!ref"]);r.dense=Array.isArray(e),s.push($G(e,i,r));for(var o=i.s.r;o<=i.e.r;++o)s.push(MG(e,i,o,r));return s.push("</table>"+a),s.join("")}function MN(e,t,r){var n=r||{},a=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var i=typeof n.origin=="string"?an(n.origin):n.origin;a=i.r,s=i.c}var o=t.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),u={s:{r:0,c:0},e:{r:a,c:s}};if(e["!ref"]){var d=iu(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var f=[],h=0,m=e["!rows"]||(e["!rows"]=[]),v=0,p=0,g=0,y=0,_=0,w=0;for(e["!cols"]||(e["!cols"]=[]);v<o.length&&p<l;++v){var E=o[v];if(NS(E)){if(n.display)continue;m[p]={hidden:!0}}var T=E.children;for(g=y=0;g<T.length;++g){var b=T[g];if(!(n.display&&NS(b))){var S=b.hasAttribute("data-v")?b.getAttribute("data-v"):b.hasAttribute("v")?b.getAttribute("v"):Rj(b.innerHTML),C=b.getAttribute("data-z")||b.getAttribute("z");for(h=0;h<f.length;++h){var A=f[h];A.s.c==y+s&&A.s.r<p+a&&p+a<=A.e.r&&(y=A.e.c+1-s,h=-1)}w=+b.getAttribute("colspan")||1,((_=+b.getAttribute("rowspan")||1)>1||w>1)&&f.push({s:{r:p+a,c:y+s},e:{r:p+a+(_||1)-1,c:y+s+(w||1)-1}});var j={t:"s",v:S},I=b.getAttribute("data-t")||b.getAttribute("t")||"";S!=null&&(S.length==0?j.t=I||"z":n.raw||S.trim().length==0||I=="s"||(S==="TRUE"?j={t:"b",v:!0}:S==="FALSE"?j={t:"b",v:!1}:isNaN(Ga(S))?isNaN(Bl(S).getDate())||(j={t:"d",v:Er(S)},n.cellDates||(j={t:"n",v:cn(j.v)}),j.z=n.dateNF||qe[14]):j={t:"n",v:Ga(S)})),j.z===void 0&&C!=null&&(j.z=C);var N="",W=b.getElementsByTagName("A");if(W&&W.length)for(var M=0;M<W.length&&!(W[M].hasAttribute("href")&&(N=W[M].getAttribute("href"),N.charAt(0)!="#"));++M);N&&N.charAt(0)!="#"&&(j.l={Target:N}),n.dense?(e[p+a]||(e[p+a]=[]),e[p+a][y+s]=j):e[He({c:y+s,r:p+a})]=j,u.e.c<y+s&&(u.e.c=y+s),y+=w}}++p}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,p-1+a),e["!ref"]=at(u),p>=l&&(e["!fullref"]=at((u.e.r=o.length-v+p-1+a,u))),e}function LN(e,t){var r=t||{},n=r.dense?[]:{};return MN(n,e,t)}function VG(e,t){return lo(LN(e,t),t)}function NS(e){var t="",r=WG(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function WG(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function HG(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=it(t.replace(/<[^>]*>/g,""));return[r]}var IS={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function UN(e,t){var r=t||{},n=xy(e),a=[],s,i,o={name:""},l="",u=0,d,f,h={},m=[],v=r.dense?[]:{},p,g,y={value:""},_="",w=0,E=[],T=-1,b=-1,S={s:{r:1e6,c:1e7},e:{r:0,c:0}},C=0,A={},j=[],I={},N=0,W=0,M=[],X=1,z=1,V=[],Y={Names:[]},F={},ne=["",""],ee=[],k={},G="",L=0,D=!1,O=!1,P=0;for(Od.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");p=Od.exec(n);)switch(p[3]=p[3].replace(/_.*$/,"")){case"table":case"":p[1]==="/"?(S.e.c>=S.s.c&&S.e.r>=S.s.r?v["!ref"]=at(S):v["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=S.e.r&&(v["!fullref"]=v["!ref"],S.e.r=r.sheetRows-1,v["!ref"]=at(S)),j.length&&(v["!merges"]=j),M.length&&(v["!rows"]=M),d.name=d.||d.name,typeof JSON<"u"&&JSON.stringify(d),m.push(d.name),h[d.name]=v,O=!1):p[0].charAt(p[0].length-2)!=="/"&&(d=Be(p[0],!1),T=b=-1,S.s.r=S.s.c=1e7,S.e.r=S.e.c=0,v=r.dense?[]:{},j=[],M=[],O=!0);break;case"table-row-group":p[1]==="/"?--C:++C;break;case"table-row":case"":if(p[1]==="/"){T+=X,X=1;break}if(f=Be(p[0],!1),f.?T=f.-1:T==-1&&(T=0),X=+f["number-rows-repeated"]||1,X<10)for(P=0;P<X;++P)C>0&&(M[T+P]={level:C});b=-1;break;case"covered-table-cell":p[1]!=="/"&&++b,r.sheetStubs&&(r.dense?(v[T]||(v[T]=[]),v[T][b]={t:"z"}):v[He({r:T,c:b})]={t:"z"}),_="",E=[];break;case"table-cell":case"":if(p[0].charAt(p[0].length-2)==="/")++b,y=Be(p[0],!1),z=parseInt(y["number-columns-repeated"]||"1",10),g={t:"z",v:null},y.formula&&r.cellFormula!=!1&&(g.f=TS(it(y.formula))),(y.||y["value-type"])=="string"&&(g.t="s",g.v=it(y["string-value"]||""),r.dense?(v[T]||(v[T]=[]),v[T][b]=g):v[He({r:T,c:b})]=g),b+=z-1;else if(p[1]!=="/"){++b,_="",w=0,E=[],z=1;var Q=X?T+X-1:T;if(b>S.e.c&&(S.e.c=b),b<S.s.c&&(S.s.c=b),T<S.s.r&&(S.s.r=T),Q>S.e.r&&(S.e.r=Q),y=Be(p[0],!1),ee=[],k={},g={t:y.||y["value-type"],v:null},r.cellFormula)if(y.formula&&(y.formula=it(y.formula)),y["number-matrix-columns-spanned"]&&y["number-matrix-rows-spanned"]&&(N=parseInt(y["number-matrix-rows-spanned"],10)||0,W=parseInt(y["number-matrix-columns-spanned"],10)||0,I={s:{r:T,c:b},e:{r:T+N-1,c:b+W-1}},g.F=at(I),V.push([I,g.F])),y.formula)g.f=TS(y.formula);else for(P=0;P<V.length;++P)T>=V[P][0].s.r&&T<=V[P][0].e.r&&b>=V[P][0].s.c&&b<=V[P][0].e.c&&(g.F=V[P][1]);switch((y["number-columns-spanned"]||y["number-rows-spanned"])&&(N=parseInt(y["number-rows-spanned"],10)||0,W=parseInt(y["number-columns-spanned"],10)||0,I={s:{r:T,c:b},e:{r:T+N-1,c:b+W-1}},j.push(I)),y["number-columns-repeated"]&&(z=parseInt(y["number-columns-repeated"],10)),g.t){case"boolean":g.t="b",g.v=Nt(y["boolean-value"]);break;case"float":g.t="n",g.v=parseFloat(y.value);break;case"percentage":g.t="n",g.v=parseFloat(y.value);break;case"currency":g.t="n",g.v=parseFloat(y.value);break;case"date":g.t="d",g.v=Er(y["date-value"]),r.cellDates||(g.t="n",g.v=cn(g.v)),g.z="m/d/yy";break;case"time":g.t="n",g.v=a$(y["time-value"])/86400,r.cellDates&&(g.t="d",g.v=lm(g.v)),g.z="HH:MM:SS";break;case"number":g.t="n",g.v=parseFloat(y.);break;default:if(g.t==="string"||g.t==="text"||!g.t)g.t="s",y["string-value"]!=null&&(_=it(y["string-value"]),E=[]);else throw new Error("Unsupported value type "+g.t)}}else{if(D=!1,g.t==="s"&&(g.v=_||"",E.length&&(g.R=E),D=w==0),F.Target&&(g.l=F),ee.length>0&&(g.c=ee,ee=[]),_&&r.cellText!==!1&&(g.w=_),D&&(g.t="z",delete g.v),(!D||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=T))for(var Z=0;Z<X;++Z){if(z=parseInt(y["number-columns-repeated"]||"1",10),r.dense)for(v[T+Z]||(v[T+Z]=[]),v[T+Z][b]=Z==0?g:kr(g);--z>0;)v[T+Z][b+z]=kr(g);else for(v[He({r:T+Z,c:b})]=g;--z>0;)v[He({r:T+Z,c:b+z})]=kr(g);S.e.c<=b&&(S.e.c=b)}z=parseInt(y["number-columns-repeated"]||"1",10),b+=z-1,z=0,g={},_="",E=[]}F={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(p[1]==="/"){if((s=a.pop())[0]!==p[3])throw"Bad state: "+s}else p[0].charAt(p[0].length-2)!=="/"&&a.push([p[3],!0]);break;case"annotation":if(p[1]==="/"){if((s=a.pop())[0]!==p[3])throw"Bad state: "+s;k.t=_,E.length&&(k.R=E),k.a=G,ee.push(k)}else p[0].charAt(p[0].length-2)!=="/"&&a.push([p[3],!1]);G="",L=0,_="",w=0,E=[];break;case"creator":p[1]==="/"?G=n.slice(L,p.index):L=p.index+p[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(p[1]==="/"){if((s=a.pop())[0]!==p[3])throw"Bad state: "+s}else p[0].charAt(p[0].length-2)!=="/"&&a.push([p[3],!1]);_="",w=0,E=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(p[1]==="/"){if(A[o.name]=l,(s=a.pop())[0]!==p[3])throw"Bad state: "+s}else p[0].charAt(p[0].length-2)!=="/"&&(l="",o=Be(p[0],!1),a.push([p[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":i=Be(p[0],!1),l+=IS[p[3]][i.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":i=Be(p[0],!1),l+=IS[p[3]][i.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(p[0].slice(-2)==="/>")break;if(p[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":l+=n.slice(u,p.index);break}else u=p.index+p[0].length;break;case"named-range":i=Be(p[0],!1),ne=Up(i["cell-range-address"]);var re={Name:i.name,Ref:ne[0]+"!"+ne[1]};O&&(re.Sheet=m.length),Y.Names.push(re);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(p[1]==="/"&&(!y||!y["string-value"])){var ce=HG(n.slice(w,p.index));_=(_.length>0?_+`
`:"")+ce[0]}else Be(p[0],!1),w=p.index+p[0].length;break;case"s":break;case"database-range":if(p[1]==="/")break;try{ne=Up(Be(p[0])["target-range-address"]),h[ne[0]]["!autofilter"]={ref:ne[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(p[1]!=="/"){if(F=Be(p[0],!1),!F.href)break;F.Target=it(F.href),delete F.href,F.Target.charAt(0)=="#"&&F.Target.indexOf(".")>-1?(ne=Up(F.Target.slice(1)),F.Target="#"+ne[0]+"!"+ne[1]):F.Target.match(/^\.\.[\\\/]/)&&(F.Target=F.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(p[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(p)}}var U={Sheets:h,SheetNames:m,Workbook:Y};return r.bookSheets&&delete U.Sheets,U}function RS(e,t){t=t||{},la(e,"META-INF/manifest.xml")&&o7(Qt(e,"META-INF/manifest.xml"),t);var r=Bn(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=UN(Et(r),t);return la(e,"meta.xml")&&(n.Props=Qj(Qt(e,"meta.xml"))),n}function PS(e,t){return UN(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Iy(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function ex(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Et(mc(e))}function tx(e){var t=e.reduce(function(a,s){return a+s.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function OS(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function GG(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function Ld(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function hr(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Ur(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=Ld(e,r),s=a&7;a=Math.floor(a/8);var i=0,o;if(a==0)break;switch(s){case 0:{for(var l=r[0];e[r[0]++]>=128;);o=e.slice(l,r[0])}break;case 5:i=4,o=e.slice(r[0],r[0]+i),r[0]+=i;break;case 1:i=8,o=e.slice(r[0],r[0]+i),r[0]+=i;break;case 2:i=Ld(e,r),o=e.slice(r[0],r[0]+i),r[0]+=i;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(a," at offset ").concat(n))}var u={data:o,type:s};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function Ry(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function qG(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=Ld(e,n),s=Ur(e.slice(n[0],n[0]+a));n[0]+=a;var i={id:hr(s[1][0].data),messages:[]};s[2].forEach(function(o){var l=Ur(o.data),u=hr(l[3][0].data);i.messages.push({meta:l,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=s[3])!=null&&t[0]&&(i.merge=hr(s[3][0].data)>>>0>0),r.push(i)}return r}function KG(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=Ld(t,r),a=[];r[0]<t.length;){var s=t[r[0]]&3;if(s==0){var i=t[r[0]++]>>2;if(i<60)++i;else{var o=i-59;i=t[r[0]],o>1&&(i|=t[r[0]+1]<<8),o>2&&(i|=t[r[0]+2]<<16),o>3&&(i|=t[r[0]+3]<<24),i>>>=0,i++,r[0]+=o}a.push(t.slice(r[0],r[0]+i)),r[0]+=i;continue}else{var l=0,u=0;if(s==1?(u=(t[r[0]]>>2&7)+4,l=(t[r[0]++]&224)<<3,l|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,s==2?(l=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(l=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[tx(a)],l==0)throw new Error("Invalid offset 0");if(l>a[0].length)throw new Error("Invalid offset beyond length");if(u>=l)for(a.push(a[0].slice(-l)),u-=l;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-l,-l+u))}}var d=tx(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function JG(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(KG(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return tx(t)}function XG(e,t,r,n){var a=Iy(e),s=a.getUint32(4,!0),i=(n>1?12:8)+OS(s&(n>1?3470:398))*4,o=-1,l=-1,u=NaN,d=new Date(2001,0,1);s&512&&(o=a.getUint32(i,!0),i+=4),i+=OS(s&(n>1?12288:4096))*4,s&16&&(l=a.getUint32(i,!0),i+=4),s&32&&(u=a.getFloat64(i,!0),i+=8),s&64&&(d.setTime(d.getTime()+a.getFloat64(i,!0)*1e3),i+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:u};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else if(l>-1)f={t:"s",v:t[l]};else if(!isNaN(u))f={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function YG(e,t,r){var n=Iy(e),a=n.getUint32(8,!0),s=12,i=-1,o=-1,l=NaN,u=NaN,d=new Date(2001,0,1);a&1&&(l=GG(e,s),s+=16),a&2&&(u=n.getFloat64(s,!0),s+=8),a&4&&(d.setTime(d.getTime()+n.getFloat64(s,!0)*1e3),s+=8),a&8&&(o=n.getUint32(s,!0),s+=4),a&16&&(i=n.getUint32(s,!0),s+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:t[o]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(i>-1)f={t:"s",v:r[i]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function QG(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return XG(e,t,r,e[0]);case 5:return YG(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function qi(e){var t=Ur(e);return Ld(t[1][0].data)}function FS(e,t){var r=Ur(t.data),n=hr(r[1][0].data),a=r[3],s=[];return(a||[]).forEach(function(i){var o=Ur(i.data),l=hr(o[1][0].data)>>>0;switch(n){case 1:s[l]=ex(o[3][0].data);break;case 8:{var u=e[qi(o[9][0].data)][0],d=Ur(u.data),f=e[qi(d[1][0].data)][0],h=hr(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var m=Ur(f.data);s[l]=m[3].map(function(v){return ex(v.data)}).join("")}break}}),s}function ZG(e,t){var r,n,a,s,i,o,l,u,d,f,h,m,v,p,g=Ur(e),y=hr(g[1][0].data)>>>0,_=hr(g[2][0].data)>>>0,w=((n=(r=g[8])==null?void 0:r[0])==null?void 0:n.data)&&hr(g[8][0].data)>0||!1,E,T;if((s=(a=g[7])==null?void 0:a[0])!=null&&s.data&&t!=0)E=(o=(i=g[7])==null?void 0:i[0])==null?void 0:o.data,T=(u=(l=g[6])==null?void 0:l[0])==null?void 0:u.data;else if((f=(d=g[4])==null?void 0:d[0])!=null&&f.data&&t!=1)E=(m=(h=g[4])==null?void 0:h[0])==null?void 0:m.data,T=(p=(v=g[3])==null?void 0:v[0])==null?void 0:p.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var b=w?4:1,S=Iy(E),C=[],A=0;A<E.length/2;++A){var j=S.getUint16(A*2,!0);j<65535&&C.push([A,j])}if(C.length!=_)throw"Expected ".concat(_," cells, found ").concat(C.length);var I=[];for(A=0;A<C.length-1;++A)I[C[A][0]]=T.subarray(C[A][1]*b,C[A+1][1]*b);return C.length>=1&&(I[C[C.length-1][0]]=T.subarray(C[C.length-1][1]*b)),{R:y,cells:I}}function eq(e,t){var r,n=Ur(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?hr(n[7][0].data)>>>0>0?1:0:-1,s=Ry(n[5],function(i){return ZG(i,a)});return{nrows:hr(n[4][0].data)>>>0,data:s.reduce(function(i,o){return i[o.R]||(i[o.R]=[]),o.cells.forEach(function(l,u){if(i[o.R][u])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(u));i[o.R][u]=l}),i},[])}}function tq(e,t,r){var n,a=Ur(t.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(hr(a[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(s.e.c=(hr(a[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=at(s);var i=Ur(a[4][0].data),o=FS(e,e[qi(i[4][0].data)][0]),l=(n=i[17])!=null&&n[0]?FS(e,e[qi(i[17][0].data)][0]):[],u=Ur(i[3][0].data),d=0;u[1].forEach(function(f){var h=Ur(f.data),m=e[qi(h[2][0].data)][0],v=hr(m.meta[1][0].data);if(v!=6002)throw new Error("6001 unexpected reference to ".concat(v));var p=eq(e,m);p.data.forEach(function(g,y){g.forEach(function(_,w){var E=He({r:d+y,c:w}),T=QG(_,o,l);T&&(r[E]=T)})}),d+=p.nrows})}function rq(e,t){var r=Ur(t.data),n={"!ref":"A1"},a=e[qi(r[2][0].data)],s=hr(a[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return tq(e,a[0],n),n}function nq(e,t){var r,n=Ur(t.data),a={name:(r=n[1])!=null&&r[0]?ex(n[1][0].data):"",sheets:[]},s=Ry(n[2],qi);return s.forEach(function(i){e[i].forEach(function(o){var l=hr(o.meta[1][0].data);l==6e3&&a.sheets.push(rq(e,o))})}),a}function aq(e,t){var r=Fy(),n=Ur(t.data),a=Ry(n[1],qi);if(a.forEach(function(s){e[s].forEach(function(i){var o=hr(i.meta[1][0].data);if(o==2){var l=nq(e,i);l.sheets.forEach(function(u,d){Dy(r,u,d==0?l.name:l.name+"_"+d,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function $p(e){var t,r,n,a,s={},i=[];if(e.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var u;try{u=JG(l.content)}catch(f){return console.log("?? "+l.content.length+" "+(f.message||f))}var d;try{d=qG(u)}catch(f){return console.log("## "+(f.message||f))}d.forEach(function(f){s[f.id]=f.messages,i.push(f.id)})}}),!i.length)throw new Error("File has no messages");var o=((a=(n=(r=(t=s==null?void 0:s[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&hr(s[1][0].meta[1][0].data)==1&&s[1][0];if(o||i.forEach(function(l){s[l].forEach(function(u){var d=hr(u.meta[1][0].data)>>>0;if(d==1)if(!o)o=u;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return aq(s,o)}function sq(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function Py(e){sq([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function iq(e){return Qc.WS.indexOf(e)>-1?"sheet":e==Qc.CS?"chart":e==Qc.DS?"dialog":e==Qc.MS?"macro":e&&e.length?e:"sheet"}function oq(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,iq(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function cq(e,t,r,n,a,s,i,o,l,u,d,f){try{s[n]=td(Bn(e,r,!0),t);var h=Qt(e,t),m;switch(o){case"sheet":m=mG(h,t,a,l,s[n],u,d,f);break;case"chart":if(m=pG(h,t,a,l,s[n],u,d,f),!m||!m["!drawel"])break;var v=Du(m["!drawel"].Target,t),p=Jv(v),g=hV(Bn(e,v,!0),td(Bn(e,p,!0),v)),y=Du(g,v),_=Jv(y);m=YH(Bn(e,y,!0),y,l,td(Bn(e,_,!0),y),u,m);break;case"macro":m=gG(h,t,a,l,s[n],u,d,f);break;case"dialog":m=vG(h,t,a,l,s[n],u,d,f);break;default:throw new Error("Unrecognized sheet type "+o)}i[n]=m;var w=[];s&&s[n]&&ys(s[n]).forEach(function(E){var T="";if(s[n][E].Type==Qc.CMNT){T=Du(s[n][E].Target,t);var b=_G(Qt(e,T,!0),T,l);if(!b||!b.length)return;wS(m,b,!1)}s[n][E].Type==Qc.TCMNT&&(T=Du(s[n][E].Target,t),w=w.concat(pV(Qt(e,T,!0),l)))}),w&&w.length&&wS(m,w,!0,l.people||[])}catch(E){if(l.WTF)throw E}}function oa(e){return e.charAt(0)=="/"?e.slice(1):e}function lq(e,t){if(Sj(),t=t||{},Py(t),la(e,"META-INF/manifest.xml")||la(e,"objectdata.xml"))return RS(e,t);if(la(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof $p<"u"){if(e.FileIndex)return $p(e);var r=nt.utils.cfb_new();return qE(e).forEach(function(M){u$(r,M,l$(e,M))}),$p(r)}throw new Error("Unsupported NUMBERS file")}if(!la(e,"[Content_Types].xml"))throw la(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):la(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=qE(e),a=s7(Bn(e,"[Content_Types].xml")),s=!1,i,o;if(a.workbooks.length===0&&(o="xl/workbook.xml",Qt(e,o,!0)&&a.workbooks.push(o)),a.workbooks.length===0){if(o="xl/workbook.bin",!Qt(e,o,!0))throw new Error("Could not find workbook");a.workbooks.push(o),s=!0}a.workbooks[0].slice(-3)=="bin"&&(s=!0);var l={},u={};if(!t.bookSheets&&!t.bookProps){if(ad=[],a.sst)try{ad=wG(Qt(e,oa(a.sst)),a.sst,t)}catch(M){if(t.WTF)throw M}t.cellStyles&&a.themes.length&&(l=yG(Bn(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(u=xG(Qt(e,oa(a.style)),a.style,l,t))}a.links.map(function(M){try{var X=td(Bn(e,Jv(oa(M))),M);return SG(Qt(e,oa(M)),X,M,t)}catch{}});var d=hG(Qt(e,oa(a.workbooks[0])),a.workbooks[0],t),f={},h="";a.coreprops.length&&(h=Qt(e,oa(a.coreprops[0]),!0),h&&(f=Qj(h)),a.extprops.length!==0&&(h=Qt(e,oa(a.extprops[0]),!0),h&&u7(h,f,t)));var m={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(h=Bn(e,oa(a.custprops[0]),!0),h&&(m=f7(h,t)));var v={};if((t.bookSheets||t.bookProps)&&(d.Sheets?i=d.Sheets.map(function(X){return X.name}):f.Worksheets&&f.SheetNames.length>0&&(i=f.SheetNames),t.bookProps&&(v.Props=f,v.Custprops=m),t.bookSheets&&typeof i<"u"&&(v.SheetNames=i),t.bookSheets?v.SheetNames:t.bookProps))return v;i={};var p={};t.bookDeps&&a.calcchain&&(p=EG(Qt(e,oa(a.calcchain)),a.calcchain));var g=0,y={},_,w;{var E=d.Sheets;f.Worksheets=E.length,f.SheetNames=[];for(var T=0;T!=E.length;++T)f.SheetNames[T]=E[T].name}var b=s?"bin":"xml",S=a.workbooks[0].lastIndexOf("/"),C=(a.workbooks[0].slice(0,S+1)+"_rels/"+a.workbooks[0].slice(S+1)+".rels").replace(/^\//,"");la(e,C)||(C="xl/_rels/workbook."+b+".rels");var A=td(Bn(e,C,!0),C.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=bG(Qt(e,oa(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=gV(Qt(e,oa(a.people[0])),t)),A&&(A=oq(A,d.Sheets));var j=Qt(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(g=0;g!=f.Worksheets;++g){var I="sheet";if(A&&A[g]?(_="xl/"+A[g][1].replace(/[\/]?xl\//,""),la(e,_)||(_=A[g][1]),la(e,_)||(_=C.replace(/_rels\/.*$/,"")+A[g][1]),I=A[g][2]):(_="xl/worksheets/sheet"+(g+1-j)+"."+b,_=_.replace(/sheet0\./,"sheet.")),w=_.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(g!=t.sheets)continue e;break;case"string":if(f.SheetNames[g].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var N=!1,W=0;W!=t.sheets.length;++W)typeof t.sheets[W]=="number"&&t.sheets[W]==g&&(N=1),typeof t.sheets[W]=="string"&&t.sheets[W].toLowerCase()==f.SheetNames[g].toLowerCase()&&(N=1);if(!N)continue e}}cq(e,_,w,f.SheetNames[g],g,y,i,I,t,d,l,u)}return v={Directory:a,Workbook:d,Props:f,Custprops:m,Deps:p,Sheets:i,SheetNames:f.SheetNames,Strings:ad,Styles:u,Themes:l,SSF:kr(qe)},t&&t.bookFiles&&(e.files?(v.keys=n,v.files=e.files):(v.keys=[],v.files={},e.FullPaths.forEach(function(M,X){M=M.replace(/^Root Entry[\/]/,""),v.keys.push(M),v.files[M]=e.FileIndex[X]}))),t&&t.bookVBA&&(a.vba.length>0?v.vbaraw=Qt(e,oa(a.vba[0]),!0):a.defaults&&a.defaults.bin===wV&&(v.vbaraw=Qt(e,"xl/vbaProject.bin",!0))),v}function uq(e,t){var r=t||{},n="Workbook",a=nt.find(e,n);try{if(n="/!DataSpaces/Version",a=nt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(r9(a.content),n="/!DataSpaces/DataSpaceMap",a=nt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=a9(a.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=nt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=s9(a.content);if(i.length!=1||i[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=nt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);o9(a.content)}catch{}if(n="/EncryptionInfo",a=nt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=c9(a.content);if(n="/EncryptedPackage",a=nt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],a.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function Oy(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=ta(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function dq(e,t){return nt.find(e,"EncryptedPackage")?uq(e,t):DN(e,t)}function fq(e,t){var r,n=e,a=t||{};return a.type||(a.type=rt&&Buffer.isBuffer(e)?"buffer":"base64"),r=jj(n,a),lq(r,a)}function BN(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return Qv(e.slice(r),t);default:break e}return Fd.to_workbook(e,t)}function hq(e,t){var r="",n=Oy(e,t);switch(t.type){case"base64":r=ta(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=rc(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=Et(r)),t.type="binary",BN(r,t)}function mq(e,t){var r=e;return t.type=="base64"&&(r=ta(r)),r=yi.utils.decode(1200,r.slice(2),"str"),t.type="binary",BN(r,t)}function pq(e){return e.match(/[^\x00-\x7F]/)?Mu(e):e}function zp(e,t,r,n){return n?(r.type="string",Fd.to_workbook(e,r)):Fd.to_workbook(t,r)}function ws(e,t){dj();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return ws(new Uint8Array(e),(r=kr(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],s=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),fl={},r.dateNF&&(fl.dateNF=r.dateNF),r.type||(r.type=rt&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=rt?"buffer":"binary",n=r$(e),typeof Uint8Array<"u"&&!rt&&(r.type="array")),r.type=="string"&&(s=!0,r.type="binary",r.codepage=65001,n=pq(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var i=new ArrayBuffer(3),o=new Uint8Array(i);if(o.foo="bar",!o.foo)return r=kr(r),r.type="array",ws(fy(n),r)}switch((a=Oy(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return dq(nt.read(n,r),r);break;case 9:if(a[1]<=8)return DN(n,r);break;case 60:return Qv(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return Vz(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return $z.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?fq(n,r):zp(e,n,r,s);case 239:return a[3]===60?Qv(n,r):zp(e,n,r,s);case 255:if(a[1]===254)return mq(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return nd.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return nd.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return yS.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return w9.to_workbook(n,r);break;case 10:case 13:case 32:return hq(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return Uz.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?yS.to_workbook(n,r):zp(e,n,r,s)}function gq(e,t,r,n,a,s,i,o){var l=Ar(r),u=o.defval,d=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!i||e[r])for(var m=t.s.c;m<=t.e.c;++m){var v=i?e[r][m]:e[n[m]+l];if(v===void 0||v.t===void 0){if(u===void 0)continue;s[m]!=null&&(h[s[m]]=u);continue}var p=v.v;switch(v.t){case"z":if(p==null)break;continue;case"e":p=p==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+v.t)}if(s[m]!=null){if(p==null)if(v.t=="e"&&p===null)h[s[m]]=null;else if(u!==void 0)h[s[m]]=u;else if(d&&p===null)h[s[m]]=null;else continue;else h[s[m]]=d&&(v.t!=="n"||v.t==="n"&&o.rawNumbers!==!1)?p:Qs(v,p,o);p!=null&&(f=!1)}}return{row:h,isempty:f}}function rx(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,s=[],i=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":l=Ht(d);break;case"number":l=Ht(e["!ref"]),l.s.r=d;break;default:l=d}n>0&&(a=0);var f=Ar(l.s.r),h=[],m=[],v=0,p=0,g=Array.isArray(e),y=l.s.r,_=0,w={};g&&!e[y]&&(e[y]=[]);var E=u.skipHidden&&e["!cols"]||[],T=u.skipHidden&&e["!rows"]||[];for(_=l.s.c;_<=l.e.c;++_)if(!(E[_]||{}).hidden)switch(h[_]=fr(_),r=g?e[y][_]:e[h[_]+f],n){case 1:s[_]=_-l.s.c;break;case 2:s[_]=h[_];break;case 3:s[_]=u.header[_-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=i=Qs(r,null,u),p=w[i]||0,!p)w[i]=1;else{do o=i+"_"+p++;while(w[o]);w[i]=p,w[o]=1}s[_]=o}for(y=l.s.r+a;y<=l.e.r;++y)if(!(T[y]||{}).hidden){var b=gq(e,l,y,h,n,s,g,u);(b.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(m[v++]=b.row)}return m.length=v,m}var DS=/"/g;function vq(e,t,r,n,a,s,i,o){for(var l=!0,u=[],d="",f=Ar(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var m=o.dense?(e[r]||[])[h]:e[n[h]+f];if(m==null)d="";else if(m.v!=null){l=!1,d=""+(o.rawNumbers&&m.t=="n"?m.v:Qs(m,null,o));for(var v=0,p=0;v!==d.length;++v)if((p=d.charCodeAt(v))===a||p===s||p===34||o.forceQuotes){d='"'+d.replace(DS,'""')+'"';break}d=="ID"&&(d='"ID"')}else m.f!=null&&!m.F?(l=!1,d="="+m.f,d.indexOf(",")>=0&&(d='"'+d.replace(DS,'""')+'"')):d="";u.push(d)}return o.blankrows===!1&&l?null:u.join(i)}function $N(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=Ht(e["!ref"]),s=n.FS!==void 0?n.FS:",",i=s.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),u=new RegExp((s=="|"?"\\|":s)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],m=n.skipHidden&&e["!rows"]||[],v=a.s.c;v<=a.e.c;++v)(h[v]||{}).hidden||(f[v]=fr(v));for(var p=0,g=a.s.r;g<=a.e.r;++g)(m[g]||{}).hidden||(d=vq(e,a,g,f,i,l,s,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((p++?o:"")+d)));return delete n.dense,r.join("")}function xq(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=$N(e,t);return r}function yq(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=Ht(e["!ref"]),s="",i=[],o,l=[],u=Array.isArray(e);for(o=a.s.c;o<=a.e.c;++o)i[o]=fr(o);for(var d=a.s.r;d<=a.e.r;++d)for(s=Ar(d),o=a.s.c;o<=a.e.c;++o)if(t=i[o]+s,r=u?(e[d]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=t+"="+n}return l}function zN(e,t,r){var n=r||{},a=+!n.skipHeader,s=e||{},i=0,o=0;if(s&&n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var l=typeof n.origin=="string"?an(n.origin):n.origin;i=l.r,o=l.c}var u,d={s:{c:0,r:0},e:{c:o,r:i+t.length-1+a}};if(s["!ref"]){var f=Ht(s["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),i==-1&&(i=f.e.r+1,d.e.r=i+t.length-1+a)}else i==-1&&(i=0,d.e.r=t.length-1+a);var h=n.header||[],m=0;t.forEach(function(p,g){ys(p).forEach(function(y){(m=h.indexOf(y))==-1&&(h[m=h.length]=y);var _=p[y],w="z",E="",T=He({c:o+m,r:i+g+a});u=Ud(s,T),_&&typeof _=="object"&&!(_ instanceof Date)?s[T]=_:(typeof _=="number"?w="n":typeof _=="boolean"?w="b":typeof _=="string"?w="s":_ instanceof Date?(w="d",n.cellDates||(w="n",_=cn(_)),E=n.dateNF||qe[14]):_===null&&n.nullError&&(w="e",_=0),u?(u.t=w,u.v=_,delete u.w,delete u.R,E&&(u.z=E)):s[T]=u={t:w,v:_},E&&(u.z=E))})}),d.e.c=Math.max(d.e.c,o+h.length-1);var v=Ar(i);if(a)for(m=0;m<h.length;++m)s[fr(m+o)+v]={t:"s",v:h[m]};return s["!ref"]=at(d),s}function wq(e,t){return zN(null,e,t)}function Ud(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=an(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Ud(e,He(t)):Ud(e,He({r:t,c:r||0}))}function _q(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function Fy(){return{SheetNames:[],Sheets:{}}}function Dy(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);a=s&&+s[2]||0;var i=s&&s[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=i+a)!=-1;++a);}if(sG(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function Eq(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=_q(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function Sq(e,t){return e.z=t,e}function VN(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function bq(e,t,r){return VN(e,"#"+t,r)}function Tq(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function Cq(e,t,r,n){for(var a=typeof t!="string"?t:Ht(t),s=typeof t=="string"?t:at(t),i=a.s.r;i<=a.e.r;++i)for(var o=a.s.c;o<=a.e.c;++o){var l=Ud(e,i,o);l.t="n",l.F=s,delete l.v,i==a.s.r&&o==a.s.c&&(l.f=r,n&&(l.D=!0))}return e}var uo={encode_col:fr,encode_row:Ar,encode_cell:He,encode_range:at,decode_col:_y,decode_row:wy,split_cell:L$,decode_cell:an,decode_range:iu,format_cell:Qs,sheet_add_aoa:qj,sheet_add_json:zN,sheet_add_dom:MN,aoa_to_sheet:ou,json_to_sheet:wq,table_to_sheet:LN,table_to_book:VG,sheet_to_csv:$N,sheet_to_txt:xq,sheet_to_json:rx,sheet_to_html:zG,sheet_to_formulae:yq,sheet_to_row_object_array:rx,sheet_get_cell:Ud,book_new:Fy,book_append_sheet:Dy,book_set_sheet_visibility:Eq,cell_set_number_format:Sq,cell_set_hyperlink:VN,cell_set_internal_link:bq,cell_add_comment:Tq,sheet_set_array_formula:Cq,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},My="Progress",Ly=100,[kq,RQ]=Vr(My),[Aq,jq]=kq(My),WN=x.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:s=Nq,...i}=e;(a||a===0)&&!MS(a)&&console.error(Iq(`${a}`,"Progress"));const o=MS(a)?a:Ly;n!==null&&!LS(n,o)&&console.error(Rq(`${n}`,"Progress"));const l=LS(n,o)?n:null,u=w0(l)?s(l,o):void 0;return c.jsx(Aq,{scope:r,value:l,max:o,children:c.jsx(Pe.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":w0(l)?l:void 0,"aria-valuetext":u,role:"progressbar","data-state":qN(l,o),"data-value":l??void 0,"data-max":o,...i,ref:t})})});WN.displayName=My;var HN="ProgressIndicator",GN=x.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=jq(HN,r);return c.jsx(Pe.div,{"data-state":qN(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});GN.displayName=HN;function Nq(e,t){return`${Math.round(e/t*100)}%`}function qN(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function w0(e){return typeof e=="number"}function MS(e){return w0(e)&&!isNaN(e)&&e>0}function LS(e,t){return w0(e)&&!isNaN(e)&&e<=t&&e>=0}function Iq(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Ly}\`.`}function Rq(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Ly} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var KN=WN,Pq=GN;const ti=x.forwardRef(({className:e,value:t,...r},n)=>c.jsx(KN,{ref:n,className:Te("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:c.jsx(Pq,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));ti.displayName=KN.displayName;var JN="AlertDialog",[Oq,PQ]=Vr(JN,[vA]),ri=vA(),XN=e=>{const{__scopeAlertDialog:t,...r}=e,n=ri(t);return c.jsx(Z1,{...n,...r,modal:!0})};XN.displayName=JN;var Fq="AlertDialogTrigger",Dq=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ri(r);return c.jsx(PA,{...a,...n,ref:t})});Dq.displayName=Fq;var Mq="AlertDialogPortal",YN=e=>{const{__scopeAlertDialog:t,...r}=e,n=ri(t);return c.jsx(ey,{...n,...r})};YN.displayName=Mq;var Lq="AlertDialogOverlay",QN=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ri(r);return c.jsx(sm,{...a,...n,ref:t})});QN.displayName=Lq;var hl="AlertDialogContent",[Uq,Bq]=Oq(hl),$q=bT("AlertDialogContent"),ZN=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,s=ri(r),i=x.useRef(null),o=Ke(t,i),l=x.useRef(null);return c.jsx(JU,{contentName:hl,titleName:eI,docsSlug:"alert-dialog",children:c.jsx(Uq,{scope:r,cancelRef:l,children:c.jsxs(im,{role:"alertdialog",...s,...a,ref:o,onOpenAutoFocus:Ie(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[c.jsx($q,{children:n}),c.jsx(Vq,{contentRef:i})]})})})});ZN.displayName=hl;var eI="AlertDialogTitle",tI=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ri(r);return c.jsx(ty,{...a,...n,ref:t})});tI.displayName=eI;var rI="AlertDialogDescription",nI=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ri(r);return c.jsx(ry,{...a,...n,ref:t})});nI.displayName=rI;var zq="AlertDialogAction",aI=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ri(r);return c.jsx(ny,{...a,...n,ref:t})});aI.displayName=zq;var sI="AlertDialogCancel",iI=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=Bq(sI,r),s=ri(r),i=Ke(t,a);return c.jsx(ny,{...s,...n,ref:i})});iI.displayName=sI;var Vq=({contentRef:e})=>{const t=`\`${hl}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${hl}\` by passing a \`${rI}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${hl}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Wq=XN,Hq=YN,oI=QN,cI=ZN,lI=aI,uI=iI,dI=tI,fI=nI;const jn=Wq,Gq=Hq,hI=x.forwardRef(({className:e,...t},r)=>c.jsx(oI,{className:Te("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));hI.displayName=oI.displayName;const hn=x.forwardRef(({className:e,...t},r)=>c.jsxs(Gq,{children:[c.jsx(hI,{}),c.jsx(cI,{ref:r,className:Te("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));hn.displayName=cI.displayName;const mn=({className:e,...t})=>c.jsx("div",{className:Te("flex flex-col space-y-2 text-center sm:text-left",e),...t});mn.displayName="AlertDialogHeader";const pn=({className:e,...t})=>c.jsx("div",{className:Te("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});pn.displayName="AlertDialogFooter";const gn=x.forwardRef(({className:e,...t},r)=>c.jsx(dI,{ref:r,className:Te("text-lg font-semibold",e),...t}));gn.displayName=dI.displayName;const vn=x.forwardRef(({className:e,...t},r)=>c.jsx(fI,{ref:r,className:Te("text-sm text-muted-foreground",e),...t}));vn.displayName=fI.displayName;const ni=x.forwardRef(({className:e,...t},r)=>c.jsx(lI,{ref:r,className:Te(W1(),e),...t}));ni.displayName=lI.displayName;const sa=x.forwardRef(({className:e,...t},r)=>c.jsx(uI,{ref:r,className:Te(W1({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));sa.displayName=uI.displayName;const qq=H0("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ht({className:e,variant:t,...r}){return c.jsx("div",{className:Te(qq({variant:t}),e),...r})}const Kq=()=>{const[e,t]=x.useState(!1),[r,n]=x.useState(0),[a,s]=x.useState(0),[i,o]=x.useState(!1),[l,u]=x.useState(!1),[d,f]=x.useState(0),[h,m]=x.useState(0),[v,p]=x.useState(null),[g,y]=x.useState(0),[_,w]=x.useState({}),[E,T]=x.useState(0),[b,S]=x.useState([]),C=async()=>{try{const I=await ge.from("cultivares_catalog").select("*",{count:"exact",head:!0}),{data:N,error:W}=await ge.from("cultivares_catalog").select("cultura");if(W)throw W;const M=new Map;let X=0;for(const V of N||[]){const Y=V.cultura;if(!Y){X++;continue}const F=Y.toString().toUpperCase().trim();M.set(F,(M.get(F)||0)+1)}const z=Array.from(M.entries()).sort(([V],[Y])=>V.localeCompare(Y));w(Object.fromEntries(z)),T(X),y(I.count||((N==null?void 0:N.length)??0))}catch(I){console.error("Erro ao carregar contagens de cultivares:",I)}};x.useEffect(()=>{C()},[]);const A=async I=>{var W;const N=(W=I.target.files)==null?void 0:W[0];N&&p(N)},j=async()=>{var I,N,W;if(!v){le.error("Selecione um arquivo primeiro");return}t(!0),s(0),f(0),m(0),o(!1);try{const{data:{user:M}}=await ge.auth.getUser();if(!M)throw new Error("Usurio no autenticado");const{data:X,error:z}=await ge.from("user_roles").select("role").eq("user_id",M.id);if(z&&console.warn("No foi possvel verificar papel do usurio:",z.message),!(Array.isArray(X)&&X.some(ce=>ce.role==="admin"))){le.error("Apenas administradores podem importar cultivares. Solicite acesso ao perfil admin."),t(!1);return}let Y=0;if(l){const{count:ce}=await ge.from("cultivares_catalog").select("*",{count:"exact",head:!0});Y=ce||0;const{error:U}=await ge.from("cultivares_catalog").delete().neq("id","00000000-0000-0000-0000-000000000000");if(U){console.error("Erro ao limpar tabela:",U),le.error("Erro ao limpar tabela"),t(!1);return}f(Y),le.info(`${Y} registros removidos`)}const F=await v.arrayBuffer(),ne=ws(F),ee=ne.Sheets[ne.SheetNames[0]],k=uo.sheet_to_json(ee);console.log("Total de linhas no Excel:",k.length),console.log("Primeira linha:",k[0]),console.log("Colunas detectadas:",k[0]?Object.keys(k[0]):[]),n(k.length);const G=new Map;let L=0,D=0;for(const ce of k){const U=((I=ce.CULTIVAR||ce.Cultivar||ce.cultivar||ce["CULTIVAR "]||ce[" CULTIVAR"]||"")==null?void 0:I.toString().toUpperCase().trim())||null;if(!U){L++,console.log("Linha sem cultivar ignorada:",ce);continue}const we=(N=ce.CULTURA||ce.Cultura||ce.cultura||ce["CULTURA "]||ce[" CULTURA"]||"")==null?void 0:N.toString().toUpperCase().trim();let Ne=null;we&&(Ne=we.replace(/\s+/g," ").trim(),["ZEA MAYS","MILHO HBRIDO","MILHO HIDRIDO"].includes(Ne)?Ne="MILHO":["GLYCINE MAX","SOJA RR","SOJA CONVENCIONAL"].includes(Ne)?Ne="SOJA":["AVEIA BRANCA","AVEIA PRETA"].includes(Ne)&&(Ne="AVEIA"));const $e=((W=ce.NOME_CIENTIFICO||ce.Nome_Cientifico||ce.nome_cientifico||ce["NOME CIENTIFICO"]||ce["NOME_CIENTIFICO "]||ce[" NOME_CIENTIFICO"]||"")==null?void 0:W.toString().trim())||null,Me={cultivar:U,cultura:Ne,nome_cientifico:$e},pe=`${U}||${Ne??""}`;if(G.has(pe)){D++,console.log("Par cultivar+cultura duplicado ignorado:",pe);continue}G.set(pe,Me)}console.log(`Processamento: ${k.length} linhas lidas, ${G.size} vlidas, ${L} vazias, ${D} duplicadas`),m(L+D);const O=500,P=Array.from(G.values());let Q=0,Z=0;S([]);for(let ce=0;ce<P.length;ce+=O){const U=P.slice(ce,ce+O),{error:we}=await ge.from("cultivares_catalog").upsert(U,{onConflict:"cultivar,cultura",ignoreDuplicates:!1});if(we){console.warn("Upsert falhou, tentando insert sem conflito (provvel ausncia de ndice nico)",we),S($e=>[...$e,`Upsert erro: ${we.message||we}`]);const{error:Ne}=await ge.from("cultivares_catalog").insert(U);Ne?(console.error("Erro ao inserir lote:",Ne),S($e=>[...$e,`Insert erro: ${Ne.message||Ne}`]),Z++):(Q+=U.length,s(Q))}else Q+=U.length,s(Q)}await ge.from("import_history").insert({user_id:M.id,tabela_nome:"cultivares_catalog",registros_importados:Q,registros_deletados:Y,arquivo_nome:v.name,limpar_antes:l});const re=r-P.length;if(console.log(`Importao concluda: ${Q} importados, ${re} ignorados, ${Z} lotes com erro`),Q>0)le.success(`Importao concluda! ${Q} registros processados${re>0?` (${re} linhas ignoradas)`:""}${Z>0?`, ${Z} lotes com erro`:""}`);else{const ce=b.length>0?`
Detalhes: ${b.join(" | ")}`:"";le.error(`Nenhum registro foi importado.${ce}`)}o(!0),p(null),u(!1),await C()}catch(M){console.error("Erro ao processar arquivo:",M),le.error(`Erro ao processar arquivo: ${(M==null?void 0:M.message)||M}`)}finally{t(!1)}};return c.jsxs(Ue,{children:[c.jsxs(vt,{children:[c.jsx(xt,{children:"Importar Cultivares"}),c.jsx(aa,{children:"Faa upload de uma planilha Excel (.xlsx ou .xls) com as colunas: CULTIVAR, CULTURA, NOME_CIENTIFICO (opcional)"})]}),c.jsxs(pt,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(de,{htmlFor:"cultivares-file",children:"Selecione o arquivo"}),c.jsx("div",{className:"flex items-center gap-4",children:c.jsx(_e,{id:"cultivares-file",type:"file",accept:".xlsx,.xls",onChange:A,disabled:e})})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Bt,{id:"limpar-antes",checked:l,onCheckedChange:I=>u(I),disabled:e}),c.jsx(de,{htmlFor:"limpar-antes",className:"cursor-pointer text-sm",children:"Limpar todos os registros antes de importar"})]}),c.jsx(ae,{onClick:j,disabled:e||!v,children:e?"Importando...":"Importar"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted rounded",children:[c.jsx("span",{className:"text-sm font-medium",children:"Total no catlogo:"}),c.jsx(ht,{variant:"outline",children:g})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[Object.entries(_).map(([I,N])=>c.jsxs("div",{className:"flex justify-between items-center p-2 bg-primary/10 rounded",children:[c.jsxs("span",{className:"text-sm font-medium",children:[I,":"]}),c.jsx(ht,{variant:"default",children:N})]},I)),c.jsxs("div",{className:"flex justify-between items-center p-2 bg-warning/10 rounded",children:[c.jsx("span",{className:"text-sm font-medium",children:"Sem cultura:"}),c.jsx(ht,{variant:"outline",children:E})]})]})]}),e&&c.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-muted/50",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Fl,{className:"h-4 w-4 animate-spin text-primary"}),c.jsx("p",{className:"text-sm font-medium",children:"Importando arquivo..."})]}),r>0&&c.jsxs(c.Fragment,{children:[c.jsxs("p",{className:"text-sm text-muted-foreground",children:[a," de ",r," linhas processadas"]}),c.jsx(ti,{value:Math.round(a/r*100)})]})]})]}),c.jsx(jn,{open:i,onOpenChange:o,children:c.jsxs(hn,{children:[c.jsxs(mn,{children:[c.jsxs(gn,{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-2xl",children:""}),"Importao Concluda"]}),c.jsx(vn,{asChild:!0,children:c.jsxs("div",{className:"space-y-3 pt-2",children:[c.jsxs("div",{className:"grid gap-2",children:[d>0&&c.jsxs("div",{className:"flex justify-between items-center p-2 bg-destructive/10 rounded",children:[c.jsx("span",{className:"text-sm font-medium",children:"Registros removidos:"}),c.jsx(ht,{variant:"destructive",children:d})]}),c.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted rounded",children:[c.jsx("span",{className:"text-sm font-medium",children:"Total processado:"}),c.jsx(ht,{variant:"outline",children:r})]}),h>0&&c.jsxs("div",{className:"flex justify-between items-center p-2 bg-warning/10 rounded",children:[c.jsx("span",{className:"text-sm font-medium",children:"Linhas ignoradas:"}),c.jsx(ht,{variant:"outline",children:h})]}),c.jsxs("div",{className:"flex justify-between items-center p-2 bg-primary/10 rounded",children:[c.jsx("span",{className:"text-sm font-medium",children:"Registros importados:"}),c.jsx(ht,{variant:"default",children:a})]}),b.length>0&&c.jsxs("div",{className:"p-2 bg-destructive/10 rounded",children:[c.jsx("span",{className:"text-sm font-medium",children:"Erros:"}),c.jsx("div",{className:"text-xs text-destructive-foreground break-words",children:b.map((I,N)=>c.jsxs("div",{children:[" ",I]},N))})]})]}),c.jsx("p",{className:"text-xs text-muted-foreground pt-2",children:"A importao foi registrada no histrico de importaes."})]})})]}),c.jsx(pn,{children:c.jsx(sa,{children:"Fechar"})})]})})]})},Hr=x.forwardRef(({className:e,...t},r)=>c.jsx("div",{className:"relative w-full overflow-auto",children:c.jsx("table",{ref:r,className:Te("w-full caption-bottom text-sm",e),...t})}));Hr.displayName="Table";const Gr=x.forwardRef(({className:e,...t},r)=>c.jsx("thead",{ref:r,className:Te("[&_tr]:border-b",e),...t}));Gr.displayName="TableHeader";const qr=x.forwardRef(({className:e,...t},r)=>c.jsx("tbody",{ref:r,className:Te("[&_tr:last-child]:border-0",e),...t}));qr.displayName="TableBody";const Jq=x.forwardRef(({className:e,...t},r)=>c.jsx("tfoot",{ref:r,className:Te("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Jq.displayName="TableFooter";const Ye=x.forwardRef(({className:e,...t},r)=>c.jsx("tr",{ref:r,className:Te("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));Ye.displayName="TableRow";const je=x.forwardRef(({className:e,...t},r)=>c.jsx("th",{ref:r,className:Te("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));je.displayName="TableHead";const Se=x.forwardRef(({className:e,...t},r)=>c.jsx("td",{ref:r,className:Te("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Se.displayName="TableCell";const Xq=x.forwardRef(({className:e,...t},r)=>c.jsx("caption",{ref:r,className:Te("mt-4 text-sm text-muted-foreground",e),...t}));Xq.displayName="TableCaption";const hm=()=>bt({queryKey:["cultivares-catalog"],queryFn:async()=>{const{data:e,error:t}=await ge.from("cultivares_catalog").select("cultivar, cultura, nome_cientifico").order("cultivar");if(t)throw t;return e}}),Yq=()=>{const{data:e=[],isLoading:t,error:r}=hm(),[n,a]=x.useState(""),[s,i]=x.useState(1),[o,l]=x.useState(10),u=St(),[d,f]=x.useState(!1),[h,m]=x.useState(null),[v,p]=x.useState(""),[g,y]=x.useState(""),[_,w]=x.useState(""),E=x.useMemo(()=>{const C=n.trim().toLowerCase(),A=e||[];return C?A.filter(I=>`${I.cultivar??""} ${I.cultura??""} ${I.nome_cientifico??""}`.toLowerCase().includes(C)):A},[e,n]),T=Math.max(1,Math.ceil(E.length/o)),b=x.useMemo(()=>{const C=(s-1)*o;return E.slice(C,C+o)},[E,s,o]),S=async()=>{if(!h)return;const C=h.cultivar,A=h.cultura;try{const{error:j}=await ge.from("cultivares_catalog").update({cultura:g||null,nome_cientifico:_||null}).eq("cultivar",C).eq("cultura",A);if(j){le.error(j.message);return}le.success("Cultivar atualizado"),f(!1),m(null),await u.invalidateQueries({queryKey:["cultivares-catalog"]})}catch(j){le.error((j==null?void 0:j.message)||String(j))}};return c.jsxs(c.Fragment,{children:[c.jsxs(Ue,{children:[c.jsx(vt,{children:c.jsx(xt,{children:"Catlogo de Cultivares"})}),c.jsxs(pt,{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(_e,{placeholder:"Buscar por cultivar, cultura ou nome cientfico...",value:n,onChange:C=>a(C.target.value)}),c.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[c.jsx(de,{htmlFor:"pageSize",className:"text-xs",children:"Itens/pgina"}),c.jsxs("select",{id:"pageSize",className:"border rounded h-8 px-2 text-sm",value:o,onChange:C=>{l(Number(C.target.value)),i(1)},children:[c.jsx("option",{value:10,children:"10"}),c.jsx("option",{value:20,children:"20"}),c.jsx("option",{value:50,children:"50"})]})]})]}),t?c.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando cultivares..."}):r?c.jsx("p",{className:"text-sm text-destructive",children:"Erro ao carregar cultivares."}):c.jsxs(Hr,{children:[c.jsx(Gr,{children:c.jsxs(Ye,{children:[c.jsx(je,{children:"Cultivar"}),c.jsx(je,{children:"Cultura"}),c.jsx(je,{children:"Nome cientfico"}),c.jsx(je,{className:"w-[140px]",children:"Aes"})]})}),c.jsxs(qr,{children:[b.map((C,A)=>c.jsxs(Ye,{children:[c.jsx(Se,{children:C.cultivar}),c.jsx(Se,{children:C.cultura}),c.jsx(Se,{children:C.nome_cientifico}),c.jsx(Se,{children:c.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>{m({cultivar:C.cultivar,cultura:C.cultura??null}),p(String(C.cultivar||"")),y(String(C.cultura||"")),w(String(C.nome_cientifico||"")),f(!0)},children:[c.jsx(Ya,{className:"h-3.5 w-3.5 mr-1"})," Editar"]})})]},`${C.cod_item}-${A}`)),E.length===0&&c.jsx(Ye,{children:c.jsx(Se,{colSpan:4,className:"text-muted-foreground",children:"Nenhum resultado encontrado."})})]})]}),c.jsxs("div",{className:"flex items-center justify-between mt-3",children:[c.jsxs("div",{className:"text-xs text-muted-foreground",children:["Pgina ",s," de ",T]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ae,{variant:"outline",size:"sm",disabled:s<=1,onClick:()=>i(C=>Math.max(1,C-1)),children:"Anterior"}),c.jsx(ae,{variant:"outline",size:"sm",disabled:s>=T,onClick:()=>i(C=>Math.min(T,C+1)),children:"Prxima"})]})]})]})]}),c.jsx(Qq,{open:d,onOpenChange:C=>f(C),original:h,cultivar:v,cultura:g,nomeCientifico:_,setCultivar:p,setCultura:y,setNomeCientifico:w,onSave:S})]})};function Qq({open:e,onOpenChange:t,original:r,cultivar:n,cultura:a,nomeCientifico:s,setCultivar:i,setCultura:o,setNomeCientifico:l,onSave:u}){return c.jsx(ba,{open:e,onOpenChange:t,children:c.jsxs(Qn,{children:[c.jsx(Zn,{children:c.jsx(ea,{children:"Editar Cultivar"})}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx(de,{children:"Cultivar"}),c.jsx(_e,{value:n,onChange:d=>i(d.target.value),disabled:!0})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(de,{children:"Cultura"}),c.jsx(_e,{value:a,onChange:d=>o(d.target.value),placeholder:"Ex: MILHO, SOJA, AVEIA"})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(de,{children:"Nome cientfico"}),c.jsx(_e,{value:s,onChange:d=>l(d.target.value)})]})]}),c.jsxs(Za,{children:[c.jsx(ae,{variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),c.jsx(ae,{onClick:u,children:"Salvar"})]})]})})}function mI(e){if(!e)return"";let t=e.toUpperCase().trim().replace(/\s+/g," ");return t=t.replace(/\s*-?\s*\d+\s*(LT|L|KG|G|ML|SACA|SACAS|BIG\s*BAG|LITRO|LITROS|KILO|KILOS|GRAMAS?)\s*-?\s*/gi," "),t=t.replace(/\s*-?\s*(BIG\s*BAG|SACA|SACAS|LITRO|LITROS|KILO|KILOS|GRAMAS?)\s*-?\s*/gi," "),t=t.replace(/\s*-\s*-\s*/g," - "),t=t.replace(/\s+/g," "),t=t.replace(/^\s*-\s*|\s*-\s*$/g,""),t.trim()}const js={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},Zq=()=>{const[e,t]=x.useState(!1),[r,n]=x.useState(0),[a,s]=x.useState(0),[i,o]=x.useState(!1),[l,u]=x.useState(!1),[d,f]=x.useState(0),[h,m]=x.useState(null),[v,p]=x.useState(!1),[g,y]=x.useState("idle"),_=async b=>{var C;const S=(C=b.target.files)==null?void 0:C[0];S&&m(S)},w=async()=>{var b,S,C,A,j;if(!h){le.error("Selecione um arquivo primeiro");return}t(!0),o(!1),s(0),f(0);try{let I=0;const N=await h.arrayBuffer(),W=ws(N),M=W.Sheets[W.SheetNames[0]],X=uo.sheet_to_json(M);n(X.length);const z=new Map;for(const L of X){const D=L.ITEM||null,O=mI(D);if(z.has(O))continue;const P={cod_item:L["COD.ITEM"]||L["COD. ITEM"]||null,item:O||D,grupo:((b=L.GRUPO)==null?void 0:b.toString().toUpperCase().trim())||null,marca:((S=L.MARCA)==null?void 0:S.toString().toUpperCase().trim())||null,principio_ativo:((C=L.PRINCIPIO_ATIVO)==null?void 0:C.toString().toUpperCase().trim())||((A=L["PRINCIPIO ATIVO"])==null?void 0:A.toString().toUpperCase().trim())||((j=L["PRINCPIO ATIVO"])==null?void 0:j.toString().toUpperCase().trim())||null};z.set(O,P)}const V=js==null?void 0:js.VITE_API_URL,Y=typeof window<"u"?window.location.hostname:"127.0.0.1",F=V||`http://${Y}:5000`,ne=Array.from(z.values()),ee=await fetch(`${F}/fertilizantes/bulk`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:ne,limparAntes:l})});if(!ee.ok){const L=await ee.text();throw new Error(L||`Erro ${ee.status}`)}const k=await ee.json(),G=Number((k==null?void 0:k.imported)||ne.length);s(G),le.success(`Importao concluda! ${a} registros nicos de ${r} linhas processadas`),o(!0),m(null),u(!1)}catch(I){console.error("Erro ao processar arquivo:",I),le.error("Erro ao processar arquivo. Verifique o formato.")}finally{t(!1)}},E=async()=>{y("checking");try{const b=js==null?void 0:js.VITE_API_URL,S=typeof window<"u"?window.location.hostname:"127.0.0.1",C=b||`http://${S}:5000`;return(await fetch(`${C}/fertilizantes/sync/test`)).ok?(y("online"),le.success("API est acessvel!"),!0):(y("offline"),le.error("API Flask no est acessvel. Verifique /fertilizantes/sync/test e system_config."),!1)}catch{return y("offline"),le.error("No foi possvel conectar  API externa."),!1}},T=async()=>{if(await E()){p(!0),t(!0),o(!1),s(0),f(0),le.info(" Iniciando sincronizao com API externa...",{description:l?"Os dados existentes sero removidos antes da importao.":"Novos dados sero mesclados com os existentes."});try{le.loading(" Conectando  API externa e processando dados...",{description:"Este processo pode levar alguns minutos."});const S=js==null?void 0:js.VITE_API_URL,C=typeof window<"u"?window.location.hostname:"127.0.0.1",A=S||`http://${C}:5000`,j=await fetch(`${A}/fertilizantes/sync`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({limparAntes:l})});if(le.dismiss(),!j.ok){const X=await j.text();le.error(" Erro ao sincronizar via API",{description:X});return}const I=await j.json(),N=Number((I==null?void 0:I.imported)||0),W=Number((I==null?void 0:I.deleted)||0),M=Number((I==null?void 0:I.ignored)||0);s(N),f(W),n(N),le.success(" Sincronizao concluda com sucesso!",{description:`${N} registros importados${W?`, ${W} removidos`:""}${M?`, ${M} ignorados`:""}`}),o(!0),m(null),u(!1)}catch(S){le.dismiss(),le.error(" Erro inesperado ao sincronizar",{description:S instanceof Error?S.message:"Erro desconhecido"})}finally{p(!1),t(!1)}}};return c.jsxs(Ue,{children:[c.jsxs(vt,{children:[c.jsx(xt,{children:"Importar Fertilizantes"}),c.jsx(aa,{children:"Faa upload de uma planilha Excel (.xlsx ou .xls) com as colunas: COD. ITEM, ITEM, GRUPO, MARCA, PRINCIPIO_ATIVO"})]}),c.jsxs(pt,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(de,{htmlFor:"fertilizantes-file",children:"Selecione o arquivo"}),c.jsx("div",{className:"flex items-center gap-4",children:c.jsx(_e,{id:"fertilizantes-file",type:"file",accept:".xlsx,.xls",onChange:_,disabled:e})})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Bt,{id:"limpar-antes",checked:l,onCheckedChange:b=>u(b),disabled:e}),c.jsx(de,{htmlFor:"limpar-antes",className:"cursor-pointer text-sm",children:"Limpar todos os registros antes de importar"})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(de,{className:"text-sm",children:"Status da API:"}),g==="idle"&&c.jsx(ht,{variant:"outline",children:"No verificado"}),g==="checking"&&c.jsxs(ht,{variant:"outline",children:[c.jsx(Fl,{className:"mr-1 h-3 w-3 animate-spin"}),"Verificando..."]}),g==="online"&&c.jsxs(ht,{variant:"default",className:"bg-green-600",children:[c.jsx(eC,{className:"mr-1 h-3 w-3"}),"Online"]}),g==="offline"&&c.jsxs(ht,{variant:"destructive",children:[c.jsx(ZT,{className:"mr-1 h-3 w-3"}),"Offline"]}),c.jsx(ae,{variant:"ghost",size:"sm",onClick:E,disabled:g==="checking",children:"Verificar Conexo"})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx(ae,{onClick:w,disabled:e||v||!h,children:e&&!v?"Importando...":"Importar"}),c.jsx(ae,{variant:"secondary",onClick:T,disabled:e||v,children:v?"Sincronizando...":"Sincronizar via API"})]})]}),(e||v)&&c.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-muted/50",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Fl,{className:"h-4 w-4 animate-spin text-primary"}),c.jsx("p",{className:"text-sm font-medium",children:v?"Sincronizando com API externa...":"Importando arquivo..."})]}),!v&&r>0&&c.jsxs(c.Fragment,{children:[c.jsxs("p",{className:"text-sm text-muted-foreground",children:[a," de ",r," linhas processadas"]}),c.jsx(ti,{value:Math.round(a/r*100)})]}),v&&c.jsx("p",{className:"text-sm text-muted-foreground",children:"Aguarde enquanto os dados so importados da API externa. Este processo pode levar alguns minutos."})]})]}),c.jsx(jn,{open:i,onOpenChange:o,children:c.jsxs(hn,{children:[c.jsxs(mn,{children:[c.jsx(gn,{children:"Resumo da Importao"}),c.jsxs(vn,{children:[d>0&&c.jsxs(c.Fragment,{children:["Registros removidos: ",d,c.jsx("br",{})]}),"Total na planilha: ",r,c.jsx("br",{}),"Linhas importadas: ",a]})]}),c.jsx(pn,{children:c.jsx(sa,{children:"Fechar"})})]})})]})},Vp={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},pI=()=>bt({queryKey:["fertilizantes-catalog"],queryFn:async()=>{const e=Vp==null?void 0:Vp.VITE_API_URL,t=typeof window<"u"?window.location.hostname:"127.0.0.1",r=e||`http://${t}:5000`,n=await fetch(`${r}/fertilizantes`,{credentials:"omit"});if(!n.ok)throw new Error(`Erro ao carregar fertilizantes: ${n.status}`);const a=await n.json();return(a==null?void 0:a.items)??[]}}),eK=()=>{const{data:e=[],isLoading:t,error:r}=pI(),[n,a]=x.useState(""),[s,i]=x.useState(1),[o,l]=x.useState(10),u=St(),[d,f]=x.useState(!1),[h,m]=x.useState(null),[v,p]=x.useState(""),[g,y]=x.useState(""),[_,w]=x.useState(""),[E,T]=x.useState(""),b=x.useMemo(()=>{const j=n.trim().toLowerCase(),I=e||[];return j?I.filter(W=>`${W.cod_item??""} ${W.item??""} ${W.marca??""} ${W.principio_ativo??""}`.toLowerCase().includes(j)):I},[e,n]),S=Math.max(1,Math.ceil(b.length/o)),C=x.useMemo(()=>{const j=(s-1)*o;return b.slice(j,j+o)},[b,s,o]),A=async()=>{if(!h)return;const{cod_item:j}=h;try{const{error:I}=await ge.from("fertilizantes_catalog").update({item:g||null,marca:_||null,principio_ativo:E||null}).eq("cod_item",j);if(I){le.error(I.message);return}le.success("Fertilizante atualizado"),f(!1),m(null),await u.invalidateQueries({queryKey:["fertilizantes-catalog"]})}catch(I){le.error((I==null?void 0:I.message)||String(I))}};return c.jsxs(c.Fragment,{children:[c.jsxs(Ue,{children:[c.jsx(vt,{children:c.jsx(xt,{children:"Catlogo de Fertilizantes"})}),c.jsxs(pt,{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(_e,{placeholder:"Buscar por item, marca, princpio ativo...",value:n,onChange:j=>a(j.target.value)}),c.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[c.jsx(de,{htmlFor:"pageSize",className:"text-xs",children:"Itens/pgina"}),c.jsxs("select",{id:"pageSize",className:"border rounded h-8 px-2 text-sm",value:o,onChange:j=>{l(Number(j.target.value)),i(1)},children:[c.jsx("option",{value:10,children:"10"}),c.jsx("option",{value:20,children:"20"}),c.jsx("option",{value:50,children:"50"})]})]})]}),t?c.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando fertilizantes..."}):r?c.jsx("p",{className:"text-sm text-destructive",children:"Erro ao carregar fertilizantes."}):c.jsxs(Hr,{children:[c.jsx(Gr,{children:c.jsxs(Ye,{children:[c.jsx(je,{children:"Cdigo"}),c.jsx(je,{children:"Item"}),c.jsx(je,{children:"Marca"}),c.jsx(je,{children:"Princpio ativo"}),c.jsx(je,{children:"Saldo"}),c.jsx(je,{className:"w-[140px]",children:"Aes"})]})}),c.jsxs(qr,{children:[C.map((j,I)=>c.jsxs(Ye,{children:[c.jsx(Se,{children:j.cod_item}),c.jsx(Se,{children:j.item}),c.jsx(Se,{children:j.marca}),c.jsx(Se,{children:j.principio_ativo}),c.jsx(Se,{children:typeof j.saldo=="number"?j.saldo:""}),c.jsx(Se,{children:c.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>{m({cod_item:String(j.cod_item)}),p(String(j.cod_item||"")),y(String(j.item||"")),w(String(j.marca||"")),T(String(j.principio_ativo||"")),f(!0)},children:[c.jsx(Ya,{className:"h-3.5 w-3.5 mr-1"})," Editar"]})})]},`${j.cod_item}-${I}`)),b.length===0&&c.jsx(Ye,{children:c.jsx(Se,{colSpan:5,className:"text-muted-foreground",children:"Nenhum resultado encontrado."})})]})]}),c.jsxs("div",{className:"flex items-center justify-between mt-3",children:[c.jsxs("div",{className:"text-xs text-muted-foreground",children:["Pgina ",s," de ",S]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ae,{variant:"outline",size:"sm",disabled:s<=1,onClick:()=>i(j=>Math.max(1,j-1)),children:"Anterior"}),c.jsx(ae,{variant:"outline",size:"sm",disabled:s>=S,onClick:()=>i(j=>Math.min(S,j+1)),children:"Prxima"})]})]})]})]}),c.jsx(ba,{open:d,onOpenChange:f,children:c.jsxs(Qn,{children:[c.jsx(Zn,{children:c.jsx(ea,{children:"Editar Fertilizante"})}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx(de,{children:"Cdigo"}),c.jsx(_e,{value:v,onChange:j=>p(j.target.value),disabled:!0})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(de,{children:"Item"}),c.jsx(_e,{value:g,onChange:j=>y(j.target.value)})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(de,{children:"Marca"}),c.jsx(_e,{value:_,onChange:j=>w(j.target.value)})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(de,{children:"Princpio ativo"}),c.jsx(_e,{value:E,onChange:j=>T(j.target.value)})]})]}),c.jsxs(Za,{children:[c.jsx(ae,{variant:"outline",onClick:()=>f(!1),children:"Cancelar"}),c.jsx(ae,{onClick:A,children:"Salvar"})]})]})})]})},Wp={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},tK=()=>{const[e,t]=x.useState(!1),[r,n]=x.useState(0),[a,s]=x.useState(0),[i,o]=x.useState(!1),[l,u]=x.useState(!1),[d,f]=x.useState(0),[h,m]=x.useState(null),[v,p]=x.useState(!1),[g,y]=x.useState("idle"),_=(Wp==null?void 0:Wp.VITE_API_URL)||"",[w,E]=x.useState(_),T=async A=>{var I;const j=(I=A.target.files)==null?void 0:I[0];j&&m(j)},b=async()=>{y("checking");try{const A=typeof window<"u"?window.location.hostname:"127.0.0.1",j=w||`http://${A}:5000`;if(!(await fetch(`${j}/health`)).ok)throw new Error("offline");return y("online"),le.success("API est acessvel!"),!0}catch{return y("offline"),le.error("No foi possvel conectar  API Flask."),!1}},S=async()=>{var A,j,I,N,W;if(!h){le.error("Selecione um arquivo primeiro");return}t(!0),o(!1),s(0),f(0);try{const{data:{user:M}}=await ge.auth.getUser();if(!M)throw new Error("Usurio no autenticado");let X=0;const z=typeof window<"u"?window.location.hostname:"127.0.0.1",V=w||`http://${z}:5000`,Y=await h.arrayBuffer(),F=ws(Y),ne=F.Sheets[F.SheetNames[0]],ee=uo.sheet_to_json(ne);n(ee.length);const k=new Map;for(const P of ee){const Q=P.ITEM||null,Z=mI(Q);if(k.has(Z))continue;const re={cod_item:P["COD.ITEM"]||P["COD. ITEM"]||null,item:Z||Q,grupo:((A=P.GRUPO)==null?void 0:A.toString().toUpperCase().trim())||null,marca:((j=P.MARCA)==null?void 0:j.toString().toUpperCase().trim())||null,principio_ativo:((I=P.PRINCIPIO_ATIVO)==null?void 0:I.toString().toUpperCase().trim())||((N=P["PRINCIPIO ATIVO"])==null?void 0:N.toString().toUpperCase().trim())||((W=P["PRINCPIO ATIVO"])==null?void 0:W.toString().toUpperCase().trim())||null};k.set(Z,re)}const G=Array.from(k.values()),L=await fetch(`${V}/defensivos/bulk`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:G,limparAntes:l})});if(!L.ok){const P=await L.json().catch(()=>null);throw new Error((P==null?void 0:P.error)||"Falha ao importar via API")}const D=await L.json(),O=Number((D==null?void 0:D.imported)||0);s(O),await ge.from("import_history").insert({user_id:M.id,tabela_nome:"defensivos_catalog",registros_importados:a,registros_deletados:X,arquivo_nome:h.name,limpar_antes:l}),le.success(`Importao concluda! ${a} registros nicos de ${r} linhas processadas`),o(!0),m(null),u(!1)}catch(M){console.error("Erro ao processar arquivo:",M),le.error("Erro ao processar arquivo. Verifique o formato.")}finally{t(!1)}},C=async()=>{if(await b()){p(!0),t(!0),o(!1),s(0),f(0),le.info(" Iniciando sincronizao com API externa...",{description:l?"Os dados existentes sero removidos antes da importao.":"Novos dados sero mesclados com os existentes."});try{const j=typeof window<"u"?window.location.hostname:"127.0.0.1",I=w||`http://${j}:5000`;le.loading(" Conectando  API externa e processando dados...",{description:"Este processo pode levar alguns minutos."});const N=await fetch(`${I}/defensivos/sync`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({limparAntes:l})});if(le.dismiss(),!N.ok){const X=await N.json().catch(()=>null);le.error((X==null?void 0:X.error)||"Erro ao sincronizar via API externa");return}const W=await N.json(),M=Number((W==null?void 0:W.imported)||0);s(M),n(M),le.success(" Sincronizao concluda com sucesso!"),o(!0),m(null),u(!1)}catch(j){le.dismiss(),console.error("Erro ao sincronizar API:",j),le.error(" Erro inesperado ao sincronizar",{description:j instanceof Error?j.message:"Erro desconhecido"})}finally{p(!1),t(!1)}}};return c.jsxs(Ue,{children:[c.jsxs(vt,{children:[c.jsx(xt,{children:"Importar Defensivos"}),c.jsx(aa,{children:"Faa upload de uma planilha Excel (.xlsx ou .xls) com as colunas: COD. ITEM, ITEM, GRUPO, MARCA, PRINCIPIO_ATIVO"})]}),c.jsxs(pt,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(de,{htmlFor:"defensivos-file",children:"Selecione o arquivo"}),c.jsx("div",{className:"flex items-center gap-4",children:c.jsx(_e,{id:"defensivos-file",type:"file",accept:".xlsx,.xls",onChange:T,disabled:e||v})})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Bt,{id:"limpar-antes",checked:l,onCheckedChange:A=>u(A),disabled:e}),c.jsx(de,{htmlFor:"limpar-antes",className:"cursor-pointer text-sm",children:"Limpar todos os registros antes de importar"})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(de,{className:"text-sm",children:"Status da API:"}),g==="idle"&&c.jsx(ht,{variant:"outline",children:"No verificado"}),g==="checking"&&c.jsxs(ht,{variant:"outline",children:[c.jsx(Fl,{className:"mr-1 h-3 w-3 animate-spin"}),"Verificando..."]}),g==="online"&&c.jsxs(ht,{variant:"default",className:"bg-green-600",children:[c.jsx(eC,{className:"mr-1 h-3 w-3"}),"Online"]}),g==="offline"&&c.jsxs(ht,{variant:"destructive",children:[c.jsx(ZT,{className:"mr-1 h-3 w-3"}),"Offline"]}),c.jsx(ae,{variant:"ghost",size:"sm",onClick:b,disabled:g==="checking",children:"Verificar Conexo"})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx(ae,{onClick:S,disabled:e||v||!h,children:e&&!v?"Importando...":"Importar"}),c.jsx(ae,{variant:"secondary",onClick:C,disabled:e||v,children:v?"Sincronizando...":"Sincronizar via API"})]})]}),e&&c.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-muted/50",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Fl,{className:"h-4 w-4 animate-spin text-primary"}),c.jsx("p",{className:"text-sm font-medium",children:v?"Sincronizando com API externa...":"Importando arquivo..."})]}),!v&&r>0&&c.jsxs(c.Fragment,{children:[c.jsxs("p",{className:"text-sm text-muted-foreground",children:[a," de ",r," linhas processadas"]}),c.jsx(ti,{value:Math.round(a/r*100)})]}),v&&c.jsx("p",{className:"text-sm text-muted-foreground",children:"Aguarde enquanto os dados so importados da API externa. Este processo pode levar alguns minutos."})]})]}),c.jsx(jn,{open:i,onOpenChange:o,children:c.jsxs(hn,{children:[c.jsxs(mn,{children:[c.jsxs(gn,{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-2xl",children:""}),"Importao Concluda"]}),c.jsx(vn,{asChild:!0,children:c.jsxs("div",{className:"space-y-3 pt-2",children:[c.jsxs("div",{className:"grid gap-2",children:[d>0&&c.jsxs("div",{className:"flex justify-between items-center p-2 bg-destructive/10 rounded",children:[c.jsx("span",{className:"text-sm font-medium",children:"Registros removidos:"}),c.jsx(ht,{variant:"destructive",children:d})]}),c.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted rounded",children:[c.jsx("span",{className:"text-sm font-medium",children:"Total processado:"}),c.jsx(ht,{variant:"outline",children:r})]}),c.jsxs("div",{className:"flex justify-between items-center p-2 bg-primary/10 rounded",children:[c.jsx("span",{className:"text-sm font-medium",children:"Registros importados:"}),c.jsx(ht,{variant:"default",children:a})]})]}),c.jsx("p",{className:"text-xs text-muted-foreground pt-2",children:"A importao foi registrada no histrico de importaes."})]})})]}),c.jsx(pn,{children:c.jsx(sa,{children:"Fechar"})})]})})]})},Hp={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},Uy=()=>bt({queryKey:["defensivos-catalog"],queryFn:async()=>{const e=Hp==null?void 0:Hp.VITE_API_URL,t=typeof window<"u"?window.location.hostname:"127.0.0.1",r=e||`http://${t}:5000`,n=await fetch(`${r}/defensivos`,{credentials:"omit"});if(!n.ok)throw new Error(`Erro ao carregar defensivos: ${n.status}`);const a=await n.json();return(a==null?void 0:a.items)??[]}}),Gp={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},rK=()=>{const{data:e=[],isLoading:t,error:r}=Uy(),[n,a]=x.useState(""),[s,i]=x.useState(1),[o,l]=x.useState(10),u=St(),[d,f]=x.useState(!1),[h,m]=x.useState(null),[v,p]=x.useState(""),[g,y]=x.useState(""),[_,w]=x.useState(""),[E,T]=x.useState(""),[b,S]=x.useState(""),C=x.useMemo(()=>{const W=n.trim().toLowerCase(),M=e||[];return W?M.filter(z=>`${z.cod_item??""} ${z.item??""} ${z.marca??""} ${z.principio_ativo??""} ${z.grupo??""} ${z.saldo??""}`.toLowerCase().includes(W)):M},[e,n]),A=Math.max(1,Math.ceil(C.length/o)),j=x.useMemo(()=>{const W=(s-1)*o;return C.slice(W,W+o)},[C,s,o]),I=x.useMemo(()=>{const W={};return C.forEach(M=>{const X=M.grupo||"Sem grupo";W[X]=(W[X]||0)+1}),W},[C]),N=async()=>{if(!h)return;const{cod_item:W}=h;try{const M=(Gp==null?void 0:Gp.VITE_API_URL)||"http://127.0.0.1:5000",X=await fetch(`${M}/defensivos/${encodeURIComponent(W)}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"omit",body:JSON.stringify({item:g||null,grupo:_||null,marca:E||null,principio_ativo:b||null})});if(!X.ok){const z=await X.json().catch(()=>null);throw new Error((z==null?void 0:z.error)||`Erro ao atualizar defensivo: ${X.status}`)}le.success("Defensivo atualizado"),f(!1),m(null),await u.invalidateQueries({queryKey:["defensivos-catalog"]})}catch(M){le.error((M==null?void 0:M.message)||String(M))}};return c.jsxs(c.Fragment,{children:[c.jsxs(Ue,{children:[c.jsx(vt,{children:c.jsx(xt,{children:"Catlogo de Defensivos"})}),c.jsxs(pt,{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(_e,{placeholder:"Buscar por item, grupo, marca, princpio ativo...",value:n,onChange:W=>a(W.target.value)}),c.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[c.jsx(de,{htmlFor:"pageSize",className:"text-xs",children:"Itens/pgina"}),c.jsxs("select",{id:"pageSize",className:"border rounded h-8 px-2 text-sm",value:o,onChange:W=>{l(Number(W.target.value)),i(1)},children:[c.jsx("option",{value:10,children:"10"}),c.jsx("option",{value:20,children:"20"}),c.jsx("option",{value:50,children:"50"})]})]})]}),t?c.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando defensivos..."}):r?c.jsx("p",{className:"text-sm text-destructive",children:"Erro ao carregar defensivos."}):c.jsxs(Hr,{className:"w-full",children:[c.jsx(Gr,{children:c.jsxs(Ye,{children:[c.jsx(je,{className:"w-[120px]",children:"Cdigo"}),c.jsx(je,{className:"min-w-[280px]",children:"Item"}),c.jsx(je,{children:"Grupo"}),c.jsx(je,{children:"Marca"}),c.jsx(je,{children:"Princpio ativo"}),c.jsx(je,{className:"text-right",children:"Saldo"}),c.jsx(je,{className:"w-[140px]",children:"Aes"})]})}),c.jsxs(qr,{children:[j.map((W,M)=>c.jsxs(Ye,{children:[c.jsx(Se,{children:W.cod_item}),c.jsx(Se,{children:c.jsx("span",{className:"block whitespace-normal break-words",title:W.item||"",children:W.item})}),c.jsx(Se,{children:W.grupo}),c.jsx(Se,{children:W.marca}),c.jsx(Se,{children:W.principio_ativo}),c.jsx(Se,{className:"text-right",children:Number(W.saldo??0).toFixed(2)}),c.jsx(Se,{children:c.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>{m({cod_item:String(W.cod_item)}),p(String(W.cod_item||"")),y(String(W.item||"")),w(String(W.grupo||"")),T(String(W.marca||"")),S(String(W.principio_ativo||"")),f(!0)},children:[c.jsx(Ya,{className:"h-3.5 w-3.5 mr-1"})," Editar"]})})]},`${W.cod_item}-${M}`)),C.length===0&&c.jsx(Ye,{children:c.jsx(Se,{colSpan:7,className:"text-muted-foreground",children:"Nenhum resultado encontrado."})})]})]}),c.jsxs("div",{className:"flex items-center justify-between mt-3",children:[c.jsxs("div",{className:"text-xs text-muted-foreground",children:["Pgina ",s," de ",A]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ae,{variant:"outline",size:"sm",disabled:s<=1,onClick:()=>i(W=>Math.max(1,W-1)),children:"Anterior"}),c.jsx(ae,{variant:"outline",size:"sm",disabled:s>=A,onClick:()=>i(W=>Math.min(A,W+1)),children:"Prxima"})]})]}),c.jsx("div",{className:"mt-4 pt-4 border-t",children:c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:[c.jsxs("div",{className:"bg-primary/5 rounded-lg p-3",children:[c.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Total de Itens"}),c.jsx("div",{className:"text-2xl font-bold text-primary",children:C.length})]}),Object.entries(I).sort(([,W],[,M])=>M-W).map(([W,M])=>c.jsxs("div",{className:"bg-secondary/5 rounded-lg p-3",children:[c.jsx("div",{className:"text-xs text-muted-foreground mb-1 truncate",title:W,children:W}),c.jsx("div",{className:"text-2xl font-bold",children:M})]},W))]})})]})]}),c.jsx(ba,{open:d,onOpenChange:f,children:c.jsxs(Qn,{children:[c.jsx(Zn,{children:c.jsx(ea,{children:"Editar Defensivo"})}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx(de,{children:"Cdigo"}),c.jsx(_e,{value:v,onChange:W=>p(W.target.value),disabled:!0})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(de,{children:"Item"}),c.jsx(_e,{value:g,onChange:W=>y(W.target.value)})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(de,{children:"Grupo"}),c.jsx(_e,{value:_,onChange:W=>w(W.target.value)})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(de,{children:"Marca"}),c.jsx(_e,{value:E,onChange:W=>T(W.target.value)})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(de,{children:"Princpio ativo"}),c.jsx(_e,{value:b,onChange:W=>S(W.target.value)})]})]}),c.jsxs(Za,{children:[c.jsx(ae,{variant:"outline",onClick:()=>f(!1),children:"Cancelar"}),c.jsx(ae,{onClick:N,children:"Salvar"})]})]})})]})},qp={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"};function nK(){const[e,t]=x.useState(null),[r,n]=x.useState(!1),[a,s]=x.useState(0),[i,o]=x.useState(0),[l,u]=x.useState(!1),[d,f]=x.useState(!1),[h,m]=x.useState(0),v=g=>{var _;const y=((_=g.target.files)==null?void 0:_[0])||null;t(y)},p=async()=>{if(!e){le.error("Selecione um arquivo XLSX primeiro");return}try{n(!0),o(0),m(0),u(!1);const g=null;let y=0;const _=await e.arrayBuffer(),w=ws(_,{type:"array"}),E=w.SheetNames[0],T=w.Sheets[E],S=uo.sheet_to_json(T).map(z=>({numerocm_consultor:String(z.NUMEROCMCONSULTOR??z.numerocm_consultor??"").trim(),consultor:String(z.CONSULTOR??z.consultor??"").trim(),email:String(z.EMAIL??z.email??"").trim().toLowerCase()})).filter(z=>z.numerocm_consultor&&z.consultor&&z.email);if(S.length===0){le.error("Nenhuma linha vlida encontrada (precisa de NUMEROCMCONSULTOR, CONSULTOR, EMAIL)"),n(!1);return}const C=new Map;for(const z of S)C.set(z.email,z);const A=Array.from(C.values()),j=S.length-A.length;j>0&&le.info(`${j} registros duplicados de email foram ignorados`),s(A.length);const I=qp==null?void 0:qp.VITE_API_URL,N=typeof window<"u"?window.location.hostname:"127.0.0.1",W=I||`http://${N}:5000`,M=await fetch(`${W}/consultores/import`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({limpar_antes:d,items:A,user_id:null,arquivo_nome:e.name})});if(!M.ok){const z=await M.text();throw new Error(z)}const X=await M.json();m((X==null?void 0:X.deleted)??0),o((X==null?void 0:X.imported)??A.length),le.success(`Importao de consultores concluda (${(X==null?void 0:X.imported)??A.length} de ${A.length})`),u(!0),f(!1)}catch(g){console.error(g),le.error(`Erro ao importar consultores: ${g.message}`)}finally{n(!1)}};return c.jsxs(Ue,{children:[c.jsxs(vt,{children:[c.jsx(xt,{children:"Importar Consultores"}),c.jsx(aa,{children:"Planilha com colunas: NUMEROCMCONSULTOR, CONSULTOR, EMAIL"})]}),c.jsxs(pt,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(de,{children:"Arquivo XLSX"}),c.jsx(_e,{type:"file",accept:".xlsx,.xls",onChange:v})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Bt,{id:"limpar-antes",checked:d,onCheckedChange:g=>f(g),disabled:r}),c.jsx(de,{htmlFor:"limpar-antes",className:"cursor-pointer text-sm",children:"Limpar todos os registros antes de importar"})]}),c.jsx(ae,{onClick:p,disabled:r||!e,children:r?"Importando...":"Importar"}),r&&c.jsxs("div",{className:"space-y-2",children:[c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Importando ",i," de ",a," linhas..."]}),c.jsx(ti,{value:a?Math.round(i/a*100):0})]})]}),c.jsx(jn,{open:l,onOpenChange:u,children:c.jsxs(hn,{children:[c.jsxs(mn,{children:[c.jsx(gn,{children:"Resumo da Importao"}),c.jsxs(vn,{children:[h>0&&c.jsxs(c.Fragment,{children:["Registros removidos: ",h,c.jsx("br",{})]}),"Total na planilha: ",a,c.jsx("br",{}),"Linhas importadas: ",i]})]}),c.jsx(pn,{children:c.jsx(sa,{children:"Fechar"})})]})})]})}const Kp={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"};function aK(){const[e,t]=x.useState(null),[r,n]=x.useState(!1),[a,s]=x.useState(0),[i,o]=x.useState(0),[l,u]=x.useState(!1),[d,f]=x.useState(!1),[h,m]=x.useState(0),v=g=>{var _;const y=((_=g.target.files)==null?void 0:_[0])||null;t(y)},p=async()=>{if(!e){le.error("Selecione um arquivo XLSX primeiro");return}try{n(!0),o(0),m(0),u(!1);const{data:{user:g}}=await ge.auth.getUser();if(!g)throw new Error("Usurio no autenticado");let y=0;const _=await e.arrayBuffer(),w=ws(_,{type:"array"}),E=w.SheetNames[0],T=w.Sheets[E],S=uo.sheet_to_json(T).map(V=>({numerocm:String(V.NUMEROCM??V.numerocm??"").trim(),nome:String(V.NOME??V.nome??"").trim(),numerocm_consultor:String(V.NUMEROCMCONSULTOR??V.numerocm_consultor??"").trim(),consultor:V.CONSULTOR?String(V.CONSULTOR).trim():V.consultor?String(V.consultor).trim():null})).filter(V=>V.numerocm&&V.nome&&V.numerocm_consultor);if(S.length===0){le.error("Nenhuma linha vlida encontrada (precisa de NUMEROCM, NOME, NUMEROCMCONSULTOR)"),n(!1);return}const C=new Map;for(const V of S)C.set(V.numerocm,V);const A=Array.from(C.values()),j=S.length-A.length;j>0&&le.info(`${j} registros duplicados de numerocm foram ignorados`),s(A.length);const I=Kp==null?void 0:Kp.VITE_API_URL,N=typeof window<"u"?window.location.hostname:"127.0.0.1",W=I||`http://${N}:5000`,M=await fetch(`${W}/produtores/bulk`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:A,limparAntes:d,user_id:g.id,arquivo_nome:e.name})});if(!M.ok){const V=await M.text();throw new Error(V)}const X=await M.json(),z=Number((X==null?void 0:X.imported)||A.length);y=Number((X==null?void 0:X.deleted)||0),o(z),m(y),le.success(`Importao de produtores concluda (${z} de ${A.length})`),u(!0),f(!1)}catch(g){console.error(g),le.error(`Erro ao importar produtores: ${g.message}`)}finally{n(!1)}};return c.jsxs(Ue,{children:[c.jsxs(vt,{children:[c.jsx(xt,{children:"Importar Produtores"}),c.jsx(aa,{children:"Planilha com colunas: NUMEROCM, NOME, NUMEROCMCONSULTOR, CONSULTOR"})]}),c.jsxs(pt,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(de,{children:"Arquivo XLSX"}),c.jsx(_e,{type:"file",accept:".xlsx,.xls",onChange:v})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Bt,{id:"limpar-antes",checked:d,onCheckedChange:g=>f(g),disabled:r}),c.jsx(de,{htmlFor:"limpar-antes",className:"cursor-pointer text-sm",children:"Limpar todos os registros antes de importar"})]}),c.jsx(ae,{onClick:p,disabled:r||!e,children:r?"Importando...":"Importar"}),r&&c.jsxs("div",{className:"space-y-2",children:[c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Importando ",i," de ",a," linhas..."]}),c.jsx(ti,{value:a?Math.round(i/a*100):0})]})]}),c.jsx(jn,{open:l,onOpenChange:u,children:c.jsxs(hn,{children:[c.jsxs(mn,{children:[c.jsx(gn,{children:"Resumo da Importao"}),c.jsxs(vn,{children:[h>0&&c.jsxs(c.Fragment,{children:["Registros removidos: ",h,c.jsx("br",{})]}),"Total na planilha: ",a,c.jsx("br",{}),"Linhas importadas: ",i]})]}),c.jsx(pn,{children:c.jsx(sa,{children:"Fechar"})})]})})]})}const Jp={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"};function sK(){const[e,t]=x.useState(null),[r,n]=x.useState(!1),[a,s]=x.useState(0),[i,o]=x.useState(0),[l,u]=x.useState(!1),[d,f]=x.useState(!1),[h,m]=x.useState(0),v=g=>{var _;const y=((_=g.target.files)==null?void 0:_[0])||null;t(y)},p=async()=>{if(!e){le.error("Selecione um arquivo XLSX primeiro");return}try{n(!0),o(0),m(0),u(!1);const{data:{user:g}}=await ge.auth.getUser();if(!g)throw new Error("Usurio no autenticado");let y=0;const _=await e.arrayBuffer(),w=ws(_,{type:"array"}),E=w.SheetNames[0],T=w.Sheets[E],S=uo.sheet_to_json(T).map(V=>({numerocm:String(V.NUMEROCM??V.numerocm??"").trim(),idfazenda:String(V.IDFAZENDA??V.idfazenda??"").trim(),nomefazenda:String(V.NOMEFAZENDA??V.nomefazenda??"").trim(),numerocm_consultor:String(V.NUMEROCMCONSULTOR??V.numerocm_consultor??"").trim()})).filter(V=>V.numerocm&&V.idfazenda&&V.nomefazenda&&V.numerocm_consultor);if(S.length===0){le.error("Nenhuma linha vlida encontrada (precisa de NUMEROCM, IDFAZENDA, NOMEFAZENDA, NUMEROCMCONSULTOR)"),n(!1);return}const C=new Map;for(const V of S){const Y=`${V.numerocm}|${V.idfazenda}`;C.set(Y,V)}const A=Array.from(C.values()),j=S.length-A.length;j>0&&le.info(`${j} registros duplicados foram ignorados`),s(A.length);const I=Jp==null?void 0:Jp.VITE_API_URL,N=typeof window<"u"?window.location.hostname:"127.0.0.1",W=I||`http://${N}:5000`,M=await fetch(`${W}/fazendas/bulk`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:A,limparAntes:d,user_id:g.id,arquivo_nome:e.name})});if(!M.ok){const V=await M.text();throw new Error(V)}const X=await M.json(),z=Number((X==null?void 0:X.imported)||A.length);y=Number((X==null?void 0:X.deleted)||0),o(z),m(y),le.success(`Importao de fazendas concluda (${z} de ${A.length})`),u(!0),f(!1)}catch(g){console.error(g),le.error(`Erro ao importar fazendas: ${g.message}`)}finally{n(!1)}};return c.jsxs(Ue,{children:[c.jsxs(vt,{children:[c.jsx(xt,{children:"Importar Fazendas"}),c.jsx(aa,{children:"Planilha com colunas: NUMEROCM, IDFAZENDA, NOMEFAZENDA, NUMEROCMCONSULTOR"})]}),c.jsxs(pt,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(de,{children:"Arquivo XLSX"}),c.jsx(_e,{type:"file",accept:".xlsx,.xls",onChange:v})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Bt,{id:"limpar-antes",checked:d,onCheckedChange:g=>f(g),disabled:r}),c.jsx(de,{htmlFor:"limpar-antes",className:"cursor-pointer text-sm",children:"Limpar todos os registros antes de importar"})]}),c.jsx(ae,{onClick:p,disabled:r||!e,children:r?"Importando...":"Importar"}),r&&c.jsxs("div",{className:"space-y-2",children:[c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Importando ",i," de ",a," linhas..."]}),c.jsx(ti,{value:a?Math.round(i/a*100):0})]})]}),c.jsx(jn,{open:l,onOpenChange:u,children:c.jsxs(hn,{children:[c.jsxs(mn,{children:[c.jsx(gn,{children:"Resumo da Importao"}),c.jsxs(vn,{children:[h>0&&c.jsxs(c.Fragment,{children:["Registros removidos: ",h,c.jsx("br",{})]}),"Total na planilha: ",a,c.jsx("br",{}),"Linhas importadas: ",i]})]}),c.jsx(pn,{children:c.jsx(sa,{children:"Fechar"})})]})})]})}const mm=()=>{const e=St(),{data:t,isLoading:r,error:n}=bt({queryKey:["safras"],queryFn:async()=>{const{data:l,error:u}=await ge.from("safras").select("*").order("nome",{ascending:!1});if(u)throw u;return l}}),a=ot({mutationFn:async l=>{l.is_default&&await ge.from("safras").update({is_default:!1}).neq("id","00000000-0000-0000-0000-000000000000");const{data:u,error:d}=await ge.from("safras").insert(l).select().single();if(d)throw d;return u},onSuccess:()=>{e.invalidateQueries({queryKey:["safras"]}),le.success("Safra criada com sucesso")},onError:l=>{le.error(`Erro ao criar safra: ${l.message}`)}}),s=ot({mutationFn:async({id:l,...u})=>{u.is_default&&await ge.from("safras").update({is_default:!1}).neq("id",l);const{data:d,error:f}=await ge.from("safras").update(u).eq("id",l).select().single();if(f)throw f;return d},onSuccess:()=>{e.invalidateQueries({queryKey:["safras"]}),le.success("Safra atualizada com sucesso")},onError:l=>{le.error(`Erro ao atualizar safra: ${l.message}`)}}),i=ot({mutationFn:async l=>{const{error:u}=await ge.from("safras").delete().eq("id",l);if(u)throw u},onSuccess:()=>{e.invalidateQueries({queryKey:["safras"]}),le.success("Safra excluda com sucesso")},onError:l=>{le.error(`Erro ao excluir safra: ${l.message}`)}}),o=t==null?void 0:t.find(l=>l.is_default);return{safras:t??[],isLoading:r,error:n,create:a.mutate,update:s.mutate,remove:i.mutate,isCreating:a.isPending,isUpdating:s.isPending,isDeleting:i.isPending,defaultSafra:o}},iK=()=>{const{safras:e,create:t,update:r,remove:n,isCreating:a,isDeleting:s}=mm(),[i,o]=x.useState(""),[l,u]=x.useState(""),[d,f]=x.useState(""),[h,m]=x.useState(!1),[v,p]=x.useState(null),g=E=>{E.preventDefault(),i.trim()&&(t({nome:i.trim(),is_default:h,ativa:!0,ano_inicio:l?parseInt(l):null,ano_fim:d?parseInt(d):null}),o(""),u(""),f(""),m(!1))},y=(E,T)=>{r({id:E,is_default:!T})},_=(E,T)=>{r({id:E,ativa:!T})},w=()=>{v&&(n(v),p(null))};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs(Ue,{children:[c.jsx(vt,{children:c.jsx(xt,{children:"Cadastrar Nova Safra"})}),c.jsx(pt,{children:c.jsxs("form",{onSubmit:g,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx(de,{htmlFor:"nome",children:"Nome da Safra *"}),c.jsx(_e,{id:"nome",value:i,onChange:E=>o(E.target.value),placeholder:"Ex: 2024/2025",required:!0})]}),c.jsxs("div",{children:[c.jsx(de,{htmlFor:"anoInicio",children:"Ano Incio"}),c.jsx(_e,{id:"anoInicio",type:"number",value:l,onChange:E=>u(E.target.value),placeholder:"2024"})]}),c.jsxs("div",{children:[c.jsx(de,{htmlFor:"anoFim",children:"Ano Fim"}),c.jsx(_e,{id:"anoFim",type:"number",value:d,onChange:E=>f(E.target.value),placeholder:"2025"})]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Bt,{id:"isDefault",checked:h,onCheckedChange:E=>m(E)}),c.jsx(de,{htmlFor:"isDefault",className:"cursor-pointer",children:"Definir como safra padro"})]}),c.jsxs(ae,{type:"submit",disabled:a,children:[c.jsx(Ka,{className:"h-4 w-4 mr-2"}),"Adicionar Safra"]})]})})]}),c.jsxs(Ue,{children:[c.jsx(vt,{children:c.jsx(xt,{children:"Safras Cadastradas"})}),c.jsx(pt,{children:c.jsxs(Hr,{children:[c.jsx(Gr,{children:c.jsxs(Ye,{children:[c.jsx(je,{children:"Nome"}),c.jsx(je,{children:"Perodo"}),c.jsx(je,{className:"text-center",children:"Padro"}),c.jsx(je,{className:"text-center",children:"Ativa"}),c.jsx(je,{className:"text-right",children:"Aes"})]})}),c.jsxs(qr,{children:[e.map(E=>c.jsxs(Ye,{children:[c.jsx(Se,{className:"font-medium",children:E.nome}),c.jsx(Se,{children:E.ano_inicio&&E.ano_fim?`${E.ano_inicio} - ${E.ano_fim}`:"-"}),c.jsx(Se,{className:"text-center",children:c.jsx(Bt,{checked:E.is_default,onCheckedChange:()=>y(E.id,E.is_default)})}),c.jsx(Se,{className:"text-center",children:c.jsx(Bt,{checked:E.ativa,onCheckedChange:()=>_(E.id,E.ativa)})}),c.jsx(Se,{className:"text-right",children:c.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>p(E.id),disabled:s,children:c.jsx(pr,{className:"h-4 w-4"})})})]},E.id)),e.length===0&&c.jsx(Ye,{children:c.jsx(Se,{colSpan:5,className:"text-center text-muted-foreground",children:"Nenhuma safra cadastrada"})})]})]})})]}),c.jsx(jn,{open:!!v,onOpenChange:()=>p(null),children:c.jsxs(hn,{children:[c.jsxs(mn,{children:[c.jsx(gn,{children:"Confirmar excluso"}),c.jsx(vn,{children:"Tem certeza que deseja excluir esta safra? Esta ao no pode ser desfeita."})]}),c.jsxs(pn,{children:[c.jsx(sa,{children:"Cancelar"}),c.jsx(ni,{onClick:w,children:"Excluir"})]})]})})]})};function nx(e,[t,r]){return Math.min(r,Math.max(t,e))}var oK=[" ","Enter","ArrowUp","ArrowDown"],cK=[" ","Enter"],ac="Select",[pm,gm,lK]=z0(ac),[cu,OQ]=Vr(ac,[lK,Yl]),vm=Yl(),[uK,fo]=cu(ac),[dK,fK]=cu(ac),gI=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:s,value:i,defaultValue:o,onValueChange:l,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:v}=e,p=vm(t),[g,y]=x.useState(null),[_,w]=x.useState(null),[E,T]=x.useState(!1),b=rf(u),[S,C]=Sa({prop:n,defaultProp:a??!1,onChange:s,caller:ac}),[A,j]=Sa({prop:i,defaultProp:o,onChange:l,caller:ac}),I=x.useRef(null),N=g?v||!!g.closest("form"):!0,[W,M]=x.useState(new Set),X=Array.from(W).map(z=>z.props.value).join(";");return c.jsx(PC,{...p,children:c.jsxs(uK,{required:m,scope:t,trigger:g,onTriggerChange:y,valueNode:_,onValueNodeChange:w,valueNodeHasChildren:E,onValueNodeHasChildrenChange:T,contentId:Cr(),value:A,onValueChange:j,open:S,onOpenChange:C,dir:b,triggerPointerDownPosRef:I,disabled:h,children:[c.jsx(pm.Provider,{scope:t,children:c.jsx(dK,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(z=>{M(V=>new Set(V).add(z))},[]),onNativeOptionRemove:x.useCallback(z=>{M(V=>{const Y=new Set(V);return Y.delete(z),Y})},[]),children:r})}),N?c.jsxs(BI,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:A,onChange:z=>j(z.target.value),disabled:h,form:v,children:[A===void 0?c.jsx("option",{value:""}):null,Array.from(W)]},X):null]})})};gI.displayName=ac;var vI="SelectTrigger",xI=x.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,s=vm(r),i=fo(vI,r),o=i.disabled||n,l=Ke(t,i.onTriggerChange),u=gm(r),d=x.useRef("touch"),[f,h,m]=zI(p=>{const g=u().filter(w=>!w.disabled),y=g.find(w=>w.value===i.value),_=VI(g,p,y);_!==void 0&&i.onValueChange(_.value)}),v=p=>{o||(i.onOpenChange(!0),m()),p&&(i.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return c.jsx(J0,{asChild:!0,...s,children:c.jsx(Pe.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":$I(i.value)?"":void 0,...a,ref:l,onClick:Ie(a.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&v(p)}),onPointerDown:Ie(a.onPointerDown,p=>{d.current=p.pointerType;const g=p.target;g.hasPointerCapture(p.pointerId)&&g.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(v(p),p.preventDefault())}),onKeyDown:Ie(a.onKeyDown,p=>{const g=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(g&&p.key===" ")&&oK.includes(p.key)&&(v(),p.preventDefault())})})})});xI.displayName=vI;var yI="SelectValue",wI=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:s,placeholder:i="",...o}=e,l=fo(yI,r),{onValueNodeHasChildrenChange:u}=l,d=s!==void 0,f=Ke(t,l.onValueNodeChange);return mr(()=>{u(d)},[u,d]),c.jsx(Pe.span,{...o,ref:f,style:{pointerEvents:"none"},children:$I(l.value)?c.jsx(c.Fragment,{children:i}):s})});wI.displayName=yI;var hK="SelectIcon",_I=x.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return c.jsx(Pe.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});_I.displayName=hK;var mK="SelectPortal",EI=e=>c.jsx(Xd,{asChild:!0,...e});EI.displayName=mK;var sc="SelectContent",SI=x.forwardRef((e,t)=>{const r=fo(sc,e.__scopeSelect),[n,a]=x.useState();if(mr(()=>{a(new DocumentFragment)},[]),!r.open){const s=n;return s?uc.createPortal(c.jsx(bI,{scope:e.__scopeSelect,children:c.jsx(pm.Slot,{scope:e.__scopeSelect,children:c.jsx("div",{children:e.children})})}),s):null}return c.jsx(TI,{...e,ref:t})});SI.displayName=sc;var Pa=10,[bI,ho]=cu(sc),pK="SelectContentImpl",gK=Xo("SelectContent.RemoveScroll"),TI=x.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:s,onPointerDownOutside:i,side:o,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:p,avoidCollisions:g,...y}=e,_=fo(sc,r),[w,E]=x.useState(null),[T,b]=x.useState(null),S=Ke(t,P=>E(P)),[C,A]=x.useState(null),[j,I]=x.useState(null),N=gm(r),[W,M]=x.useState(!1),X=x.useRef(!1);x.useEffect(()=>{if(w)return J1(w)},[w]),K1();const z=x.useCallback(P=>{const[Q,...Z]=N().map(U=>U.ref.current),[re]=Z.slice(-1),ce=document.activeElement;for(const U of P)if(U===ce||(U==null||U.scrollIntoView({block:"nearest"}),U===Q&&T&&(T.scrollTop=0),U===re&&T&&(T.scrollTop=T.scrollHeight),U==null||U.focus(),document.activeElement!==ce))return},[N,T]),V=x.useCallback(()=>z([C,w]),[z,C,w]);x.useEffect(()=>{W&&V()},[W,V]);const{onOpenChange:Y,triggerPointerDownPosRef:F}=_;x.useEffect(()=>{if(w){let P={x:0,y:0};const Q=re=>{var ce,U;P={x:Math.abs(Math.round(re.pageX)-(((ce=F.current)==null?void 0:ce.x)??0)),y:Math.abs(Math.round(re.pageY)-(((U=F.current)==null?void 0:U.y)??0))}},Z=re=>{P.x<=10&&P.y<=10?re.preventDefault():w.contains(re.target)||Y(!1),document.removeEventListener("pointermove",Q),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",Q),document.addEventListener("pointerup",Z,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Q),document.removeEventListener("pointerup",Z,{capture:!0})}}},[w,Y,F]),x.useEffect(()=>{const P=()=>Y(!1);return window.addEventListener("blur",P),window.addEventListener("resize",P),()=>{window.removeEventListener("blur",P),window.removeEventListener("resize",P)}},[Y]);const[ne,ee]=zI(P=>{const Q=N().filter(ce=>!ce.disabled),Z=Q.find(ce=>ce.ref.current===document.activeElement),re=VI(Q,P,Z);re&&setTimeout(()=>re.ref.current.focus())}),k=x.useCallback((P,Q,Z)=>{const re=!X.current&&!Z;(_.value!==void 0&&_.value===Q||re)&&(A(P),re&&(X.current=!0))},[_.value]),G=x.useCallback(()=>w==null?void 0:w.focus(),[w]),L=x.useCallback((P,Q,Z)=>{const re=!X.current&&!Z;(_.value!==void 0&&_.value===Q||re)&&I(P)},[_.value]),D=n==="popper"?ax:CI,O=D===ax?{side:o,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:p,avoidCollisions:g}:{};return c.jsx(bI,{scope:r,content:w,viewport:T,onViewportChange:b,itemRefCallback:k,selectedItem:C,onItemLeave:G,itemTextRefCallback:L,focusSelectedItem:V,selectedItemText:j,position:n,isPositioned:W,searchRef:ne,children:c.jsx(nm,{as:gK,allowPinchZoom:!0,children:c.jsx(tm,{asChild:!0,trapped:_.open,onMountAutoFocus:P=>{P.preventDefault()},onUnmountAutoFocus:Ie(a,P=>{var Q;(Q=_.trigger)==null||Q.focus({preventScroll:!0}),P.preventDefault()}),children:c.jsx(ql,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:P=>P.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:c.jsx(D,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:P=>P.preventDefault(),...y,...O,onPlaced:()=>M(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Ie(y.onKeyDown,P=>{const Q=P.ctrlKey||P.altKey||P.metaKey;if(P.key==="Tab"&&P.preventDefault(),!Q&&P.key.length===1&&ee(P.key),["ArrowUp","ArrowDown","Home","End"].includes(P.key)){let re=N().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);if(["ArrowUp","End"].includes(P.key)&&(re=re.slice().reverse()),["ArrowUp","ArrowDown"].includes(P.key)){const ce=P.target,U=re.indexOf(ce);re=re.slice(U+1)}setTimeout(()=>z(re)),P.preventDefault()}})})})})})})});TI.displayName=pK;var vK="SelectItemAlignedPosition",CI=x.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,s=fo(sc,r),i=ho(sc,r),[o,l]=x.useState(null),[u,d]=x.useState(null),f=Ke(t,S=>d(S)),h=gm(r),m=x.useRef(!1),v=x.useRef(!0),{viewport:p,selectedItem:g,selectedItemText:y,focusSelectedItem:_}=i,w=x.useCallback(()=>{if(s.trigger&&s.valueNode&&o&&u&&p&&g&&y){const S=s.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),A=s.valueNode.getBoundingClientRect(),j=y.getBoundingClientRect();if(s.dir!=="rtl"){const ce=j.left-C.left,U=A.left-ce,we=S.left-U,Ne=S.width+we,$e=Math.max(Ne,C.width),Me=window.innerWidth-Pa,pe=nx(U,[Pa,Math.max(Pa,Me-$e)]);o.style.minWidth=Ne+"px",o.style.left=pe+"px"}else{const ce=C.right-j.right,U=window.innerWidth-A.right-ce,we=window.innerWidth-S.right-U,Ne=S.width+we,$e=Math.max(Ne,C.width),Me=window.innerWidth-Pa,pe=nx(U,[Pa,Math.max(Pa,Me-$e)]);o.style.minWidth=Ne+"px",o.style.right=pe+"px"}const I=h(),N=window.innerHeight-Pa*2,W=p.scrollHeight,M=window.getComputedStyle(u),X=parseInt(M.borderTopWidth,10),z=parseInt(M.paddingTop,10),V=parseInt(M.borderBottomWidth,10),Y=parseInt(M.paddingBottom,10),F=X+z+W+Y+V,ne=Math.min(g.offsetHeight*5,F),ee=window.getComputedStyle(p),k=parseInt(ee.paddingTop,10),G=parseInt(ee.paddingBottom,10),L=S.top+S.height/2-Pa,D=N-L,O=g.offsetHeight/2,P=g.offsetTop+O,Q=X+z+P,Z=F-Q;if(Q<=L){const ce=I.length>0&&g===I[I.length-1].ref.current;o.style.bottom="0px";const U=u.clientHeight-p.offsetTop-p.offsetHeight,we=Math.max(D,O+(ce?G:0)+U+V),Ne=Q+we;o.style.height=Ne+"px"}else{const ce=I.length>0&&g===I[0].ref.current;o.style.top="0px";const we=Math.max(L,X+p.offsetTop+(ce?k:0)+O)+Z;o.style.height=we+"px",p.scrollTop=Q-L+p.offsetTop}o.style.margin=`${Pa}px 0`,o.style.minHeight=ne+"px",o.style.maxHeight=N+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,s.trigger,s.valueNode,o,u,p,g,y,s.dir,n]);mr(()=>w(),[w]);const[E,T]=x.useState();mr(()=>{u&&T(window.getComputedStyle(u).zIndex)},[u]);const b=x.useCallback(S=>{S&&v.current===!0&&(w(),_==null||_(),v.current=!1)},[w,_]);return c.jsx(yK,{scope:r,contentWrapper:o,shouldExpandOnScrollRef:m,onScrollButtonChange:b,children:c.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:c.jsx(Pe.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});CI.displayName=vK;var xK="SelectPopperPosition",ax=x.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Pa,...s}=e,i=vm(r);return c.jsx(S1,{...i,...s,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ax.displayName=xK;var[yK,By]=cu(sc,{}),sx="SelectViewport",kI=x.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,s=ho(sx,r),i=By(sx,r),o=Ke(t,s.onViewportChange),l=x.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),c.jsx(pm.Slot,{scope:r,children:c.jsx(Pe.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Ie(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=i;if(h!=null&&h.current&&f){const m=Math.abs(l.current-d.scrollTop);if(m>0){const v=window.innerHeight-Pa*2,p=parseFloat(f.style.minHeight),g=parseFloat(f.style.height),y=Math.max(p,g);if(y<v){const _=y+m,w=Math.min(v,_),E=_-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=E>0?E:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});kI.displayName=sx;var AI="SelectGroup",[wK,_K]=cu(AI),EK=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Cr();return c.jsx(wK,{scope:r,id:a,children:c.jsx(Pe.div,{role:"group","aria-labelledby":a,...n,ref:t})})});EK.displayName=AI;var jI="SelectLabel",NI=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=_K(jI,r);return c.jsx(Pe.div,{id:a.id,...n,ref:t})});NI.displayName=jI;var _0="SelectItem",[SK,II]=cu(_0),RI=x.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:s,...i}=e,o=fo(_0,r),l=ho(_0,r),u=o.value===n,[d,f]=x.useState(s??""),[h,m]=x.useState(!1),v=Ke(t,_=>{var w;return(w=l.itemRefCallback)==null?void 0:w.call(l,_,n,a)}),p=Cr(),g=x.useRef("touch"),y=()=>{a||(o.onValueChange(n),o.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(SK,{scope:r,value:n,disabled:a,textId:p,isSelected:u,onItemTextChange:x.useCallback(_=>{f(w=>w||((_==null?void 0:_.textContent)??"").trim())},[]),children:c.jsx(pm.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:c.jsx(Pe.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...i,ref:v,onFocus:Ie(i.onFocus,()=>m(!0)),onBlur:Ie(i.onBlur,()=>m(!1)),onClick:Ie(i.onClick,()=>{g.current!=="mouse"&&y()}),onPointerUp:Ie(i.onPointerUp,()=>{g.current==="mouse"&&y()}),onPointerDown:Ie(i.onPointerDown,_=>{g.current=_.pointerType}),onPointerMove:Ie(i.onPointerMove,_=>{var w;g.current=_.pointerType,a?(w=l.onItemLeave)==null||w.call(l):g.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ie(i.onPointerLeave,_=>{var w;_.currentTarget===document.activeElement&&((w=l.onItemLeave)==null||w.call(l))}),onKeyDown:Ie(i.onKeyDown,_=>{var E;((E=l.searchRef)==null?void 0:E.current)!==""&&_.key===" "||(cK.includes(_.key)&&y(),_.key===" "&&_.preventDefault())})})})})});RI.displayName=_0;var Lu="SelectItemText",PI=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...s}=e,i=fo(Lu,r),o=ho(Lu,r),l=II(Lu,r),u=fK(Lu,r),[d,f]=x.useState(null),h=Ke(t,y=>f(y),l.onItemTextChange,y=>{var _;return(_=o.itemTextRefCallback)==null?void 0:_.call(o,y,l.value,l.disabled)}),m=d==null?void 0:d.textContent,v=x.useMemo(()=>c.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:g}=u;return mr(()=>(p(v),()=>g(v)),[p,g,v]),c.jsxs(c.Fragment,{children:[c.jsx(Pe.span,{id:l.textId,...s,ref:h}),l.isSelected&&i.valueNode&&!i.valueNodeHasChildren?uc.createPortal(s.children,i.valueNode):null]})});PI.displayName=Lu;var OI="SelectItemIndicator",FI=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return II(OI,r).isSelected?c.jsx(Pe.span,{"aria-hidden":!0,...n,ref:t}):null});FI.displayName=OI;var ix="SelectScrollUpButton",DI=x.forwardRef((e,t)=>{const r=ho(ix,e.__scopeSelect),n=By(ix,e.__scopeSelect),[a,s]=x.useState(!1),i=Ke(t,n.onScrollButtonChange);return mr(()=>{if(r.viewport&&r.isPositioned){let o=function(){const u=l.scrollTop>0;s(u)};const l=r.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),a?c.jsx(LI,{...e,ref:i,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=r;o&&l&&(o.scrollTop=o.scrollTop-l.offsetHeight)}}):null});DI.displayName=ix;var ox="SelectScrollDownButton",MI=x.forwardRef((e,t)=>{const r=ho(ox,e.__scopeSelect),n=By(ox,e.__scopeSelect),[a,s]=x.useState(!1),i=Ke(t,n.onScrollButtonChange);return mr(()=>{if(r.viewport&&r.isPositioned){let o=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;s(d)};const l=r.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),a?c.jsx(LI,{...e,ref:i,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=r;o&&l&&(o.scrollTop=o.scrollTop+l.offsetHeight)}}):null});MI.displayName=ox;var LI=x.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,s=ho("SelectScrollButton",r),i=x.useRef(null),o=gm(r),l=x.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return x.useEffect(()=>()=>l(),[l]),mr(()=>{var d;const u=o().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[o]),c.jsx(Pe.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Ie(a.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:Ie(a.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:Ie(a.onPointerLeave,()=>{l()})})}),bK="SelectSeparator",UI=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return c.jsx(Pe.div,{"aria-hidden":!0,...n,ref:t})});UI.displayName=bK;var cx="SelectArrow",TK=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=vm(r),s=fo(cx,r),i=ho(cx,r);return s.open&&i.position==="popper"?c.jsx(b1,{...a,...n,ref:t}):null});TK.displayName=cx;var CK="SelectBubbleInput",BI=x.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=x.useRef(null),s=Ke(n,a),i=ay(t);return x.useEffect(()=>{const o=a.current;if(!o)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(i!==t&&d){const f=new Event("change",{bubbles:!0});d.call(o,t),o.dispatchEvent(f)}},[i,t]),c.jsx(Pe.select,{...r,style:{...jT,...r.style},ref:s,defaultValue:t})});BI.displayName=CK;function $I(e){return e===""||e===void 0}function zI(e){const t=lr(e),r=x.useRef(""),n=x.useRef(0),a=x.useCallback(i=>{const o=r.current+i;t(o),function l(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(o)},[t]),s=x.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,s]}function VI(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let i=kK(e,Math.max(s,0));a.length===1&&(i=i.filter(u=>u!==r));const l=i.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return l!==r?l:void 0}function kK(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var AK=gI,WI=xI,jK=wI,NK=_I,IK=EI,HI=SI,RK=kI,GI=NI,qI=RI,PK=PI,OK=FI,KI=DI,JI=MI,XI=UI;const yr=AK,wr=jK,ir=x.forwardRef(({className:e,children:t,...r},n)=>c.jsxs(WI,{ref:n,className:Te("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,c.jsx(NK,{asChild:!0,children:c.jsx(ur,{className:"h-4 w-4 opacity-50"})})]}));ir.displayName=WI.displayName;const YI=x.forwardRef(({className:e,...t},r)=>c.jsx(KI,{ref:r,className:Te("flex cursor-default items-center justify-center py-1",e),...t,children:c.jsx(bn,{className:"h-4 w-4"})}));YI.displayName=KI.displayName;const QI=x.forwardRef(({className:e,...t},r)=>c.jsx(JI,{ref:r,className:Te("flex cursor-default items-center justify-center py-1",e),...t,children:c.jsx(ur,{className:"h-4 w-4"})}));QI.displayName=JI.displayName;const or=x.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>c.jsx(IK,{children:c.jsxs(HI,{ref:a,className:Te("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[c.jsx(YI,{}),c.jsx(RK,{className:Te("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),c.jsx(QI,{})]})}));or.displayName=HI.displayName;const FK=x.forwardRef(({className:e,...t},r)=>c.jsx(GI,{ref:r,className:Te("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));FK.displayName=GI.displayName;const ut=x.forwardRef(({className:e,children:t,...r},n)=>c.jsxs(qI,{ref:n,className:Te("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(OK,{children:c.jsx(va,{className:"h-4 w-4"})})}),c.jsx(PK,{children:t})]}));ut.displayName=qI.displayName;const DK=x.forwardRef(({className:e,...t},r)=>c.jsx(XI,{ref:r,className:Te("-mx-1 my-1 h-px bg-muted",e),...t}));DK.displayName=XI.displayName;const MK=()=>{const{safras:e}=mm(),[t,r]=x.useState(""),[n,a]=x.useState(""),[s,i]=x.useState(!1),o=async()=>{var u,d;if(!t||!n){le.error("Selecione as safras de origem e destino");return}if(t===n){le.error("As safras de origem e destino devem ser diferentes");return}i(!0);try{const{data:{user:f}}=await ge.auth.getUser();if(!f)throw new Error("Usurio no autenticado");const{data:h,error:m}=await ge.from("programacao_cultivares").select("*").eq("user_id",f.id).eq("safra",t);if(m)throw m;const{data:v,error:p}=await ge.from("programacao_adubacao").select("*").eq("user_id",f.id).eq("safra_id",t);if(p)throw p;const{data:g,error:y}=await ge.from("aplicacoes_defensivos").select("*").eq("user_id",f.id);if(y)throw y;const _=(g==null?void 0:g.map(j=>j.id))||[],{data:w,error:E}=await ge.from("programacao_defensivos").select("*").eq("user_id",f.id).eq("safra_id",t).in("aplicacao_id",_);if(E)throw E;let T=0,b=0,S=0;if(h&&h.length>0){const j=h.map(({id:N,created_at:W,updated_at:M,...X})=>({...X,safra:n})),{error:I}=await ge.from("programacao_cultivares").insert(j);if(I)throw I;T=j.length}if(v&&v.length>0){const j=v.map(({id:N,created_at:W,updated_at:M,...X})=>({...X,safra_id:n})),{error:I}=await ge.from("programacao_adubacao").insert(j);if(I)throw I;b=j.length}if(g&&g.length>0)for(const j of g){const{id:I,created_at:N,updated_at:W,...M}=j,{data:X,error:z}=await ge.from("aplicacoes_defensivos").insert(M).select().single();if(z)throw z;const V=(w==null?void 0:w.filter(Y=>Y.aplicacao_id===I))||[];if(V.length>0){const Y=V.map(({id:ne,created_at:ee,updated_at:k,...G})=>({...G,aplicacao_id:X.id,safra_id:n})),{error:F}=await ge.from("programacao_defensivos").insert(Y);if(F)throw F;S+=Y.length}}const C=(u=e.find(j=>j.id===t))==null?void 0:u.nome,A=(d=e.find(j=>j.id===n))==null?void 0:d.nome;le.success(`Replicao concluda! ${T} cultivares, ${b} adubaes e ${S} defensivos copiados de ${C} para ${A}`),r(""),a("")}catch(f){console.error("Erro ao replicar safras:",f),le.error(`Erro ao replicar: ${f.message}`)}finally{i(!1)}},l=e.filter(u=>u.ativa);return c.jsx(Ue,{className:"p-6",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Replicar Programaes entre Safras"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Copie todas as programaes (cultivares, adubaes e defensivos) de uma safra para outra."})]}),c.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(de,{htmlFor:"safra-origem",children:"Safra de Origem *"}),c.jsxs(yr,{value:t,onValueChange:r,children:[c.jsx(ir,{id:"safra-origem",children:c.jsx(wr,{placeholder:"Selecione a safra origem"})}),c.jsx(or,{children:l.map(u=>c.jsxs(ut,{value:u.id,children:[u.nome,u.is_default&&" (Padro)"]},u.id))})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(de,{htmlFor:"safra-destino",children:"Safra de Destino *"}),c.jsxs(yr,{value:n,onValueChange:a,children:[c.jsx(ir,{id:"safra-destino",children:c.jsx(wr,{placeholder:"Selecione a safra destino"})}),c.jsx(or,{children:l.map(u=>c.jsxs(ut,{value:u.id,children:[u.nome,u.is_default&&" (Padro)"]},u.id))})]})]})]}),c.jsxs(ae,{onClick:o,disabled:!t||!n||s,className:"w-full",children:[c.jsx(d1,{className:"mr-2 h-4 w-4"}),s?"Replicando...":"Replicar Programaes"]})]})})},LK=()=>{const{toast:e}=dn(),t=St(),[r,n]=x.useState(""),{data:a=[]}=bt({queryKey:["admin-tratamentos"],queryFn:async()=>{const{data:l,error:u}=await ge.from("tratamentos_sementes").select("*").order("cultura",{ascending:!0}).order("nome",{ascending:!0});if(u)throw u;return l}}),s=ot({mutationFn:async()=>{const{error:l}=await ge.from("tratamentos_sementes").insert({nome:r,ativo:!0});if(l)throw l},onSuccess:()=>{t.invalidateQueries({queryKey:["admin-tratamentos"]}),e({title:"Tratamento cadastrado com sucesso!"}),n("")},onError:l=>{e({title:"Erro ao cadastrar tratamento",description:l.message,variant:"destructive"})}}),i=ot({mutationFn:async l=>{const{error:u}=await ge.from("tratamentos_sementes").delete().eq("id",l);if(u)throw u},onSuccess:()=>{t.invalidateQueries({queryKey:["admin-tratamentos"]}),e({title:"Tratamento excludo com sucesso!"})},onError:l=>{e({title:"Erro ao excluir tratamento",description:l.message,variant:"destructive"})}}),o=l=>{if(l.preventDefault(),!r.trim()){e({title:"Erro",description:"Digite o nome do tratamento",variant:"destructive"});return}s.mutate()};return c.jsxs(Ue,{children:[c.jsxs(vt,{children:[c.jsx(xt,{children:"Gerenciar Tratamentos de Sementes"}),c.jsx(aa,{children:"Cadastre e gerencie os tratamentos disponveis para milho e soja"})]}),c.jsxs(pt,{className:"space-y-6",children:[c.jsx("form",{onSubmit:o,className:"space-y-4",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(de,{children:"Nome do Tratamento"}),c.jsx(_e,{value:r,onChange:l=>n(l.target.value),placeholder:"Ex: Tratamento Premium",required:!0})]}),c.jsx("div",{className:"flex items-end",children:c.jsxs(ae,{type:"submit",className:"w-full",disabled:s.isPending,children:[c.jsx(Ka,{className:"h-4 w-4 mr-2"}),"Adicionar"]})})]})}),c.jsx("div",{className:"border rounded-lg",children:c.jsxs(Hr,{children:[c.jsx(Gr,{children:c.jsxs(Ye,{children:[c.jsx(je,{children:"Nome"}),c.jsx(je,{children:"Status"}),c.jsx(je,{className:"w-[100px]",children:"Aes"})]})}),c.jsx(qr,{children:a.map(l=>c.jsxs(Ye,{children:[c.jsx(Se,{children:l.nome}),c.jsx(Se,{children:l.ativo?"Ativo":"Inativo"}),c.jsx(Se,{children:c.jsx(ae,{variant:"destructive",size:"icon",onClick:()=>i.mutate(l.id),disabled:i.isPending,children:c.jsx(pr,{className:"h-4 w-4"})})})]},l.id))})]})})]})]})},Ns={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},UK=()=>{const{toast:e}=dn(),t=St(),[r,n]=x.useState(""),{data:a=[]}=bt({queryKey:["admin-justificativas"],queryFn:async()=>{const l=Ns==null?void 0:Ns.VITE_API_URL,u=typeof window<"u"?window.location.hostname:"127.0.0.1",d=l||`http://${u}:5000`,f=await fetch(`${d}/justificativas_adubacao`);if(!f.ok){const m=await f.text();throw new Error(m)}const h=await f.json();return(h==null?void 0:h.items)||[]}}),s=ot({mutationFn:async()=>{const l=Ns==null?void 0:Ns.VITE_API_URL,u=typeof window<"u"?window.location.hostname:"127.0.0.1",d=l||`http://${u}:5000`,f=await fetch(`${d}/justificativas_adubacao`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({descricao:r,ativo:!0})});if(!f.ok){const h=await f.text();throw new Error(h)}},onSuccess:()=>{t.invalidateQueries({queryKey:["admin-justificativas"]}),e({title:"Justificativa cadastrada com sucesso!"}),n("")},onError:l=>{e({title:"Erro ao cadastrar justificativa",description:l.message,variant:"destructive"})}}),i=ot({mutationFn:async l=>{const u=Ns==null?void 0:Ns.VITE_API_URL,d=typeof window<"u"?window.location.hostname:"127.0.0.1",f=u||`http://${d}:5000`,h=await fetch(`${f}/justificativas_adubacao/${l}`,{method:"DELETE"});if(!h.ok){const m=await h.text();throw new Error(m)}},onSuccess:()=>{t.invalidateQueries({queryKey:["admin-justificativas"]}),e({title:"Justificativa excluda com sucesso!"})},onError:l=>{e({title:"Erro ao excluir justificativa",description:l.message,variant:"destructive"})}}),o=l=>{if(l.preventDefault(),!r.trim()){e({title:"Erro",description:"Digite a descrio da justificativa",variant:"destructive"});return}s.mutate()};return c.jsxs(Ue,{children:[c.jsxs(vt,{children:[c.jsx(xt,{children:"Gerenciar Justificativas de Adubao"}),c.jsx(aa,{children:"Cadastre e gerencie as justificativas para quando o produtor no realizar adubao"})]}),c.jsxs(pt,{className:"space-y-6",children:[c.jsx("form",{onSubmit:o,className:"space-y-4",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(de,{children:"Descrio da Justificativa"}),c.jsx(_e,{value:r,onChange:l=>n(l.target.value),placeholder:"Ex: Solo j adubado",required:!0})]}),c.jsx("div",{className:"flex items-end",children:c.jsxs(ae,{type:"submit",className:"w-full",disabled:s.isPending,children:[c.jsx(Ka,{className:"h-4 w-4 mr-2"}),"Adicionar"]})})]})}),c.jsx("div",{className:"border rounded-lg",children:c.jsxs(Hr,{children:[c.jsx(Gr,{children:c.jsxs(Ye,{children:[c.jsx(je,{children:"Descrio"}),c.jsx(je,{children:"Status"}),c.jsx(je,{className:"w-[100px]",children:"Aes"})]})}),c.jsx(qr,{children:a.map(l=>c.jsxs(Ye,{children:[c.jsx(Se,{children:l.descricao}),c.jsx(Se,{children:l.ativo?"Ativo":"Inativo"}),c.jsx(Se,{children:c.jsx(ae,{variant:"destructive",size:"icon",onClick:()=>i.mutate(l.id),disabled:i.isPending,children:c.jsx(pr,{className:"h-4 w-4"})})})]},l.id))})]})})]})]})},Xp={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},BK=()=>{const[e,t]=x.useState(null),[r,n]=x.useState(!1),[a,s]=x.useState(0),[i,o]=x.useState(!1),[l,u]=x.useState(0),[d,f]=x.useState(!1),[h,m]=x.useState(0),v=g=>{var _;const y=(_=g.target.files)==null?void 0:_[0];y&&t(y)},p=async()=>{if(!e){le.error("Por favor, selecione um arquivo");return}n(!0),s(0),m(0);try{const g=await e.arrayBuffer(),y=ws(g),_=y.Sheets[y.SheetNames[0]],E=uo.sheet_to_json(_).map(I=>({cod_aplic:String(I["Cd. aplic."]||I.cod_aplic||"").trim(),descr_aplicacao:String(I["Descr. aplicao"]||I.descr_aplicacao||"").trim(),cod_aplic_ger:I["Cd. aplic. ger."]||I.cod_aplic_ger||null,cod_classe:String(I["Cd. classe"]||I.cod_classe||"").trim(),descricao_classe:String(I["Descrio classe"]||I.descricao_classe||"").trim(),trat_sementes:I["Trat. sementes"]||I.trat_sementes||null})).filter(I=>I.cod_aplic&&I.descr_aplicacao),T=Array.from(new Map(E.map(I=>[I.cod_aplic,I])).values()),b=Xp==null?void 0:Xp.VITE_API_URL,S=typeof window<"u"?window.location.hostname:"127.0.0.1",C=b||`http://${S}:5000`,A=await fetch(`${C}/calendario_aplicacoes/import`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({limpar_antes:d,items:T,user_id:null,arquivo_nome:e.name})});if(!A.ok){const I=await A.text();throw new Error(I)}const j=await A.json();m(Number((j==null?void 0:j.deleted)||0)),u(Number((j==null?void 0:j.imported)||T.length)),s(100),o(!0),le.success(`${Number((j==null?void 0:j.imported)||T.length)} registros importados com sucesso!`),t(null),f(!1)}catch(g){console.error("Erro ao processar arquivo:",g),le.error("Erro ao processar arquivo")}finally{n(!1)}};return c.jsxs(Ue,{children:[c.jsxs(vt,{children:[c.jsx(xt,{children:"Importar Calendrio de Aplicaes"}),c.jsx(aa,{children:"Faa upload de uma planilha Excel com as colunas: Cd. aplic., Descr. aplicao, Cd. aplic. ger., Cd. classe, Descrio classe, Trat. sementes"})]}),c.jsxs(pt,{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(_e,{type:"file",accept:".xlsx,.xls",onChange:v,disabled:r}),c.jsx(ae,{onClick:p,disabled:r||!e,children:r?"Importando...":"Importar"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Bt,{id:"limpar-antes",checked:d,onCheckedChange:g=>f(g),disabled:r}),c.jsx(de,{htmlFor:"limpar-antes",className:"cursor-pointer text-sm",children:"Limpar todos os registros antes de importar"})]}),r&&c.jsxs("div",{className:"space-y-2",children:[c.jsx(ti,{value:a}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Importando: ",a,"%"]})]}),c.jsx(jn,{open:i,onOpenChange:o,children:c.jsxs(hn,{children:[c.jsxs(mn,{children:[c.jsx(gn,{children:"Importao Concluda"}),c.jsxs(vn,{children:[h>0&&c.jsxs(c.Fragment,{children:[h," registros foram removidos.",c.jsx("br",{})]}),l," registros foram importados com sucesso."]})]}),c.jsx(pn,{children:c.jsx(ni,{onClick:()=>o(!1),children:"OK"})})]})})]})]})};function es(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ic(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const ZI=6048e5,$K=864e5;let zK={};function xm(){return zK}function Bd(e,t){var o,l,u,d;const r=xm(),n=(t==null?void 0:t.weekStartsOn)??((l=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=es(e),s=a.getDay(),i=(s<n?7:0)+s-n;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function E0(e){return Bd(e,{weekStartsOn:1})}function eR(e){const t=es(e),r=t.getFullYear(),n=ic(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=E0(n),s=ic(e,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const i=E0(s);return t.getTime()>=a.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function US(e){const t=es(e);return t.setHours(0,0,0,0),t}function BS(e){const t=es(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function VK(e,t){const r=US(e),n=US(t),a=+r-BS(r),s=+n-BS(n);return Math.round((a-s)/$K)}function WK(e){const t=eR(e),r=ic(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),E0(r)}function HK(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function GK(e){if(!HK(e)&&typeof e!="number")return!1;const t=es(e);return!isNaN(Number(t))}function qK(e){const t=es(e),r=ic(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const KK={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},JK=(e,t,r)=>{let n;const a=KK[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function ml(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const XK={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},YK={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},QK={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ZK={date:ml({formats:XK,defaultWidth:"full"}),time:ml({formats:YK,defaultWidth:"full"}),dateTime:ml({formats:QK,defaultWidth:"full"})},eJ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},tJ=(e,t,r,n)=>eJ[e];function fs(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):i;a=e.formattingValues[o]||e.formattingValues[i]}else{const i=e.defaultWidth,o=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[o]||e.values[i]}const s=e.argumentCallback?e.argumentCallback(t):t;return a[s]}}const rJ={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},nJ={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},aJ={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},sJ={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},iJ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},oJ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},cJ=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},lJ={ordinalNumber:cJ,era:fs({values:rJ,defaultWidth:"wide"}),quarter:fs({values:nJ,defaultWidth:"wide",argumentCallback:e=>e-1}),month:fs({values:aJ,defaultWidth:"wide"}),day:fs({values:sJ,defaultWidth:"wide"}),dayPeriod:fs({values:iJ,defaultWidth:"wide",formattingValues:oJ,defaultFormattingWidth:"wide"})};function hs(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;const i=s[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?dJ(o,f=>f.test(i)):uJ(o,f=>f.test(i));let u;u=e.valueCallback?e.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(i.length);return{value:u,rest:d}}}function uJ(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function dJ(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function tR(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],s=t.match(e.parsePattern);if(!s)return null;let i=e.valueCallback?e.valueCallback(s[0]):s[0];i=r.valueCallback?r.valueCallback(i):i;const o=t.slice(a.length);return{value:i,rest:o}}}const fJ=/^(\d+)(th|st|nd|rd)?/i,hJ=/\d+/i,mJ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},pJ={any:[/^b/i,/^(a|c)/i]},gJ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},vJ={any:[/1/i,/2/i,/3/i,/4/i]},xJ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},yJ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},wJ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},_J={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},EJ={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},SJ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},bJ={ordinalNumber:tR({matchPattern:fJ,parsePattern:hJ,valueCallback:e=>parseInt(e,10)}),era:hs({matchPatterns:mJ,defaultMatchWidth:"wide",parsePatterns:pJ,defaultParseWidth:"any"}),quarter:hs({matchPatterns:gJ,defaultMatchWidth:"wide",parsePatterns:vJ,defaultParseWidth:"any",valueCallback:e=>e+1}),month:hs({matchPatterns:xJ,defaultMatchWidth:"wide",parsePatterns:yJ,defaultParseWidth:"any"}),day:hs({matchPatterns:wJ,defaultMatchWidth:"wide",parsePatterns:_J,defaultParseWidth:"any"}),dayPeriod:hs({matchPatterns:EJ,defaultMatchWidth:"any",parsePatterns:SJ,defaultParseWidth:"any"})},TJ={code:"en-US",formatDistance:JK,formatLong:ZK,formatRelative:tJ,localize:lJ,match:bJ,options:{weekStartsOn:0,firstWeekContainsDate:1}};function CJ(e){const t=es(e);return VK(t,qK(t))+1}function kJ(e){const t=es(e),r=+E0(t)-+WK(t);return Math.round(r/ZI)+1}function rR(e,t){var d,f,h,m;const r=es(e),n=r.getFullYear(),a=xm(),s=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(h=a.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,i=ic(e,0);i.setFullYear(n+1,0,s),i.setHours(0,0,0,0);const o=Bd(i,t),l=ic(e,0);l.setFullYear(n,0,s),l.setHours(0,0,0,0);const u=Bd(l,t);return r.getTime()>=o.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function AJ(e,t){var o,l,u,d;const r=xm(),n=(t==null?void 0:t.firstWeekContainsDate)??((l=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=rR(e,t),s=ic(e,0);return s.setFullYear(a,0,n),s.setHours(0,0,0,0),Bd(s,t)}function jJ(e,t){const r=es(e),n=+Bd(r,t)-+AJ(r,t);return Math.round(n/ZI)+1}function ft(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const li={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return ft(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):ft(r+1,2)},d(e,t){return ft(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return ft(e.getHours()%12||12,t.length)},H(e,t){return ft(e.getHours(),t.length)},m(e,t){return ft(e.getMinutes(),t.length)},s(e,t){return ft(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return ft(a,t.length)}},Ic={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},$S={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return li.y(e,t)},Y:function(e,t,r,n){const a=rR(e,n),s=a>0?a:1-a;if(t==="YY"){const i=s%100;return ft(i,2)}return t==="Yo"?r.ordinalNumber(s,{unit:"year"}):ft(s,t.length)},R:function(e,t){const r=eR(e);return ft(r,t.length)},u:function(e,t){const r=e.getFullYear();return ft(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return ft(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return ft(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return li.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return ft(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=jJ(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):ft(a,t.length)},I:function(e,t,r){const n=kJ(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):ft(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):li.d(e,t)},D:function(e,t,r){const n=CJ(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):ft(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return ft(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return ft(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return ft(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Ic.noon:n===0?a=Ic.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Ic.evening:n>=12?a=Ic.afternoon:n>=4?a=Ic.morning:a=Ic.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return li.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):li.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):ft(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):ft(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):li.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):li.s(e,t)},S:function(e,t){return li.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return VS(n);case"XXXX":case"XX":return _o(n);case"XXXXX":case"XXX":default:return _o(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return VS(n);case"xxxx":case"xx":return _o(n);case"xxxxx":case"xxx":default:return _o(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+zS(n,":");case"OOOO":default:return"GMT"+_o(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+zS(n,":");case"zzzz":default:return"GMT"+_o(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return ft(n,t.length)},T:function(e,t,r){const n=e.getTime();return ft(n,t.length)}};function zS(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),s=n%60;return s===0?r+String(a):r+String(a)+t+ft(s,2)}function VS(e,t){return e%60===0?(e>0?"-":"+")+ft(Math.abs(e)/60,2):_o(e,t)}function _o(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=ft(Math.trunc(n/60),2),s=ft(n%60,2);return r+a+t+s}const WS=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},nR=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},NJ=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return WS(e,t);let s;switch(n){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",WS(n,t)).replace("{{time}}",nR(a,t))},IJ={p:nR,P:NJ},RJ=/^D+$/,PJ=/^Y+$/,OJ=["D","DD","YY","YYYY"];function FJ(e){return RJ.test(e)}function DJ(e){return PJ.test(e)}function MJ(e,t,r){const n=LJ(e,t,r);if(console.warn(n),OJ.includes(e))throw new RangeError(n)}function LJ(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const UJ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,BJ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,$J=/^'([^]*?)'?$/,zJ=/''/g,VJ=/[a-zA-Z]/;function WJ(e,t,r){var d,f,h,m,v,p,g,y;const n=xm(),a=(r==null?void 0:r.locale)??n.locale??TJ,s=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,i=(r==null?void 0:r.weekStartsOn)??((p=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:p.weekStartsOn)??n.weekStartsOn??((y=(g=n.locale)==null?void 0:g.options)==null?void 0:y.weekStartsOn)??0,o=es(e);if(!GK(o))throw new RangeError("Invalid time value");let l=t.match(BJ).map(_=>{const w=_[0];if(w==="p"||w==="P"){const E=IJ[w];return E(_,a.formatLong)}return _}).join("").match(UJ).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const w=_[0];if(w==="'")return{isToken:!1,value:HJ(_)};if($S[w])return{isToken:!0,value:_};if(w.match(VJ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:_}});a.localize.preprocessor&&(l=a.localize.preprocessor(o,l));const u={firstWeekContainsDate:s,weekStartsOn:i,locale:a};return l.map(_=>{if(!_.isToken)return _.value;const w=_.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&DJ(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&FJ(w))&&MJ(w,t,String(e));const E=$S[w[0]];return E(o,w,a.localize,u)}).join("")}function HJ(e){const t=e.match($J);return t?t[1].replace(zJ,"'"):e}const GJ={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},qJ=(e,t,r)=>{let n;const a=GJ[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+n:"h "+n:n},KJ={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},JJ={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},XJ={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},YJ={date:ml({formats:KJ,defaultWidth:"full"}),time:ml({formats:JJ,defaultWidth:"full"}),dateTime:ml({formats:XJ,defaultWidth:"full"})},QJ={lastWeek:e=>{const t=e.getDay();return"'"+(t===0||t===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},ZJ=(e,t,r,n)=>{const a=QJ[e];return typeof a=="function"?a(t):a},eX={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},tX={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},rX={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},nX={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},aX={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},sX={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},iX=(e,t)=>{const r=Number(e);return(t==null?void 0:t.unit)==="week"?r+"":r+""},oX={ordinalNumber:iX,era:fs({values:eX,defaultWidth:"wide"}),quarter:fs({values:tX,defaultWidth:"wide",argumentCallback:e=>e-1}),month:fs({values:rX,defaultWidth:"wide"}),day:fs({values:nX,defaultWidth:"wide"}),dayPeriod:fs({values:aX,defaultWidth:"wide",formattingValues:sX,defaultFormattingWidth:"wide"})},cX=/^(\d+)[o]?/i,lX=/\d+/i,uX={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},dX={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},fX={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},hX={any:[/1/i,/2/i,/3/i,/4/i]},mX={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},pX={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},gX={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},vX={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},xX={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},yX={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},wX={ordinalNumber:tR({matchPattern:cX,parsePattern:lX,valueCallback:e=>parseInt(e,10)}),era:hs({matchPatterns:uX,defaultMatchWidth:"wide",parsePatterns:dX,defaultParseWidth:"any"}),quarter:hs({matchPatterns:fX,defaultMatchWidth:"wide",parsePatterns:hX,defaultParseWidth:"any",valueCallback:e=>e+1}),month:hs({matchPatterns:mX,defaultMatchWidth:"wide",parsePatterns:pX,defaultParseWidth:"any"}),day:hs({matchPatterns:gX,defaultMatchWidth:"wide",parsePatterns:vX,defaultParseWidth:"any"}),dayPeriod:hs({matchPatterns:xX,defaultMatchWidth:"any",parsePatterns:yX,defaultParseWidth:"any"})},_X={code:"pt-BR",formatDistance:qJ,formatLong:YJ,formatRelative:ZJ,localize:oX,match:wX,options:{weekStartsOn:0,firstWeekContainsDate:1}},EX=()=>{const{data:e=[],isLoading:t}=bt({queryKey:["import-history"],queryFn:async()=>{const{data:n,error:a}=await ge.from("import_history").select("*").order("created_at",{ascending:!1}).limit(100);if(a)throw a;return n}}),r=n=>({calendario_aplicacoes:"Calendrio de Aplicaes",cultivares_catalog:"Cultivares",defensivos_catalog:"Defensivos",fertilizantes_catalog:"Fertilizantes",produtores:"Produtores",fazendas:"Fazendas",consultores:"Consultores"})[n]||n;return t?c.jsx(Ue,{children:c.jsx(pt,{className:"py-8",children:c.jsx("p",{className:"text-center text-muted-foreground",children:"Carregando histrico..."})})}):c.jsxs(Ue,{children:[c.jsxs(vt,{children:[c.jsx(xt,{children:"Histrico de Importaes"}),c.jsx(aa,{children:"ltimas 100 importaes realizadas no sistema"})]}),c.jsx(pt,{children:c.jsx("div",{className:"border rounded-lg",children:c.jsxs(Hr,{children:[c.jsx(Gr,{children:c.jsxs(Ye,{children:[c.jsx(je,{children:"Data/Hora"}),c.jsx(je,{children:"Tabela"}),c.jsx(je,{children:"Arquivo"}),c.jsx(je,{className:"text-right",children:"Importados"}),c.jsx(je,{className:"text-right",children:"Deletados"}),c.jsx(je,{className:"text-center",children:"Limpou Antes"})]})}),c.jsx(qr,{children:e.length===0?c.jsx(Ye,{children:c.jsx(Se,{colSpan:6,className:"text-center text-muted-foreground",children:"Nenhuma importao registrada"})}):e.map(n=>c.jsxs(Ye,{children:[c.jsx(Se,{className:"whitespace-nowrap",children:WJ(new Date(n.created_at),"dd/MM/yyyy HH:mm",{locale:_X})}),c.jsx(Se,{children:r(n.tabela_nome)}),c.jsx(Se,{className:"max-w-[200px] truncate",title:n.arquivo_nome||"",children:n.arquivo_nome||"-"}),c.jsx(Se,{className:"text-right font-medium text-green-600",children:n.registros_importados}),c.jsx(Se,{className:"text-right font-medium text-red-600",children:n.registros_deletados}),c.jsx(Se,{className:"text-center",children:n.limpar_antes?c.jsx(ht,{variant:"destructive",children:"Sim"}):c.jsx(ht,{variant:"secondary",children:"No"})})]},n.id))})]})})})]})},aR=()=>{const{toast:e}=dn(),t=St(),{data:r,isLoading:n,error:a}=bt({queryKey:["usuarios"],queryFn:async()=>{const{data:i,error:o}=await ge.from("profiles").select("*").order("created_at",{ascending:!1});if(o)throw o;const l=[];for(const u of i||[]){const{data:d}=await ge.from("user_roles").select("role").eq("user_id",u.user_id).maybeSingle();l.push({id:u.user_id,email:u.user_id,nome:u.nome,numerocm_consultor:u.numerocm_consultor,ativo:u.ativo,role:(d==null?void 0:d.role)||null,created_at:u.created_at||""})}return l}}),s=ot({mutationFn:async({userId:i,updates:o})=>{const{nome:l,numerocm_consultor:u,ativo:d,role:f}=o;if(l!==void 0||u!==void 0||d!==void 0){const{error:h}=await ge.from("profiles").update({...l!==void 0&&{nome:l},...u!==void 0&&{numerocm_consultor:u},...d!==void 0&&{ativo:d}}).eq("user_id",i);if(h)throw h}if(f!==void 0&&(await ge.from("user_roles").delete().eq("user_id",i),f)){const{error:h}=await ge.from("user_roles").insert([{user_id:i,role:f}]);if(h)throw h}},onSuccess:()=>{t.invalidateQueries({queryKey:["usuarios"]}),e({title:"Usurio atualizado",description:"As informaes foram salvas com sucesso."})},onError:i=>{e({title:"Erro ao atualizar usurio",description:i.message,variant:"destructive"})}});return{usuarios:r,isLoading:n,error:a,updateUsuario:s.mutate,isUpdating:s.isPending}};var ym="Switch",[SX,FQ]=Vr(ym),[bX,TX]=SX(ym),sR=x.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:s,required:i,disabled:o,value:l="on",onCheckedChange:u,form:d,...f}=e,[h,m]=x.useState(null),v=Ke(t,w=>m(w)),p=x.useRef(!1),g=h?d||!!h.closest("form"):!0,[y,_]=Sa({prop:a,defaultProp:s??!1,onChange:u,caller:ym});return c.jsxs(bX,{scope:r,checked:y,disabled:o,children:[c.jsx(Pe.button,{type:"button",role:"switch","aria-checked":y,"aria-required":i,"data-state":lR(y),"data-disabled":o?"":void 0,disabled:o,value:l,...f,ref:v,onClick:Ie(e.onClick,w=>{_(E=>!E),g&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})}),g&&c.jsx(cR,{control:h,bubbles:!p.current,name:n,value:l,checked:y,required:i,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});sR.displayName=ym;var iR="SwitchThumb",oR=x.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=TX(iR,r);return c.jsx(Pe.span,{"data-state":lR(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});oR.displayName=iR;var CX="SwitchBubbleInput",cR=x.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},s)=>{const i=x.useRef(null),o=Ke(i,s),l=ay(r),u=w1(t);return x.useEffect(()=>{const d=i.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&m){const v=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(v)}},[l,r,n]),c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:o,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});cR.displayName=CX;function lR(e){return e?"checked":"unchecked"}var uR=sR,kX=oR;const dR=x.forwardRef(({className:e,...t},r)=>c.jsx(uR,{className:Te("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:c.jsx(kX,{className:Te("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));dR.displayName=uR.displayName;const AX=()=>{const{usuarios:e,isLoading:t,updateUsuario:r}=aR(),{toast:n}=dn(),[a,s]=x.useState(null),[i,o]=x.useState(!1),[l,u]=x.useState(!1),[d,f]=x.useState({email:"",senha:"",nome:"",numerocm_consultor:"",role:"user"}),h=p=>{s({id:p.id,nome:p.nome||"",numerocm_consultor:p.numerocm_consultor||"",ativo:p.ativo,role:p.role||"user"}),o(!0)},m=()=>{a&&r({userId:a.id,updates:{nome:a.nome,numerocm_consultor:a.numerocm_consultor,ativo:a.ativo,role:a.role}},{onSuccess:()=>{o(!1),s(null)}})},v=async()=>{try{const{data:p,error:g}=await ge.functions.invoke("admin-create-user",{body:{email:d.email,password:d.senha,nome:d.nome,numerocm_consultor:d.numerocm_consultor,role:d.role}});if(g)throw g;if(p!=null&&p.error)throw new Error(p.error);n({title:"Usurio criado",description:"O novo usurio foi criado com sucesso."}),u(!1),f({email:"",senha:"",nome:"",numerocm_consultor:"",role:"user"}),window.location.reload()}catch(p){n({title:"Erro ao criar usurio",description:p.message,variant:"destructive"})}};return t?c.jsx("div",{children:"Carregando usurios..."}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-2xl font-bold",children:"Gerenciar Usurios"}),c.jsxs(ba,{open:l,onOpenChange:u,children:[c.jsx(ZU,{asChild:!0,children:c.jsxs(ae,{children:[c.jsx(WF,{className:"mr-2 h-4 w-4"}),"Novo Usurio"]})}),c.jsxs(Qn,{children:[c.jsxs(Zn,{children:[c.jsx(ea,{children:"Criar Novo Usurio"}),c.jsx(Vv,{children:"Preencha os dados do novo usurio"})]}),c.jsxs("div",{className:"space-y-4 py-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(de,{htmlFor:"new-email",children:"Email"}),c.jsx(_e,{id:"new-email",type:"email",value:d.email,onChange:p=>f({...d,email:p.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(de,{htmlFor:"new-senha",children:"Senha"}),c.jsx(_e,{id:"new-senha",type:"password",value:d.senha,onChange:p=>f({...d,senha:p.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(de,{htmlFor:"new-nome",children:"Nome"}),c.jsx(_e,{id:"new-nome",value:d.nome,onChange:p=>f({...d,nome:p.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(de,{htmlFor:"new-numerocm",children:"Nmero CM"}),c.jsx(_e,{id:"new-numerocm",value:d.numerocm_consultor,onChange:p=>f({...d,numerocm_consultor:p.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(de,{htmlFor:"new-role",children:"Papel"}),c.jsxs(yr,{value:d.role,onValueChange:p=>f({...d,role:p}),children:[c.jsx(ir,{id:"new-role",children:c.jsx(wr,{})}),c.jsxs(or,{children:[c.jsx(ut,{value:"user",children:"Usurio"}),c.jsx(ut,{value:"consultor",children:"Consultor"}),c.jsx(ut,{value:"gestor",children:"Gestor"}),c.jsx(ut,{value:"admin",children:"Administrador"})]})]})]})]}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx(ae,{variant:"outline",onClick:()=>u(!1),children:"Cancelar"}),c.jsx(ae,{onClick:v,children:"Criar Usurio"})]})]})]})]}),c.jsxs(Hr,{children:[c.jsx(Gr,{children:c.jsxs(Ye,{children:[c.jsx(je,{children:"Email"}),c.jsx(je,{children:"Nome"}),c.jsx(je,{children:"Nmero CM"}),c.jsx(je,{children:"Papel"}),c.jsx(je,{children:"Status"}),c.jsx(je,{children:"Aes"})]})}),c.jsx(qr,{children:e==null?void 0:e.map(p=>c.jsxs(Ye,{children:[c.jsx(Se,{children:p.email}),c.jsx(Se,{children:p.nome||"-"}),c.jsx(Se,{children:p.numerocm_consultor||"-"}),c.jsx(Se,{children:p.role==="admin"?"Administrador":p.role==="gestor"?"Gestor":p.role==="consultor"?"Consultor":"Usurio"}),c.jsx(Se,{children:c.jsx("span",{className:p.ativo?"text-green-600 font-medium":"text-red-600 font-medium",children:p.ativo?"Ativo":"Inativo"})}),c.jsx(Se,{children:c.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>h(p),children:c.jsx(Ya,{className:"h-4 w-4"})})})]},p.id))})]}),c.jsx(ba,{open:i,onOpenChange:o,children:c.jsxs(Qn,{children:[c.jsxs(Zn,{children:[c.jsx(ea,{children:"Editar Usurio"}),c.jsx(Vv,{children:"Altere as informaes do usurio"})]}),a&&c.jsxs("div",{className:"space-y-4 py-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(de,{htmlFor:"nome",children:"Nome"}),c.jsx(_e,{id:"nome",value:a.nome,onChange:p=>s({...a,nome:p.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(de,{htmlFor:"numerocm",children:"Nmero CM"}),c.jsx(_e,{id:"numerocm",value:a.numerocm_consultor,onChange:p=>s({...a,numerocm_consultor:p.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(de,{htmlFor:"role",children:"Papel"}),c.jsxs(yr,{value:a.role,onValueChange:p=>s({...a,role:p}),children:[c.jsx(ir,{id:"role",children:c.jsx(wr,{})}),c.jsxs(or,{children:[c.jsx(ut,{value:"user",children:"Usurio"}),c.jsx(ut,{value:"consultor",children:"Consultor"}),c.jsx(ut,{value:"gestor",children:"Gestor"}),c.jsx(ut,{value:"admin",children:"Administrador"})]})]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(de,{htmlFor:"ativo",children:"Usurio Ativo"}),c.jsx(dR,{id:"ativo",checked:a.ativo,onCheckedChange:p=>s({...a,ativo:p})})]})]}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx(ae,{variant:"outline",onClick:()=>o(!1),children:"Cancelar"}),c.jsx(ae,{onClick:m,children:"Salvar"})]})]})})]})},Yp={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},$y=()=>{const{data:e,isLoading:t,error:r}=bt({queryKey:["consultores"],queryFn:async()=>{const n=Yp==null?void 0:Yp.VITE_API_URL,a=typeof window<"u"?window.location.hostname:"127.0.0.1",s=n||`http://${a}:5000`,i=await fetch(`${s}/consultores`);if(!i.ok)throw new Error(`Erro ao carregar consultores: ${i.status}`);const o=await i.json();return(o==null?void 0:o.items)??[]}});return{data:e??[],isLoading:t,error:r}},Rc={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},jX=()=>{const{data:e=[],isLoading:t,error:r}=$y(),[n,a]=x.useState(""),[s,i]=x.useState("consultor"),[o,l]=x.useState("asc"),[u,d]=x.useState(1),[f,h]=x.useState(10),[m,v]=x.useState(null),[p,g]=x.useState(null),[y,_]=x.useState(""),[w,E]=x.useState(""),T=St(),b=x.useMemo(()=>{const M=n.trim().toLowerCase();return M?(e||[]).filter(X=>`${X.numerocm_consultor??""} ${X.consultor??""} ${X.email??""}`.toLowerCase().includes(M)):e},[e,n]),S=x.useMemo(()=>{const M=[...b];return M.sort((X,z)=>{const V=String(X[s]??"").toLowerCase(),Y=String(z[s]??"").toLowerCase();return V<Y?o==="asc"?-1:1:V>Y?o==="asc"?1:-1:0}),M},[b,s,o]),C=Math.max(1,Math.ceil(S.length/f)),A=x.useMemo(()=>{const M=(u-1)*f;return S.slice(M,M+f)},[S,u,f]),j=M=>{s===M?l(X=>X==="asc"?"desc":"asc"):(i(M),l("asc"))},I=async M=>{try{const X=Rc==null?void 0:Rc.VITE_API_URL,z=typeof window<"u"?window.location.hostname:"127.0.0.1",V=X||`http://${z}:5000`,Y=await fetch(`${V}/consultores/${M}`,{method:"DELETE"});if(!Y.ok)throw new Error(`Erro ao remover consultor: ${Y.status}`);le.success("Consultor removido"),T.invalidateQueries({queryKey:["consultores"]})}catch(X){le.error(X.message||"Erro ao remover consultor")}finally{v(null)}},N=M=>{g(M),_(M.consultor??""),E(M.email??"")},W=async()=>{if(p)try{const M=Rc==null?void 0:Rc.VITE_API_URL,X=typeof window<"u"?window.location.hostname:"127.0.0.1",z=M||`http://${X}:5000`,V=await fetch(`${z}/consultores/${p.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({consultor:y,email:w})});if(!V.ok)throw new Error(`Erro ao atualizar consultor: ${V.status}`);le.success("Consultor atualizado"),T.invalidateQueries({queryKey:["consultores"]}),g(null)}catch(M){le.error(M.message||"Erro ao atualizar consultor")}};return c.jsxs(Ue,{children:[c.jsx(vt,{children:c.jsx(xt,{children:"Consultores"})}),c.jsxs(pt,{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(_e,{placeholder:"Buscar por nome, CM consultor, email...",value:n,onChange:M=>a(M.target.value)}),c.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[c.jsx(de,{htmlFor:"pageSize",className:"text-xs",children:"Itens/pgina"}),c.jsxs("select",{id:"pageSize",className:"border rounded h-8 px-2 text-sm",value:f,onChange:M=>{h(Number(M.target.value)),d(1)},children:[c.jsx("option",{value:10,children:"10"}),c.jsx("option",{value:20,children:"20"}),c.jsx("option",{value:50,children:"50"})]})]})]}),t?c.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando consultores..."}):r?c.jsx("p",{className:"text-sm text-destructive",children:"Erro ao carregar consultores."}):c.jsxs(Hr,{children:[c.jsx(Gr,{children:c.jsxs(Ye,{children:[c.jsx(je,{className:"w-[160px]",children:c.jsxs("button",{className:"flex items-center gap-1",onClick:()=>j("numerocm_consultor"),children:["CM Consultor ",s==="numerocm_consultor"&&(o==="asc"?c.jsx(bn,{className:"h-3 w-3"}):c.jsx(ur,{className:"h-3 w-3"}))]})}),c.jsx(je,{children:c.jsxs("button",{className:"flex items-center gap-1",onClick:()=>j("consultor"),children:["Nome ",s==="consultor"&&(o==="asc"?c.jsx(bn,{className:"h-3 w-3"}):c.jsx(ur,{className:"h-3 w-3"}))]})}),c.jsx(je,{children:c.jsxs("button",{className:"flex items-center gap-1",onClick:()=>j("email"),children:["Email ",s==="email"&&(o==="asc"?c.jsx(bn,{className:"h-3 w-3"}):c.jsx(ur,{className:"h-3 w-3"}))]})}),c.jsx(je,{className:"w-[120px]",children:"Aes"})]})}),c.jsxs(qr,{children:[A.map(M=>c.jsxs(Ye,{children:[c.jsx(Se,{children:M.numerocm_consultor}),c.jsx(Se,{children:M.consultor}),c.jsx(Se,{children:M.email}),c.jsx(Se,{children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>N(M),children:[c.jsx(Ya,{className:"h-3.5 w-3.5"})," Editar"]}),c.jsxs(ae,{variant:"destructive",size:"sm",onClick:()=>v(M.id),children:[c.jsx(pr,{className:"h-3.5 w-3.5"})," Excluir"]})]})})]},M.id)),A.length===0&&c.jsx(Ye,{children:c.jsx(Se,{colSpan:4,className:"text-muted-foreground",children:"Nenhum resultado encontrado."})})]})]}),c.jsxs("div",{className:"flex items-center justify-between mt-3",children:[c.jsxs("div",{className:"text-xs text-muted-foreground",children:["Pgina ",u," de ",C]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ae,{variant:"outline",size:"sm",disabled:u<=1,onClick:()=>d(M=>Math.max(1,M-1)),children:"Anterior"}),c.jsx(ae,{variant:"outline",size:"sm",disabled:u>=C,onClick:()=>d(M=>Math.min(C,M+1)),children:"Prxima"})]})]}),c.jsx(jn,{open:!!m,onOpenChange:M=>!M&&v(null),children:c.jsxs(hn,{children:[c.jsxs(mn,{children:[c.jsx(gn,{children:"Excluir consultor?"}),c.jsx(vn,{children:"Esta ao no pode ser desfeita. O consultor ser removido da base."})]}),c.jsxs(pn,{children:[c.jsx(sa,{children:"Cancelar"}),c.jsx(ni,{onClick:()=>m&&I(m),children:"Excluir"})]})]})}),c.jsx(ba,{open:!!p,onOpenChange:M=>!M&&g(null),children:c.jsxs(Qn,{children:[c.jsx(Zn,{children:c.jsx(ea,{children:"Editar consultor"})}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx(de,{children:"Nome"}),c.jsx(_e,{value:y,onChange:M=>_(M.target.value)})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(de,{children:"Email"}),c.jsx(_e,{value:w,onChange:M=>E(M.target.value)})]})]}),c.jsxs(Za,{children:[c.jsx(ae,{variant:"outline",onClick:()=>g(null),children:"Cancelar"}),c.jsx(ae,{onClick:W,children:"Salvar"})]})]})})]})]})},Qp={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},NX=()=>{const{data:e=[],isLoading:t,error:r}=fc(),[n,a]=x.useState(""),[s,i]=x.useState("nome"),[o,l]=x.useState("asc"),[u,d]=x.useState(1),[f,h]=x.useState(10),[m,v]=x.useState(null),p=St(),g=x.useMemo(()=>{const b=n.trim().toLowerCase();return b?(e||[]).filter(S=>`${S.numerocm??""} ${S.nome??""} ${S.consultor??""} ${S.numerocm_consultor??""}`.toLowerCase().includes(b)):e},[e,n]),y=x.useMemo(()=>{const b=[...g];return b.sort((S,C)=>{const A=String(S[s]??"").toLowerCase(),j=String(C[s]??"").toLowerCase();return A<j?o==="asc"?-1:1:A>j?o==="asc"?1:-1:0}),b},[g,s,o]),_=Math.max(1,Math.ceil(y.length/f)),w=x.useMemo(()=>{const b=(u-1)*f;return y.slice(b,b+f)},[y,u,f]),E=b=>{s===b?l(S=>S==="asc"?"desc":"asc"):(i(b),l("asc"))},T=async b=>{try{const S=Qp==null?void 0:Qp.VITE_API_URL,C=typeof window<"u"?window.location.hostname:"127.0.0.1",A=S||`http://${C}:5000`,j=await fetch(`${A}/produtores/${b}`,{method:"DELETE"});if(!j.ok){const I=await j.text();throw new Error(I)}le.success("Produtor removido"),p.invalidateQueries({queryKey:["produtores","by-consultor"]})}catch(S){le.error(S.message||"Erro ao remover produtor")}finally{v(null)}};return c.jsxs(Ue,{children:[c.jsx(vt,{children:c.jsx(xt,{children:"Produtores"})}),c.jsxs(pt,{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(_e,{placeholder:"Buscar por nome, nmero CM, consultor...",value:n,onChange:b=>a(b.target.value)}),c.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[c.jsx(de,{htmlFor:"pageSize",className:"text-xs",children:"Itens/pgina"}),c.jsxs("select",{id:"pageSize",className:"border rounded h-8 px-2 text-sm",value:f,onChange:b=>{h(Number(b.target.value)),d(1)},children:[c.jsx("option",{value:10,children:"10"}),c.jsx("option",{value:20,children:"20"}),c.jsx("option",{value:50,children:"50"})]})]})]}),t?c.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando produtores..."}):r?c.jsx("p",{className:"text-sm text-destructive",children:"Erro ao carregar produtores."}):c.jsxs(Hr,{className:"w-full",children:[c.jsx(Gr,{children:c.jsxs(Ye,{children:[c.jsx(je,{children:c.jsxs("button",{className:"flex items-center gap-1",onClick:()=>E("nome"),children:["Produtor ",s==="nome"&&(o==="asc"?c.jsx(bn,{className:"h-3 w-3"}):c.jsx(ur,{className:"h-3 w-3"}))]})}),c.jsx(je,{className:"w-[120px]",children:"Ao"})]})}),c.jsxs(qr,{children:[w.map(b=>c.jsxs(Ye,{children:[c.jsx(Se,{children:c.jsxs("span",{className:"block whitespace-normal break-words",title:`${b.numerocm??""} - ${b.nome??""}`,children:[b.numerocm,b.nome?` - ${b.nome}`:""]})}),c.jsx(Se,{children:c.jsx("div",{className:"flex items-center gap-2",children:c.jsxs(ae,{variant:"destructive",size:"sm",onClick:()=>v(b.id),children:[c.jsx(pr,{className:"h-3.5 w-3.5"})," Excluir"]})})})]},b.id)),w.length===0&&c.jsx(Ye,{children:c.jsx(Se,{colSpan:3,className:"text-muted-foreground",children:"Nenhum resultado encontrado."})})]})]}),c.jsxs("div",{className:"flex items-center justify-between mt-3",children:[c.jsxs("div",{className:"text-xs text-muted-foreground",children:["Pgina ",u," de ",_]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ae,{variant:"outline",size:"sm",disabled:u<=1,onClick:()=>d(b=>Math.max(1,b-1)),children:"Anterior"}),c.jsx(ae,{variant:"outline",size:"sm",disabled:u>=_,onClick:()=>d(b=>Math.min(_,b+1)),children:"Prxima"})]})]}),c.jsx(jn,{open:!!m,onOpenChange:b=>!b&&v(null),children:c.jsxs(hn,{children:[c.jsxs(mn,{children:[c.jsx(gn,{children:"Excluir produtor?"}),c.jsx(vn,{children:"Esta ao no pode ser desfeita. O produtor ser removido da base."})]}),c.jsxs(pn,{children:[c.jsx(sa,{children:"Cancelar"}),c.jsx(ni,{onClick:()=>m&&T(m),children:"Excluir"})]})]})})]})]})},Zp={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},IX=()=>{const{data:e=[],isLoading:t,error:r}=Qi(),[n,a]=x.useState(""),[s,i]=x.useState("nomefazenda"),[o,l]=x.useState("asc"),[u,d]=x.useState(1),[f,h]=x.useState(10),[m,v]=x.useState(null),[p,g]=x.useState(null),[y,_]=x.useState(""),[w,E]=x.useState(""),T=St(),{data:b=[]}=$y(),{data:S=[]}=fc(),C=x.useMemo(()=>{const z=n.trim().toLowerCase();return z?(e||[]).filter(V=>{var k,G,L;const Y=((k=S.find(D=>String(D.numerocm||"")===String(V.numerocm||"")))==null?void 0:k.nome)||"",F=((G=b.find(D=>String(D.numerocm_consultor||"")===String(V.numerocm_consultor||"")))==null?void 0:G.consultor)||"",ne=((L=b.find(D=>String(D.numerocm_consultor||"")===String(V.numerocm_consultor||"")))==null?void 0:L.numerocm_consultor)||"";return`${V.nomefazenda??""} ${V.idfazenda??""} ${V.numerocm??""} ${String(V.numerocm_consultor??"")} ${Y} ${F} ${ne}`.toLowerCase().includes(z)}):e},[e,n,S,b]),A=x.useMemo(()=>{const z=[...C];return z.sort((V,Y)=>{var ee,k,G,L;let F="",ne="";if(s==="produtor_nome"){const D=(ee=S.find(P=>String(P.numerocm||"")===String(V.numerocm||"")))==null?void 0:ee.nome,O=(k=S.find(P=>String(P.numerocm||"")===String(Y.numerocm||"")))==null?void 0:k.nome;F=String(D??"").toLowerCase(),ne=String(O??"").toLowerCase()}else if(s==="consultor_nome"){const D=(G=b.find(P=>String(P.numerocm_consultor||"")===String(V.numerocm_consultor||"")))==null?void 0:G.consultor,O=(L=b.find(P=>String(P.numerocm_consultor||"")===String(Y.numerocm_consultor||"")))==null?void 0:L.consultor;F=String(D??"").toLowerCase(),ne=String(O??"").toLowerCase()}else{const D=V[s],O=Y[s];F=String(D??"").toLowerCase(),ne=String(O??"").toLowerCase()}return F<ne?o==="asc"?-1:1:F>ne?o==="asc"?1:-1:0}),z},[C,s,o,S,b]),j=Math.max(1,Math.ceil(A.length/f)),I=x.useMemo(()=>{const z=(u-1)*f;return A.slice(z,z+f)},[A,u,f]),N=z=>{s===z?l(V=>V==="asc"?"desc":"asc"):(i(z),l("asc"))},W=async z=>{try{const{error:V}=await ge.from("fazendas").delete().eq("idfazenda",z.idfazenda).eq("numerocm",z.numerocm);if(V)throw V;le.success("Fazenda removida"),T.invalidateQueries({queryKey:["fazendas","by-consultor"]})}catch(V){le.error(V.message||"Erro ao remover fazenda")}finally{v(null)}},M=z=>{g(z),_(z.nomefazenda??""),E(z.numerocm_consultor!=null?String(z.numerocm_consultor):"")},X=async()=>{if(p)try{const z={nomefazenda:y};z.numerocm_consultor=w?String(w):null;const V=Zp==null?void 0:Zp.VITE_API_URL,Y=typeof window<"u"?window.location.hostname:"127.0.0.1",F=V||`http://${Y}:5000`,ne=await fetch(`${F}/fazendas/by_key`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({numerocm:p.numerocm,idfazenda:p.idfazenda,...z})});if(!ne.ok){const ee=await ne.text();throw new Error(ee)}le.success("Fazenda atualizada"),T.invalidateQueries({queryKey:["fazendas","by-consultor"]}),g(null)}catch(z){le.error(z.message||"Erro ao atualizar fazenda")}};return c.jsxs(Ue,{children:[c.jsx(vt,{children:c.jsx(xt,{children:"Fazendas"})}),c.jsxs(pt,{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(_e,{placeholder:"Buscar por nome, ID fazenda, nmero CM...",value:n,onChange:z=>a(z.target.value)}),c.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[c.jsx(de,{htmlFor:"pageSize",className:"text-xs",children:"Itens/pgina"}),c.jsxs("select",{id:"pageSize",className:"border rounded h-8 px-2 text-sm",value:f,onChange:z=>{h(Number(z.target.value)),d(1)},children:[c.jsx("option",{value:10,children:"10"}),c.jsx("option",{value:20,children:"20"}),c.jsx("option",{value:50,children:"50"})]})]})]}),t?c.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando fazendas..."}):r?c.jsx("p",{className:"text-sm text-destructive",children:"Erro ao carregar fazendas."}):c.jsxs(Hr,{children:[c.jsx(Gr,{children:c.jsxs(Ye,{children:[c.jsx(je,{className:"w-[130px]",children:c.jsxs("button",{className:"flex items-center gap-1",onClick:()=>N("numerocm"),children:["Produtor ",s==="numerocm"&&(o==="asc"?c.jsx(bn,{className:"h-3 w-3"}):c.jsx(ur,{className:"h-3 w-3"}))]})}),c.jsx(je,{children:c.jsxs("button",{className:"flex items-center gap-1",onClick:()=>N("nomefazenda"),children:["Fazenda ",s==="nomefazenda"&&(o==="asc"?c.jsx(bn,{className:"h-3 w-3"}):c.jsx(ur,{className:"h-3 w-3"}))]})}),c.jsx(je,{children:c.jsxs("button",{className:"flex items-center gap-1",onClick:()=>N("consultor_nome"),children:["Consultor ",s==="consultor_nome"&&(o==="asc"?c.jsx(bn,{className:"h-3 w-3"}):c.jsx(ur,{className:"h-3 w-3"}))]})}),c.jsx(je,{className:"w-[120px]",children:"Aes"})]})}),c.jsxs(qr,{children:[I.map(z=>c.jsxs(Ye,{children:[c.jsx(Se,{children:(()=>{const V=S.find(ee=>String(ee.numerocm||"")===String(z.numerocm||"")),Y=z.numerocm?String(z.numerocm):"",F=(V==null?void 0:V.nome)||"";return`${Y}${Y&&F?" - ":""}${F}`.trim()||""})()}),c.jsx(Se,{children:(()=>{const V=z.idfazenda??"",Y=z.nomefazenda??"";return`${V}${V&&Y?" - ":""}${Y}`.trim()||""})()}),c.jsx(Se,{children:(()=>{const V=b.find(ee=>String(ee.numerocm_consultor||"")===String(z.numerocm_consultor||""));if(!V)return"";const Y=V.numerocm_consultor?String(V.numerocm_consultor):"",F=V.consultor||"";return`${Y}${Y&&F?" - ":""}${F}`.trim()||""})()}),c.jsx(Se,{children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>M(z),children:[c.jsx(Ya,{className:"h-3.5 w-3.5"})," Editar"]}),c.jsxs(ae,{variant:"destructive",size:"sm",onClick:()=>v({idfazenda:z.idfazenda,numerocm:z.numerocm}),children:[c.jsx(pr,{className:"h-3.5 w-3.5"})," Excluir"]})]})})]},`${z.numerocm}-${z.idfazenda}`)),I.length===0&&c.jsx(Ye,{children:c.jsx(Se,{colSpan:4,className:"text-muted-foreground",children:"Nenhum resultado encontrado."})})]})]}),c.jsxs("div",{className:"flex items-center justify-between mt-3",children:[c.jsxs("div",{className:"text-xs text-muted-foreground",children:["Pgina ",u," de ",j]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ae,{variant:"outline",size:"sm",disabled:u<=1,onClick:()=>d(z=>Math.max(1,z-1)),children:"Anterior"}),c.jsx(ae,{variant:"outline",size:"sm",disabled:u>=j,onClick:()=>d(z=>Math.min(j,z+1)),children:"Prxima"})]})]}),c.jsx(jn,{open:!!m,onOpenChange:z=>!z&&v(null),children:c.jsxs(hn,{children:[c.jsxs(mn,{children:[c.jsx(gn,{children:"Excluir fazenda?"}),c.jsx(vn,{children:"Esta ao no pode ser desfeita. A fazenda ser removida da base."})]}),c.jsxs(pn,{children:[c.jsx(sa,{children:"Cancelar"}),c.jsx(ni,{onClick:()=>m&&W(m),children:"Excluir"})]})]})}),c.jsx(ba,{open:!!p,onOpenChange:z=>!z&&g(null),children:c.jsxs(Qn,{children:[c.jsx(Zn,{children:c.jsx(ea,{children:"Editar fazenda"})}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx(de,{children:"Nome"}),c.jsx(_e,{value:y,onChange:z=>_(z.target.value)})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-3",children:c.jsxs("div",{className:"space-y-1",children:[c.jsx(de,{children:"Consultor"}),c.jsxs(yr,{value:w||void 0,onValueChange:z=>E(z),children:[c.jsx(ir,{children:c.jsx(wr,{placeholder:"Selecione o consultor"})}),c.jsx(or,{children:b.map(z=>c.jsxs(ut,{value:String(z.numerocm_consultor||""),children:[z.numerocm_consultor?String(z.numerocm_consultor):"",z.consultor?` - ${z.consultor}`:""]},z.id))})]})]})})]}),c.jsxs(Za,{children:[c.jsx(ae,{variant:"outline",onClick:()=>g(null),children:"Cancelar"}),c.jsx(ae,{onClick:X,children:"Salvar"})]})]})})]})]})};function RX(){const{data:e=[],isLoading:t}=oy(),{data:r=[],isLoading:n}=Qi(),a=St(),[s,i]=x.useState(""),[o,l]=x.useState("nome"),[u,d]=x.useState("asc"),[f,h]=x.useState(null),[m,v]=x.useState(null),[p,g]=x.useState(""),[y,_]=x.useState(""),[w,E]=x.useState(1),[T,b]=x.useState(10),S=x.useMemo(()=>e.map(V=>({...V,fazenda:r.find(Y=>Y.id===V.fazenda_id)})),[e,r]),C=x.useMemo(()=>{if(!s)return S;const V=s.toLowerCase();return S.filter(Y=>{var F,ne;return Y.nome.toLowerCase().includes(V)||((ne=(F=Y.fazenda)==null?void 0:F.nomefazenda)==null?void 0:ne.toLowerCase().includes(V))})},[S,s]),A=x.useMemo(()=>{const V=[...C];return V.sort((Y,F)=>{var k,G;let ne,ee;return o==="fazenda"?(ne=((k=Y.fazenda)==null?void 0:k.nomefazenda)||"",ee=((G=F.fazenda)==null?void 0:G.nomefazenda)||""):(ne=Y[o],ee=F[o]),typeof ne=="string"&&(ne=ne.toLowerCase()),typeof ee=="string"&&(ee=ee.toLowerCase()),ne<ee?u==="asc"?-1:1:ne>ee?u==="asc"?1:-1:0}),V},[C,o,u]),j=x.useMemo(()=>{const V=(w-1)*T;return A.slice(V,V+T)},[A,w,T]),I=Math.ceil(A.length/T),N=V=>{o===V?d(u==="asc"?"desc":"asc"):(l(V),d("asc"))},W=async()=>{if(!f)return;const{error:V}=await ge.from("talhoes").delete().eq("id",f);V?(le.error("Erro ao deletar talho"),console.error(V)):(le.success("Talho deletado com sucesso"),a.invalidateQueries({queryKey:["talhoes"]})),h(null)},M=V=>{v(V),g(V.nome),_(V.area.toString())},X=async()=>{if(!m)return;const V=parseFloat(y);if(isNaN(V)||V<=0){le.error("rea invlida");return}const{error:Y}=await ge.from("talhoes").update({nome:p,area:V}).eq("id",m.id);Y?(le.error("Erro ao atualizar talho"),console.error(Y)):(le.success("Talho atualizado com sucesso"),a.invalidateQueries({queryKey:["talhoes"]}),v(null))},z=({column:V})=>o!==V?null:u==="asc"?c.jsx(bn,{className:"inline w-4 h-4 ml-1"}):c.jsx(ur,{className:"inline w-4 h-4 ml-1"});return t||n?c.jsx("div",{className:"p-4",children:"Carregando talhes..."}):c.jsxs(c.Fragment,{children:[c.jsxs(Ue,{children:[c.jsx(vt,{children:c.jsxs(xt,{children:["Talhes Cadastrados (",A.length,")"]})}),c.jsxs(pt,{className:"space-y-4",children:[c.jsxs("div",{className:"flex gap-4 items-center",children:[c.jsx(_e,{placeholder:"Buscar por nome ou fazenda...",value:s,onChange:V=>i(V.target.value),className:"max-w-sm"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(de,{children:"Itens por pgina:"}),c.jsxs("select",{value:T,onChange:V=>{b(Number(V.target.value)),E(1)},className:"border rounded px-2 py-1",children:[c.jsx("option",{value:10,children:"10"}),c.jsx("option",{value:25,children:"25"}),c.jsx("option",{value:50,children:"50"}),c.jsx("option",{value:100,children:"100"})]})]})]}),c.jsx("div",{className:"border rounded",children:c.jsxs(Hr,{children:[c.jsx(Gr,{children:c.jsxs(Ye,{children:[c.jsxs(je,{className:"cursor-pointer",onClick:()=>N("fazenda"),children:["Fazenda ",c.jsx(z,{column:"fazenda"})]}),c.jsxs(je,{className:"cursor-pointer",onClick:()=>N("nome"),children:["Talho ",c.jsx(z,{column:"nome"})]}),c.jsxs(je,{className:"cursor-pointer text-right",onClick:()=>N("area"),children:["rea (ha) ",c.jsx(z,{column:"area"})]}),c.jsx(je,{className:"text-right",children:"Aes"})]})}),c.jsx(qr,{children:j.map(V=>{var Y;return c.jsxs(Ye,{children:[c.jsx(Se,{children:((Y=V.fazenda)==null?void 0:Y.nomefazenda)||"-"}),c.jsx(Se,{children:V.nome}),c.jsx(Se,{className:"text-right",children:V.area.toLocaleString("pt-BR")}),c.jsx(Se,{className:"text-right",children:c.jsxs("div",{className:"flex gap-2 justify-end",children:[c.jsx(ae,{variant:"outline",size:"sm",onClick:()=>M(V),children:c.jsx(Ya,{className:"w-4 h-4"})}),c.jsx(ae,{variant:"destructive",size:"sm",onClick:()=>h(V.id),children:c.jsx(pr,{className:"w-4 h-4"})})]})})]},V.id)})})]})}),I>1&&c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{className:"text-sm text-muted-foreground",children:["Pgina ",w," de ",I]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(ae,{variant:"outline",size:"sm",disabled:w===1,onClick:()=>E(w-1),children:"Anterior"}),c.jsx(ae,{variant:"outline",size:"sm",disabled:w===I,onClick:()=>E(w+1),children:"Prxima"})]})]})]})]}),c.jsx(jn,{open:!!f,onOpenChange:()=>h(null),children:c.jsxs(hn,{children:[c.jsxs(mn,{children:[c.jsx(gn,{children:"Confirmar excluso"}),c.jsx(vn,{children:"Tem certeza que deseja deletar este talho? Esta ao no pode ser desfeita."})]}),c.jsxs(pn,{children:[c.jsx(sa,{children:"Cancelar"}),c.jsx(ni,{onClick:W,children:"Deletar"})]})]})}),c.jsx(ba,{open:!!m,onOpenChange:()=>v(null),children:c.jsxs(Qn,{children:[c.jsx(Zn,{children:c.jsx(ea,{children:"Editar Talho"})}),c.jsxs("div",{className:"space-y-4 py-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(de,{htmlFor:"edit-nome",children:"Nome do Talho"}),c.jsx(_e,{id:"edit-nome",value:p,onChange:V=>g(V.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(de,{htmlFor:"edit-area",children:"rea (ha)"}),c.jsx(_e,{id:"edit-area",type:"number",step:"0.01",value:y,onChange:V=>_(V.target.value)})]})]}),c.jsxs(Za,{children:[c.jsx(ae,{variant:"outline",onClick:()=>v(null),children:"Cancelar"}),c.jsx(ae,{onClick:X,children:"Salvar"})]})]})})]})}function PX(){const[e,t]=x.useState(null),[r,n]=x.useState(!1),[a,s]=x.useState(0),[i,o]=x.useState(!1),[l,u]=x.useState({imported:0,deleted:0}),[d,f]=x.useState(!1),h=v=>{v.target.files&&v.target.files[0]&&t(v.target.files[0])},m=async()=>{if(!e){le.error("Por favor, selecione um arquivo XLSX");return}n(!0),s(0);try{const{data:{user:v}}=await ge.auth.getUser();if(!v){le.error("Usurio no autenticado");return}let p=0;if(d){const{error:I}=await ge.from("talhoes").delete().neq("id","00000000-0000-0000-0000-000000000000");if(I){console.error("Erro ao limpar tabela:",I),le.error("Erro ao limpar talhes existentes");return}const{count:N}=await ge.from("talhoes").select("*",{count:"exact",head:!0});p=N||0}s(10);const g=await e.arrayBuffer(),y=ws(g,{type:"array"}),_=y.SheetNames[0],w=y.Sheets[_],E=uo.sheet_to_json(w);s(30);const T=["fazenda_id","nome","area"],b=E[0]||{},S=T.filter(I=>!(I in b));if(S.length>0){le.error(`Colunas obrigatrias faltando: ${S.join(", ")}`);return}const C=E.filter(I=>I.fazenda_id&&I.nome&&I.area).map(I=>({fazenda_id:String(I.fazenda_id),nome:String(I.nome),area:parseFloat(I.area)}));if(C.length===0){le.error("Nenhum registro vlido encontrado no arquivo");return}s(50);const A=500;let j=0;for(let I=0;I<C.length;I+=A){const N=C.slice(I,I+A),{error:W}=await ge.from("talhoes").upsert(N,{onConflict:"id"});if(W){console.error("Erro no batch:",W),le.error(`Erro ao importar batch ${Math.floor(I/A)+1}`);return}j+=N.length,s(50+j/C.length*40)}await ge.from("import_history").insert({user_id:v.id,tabela_nome:"talhoes",arquivo_nome:e.name,registros_importados:j,registros_deletados:p,limpar_antes:d}),s(100),u({imported:j,deleted:p}),o(!0),le.success(`Importao concluda! ${j} talhes importados.`)}catch(v){console.error("Erro na importao:",v),le.error("Erro ao processar arquivo")}finally{n(!1),t(null)}};return c.jsxs(c.Fragment,{children:[c.jsxs(Ue,{children:[c.jsx(vt,{children:c.jsx(xt,{children:"Importar Talhes"})}),c.jsxs(pt,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(de,{htmlFor:"file-upload",children:"Arquivo XLSX"}),c.jsx(_e,{id:"file-upload",type:"file",accept:".xlsx",onChange:h,disabled:r}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Colunas obrigatrias: fazenda_id, nome, area"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Bt,{id:"limpar-antes",checked:d,onCheckedChange:v=>f(v===!0),disabled:r}),c.jsx(de,{htmlFor:"limpar-antes",className:"cursor-pointer",children:"Limpar todos os talhes antes de importar"})]}),r&&c.jsxs("div",{className:"space-y-2",children:[c.jsx(ti,{value:a}),c.jsxs("p",{className:"text-sm text-center text-muted-foreground",children:["Importando... ",Math.round(a),"%"]})]}),c.jsx(ae,{onClick:m,disabled:!e||r,className:"w-full",children:r?"Importando...":"Importar Talhes"})]})]}),c.jsx(jn,{open:i,onOpenChange:o,children:c.jsxs(hn,{children:[c.jsxs(mn,{children:[c.jsx(gn,{children:"Importao Concluda"}),c.jsxs(vn,{className:"space-y-2",children:[c.jsxs("p",{children:[" ",l.imported," talhes importados"]}),l.deleted>0&&c.jsxs("p",{children:[" ",l.deleted," talhes deletados"]})]})]}),c.jsx(pn,{children:c.jsx(ni,{onClick:()=>o(!1),children:"OK"})})]})})]})}const eg={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},fR=()=>bt({queryKey:["calendario-aplicacoes"],queryFn:async()=>{const e=eg==null?void 0:eg.VITE_API_URL,t=typeof window<"u"?window.location.hostname:"127.0.0.1",r=e||`http://${t}:5000`,n=await fetch(`${r}/calendario_aplicacoes`);if(!n.ok){const l=await n.text();throw new Error(l)}const a=await n.json(),s=(a==null?void 0:a.items)||[],i=Array.from(new Set(s.map(l=>String(l.descricao_classe||"").trim()).filter(Boolean))),o={};for(const l of s){const u=String(l.descricao_classe||"").trim(),d=String(l.descr_aplicacao||"").trim();!u||!d||(o[u]||(o[u]=[]),o[u].includes(d)||o[u].push(d))}return{rows:s,classes:i,aplicacoesPorClasse:o}}}),Pc={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},OX=()=>{const{data:e,isLoading:t,error:r}=fR(),n=(e==null?void 0:e.rows)||[],[a,s]=x.useState(""),[i,o]=x.useState("descricao_classe"),[l,u]=x.useState("asc"),[d,f]=x.useState(1),[h,m]=x.useState(10),[v,p]=x.useState(null),[g,y]=x.useState(null),[_,w]=x.useState(""),[E,T]=x.useState(""),[b,S]=x.useState(""),[C,A]=x.useState(""),[j,I]=x.useState(""),N=St(),W=x.useMemo(()=>{const ee=a.trim().toLowerCase();return ee?(n||[]).filter(k=>`${String(k.cod_aplic??"")} ${String(k.descr_aplicacao??"")} ${String(k.cod_classe??"")} ${String(k.descricao_classe??"")} ${String(k.trat_sementes??"")}`.toLowerCase().includes(ee)):n},[n,a]),M=x.useMemo(()=>{const ee=[...W];return ee.sort((k,G)=>{const L=String(k[i]??"").toLowerCase(),D=String(G[i]??"").toLowerCase();return L<D?l==="asc"?-1:1:L>D?l==="asc"?1:-1:0}),ee},[W,i,l]),X=Math.max(1,Math.ceil(M.length/h)),z=x.useMemo(()=>{const ee=(d-1)*h;return M.slice(ee,ee+h)},[M,d,h]),V=ee=>{i===ee?u(k=>k==="asc"?"desc":"asc"):(o(ee),u("asc"))},Y=async ee=>{try{const k=Pc==null?void 0:Pc.VITE_API_URL,G=typeof window<"u"?window.location.hostname:"127.0.0.1",L=k||`http://${G}:5000`,D=await fetch(`${L}/calendario_aplicacoes/${ee}`,{method:"DELETE"});if(!D.ok){const O=await D.text();throw new Error(O)}le.success("Aplicao removida"),N.invalidateQueries({queryKey:["calendario-aplicacoes"]})}catch(k){le.error(k.message||"Erro ao remover aplicao")}finally{p(null)}},F=ee=>{y(ee),w(ee.descr_aplicacao??""),T(String(ee.cod_classe??"")),S(ee.descricao_classe??""),A(ee.trat_sementes??""),I(String(ee.cod_aplic_ger??""))},ne=async()=>{if(g)try{const ee=Pc==null?void 0:Pc.VITE_API_URL,k=typeof window<"u"?window.location.hostname:"127.0.0.1",G=ee||`http://${k}:5000`,L={descr_aplicacao:_,cod_classe:E||null,descricao_classe:b,trat_sementes:C||null,cod_aplic_ger:j||null},D=await fetch(`${G}/calendario_aplicacoes/${g.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(L)});if(!D.ok){const O=await D.text();throw new Error(O)}le.success("Aplicao atualizada"),N.invalidateQueries({queryKey:["calendario-aplicacoes"]}),y(null)}catch(ee){le.error(ee.message||"Erro ao atualizar aplicao")}};return c.jsxs(Ue,{children:[c.jsx(vt,{children:c.jsx(xt,{children:"Calendrio de Aplicaes"})}),c.jsxs(pt,{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(_e,{placeholder:"Buscar por aplicao, classe, cdigo...",value:a,onChange:ee=>s(ee.target.value)}),c.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[c.jsx(de,{htmlFor:"pageSize",className:"text-xs",children:"Itens/pgina"}),c.jsxs("select",{id:"pageSize",className:"border rounded h-8 px-2 text-sm",value:h,onChange:ee=>{m(Number(ee.target.value)),f(1)},children:[c.jsx("option",{value:10,children:"10"}),c.jsx("option",{value:20,children:"20"}),c.jsx("option",{value:50,children:"50"})]})]})]}),t?c.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando calendrio..."}):r?c.jsx("p",{className:"text-sm text-destructive",children:"Erro ao carregar calendrio."}):c.jsxs(Hr,{children:[c.jsx(Gr,{children:c.jsxs(Ye,{children:[c.jsx(je,{className:"w-[140px]",children:c.jsxs("button",{className:"flex items-center gap-1",onClick:()=>V("cod_aplic"),children:["Cd. Aplicao ",i==="cod_aplic"&&(l==="asc"?c.jsx(bn,{className:"h-3 w-3"}):c.jsx(ur,{className:"h-3 w-3"}))]})}),c.jsx(je,{children:c.jsxs("button",{className:"flex items-center gap-1",onClick:()=>V("descr_aplicacao"),children:["Aplicao ",i==="descr_aplicacao"&&(l==="asc"?c.jsx(bn,{className:"h-3 w-3"}):c.jsx(ur,{className:"h-3 w-3"}))]})}),c.jsx(je,{className:"w-[140px]",children:c.jsxs("button",{className:"flex items-center gap-1",onClick:()=>V("cod_classe"),children:["Cd. Classe ",i==="cod_classe"&&(l==="asc"?c.jsx(bn,{className:"h-3 w-3"}):c.jsx(ur,{className:"h-3 w-3"}))]})}),c.jsx(je,{children:c.jsxs("button",{className:"flex items-center gap-1",onClick:()=>V("descricao_classe"),children:["Classe ",i==="descricao_classe"&&(l==="asc"?c.jsx(bn,{className:"h-3 w-3"}):c.jsx(ur,{className:"h-3 w-3"}))]})}),c.jsx(je,{children:c.jsxs("button",{className:"flex items-center gap-1",onClick:()=>V("trat_sementes"),children:["Trat. Sementes ",i==="trat_sementes"&&(l==="asc"?c.jsx(bn,{className:"h-3 w-3"}):c.jsx(ur,{className:"h-3 w-3"}))]})}),c.jsx(je,{className:"w-[120px]",children:"Aes"})]})}),c.jsxs(qr,{children:[z.map((ee,k)=>c.jsxs(Ye,{children:[c.jsx(Se,{children:String(ee.cod_aplic??"")}),c.jsx(Se,{children:ee.descr_aplicacao??""}),c.jsx(Se,{children:String(ee.cod_classe??"")}),c.jsx(Se,{children:ee.descricao_classe??""}),c.jsx(Se,{children:ee.trat_sementes??""}),c.jsx(Se,{children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>F(ee),children:[c.jsx(Ya,{className:"h-3.5 w-3.5"})," Editar"]}),c.jsxs(ae,{variant:"destructive",size:"sm",onClick:()=>ee.id&&p(ee.id),children:[c.jsx(pr,{className:"h-3.5 w-3.5"})," Excluir"]})]})})]},`${ee.cod_aplic}-${k}`)),z.length===0&&c.jsx(Ye,{children:c.jsx(Se,{colSpan:6,className:"text-muted-foreground",children:"Nenhum resultado encontrado."})})]})]}),c.jsxs("div",{className:"flex items-center justify-between mt-3",children:[c.jsxs("div",{className:"text-xs text-muted-foreground",children:["Pgina ",d," de ",X]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ae,{variant:"outline",size:"sm",disabled:d<=1,onClick:()=>f(ee=>Math.max(1,ee-1)),children:"Anterior"}),c.jsx(ae,{variant:"outline",size:"sm",disabled:d>=X,onClick:()=>f(ee=>Math.min(X,ee+1)),children:"Prxima"})]})]}),c.jsx(jn,{open:!!v,onOpenChange:ee=>!ee&&p(null),children:c.jsxs(hn,{children:[c.jsxs(mn,{children:[c.jsx(gn,{children:"Excluir aplicao?"}),c.jsx(vn,{children:"Esta ao no pode ser desfeita. A aplicao ser removida da base."})]}),c.jsxs(pn,{children:[c.jsx(sa,{children:"Cancelar"}),c.jsx(ni,{onClick:()=>v&&Y(v),children:"Excluir"})]})]})}),c.jsx(ba,{open:!!g,onOpenChange:ee=>!ee&&y(null),children:c.jsxs(Qn,{children:[c.jsx(Zn,{children:c.jsx(ea,{children:"Editar aplicao"})}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx(de,{children:"Cd. aplicao (somente leitura)"}),c.jsx(_e,{value:String((g==null?void 0:g.cod_aplic)??""),readOnly:!0})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(de,{children:"Aplicao"}),c.jsx(_e,{value:_,onChange:ee=>w(ee.target.value)})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx(de,{children:"Cd. classe"}),c.jsx(_e,{value:E,onChange:ee=>T(ee.target.value)})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(de,{children:"Classe"}),c.jsx(_e,{value:b,onChange:ee=>S(ee.target.value)})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx(de,{children:"Trat. sementes"}),c.jsx(_e,{value:C,onChange:ee=>A(ee.target.value)})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(de,{children:"Cd. aplic. ger."}),c.jsx(_e,{value:j,onChange:ee=>I(ee.target.value)})]})]})]}),c.jsxs(Za,{children:[c.jsx(ae,{variant:"outline",onClick:()=>y(null),children:"Cancelar"}),c.jsx(ae,{onClick:ne,children:"Salvar"})]})]})})]})]})},FX=e=>bt({queryKey:["tratamentos-sementes",e],queryFn:async()=>{let t=ge.from("tratamentos_sementes").select("*").eq("ativo",!0).order("nome");const{data:r,error:n}=await t;if(n)throw n;return r||[]}}),DX=()=>{const{data:e}=hm(),{data:t}=FX(),[r,n]=x.useState(""),[a,s]=x.useState([]),[i,o]=x.useState(!1),l=d=>{s(f=>f.includes(d)?f.filter(h=>h!==d):[...f,d])},u=async()=>{if(!r){le.error("Selecione um tratamento");return}if(a.length===0){le.error("Selecione pelo menos um cultivar");return}o(!0);try{await ge.from("cultivares_tratamentos").delete().eq("tratamento_id",r);const d=a.map(h=>({cultivar:h,tratamento_id:r})),{error:f}=await ge.from("cultivares_tratamentos").insert(d);if(f)throw f;le.success("Cultivares vinculados com sucesso!"),n(""),s([])}catch(d){console.error("Erro ao vincular cultivares:",d),le.error("Erro ao vincular cultivares")}finally{o(!1)}};return c.jsxs(Ue,{children:[c.jsx(vt,{children:c.jsx(xt,{children:"Vincular Cultivares aos Tratamentos"})}),c.jsxs(pt,{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(de,{children:"Tratamento"}),c.jsxs(yr,{value:r,onValueChange:n,children:[c.jsx(ir,{children:c.jsx(wr,{placeholder:"Selecione um tratamento"})}),c.jsx(or,{children:t==null?void 0:t.map(d=>c.jsx(ut,{value:d.id,children:d.nome},d.id))})]})]}),r&&c.jsxs("div",{className:"space-y-2",children:[c.jsx(de,{children:"Cultivares Disponveis"}),c.jsx("div",{className:"border rounded-md p-4 space-y-2 max-h-64 overflow-y-auto",children:e==null?void 0:e.map(d=>c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Bt,{id:d.cultivar,checked:a.includes(d.cultivar),onCheckedChange:()=>l(d.cultivar)}),c.jsxs(de,{htmlFor:d.cultivar,className:"cursor-pointer",children:[d.cultivar," - ",d.cultura]})]},d.cultivar))})]}),c.jsx(ae,{onClick:u,disabled:i||!r,children:i?"Salvando...":"Salvar Vnculos"})]})]})},tg={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},MX=()=>{const[e,t]=x.useState(""),[r,n]=x.useState(""),{toast:a}=dn(),s=St(),i=ot({mutationFn:async l=>{const u=tg==null?void 0:tg.VITE_API_URL,d=typeof window<"u"?window.location.hostname:"127.0.0.1",f=u||`http://${d}:5000`,h=await fetch(`${f}/epocas`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nome:l.nome,descricao:l.descricao||null,ativa:!0})});if(!h.ok){const m=await h.text();throw new Error(m)}},onSuccess:()=>{s.invalidateQueries({queryKey:["admin-epocas"]}),a({title:"Sucesso",description:"poca cadastrada com sucesso"}),t(""),n("")},onError:l=>{a({title:"Erro ao cadastrar",description:l.message,variant:"destructive"})}}),o=l=>{if(l.preventDefault(),!e.trim()){a({title:"Erro",description:"O nome  obrigatrio",variant:"destructive"});return}i.mutate({nome:e.trim(),descricao:r.trim()})};return c.jsxs(Ue,{children:[c.jsx(vt,{children:c.jsx(xt,{children:"Cadastrar Nova poca"})}),c.jsx(pt,{children:c.jsxs("form",{onSubmit:o,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(de,{htmlFor:"nome",children:"Nome da poca *"}),c.jsx(_e,{id:"nome",value:e,onChange:l=>t(l.target.value),placeholder:"Ex: poca 1",required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(de,{htmlFor:"descricao",children:"Descrio"}),c.jsx(_e,{id:"descricao",value:r,onChange:l=>n(l.target.value),placeholder:"Descrio opcional"})]}),c.jsxs(ae,{type:"submit",disabled:i.isPending,children:[c.jsx(Ka,{className:"h-4 w-4 mr-2"}),"Adicionar poca"]})]})})]})},Oc={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},LX=()=>{const{toast:e}=dn(),t=St(),{data:r,isLoading:n}=bt({queryKey:["admin-epocas"],queryFn:async()=>{const s=Oc==null?void 0:Oc.VITE_API_URL,i=typeof window<"u"?window.location.hostname:"127.0.0.1",o=s||`http://${i}:5000`,l=await fetch(`${o}/epocas`);if(!l.ok){const d=await l.text();throw new Error(d)}const u=await l.json();return u==null?void 0:u.items}}),a=ot({mutationFn:async s=>{const i=Oc==null?void 0:Oc.VITE_API_URL,o=typeof window<"u"?window.location.hostname:"127.0.0.1",l=i||`http://${o}:5000`,u=await fetch(`${l}/epocas/${s}`,{method:"DELETE"});if(!u.ok){const d=await u.text();throw new Error(d)}},onSuccess:()=>{t.invalidateQueries({queryKey:["admin-epocas"]}),e({title:"Sucesso",description:"poca excluda com sucesso"})},onError:s=>{e({title:"Erro ao excluir",description:s.message,variant:"destructive"})}});return n?c.jsx("div",{className:"flex justify-center p-8",children:c.jsx(Fl,{className:"h-6 w-6 animate-spin"})}):c.jsxs(Ue,{children:[c.jsxs(vt,{children:[c.jsx(xt,{children:"pocas Cadastradas"}),c.jsx(aa,{children:"Lista de todas as pocas no sistema"})]}),c.jsx(pt,{children:c.jsxs(Hr,{children:[c.jsx(Gr,{children:c.jsxs(Ye,{children:[c.jsx(je,{children:"Nome"}),c.jsx(je,{children:"Descrio"}),c.jsx(je,{children:"Status"}),c.jsx(je,{className:"text-right",children:"Aes"})]})}),c.jsx(qr,{children:r==null?void 0:r.map(s=>c.jsxs(Ye,{children:[c.jsx(Se,{className:"font-medium",children:s.nome}),c.jsx(Se,{children:s.descricao||"-"}),c.jsx(Se,{children:c.jsx(ht,{variant:s.ativa?"default":"secondary",children:s.ativa?"Ativa":"Inativa"})}),c.jsx(Se,{className:"text-right",children:c.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>a.mutate(s.id),disabled:a.isPending,children:c.jsx(pr,{className:"h-4 w-4"})})})]},s.id))})]})})]})},UX=e=>{const{toast:t}=dn(),r=St(),{data:n,isLoading:a,error:s}=bt({queryKey:["gestor-consultores",e],queryFn:async()=>{if(!e)return[];const{data:l,error:u}=await ge.from("gestor_consultores").select("*").eq("user_id",e).order("created_at",{ascending:!1});if(u)throw u;return l},enabled:!!e}),i=ot({mutationFn:async({userId:l,numerocmConsultor:u})=>{const{data:d,error:f}=await ge.from("gestor_consultores").insert({user_id:l,numerocm_consultor:u}).select().single();if(f)throw f;return d},onSuccess:()=>{r.invalidateQueries({queryKey:["gestor-consultores"]}),r.invalidateQueries({queryKey:["produtores"]}),r.invalidateQueries({queryKey:["fazendas"]}),t({title:"Consultor associado",description:"O consultor foi associado com sucesso ao gestor."})},onError:l=>{t({title:"Erro ao associar consultor",description:l.message,variant:"destructive"})}}),o=ot({mutationFn:async l=>{const{error:u}=await ge.from("gestor_consultores").delete().eq("id",l);if(u)throw u},onSuccess:()=>{r.invalidateQueries({queryKey:["gestor-consultores"]}),r.invalidateQueries({queryKey:["produtores"]}),r.invalidateQueries({queryKey:["fazendas"]}),t({title:"Associao removida",description:"A associao com o consultor foi removida."})},onError:l=>{t({title:"Erro ao remover associao",description:l.message,variant:"destructive"})}});return{consultores:n??[],isLoading:a,error:s,addConsultor:i.mutate,removeConsultor:o.mutate,isAdding:i.isPending,isRemoving:o.isPending}};function BX(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var zy="ScrollArea",[hR,DQ]=Vr(zy),[$X,ka]=hR(zy),mR=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:s=600,...i}=e,[o,l]=x.useState(null),[u,d]=x.useState(null),[f,h]=x.useState(null),[m,v]=x.useState(null),[p,g]=x.useState(null),[y,_]=x.useState(0),[w,E]=x.useState(0),[T,b]=x.useState(!1),[S,C]=x.useState(!1),A=Ke(t,I=>l(I)),j=rf(a);return c.jsx($X,{scope:r,type:n,dir:j,scrollHideDelay:s,scrollArea:o,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:v,scrollbarXEnabled:T,onScrollbarXEnabledChange:b,scrollbarY:p,onScrollbarYChange:g,scrollbarYEnabled:S,onScrollbarYEnabledChange:C,onCornerWidthChange:_,onCornerHeightChange:E,children:c.jsx(Pe.div,{dir:j,...i,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});mR.displayName=zy;var pR="ScrollAreaViewport",gR=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...s}=e,i=ka(pR,r),o=x.useRef(null),l=Ke(t,o,i.onViewportChange);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),c.jsx(Pe.div,{"data-radix-scroll-area-viewport":"",...s,ref:l,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:c.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});gR.displayName=pR;var bs="ScrollAreaScrollbar",Vy=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ka(bs,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:i}=a,o=e.orientation==="horizontal";return x.useEffect(()=>(o?s(!0):i(!0),()=>{o?s(!1):i(!1)}),[o,s,i]),a.type==="hover"?c.jsx(zX,{...n,ref:t,forceMount:r}):a.type==="scroll"?c.jsx(VX,{...n,ref:t,forceMount:r}):a.type==="auto"?c.jsx(vR,{...n,ref:t,forceMount:r}):a.type==="always"?c.jsx(Wy,{...n,ref:t}):null});Vy.displayName=bs;var zX=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ka(bs,e.__scopeScrollArea),[s,i]=x.useState(!1);return x.useEffect(()=>{const o=a.scrollArea;let l=0;if(o){const u=()=>{window.clearTimeout(l),i(!0)},d=()=>{l=window.setTimeout(()=>i(!1),a.scrollHideDelay)};return o.addEventListener("pointerenter",u),o.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),o.removeEventListener("pointerenter",u),o.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),c.jsx(fn,{present:r||s,children:c.jsx(vR,{"data-state":s?"visible":"hidden",...n,ref:t})})}),VX=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ka(bs,e.__scopeScrollArea),s=e.orientation==="horizontal",i=_m(()=>l("SCROLL_END"),100),[o,l]=BX("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(o==="idle"){const u=window.setTimeout(()=>l("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[o,a.scrollHideDelay,l]),x.useEffect(()=>{const u=a.viewport,d=s?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(l("SCROLL"),i()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,s,l,i]),c.jsx(fn,{present:r||o!=="hidden",children:c.jsx(Wy,{"data-state":o==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Ie(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Ie(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),vR=x.forwardRef((e,t)=>{const r=ka(bs,e.__scopeScrollArea),{forceMount:n,...a}=e,[s,i]=x.useState(!1),o=e.orientation==="horizontal",l=_m(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;i(o?u:d)}},10);return zl(r.viewport,l),zl(r.content,l),c.jsx(fn,{present:n||s,children:c.jsx(Wy,{"data-state":s?"visible":"hidden",...a,ref:t})})}),Wy=x.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=ka(bs,e.__scopeScrollArea),s=x.useRef(null),i=x.useRef(0),[o,l]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=ER(o.viewport,o.content),d={...n,sizes:o,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:h=>i.current=h};function f(h,m){return JX(h,i.current,o,m)}return r==="horizontal"?c.jsx(WX,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const h=a.viewport.scrollLeft,m=HS(h,o,a.dir);s.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):r==="vertical"?c.jsx(HX,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const h=a.viewport.scrollTop,m=HS(h,o);s.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),WX=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,s=ka(bs,e.__scopeScrollArea),[i,o]=x.useState(),l=x.useRef(null),u=Ke(t,l,s.onScrollbarXChange);return x.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),c.jsx(yR,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":wm(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),bR(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&s.viewport&&i&&n({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:b0(i.paddingLeft),paddingEnd:b0(i.paddingRight)}})}})}),HX=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,s=ka(bs,e.__scopeScrollArea),[i,o]=x.useState(),l=x.useRef(null),u=Ke(t,l,s.onScrollbarYChange);return x.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),c.jsx(yR,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":wm(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),bR(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&s.viewport&&i&&n({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:b0(i.paddingTop),paddingEnd:b0(i.paddingBottom)}})}})}),[GX,xR]=hR(bs),yR=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:s,onThumbPointerUp:i,onThumbPointerDown:o,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,m=ka(bs,r),[v,p]=x.useState(null),g=Ke(t,A=>p(A)),y=x.useRef(null),_=x.useRef(""),w=m.viewport,E=n.content-n.viewport,T=lr(d),b=lr(l),S=_m(f,10);function C(A){if(y.current){const j=A.clientX-y.current.left,I=A.clientY-y.current.top;u({x:j,y:I})}}return x.useEffect(()=>{const A=j=>{const I=j.target;(v==null?void 0:v.contains(I))&&T(j,E)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[w,v,E,T]),x.useEffect(b,[n,b]),zl(v,S),zl(m.content,S),c.jsx(GX,{scope:r,scrollbar:v,hasThumb:a,onThumbChange:lr(s),onThumbPointerUp:lr(i),onThumbPositionChange:b,onThumbPointerDown:lr(o),children:c.jsx(Pe.div,{...h,ref:g,style:{position:"absolute",...h.style},onPointerDown:Ie(e.onPointerDown,A=>{A.button===0&&(A.target.setPointerCapture(A.pointerId),y.current=v.getBoundingClientRect(),_.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),C(A))}),onPointerMove:Ie(e.onPointerMove,C),onPointerUp:Ie(e.onPointerUp,A=>{const j=A.target;j.hasPointerCapture(A.pointerId)&&j.releasePointerCapture(A.pointerId),document.body.style.webkitUserSelect=_.current,m.viewport&&(m.viewport.style.scrollBehavior=""),y.current=null})})})}),S0="ScrollAreaThumb",wR=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=xR(S0,e.__scopeScrollArea);return c.jsx(fn,{present:r||a.hasThumb,children:c.jsx(qX,{ref:t,...n})})}),qX=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,s=ka(S0,r),i=xR(S0,r),{onThumbPositionChange:o}=i,l=Ke(t,f=>i.onThumbChange(f)),u=x.useRef(void 0),d=_m(()=>{u.current&&(u.current(),u.current=void 0)},100);return x.useEffect(()=>{const f=s.viewport;if(f){const h=()=>{if(d(),!u.current){const m=XX(f,o);u.current=m,o()}};return o(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[s.viewport,d,o]),c.jsx(Pe.div,{"data-state":i.hasThumb?"visible":"hidden",...a,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Ie(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),v=f.clientX-m.left,p=f.clientY-m.top;i.onThumbPointerDown({x:v,y:p})}),onPointerUp:Ie(e.onPointerUp,i.onThumbPointerUp)})});wR.displayName=S0;var Hy="ScrollAreaCorner",_R=x.forwardRef((e,t)=>{const r=ka(Hy,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?c.jsx(KX,{...e,ref:t}):null});_R.displayName=Hy;var KX=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=ka(Hy,r),[s,i]=x.useState(0),[o,l]=x.useState(0),u=!!(s&&o);return zl(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),l(d)}),zl(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),i(d)}),u?c.jsx(Pe.div,{...n,ref:t,style:{width:s,height:o,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function b0(e){return e?parseInt(e,10):0}function ER(e,t){const r=e/t;return isNaN(r)?0:r}function wm(e){const t=ER(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function JX(e,t,r,n="ltr"){const a=wm(r),s=a/2,i=t||s,o=a-i,l=r.scrollbar.paddingStart+i,u=r.scrollbar.size-r.scrollbar.paddingEnd-o,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return SR([l,u],f)(e)}function HS(e,t,r="ltr"){const n=wm(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-a,i=t.content-t.viewport,o=s-n,l=r==="ltr"?[0,i]:[i*-1,0],u=nx(e,l);return SR([0,i],[0,o])(u)}function SR(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function bR(e,t){return e>0&&e<t}var XX=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const s={left:e.scrollLeft,top:e.scrollTop},i=r.left!==s.left,o=r.top!==s.top;(i||o)&&t(),r=s,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function _m(e,t){const r=lr(e),n=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),x.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function zl(e,t){const r=lr(t);mr(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var TR=mR,YX=gR,QX=_R;const CR=x.forwardRef(({className:e,children:t,...r},n)=>c.jsxs(TR,{ref:n,className:Te("relative overflow-hidden",e),...r,children:[c.jsx(YX,{className:"h-full w-full rounded-[inherit]",children:t}),c.jsx(kR,{}),c.jsx(QX,{})]}));CR.displayName=TR.displayName;const kR=x.forwardRef(({className:e,orientation:t="vertical",...r},n)=>c.jsx(Vy,{ref:n,orientation:t,className:Te("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:c.jsx(wR,{className:"relative flex-1 rounded-full bg-border"})}));kR.displayName=Vy.displayName;const ZX=()=>{const{usuarios:e,isLoading:t}=aR(),{data:r,isLoading:n}=$y(),[a,s]=x.useState(""),[i,o]=x.useState([]),{consultores:l,addConsultor:u,removeConsultor:d,isAdding:f}=UX(a),h=(e==null?void 0:e.filter(y=>y.role==="gestor"))??[],m=(r==null?void 0:r.filter(y=>!l.some(_=>_.numerocm_consultor===y.numerocm_consultor)))??[],v=y=>{o(_=>_.includes(y)?_.filter(w=>w!==y):[..._,y])},p=()=>{i.length===m.length?o([]):o(m.map(y=>y.numerocm_consultor))},g=async()=>{if(a&&i.length>0){for(const y of i)u({userId:a,numerocmConsultor:y});o([])}};return t||n?c.jsx("div",{children:"Carregando..."}):c.jsx("div",{className:"space-y-6",children:c.jsxs(Ue,{children:[c.jsx(vt,{children:c.jsx(xt,{children:"Gerenciar Associaes de Gestores"})}),c.jsxs(pt,{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Selecione um Gestor"}),c.jsxs(yr,{value:a,onValueChange:s,children:[c.jsx(ir,{children:c.jsx(wr,{placeholder:"Escolha um gestor"})}),c.jsx(or,{children:h.map(y=>c.jsx(ut,{value:y.id,children:y.nome||y.email},y.id))})]})]}),a&&c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Consultores Associados"}),m.length>0&&c.jsxs("div",{className:"mb-4 space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Bt,{id:"select-all-consultores",checked:i.length===m.length&&m.length>0,onCheckedChange:p}),c.jsxs("label",{htmlFor:"select-all-consultores",className:"text-sm font-medium cursor-pointer",children:["Selecionar todos (",m.length,")"]})]}),c.jsxs(ae,{onClick:g,disabled:i.length===0||f,size:"sm",children:[c.jsx(Ka,{className:"h-4 w-4 mr-2"}),"Adicionar (",i.length,")"]})]}),c.jsx(CR,{className:"h-[200px] border rounded-md p-2 bg-muted/30",children:c.jsx("div",{className:"space-y-2",children:m.map(y=>c.jsxs("div",{className:`flex items-center gap-2 p-2 rounded hover:bg-accent transition-colors ${i.includes(y.numerocm_consultor)?"bg-primary/10":""}`,children:[c.jsx(Bt,{id:`consultor-${y.id}`,checked:i.includes(y.numerocm_consultor),onCheckedChange:()=>v(y.numerocm_consultor)}),c.jsxs("label",{htmlFor:`consultor-${y.id}`,className:"text-sm cursor-pointer flex-1",children:[y.consultor," - ",y.email]})]},y.id))})})]}),l.length>0?c.jsxs(Hr,{children:[c.jsx(Gr,{children:c.jsxs(Ye,{children:[c.jsx(je,{children:"Consultor"}),c.jsx(je,{children:"Email"}),c.jsx(je,{children:"Cdigo"}),c.jsx(je,{className:"w-[100px]",children:"Aes"})]})}),c.jsx(qr,{children:l.map(y=>{const _=r==null?void 0:r.find(w=>w.numerocm_consultor===y.numerocm_consultor);return c.jsxs(Ye,{children:[c.jsx(Se,{children:(_==null?void 0:_.consultor)||y.numerocm_consultor}),c.jsx(Se,{className:"text-muted-foreground",children:(_==null?void 0:_.email)||"-"}),c.jsx(Se,{children:c.jsx(ht,{variant:"outline",children:y.numerocm_consultor})}),c.jsx(Se,{children:c.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>d(y.id),children:c.jsx(pr,{className:"h-4 w-4 text-destructive"})})})]},y.id)})})]}):c.jsx("p",{className:"text-muted-foreground text-sm",children:"Nenhum consultor associado"}),c.jsx("div",{className:"mt-4 p-3 bg-muted rounded-lg",children:c.jsx("p",{className:"text-sm text-muted-foreground",children:" O gestor ter acesso a todos os produtores, fazendas, talhes e programaes dos consultores associados."})})]})})]})]})})},pl={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},eY=()=>bt({queryKey:["system-config"],queryFn:async()=>{const e=typeof window<"u"?window.location.hostname:"127.0.0.1",r=(pl==null?void 0:pl.VITE_API_URL)||`http://${e}:5000`,n=await fetch(`${r}/config`);if(!n.ok)throw new Error(`Erro ao carregar configuraes: ${n.status}`);const a=await n.json();return(a==null?void 0:a.items)??[]}}),tY=async e=>{const t=typeof window<"u"?window.location.hostname:"127.0.0.1",n=(pl==null?void 0:pl.VITE_API_URL)||`http://${t}:5000`,a=await fetch(`${n}/config/bulk`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:e})});if(!a.ok){const s=await a.json().catch(()=>null);throw new Error((s==null?void 0:s.error)||`Erro ao salvar configuraes: ${a.status}`)}return a.json()},rY=()=>{const e=St(),{data:t=[],isLoading:r,error:n}=eY(),a=x.useMemo(()=>{const N={};for(const W of t)N[W.config_key]=String(W.config_value??"");return N},[t]),[s,i]=x.useState(""),[o,l]=x.useState(""),[u,d]=x.useState(""),[f,h]=x.useState(""),[m,v]=x.useState(""),[p,g]=x.useState(!1),[y,_]=x.useState("30"),[w,E]=x.useState(""),[T,b]=x.useState(""),[S,C]=x.useState(""),[A,j]=x.useState("");x.useEffect(()=>{i(a.api_defensivos_client_id??""),l(a.api_defensivos_secret??""),d(a.api_defensivos_exp??""),h(a.api_defensivos_url??""),v(a.api_defensivos_aud??""),g((a.defensivos_sync_enabled??"").toLowerCase()==="true"||(a.defensivos_sync_enabled??"")==="1"),_(a.defensivos_sync_interval_minutes??"30"),E(a.api_fertilizantes_cliente_id??""),b(a.api_fertilizantes_secret??""),C(a.api_fertilizantes_exp??""),j(a.api_fertilizantes_url??"")},[a]);const I=async()=>{const N=[{config_key:"api_defensivos_client_id",config_value:s,description:"Client ID para autenticao JWT na API de defensivos"},{config_key:"api_defensivos_secret",config_value:o,description:"Secret para gerao do JWT da API de defensivos"},{config_key:"api_defensivos_exp",config_value:u,description:"Timestamp de expirao do JWT para API de defensivos"},{config_key:"api_defensivos_url",config_value:f,description:"URL da API externa para sincronizao de defensivos"},{config_key:"api_defensivos_aud",config_value:m,description:"Audience JWT (se exigido pela API externa)"},{config_key:"defensivos_sync_enabled",config_value:p?"true":"false",description:"Ativar sincronizao automtica de defensivos"},{config_key:"defensivos_sync_interval_minutes",config_value:y||"30",description:"Intervalo da sincronizao automtica em minutos"},{config_key:"api_fertilizantes_cliente_id",config_value:w,description:"Client ID para autenticao JWT na API de fertilizantes"},{config_key:"api_fertilizantes_secret",config_value:T,description:"Secret para gerao do JWT da API de fertilizantes"},{config_key:"api_fertilizantes_exp",config_value:S,description:"Timestamp de expirao do JWT para API de fertilizantes"},{config_key:"api_fertilizantes_url",config_value:A,description:"URL da API externa para sincronizao de fertilizantes"}];try{await tY(N),le.success("Configuraes salvas"),await e.invalidateQueries({queryKey:["system-config"]})}catch(W){le.error((W==null?void 0:W.message)||String(W))}};return c.jsxs(Ue,{children:[c.jsx(vt,{children:c.jsx(xt,{children:"Configuraes de Sistema"})}),c.jsxs(pt,{className:"space-y-4",children:[r?c.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando..."}):n?c.jsx("p",{className:"text-sm text-destructive",children:"Erro ao carregar configuraes."}):c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(de,{children:"Client ID (Defensivos)"}),c.jsx(_e,{value:s,onChange:N=>i(N.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(de,{children:"Sincronizao automtica (Defensivos)"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"checkbox",checked:p,onChange:N=>g(N.target.checked)}),c.jsx("span",{className:"text-sm",children:"Ativar"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(de,{children:"Intervalo (minutos)"}),c.jsx(_e,{value:y,onChange:N=>_(N.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(de,{children:"Secret (Defensivos)"}),c.jsx(_e,{value:o,onChange:N=>l(N.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(de,{children:"Expirao JWT (timestamp)"}),c.jsx(_e,{value:u,onChange:N=>d(N.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(de,{children:"URL API (Defensivos)"}),c.jsx(_e,{value:f,onChange:N=>h(N.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(de,{children:"Audience (Defensivos)"}),c.jsx(_e,{value:m,onChange:N=>v(N.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(de,{children:"Client ID (Fertilizantes)"}),c.jsx(_e,{value:w,onChange:N=>E(N.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(de,{children:"Secret (Fertilizantes)"}),c.jsx(_e,{value:T,onChange:N=>b(N.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(de,{children:"Expirao JWT Fertilizantes (timestamp)"}),c.jsx(_e,{value:S,onChange:N=>C(N.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(de,{children:"URL API (Fertilizantes)"}),c.jsx(_e,{value:A,onChange:N=>j(N.target.value)})]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(ae,{variant:"outline",onClick:()=>e.invalidateQueries({queryKey:["system-config"]}),children:"Atualizar"}),c.jsx(ae,{onClick:I,children:"Salvar"})]})]})]})};function nY(){const e=Zd(),[t,r]=x.useState(""),[n,a]=x.useState(!1),{data:s,isLoading:i}=q1(),[o,l]=x.useState("cultivares"),[u,d]=x.useState({produtos:!0,pessoas:!0,gerais:!0});x.useEffect(()=>{(async()=>{const{data:{session:m}}=await ge.auth.getSession();m||e("/auth")})()},[e]);const f=async h=>{h.preventDefault();try{const{data:m,error:v}=await ge.functions.invoke("admin-auth",{body:{password:t}});if(v){console.error("Error calling admin-auth:",v),le.error("Erro ao verificar senha");return}if(m!=null&&m.error){le.error(m.error);return}a(!0),le.success("Acesso autorizado!"),window.location.reload()}catch(m){console.error("Error in handlePasswordSubmit:",m),le.error("Erro ao processar autenticao")}};return i?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("p",{children:"Carregando..."})}):!n&&!(s!=null&&s.isAdmin)?c.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:c.jsxs(Ue,{className:"w-full max-w-md",children:[c.jsxs(vt,{children:[c.jsx(xt,{children:"Acesso Administrativo"}),c.jsx(aa,{children:"Digite a senha para acessar a rea administrativa"})]}),c.jsx(pt,{children:c.jsxs("form",{onSubmit:f,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(de,{htmlFor:"password",children:"Senha"}),c.jsx(_e,{id:"password",type:"password",value:t,onChange:h=>r(h.target.value),placeholder:"Digite a senha de admin"})]}),c.jsx(ae,{type:"submit",className:"w-full",children:"Entrar"})]})})]})}):c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsxs("div",{className:"flex justify-between items-center px-6 py-4 border-b bg-card",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"rea Administrativa"}),c.jsx("p",{className:"text-muted-foreground",children:"Importao de catlogos"})]}),c.jsx(ae,{variant:"outline",onClick:()=>e("/"),children:"Voltar ao Dashboard"})]}),c.jsxs("div",{className:"flex",children:[c.jsx("aside",{className:"w-64 shrink-0 border-r bg-card",children:c.jsxs("nav",{className:"p-4 space-y-4",children:[c.jsxs("div",{children:[c.jsxs("button",{type:"button",className:"flex w-full items-center justify-between text-sm font-semibold py-1",onClick:()=>d(h=>({...h,produtos:!h.produtos})),children:[c.jsx("span",{children:"Produtos"}),u.produtos?c.jsx(ur,{className:"h-4 w-4"}):c.jsx(ip,{className:"h-4 w-4"})]}),u.produtos&&c.jsxs("div",{className:"mt-1 ml-3 space-y-1",children:[c.jsx(ae,{variant:o==="cultivares"?"secondary":"ghost",className:"w-full justify-start",size:"sm",onClick:()=>l("cultivares"),children:"Cultivares"}),c.jsx(ae,{variant:o==="fertilizantes"?"secondary":"ghost",className:"w-full justify-start",size:"sm",onClick:()=>l("fertilizantes"),children:"Fertilizantes"}),c.jsx(ae,{variant:o==="defensivos"?"secondary":"ghost",className:"w-full justify-start",size:"sm",onClick:()=>l("defensivos"),children:"Defensivos"})]})]}),c.jsxs("div",{children:[c.jsxs("button",{type:"button",className:"flex w-full items-center justify-between text-sm font-semibold py-1",onClick:()=>d(h=>({...h,pessoas:!h.pessoas})),children:[c.jsx("span",{children:"Pessoas"}),u.pessoas?c.jsx(ur,{className:"h-4 w-4"}):c.jsx(ip,{className:"h-4 w-4"})]}),u.pessoas&&c.jsxs("div",{className:"mt-1 ml-3 space-y-1",children:[c.jsx(ae,{variant:o==="produtores"?"secondary":"ghost",className:"w-full justify-start",size:"sm",onClick:()=>l("produtores"),children:"Produtores"}),c.jsx(ae,{variant:o==="fazendas"?"secondary":"ghost",className:"w-full justify-start",size:"sm",onClick:()=>l("fazendas"),children:"Fazendas"}),c.jsx(ae,{variant:o==="talhoes"?"secondary":"ghost",className:"w-full justify-start",size:"sm",onClick:()=>l("talhoes"),children:"Talhes"}),c.jsx(ae,{variant:o==="consultores"?"secondary":"ghost",className:"w-full justify-start",size:"sm",onClick:()=>l("consultores"),children:"Consultores"}),c.jsx(ae,{variant:o==="gestores"?"secondary":"ghost",className:"w-full justify-start",size:"sm",onClick:()=>l("gestores"),children:"Gestores"})]})]}),c.jsxs("div",{children:[c.jsxs("button",{type:"button",className:"flex w-full items-center justify-between text-sm font-semibold py-1",onClick:()=>d(h=>({...h,gerais:!h.gerais})),children:[c.jsx("span",{children:"Gerais"}),u.gerais?c.jsx(ur,{className:"h-4 w-4"}):c.jsx(ip,{className:"h-4 w-4"})]}),u.gerais&&c.jsxs("div",{className:"mt-1 ml-3 space-y-1",children:[c.jsx(ae,{variant:o==="config"?"secondary":"ghost",className:"w-full justify-start",size:"sm",onClick:()=>l("config"),children:"Configuraes"}),c.jsx(ae,{variant:o==="usuarios"?"secondary":"ghost",className:"w-full justify-start",size:"sm",onClick:()=>l("usuarios"),children:"Usurios"}),c.jsx(ae,{variant:o==="safras"?"secondary":"ghost",className:"w-full justify-start",size:"sm",onClick:()=>l("safras"),children:"Safras"}),c.jsx(ae,{variant:o==="tratamentos"?"secondary":"ghost",className:"w-full justify-start",size:"sm",onClick:()=>l("tratamentos"),children:"Tratamentos"}),c.jsx(ae,{variant:o==="cultivares-tratamentos"?"secondary":"ghost",className:"w-full justify-start",size:"sm",onClick:()=>l("cultivares-tratamentos"),children:"Cultivares x Tratamentos"}),c.jsx(ae,{variant:o==="justificativas"?"secondary":"ghost",className:"w-full justify-start",size:"sm",onClick:()=>l("justificativas"),children:"Justificativas"}),c.jsx(ae,{variant:o==="calendario"?"secondary":"ghost",className:"w-full justify-start",size:"sm",onClick:()=>l("calendario"),children:"Calendrio"}),c.jsx(ae,{variant:o==="epocas"?"secondary":"ghost",className:"w-full justify-start",size:"sm",onClick:()=>l("epocas"),children:"pocas"}),c.jsx(ae,{variant:o==="replicar"?"secondary":"ghost",className:"w-full justify-start",size:"sm",onClick:()=>l("replicar"),children:"Replicar"}),c.jsx(ae,{variant:o==="historico"?"secondary":"ghost",className:"w-full justify-start",size:"sm",onClick:()=>l("historico"),children:"Histrico"})]})]})]})}),c.jsxs("main",{className:"flex-1 p-6 space-y-6",children:[o==="cultivares"&&c.jsxs(c.Fragment,{children:[c.jsx(Kq,{}),c.jsx(Yq,{})]}),o==="fertilizantes"&&c.jsxs(c.Fragment,{children:[c.jsx(Zq,{}),c.jsx(eK,{})]}),o==="defensivos"&&c.jsxs(c.Fragment,{children:[c.jsx(tK,{}),c.jsx(rK,{})]}),o==="calendario"&&c.jsxs(c.Fragment,{children:[c.jsx(BK,{}),c.jsx(OX,{})]}),o==="consultores"&&c.jsxs(c.Fragment,{children:[c.jsx(nK,{}),c.jsx(jX,{})]}),o==="produtores"&&c.jsxs(c.Fragment,{children:[c.jsx(aK,{}),c.jsx(NX,{})]}),o==="fazendas"&&c.jsxs(c.Fragment,{children:[c.jsx(sK,{}),c.jsx(IX,{})]}),o==="talhoes"&&c.jsxs(c.Fragment,{children:[c.jsx(PX,{}),c.jsx(RX,{})]}),o==="safras"&&c.jsx(iK,{}),o==="tratamentos"&&c.jsx(LK,{}),o==="cultivares-tratamentos"&&c.jsx(DX,{}),o==="justificativas"&&c.jsx(UK,{}),o==="epocas"&&c.jsxs(c.Fragment,{children:[c.jsx(MX,{}),c.jsx(LX,{})]}),o==="usuarios"&&c.jsx(AX,{}),o==="config"&&c.jsx(rY,{}),o==="gestores"&&c.jsx(ZX,{}),o==="replicar"&&c.jsx(MK,{}),o==="historico"&&c.jsx(EX,{})]})]})]})}var Em="Popover",[AR,MQ]=Vr(Em,[Yl]),df=Yl(),[aY,mo]=AR(Em),jR=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:i=!1}=e,o=df(t),l=x.useRef(null),[u,d]=x.useState(!1),[f,h]=Sa({prop:n,defaultProp:a??!1,onChange:s,caller:Em});return c.jsx(PC,{...o,children:c.jsx(aY,{scope:t,contentId:Cr(),triggerRef:l,open:f,onOpenChange:h,onOpenToggle:x.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:x.useCallback(()=>d(!0),[]),onCustomAnchorRemove:x.useCallback(()=>d(!1),[]),modal:i,children:r})})};jR.displayName=Em;var NR="PopoverAnchor",sY=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=mo(NR,r),s=df(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:o}=a;return x.useEffect(()=>(i(),()=>o()),[i,o]),c.jsx(J0,{...s,...n,ref:t})});sY.displayName=NR;var IR="PopoverTrigger",RR=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=mo(IR,r),s=df(r),i=Ke(t,a.triggerRef),o=c.jsx(Pe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":MR(a.open),...n,ref:i,onClick:Ie(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?o:c.jsx(J0,{asChild:!0,...s,children:o})});RR.displayName=IR;var Gy="PopoverPortal",[iY,oY]=AR(Gy,{forceMount:void 0}),PR=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,s=mo(Gy,t);return c.jsx(iY,{scope:t,forceMount:r,children:c.jsx(fn,{present:r||s.open,children:c.jsx(Xd,{asChild:!0,container:a,children:n})})})};PR.displayName=Gy;var Vl="PopoverContent",OR=x.forwardRef((e,t)=>{const r=oY(Vl,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,s=mo(Vl,e.__scopePopover);return c.jsx(fn,{present:n||s.open,children:s.modal?c.jsx(lY,{...a,ref:t}):c.jsx(uY,{...a,ref:t})})});OR.displayName=Vl;var cY=Xo("PopoverContent.RemoveScroll"),lY=x.forwardRef((e,t)=>{const r=mo(Vl,e.__scopePopover),n=x.useRef(null),a=Ke(t,n),s=x.useRef(!1);return x.useEffect(()=>{const i=n.current;if(i)return J1(i)},[]),c.jsx(nm,{as:cY,allowPinchZoom:!0,children:c.jsx(FR,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ie(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),s.current||(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ie(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0,u=o.button===2||l;s.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Ie(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),uY=x.forwardRef((e,t)=>{const r=mo(Vl,e.__scopePopover),n=x.useRef(!1),a=x.useRef(!1);return c.jsx(FR,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i,o;(i=e.onCloseAutoFocus)==null||i.call(e,s),s.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),FR=x.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:i,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:d,...f}=e,h=mo(Vl,r),m=df(r);return K1(),c.jsx(tm,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:c.jsx(ql,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:d,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:c.jsx(S1,{"data-state":MR(h.open),role:"dialog",id:h.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),DR="PopoverClose",dY=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=mo(DR,r);return c.jsx(Pe.button,{type:"button",...n,ref:t,onClick:Ie(e.onClick,()=>a.onOpenChange(!1))})});dY.displayName=DR;var fY="PopoverArrow",hY=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=df(r);return c.jsx(b1,{...a,...n,ref:t})});hY.displayName=fY;function MR(e){return e?"open":"closed"}var mY=jR,pY=RR,gY=PR,LR=OR;const ya=mY,wa=pY,Wn=x.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>c.jsx(gY,{children:c.jsx(LR,{ref:a,align:t,sideOffset:r,className:Te("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Wn.displayName=LR.displayName;var GS=1,vY=.9,xY=.8,yY=.17,rg=.1,ng=.999,wY=.9999,_Y=.99,EY=/[\\\/_+.#"@\[\(\{&]/,SY=/[\\\/_+.#"@\[\(\{&]/g,bY=/[\s-]/,UR=/[\s-]/g;function lx(e,t,r,n,a,s,i){if(s===t.length)return a===e.length?GS:_Y;var o=`${a},${s}`;if(i[o]!==void 0)return i[o];for(var l=n.charAt(s),u=r.indexOf(l,a),d=0,f,h,m,v;u>=0;)f=lx(e,t,r,n,u+1,s+1,i),f>d&&(u===a?f*=GS:EY.test(e.charAt(u-1))?(f*=xY,m=e.slice(a,u-1).match(SY),m&&a>0&&(f*=Math.pow(ng,m.length))):bY.test(e.charAt(u-1))?(f*=vY,v=e.slice(a,u-1).match(UR),v&&a>0&&(f*=Math.pow(ng,v.length))):(f*=yY,a>0&&(f*=Math.pow(ng,u-a))),e.charAt(u)!==t.charAt(s)&&(f*=wY)),(f<rg&&r.charAt(u-1)===n.charAt(s+1)||n.charAt(s+1)===n.charAt(s)&&r.charAt(u-1)!==n.charAt(s))&&(h=lx(e,t,r,n,u+1,s+2,i),h*rg>f&&(f=h*rg)),f>d&&(d=f),u=r.indexOf(l,u+1);return i[o]=d,d}function qS(e){return e.toLowerCase().replace(UR," ")}function TY(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,lx(e,t,qS(e),qS(t),0,0,{})}var Cu='[cmdk-group=""]',ag='[cmdk-group-items=""]',CY='[cmdk-group-heading=""]',BR='[cmdk-item=""]',KS=`${BR}:not([aria-disabled="true"])`,ux="cmdk-item-select",Lc="data-value",kY=(e,t,r)=>TY(e,t,r),$R=x.createContext(void 0),ff=()=>x.useContext($R),zR=x.createContext(void 0),qy=()=>x.useContext(zR),VR=x.createContext(void 0),WR=x.forwardRef((e,t)=>{let r=Uc(()=>{var k,G;return{search:"",value:(G=(k=e.value)!=null?k:e.defaultValue)!=null?G:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=Uc(()=>new Set),a=Uc(()=>new Map),s=Uc(()=>new Map),i=Uc(()=>new Set),o=HR(e),{label:l,children:u,value:d,onValueChange:f,filter:h,shouldFilter:m,loop:v,disablePointerSelection:p=!1,vimBindings:g=!0,...y}=e,_=Cr(),w=Cr(),E=Cr(),T=x.useRef(null),b=LY();oc(()=>{if(d!==void 0){let k=d.trim();r.current.value=k,S.emit()}},[d]),oc(()=>{b(6,W)},[]);let S=x.useMemo(()=>({subscribe:k=>(i.current.add(k),()=>i.current.delete(k)),snapshot:()=>r.current,setState:(k,G,L)=>{var D,O,P,Q;if(!Object.is(r.current[k],G)){if(r.current[k]=G,k==="search")N(),j(),b(1,I);else if(k==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let Z=document.getElementById(E);Z?Z.focus():(D=document.getElementById(_))==null||D.focus()}if(b(7,()=>{var Z;r.current.selectedItemId=(Z=M())==null?void 0:Z.id,S.emit()}),L||b(5,W),((O=o.current)==null?void 0:O.value)!==void 0){let Z=G??"";(Q=(P=o.current).onValueChange)==null||Q.call(P,Z);return}}S.emit()}},emit:()=>{i.current.forEach(k=>k())}}),[]),C=x.useMemo(()=>({value:(k,G,L)=>{var D;G!==((D=s.current.get(k))==null?void 0:D.value)&&(s.current.set(k,{value:G,keywords:L}),r.current.filtered.items.set(k,A(G,L)),b(2,()=>{j(),S.emit()}))},item:(k,G)=>(n.current.add(k),G&&(a.current.has(G)?a.current.get(G).add(k):a.current.set(G,new Set([k]))),b(3,()=>{N(),j(),r.current.value||I(),S.emit()}),()=>{s.current.delete(k),n.current.delete(k),r.current.filtered.items.delete(k);let L=M();b(4,()=>{N(),(L==null?void 0:L.getAttribute("id"))===k&&I(),S.emit()})}),group:k=>(a.current.has(k)||a.current.set(k,new Set),()=>{s.current.delete(k),a.current.delete(k)}),filter:()=>o.current.shouldFilter,label:l||e["aria-label"],getDisablePointerSelection:()=>o.current.disablePointerSelection,listId:_,inputId:E,labelId:w,listInnerRef:T}),[]);function A(k,G){var L,D;let O=(D=(L=o.current)==null?void 0:L.filter)!=null?D:kY;return k?O(k,r.current.search,G):0}function j(){if(!r.current.search||o.current.shouldFilter===!1)return;let k=r.current.filtered.items,G=[];r.current.filtered.groups.forEach(D=>{let O=a.current.get(D),P=0;O.forEach(Q=>{let Z=k.get(Q);P=Math.max(Z,P)}),G.push([D,P])});let L=T.current;X().sort((D,O)=>{var P,Q;let Z=D.getAttribute("id"),re=O.getAttribute("id");return((P=k.get(re))!=null?P:0)-((Q=k.get(Z))!=null?Q:0)}).forEach(D=>{let O=D.closest(ag);O?O.appendChild(D.parentElement===O?D:D.closest(`${ag} > *`)):L.appendChild(D.parentElement===L?D:D.closest(`${ag} > *`))}),G.sort((D,O)=>O[1]-D[1]).forEach(D=>{var O;let P=(O=T.current)==null?void 0:O.querySelector(`${Cu}[${Lc}="${encodeURIComponent(D[0])}"]`);P==null||P.parentElement.appendChild(P)})}function I(){let k=X().find(L=>L.getAttribute("aria-disabled")!=="true"),G=k==null?void 0:k.getAttribute(Lc);S.setState("value",G||void 0)}function N(){var k,G,L,D;if(!r.current.search||o.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let O=0;for(let P of n.current){let Q=(G=(k=s.current.get(P))==null?void 0:k.value)!=null?G:"",Z=(D=(L=s.current.get(P))==null?void 0:L.keywords)!=null?D:[],re=A(Q,Z);r.current.filtered.items.set(P,re),re>0&&O++}for(let[P,Q]of a.current)for(let Z of Q)if(r.current.filtered.items.get(Z)>0){r.current.filtered.groups.add(P);break}r.current.filtered.count=O}function W(){var k,G,L;let D=M();D&&(((k=D.parentElement)==null?void 0:k.firstChild)===D&&((L=(G=D.closest(Cu))==null?void 0:G.querySelector(CY))==null||L.scrollIntoView({block:"nearest"})),D.scrollIntoView({block:"nearest"}))}function M(){var k;return(k=T.current)==null?void 0:k.querySelector(`${BR}[aria-selected="true"]`)}function X(){var k;return Array.from(((k=T.current)==null?void 0:k.querySelectorAll(KS))||[])}function z(k){let G=X()[k];G&&S.setState("value",G.getAttribute(Lc))}function V(k){var G;let L=M(),D=X(),O=D.findIndex(Q=>Q===L),P=D[O+k];(G=o.current)!=null&&G.loop&&(P=O+k<0?D[D.length-1]:O+k===D.length?D[0]:D[O+k]),P&&S.setState("value",P.getAttribute(Lc))}function Y(k){let G=M(),L=G==null?void 0:G.closest(Cu),D;for(;L&&!D;)L=k>0?DY(L,Cu):MY(L,Cu),D=L==null?void 0:L.querySelector(KS);D?S.setState("value",D.getAttribute(Lc)):V(k)}let F=()=>z(X().length-1),ne=k=>{k.preventDefault(),k.metaKey?F():k.altKey?Y(1):V(1)},ee=k=>{k.preventDefault(),k.metaKey?z(0):k.altKey?Y(-1):V(-1)};return x.createElement(Pe.div,{ref:t,tabIndex:-1,...y,"cmdk-root":"",onKeyDown:k=>{var G;(G=y.onKeyDown)==null||G.call(y,k);let L=k.nativeEvent.isComposing||k.keyCode===229;if(!(k.defaultPrevented||L))switch(k.key){case"n":case"j":{g&&k.ctrlKey&&ne(k);break}case"ArrowDown":{ne(k);break}case"p":case"k":{g&&k.ctrlKey&&ee(k);break}case"ArrowUp":{ee(k);break}case"Home":{k.preventDefault(),z(0);break}case"End":{k.preventDefault(),F();break}case"Enter":{k.preventDefault();let D=M();if(D){let O=new Event(ux);D.dispatchEvent(O)}}}}},x.createElement("label",{"cmdk-label":"",htmlFor:C.inputId,id:C.labelId,style:BY},l),Sm(e,k=>x.createElement(zR.Provider,{value:S},x.createElement($R.Provider,{value:C},k))))}),AY=x.forwardRef((e,t)=>{var r,n;let a=Cr(),s=x.useRef(null),i=x.useContext(VR),o=ff(),l=HR(e),u=(n=(r=l.current)==null?void 0:r.forceMount)!=null?n:i==null?void 0:i.forceMount;oc(()=>{if(!u)return o.item(a,i==null?void 0:i.id)},[u]);let d=GR(a,s,[e.value,e.children,s],e.keywords),f=qy(),h=to(b=>b.value&&b.value===d.current),m=to(b=>u||o.filter()===!1?!0:b.search?b.filtered.items.get(a)>0:!0);x.useEffect(()=>{let b=s.current;if(!(!b||e.disabled))return b.addEventListener(ux,v),()=>b.removeEventListener(ux,v)},[m,e.onSelect,e.disabled]);function v(){var b,S;p(),(S=(b=l.current).onSelect)==null||S.call(b,d.current)}function p(){f.setState("value",d.current,!0)}if(!m)return null;let{disabled:g,value:y,onSelect:_,forceMount:w,keywords:E,...T}=e;return x.createElement(Pe.div,{ref:Jo(s,t),...T,id:a,"cmdk-item":"",role:"option","aria-disabled":!!g,"aria-selected":!!h,"data-disabled":!!g,"data-selected":!!h,onPointerMove:g||o.getDisablePointerSelection()?void 0:p,onClick:g?void 0:v},e.children)}),jY=x.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:a,...s}=e,i=Cr(),o=x.useRef(null),l=x.useRef(null),u=Cr(),d=ff(),f=to(m=>a||d.filter()===!1?!0:m.search?m.filtered.groups.has(i):!0);oc(()=>d.group(i),[]),GR(i,o,[e.value,e.heading,l]);let h=x.useMemo(()=>({id:i,forceMount:a}),[a]);return x.createElement(Pe.div,{ref:Jo(o,t),...s,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},r&&x.createElement("div",{ref:l,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),Sm(e,m=>x.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},x.createElement(VR.Provider,{value:h},m))))}),NY=x.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,a=x.useRef(null),s=to(i=>!i.search);return!r&&!s?null:x.createElement(Pe.div,{ref:Jo(a,t),...n,"cmdk-separator":"",role:"separator"})}),IY=x.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,a=e.value!=null,s=qy(),i=to(u=>u.search),o=to(u=>u.selectedItemId),l=ff();return x.useEffect(()=>{e.value!=null&&s.setState("search",e.value)},[e.value]),x.createElement(Pe.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":l.listId,"aria-labelledby":l.labelId,"aria-activedescendant":o,id:l.inputId,type:"text",value:a?e.value:i,onChange:u=>{a||s.setState("search",u.target.value),r==null||r(u.target.value)}})}),RY=x.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...a}=e,s=x.useRef(null),i=x.useRef(null),o=to(u=>u.selectedItemId),l=ff();return x.useEffect(()=>{if(i.current&&s.current){let u=i.current,d=s.current,f,h=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let m=u.offsetHeight;d.style.setProperty("--cmdk-list-height",m.toFixed(1)+"px")})});return h.observe(u),()=>{cancelAnimationFrame(f),h.unobserve(u)}}},[]),x.createElement(Pe.div,{ref:Jo(s,t),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":o,"aria-label":n,id:l.listId},Sm(e,u=>x.createElement("div",{ref:Jo(i,l.listInnerRef),"cmdk-list-sizer":""},u)))}),PY=x.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:a,contentClassName:s,container:i,...o}=e;return x.createElement(Z1,{open:r,onOpenChange:n},x.createElement(ey,{container:i},x.createElement(sm,{"cmdk-overlay":"",className:a}),x.createElement(im,{"aria-label":e.label,"cmdk-dialog":"",className:s},x.createElement(WR,{ref:t,...o}))))}),OY=x.forwardRef((e,t)=>to(r=>r.filtered.count===0)?x.createElement(Pe.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),FY=x.forwardRef((e,t)=>{let{progress:r,children:n,label:a="Loading...",...s}=e;return x.createElement(Pe.div,{ref:t,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},Sm(e,i=>x.createElement("div",{"aria-hidden":!0},i)))}),Nn=Object.assign(WR,{List:RY,Item:AY,Input:IY,Group:jY,Separator:NY,Dialog:PY,Empty:OY,Loading:FY});function DY(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function MY(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function HR(e){let t=x.useRef(e);return oc(()=>{t.current=e}),t}var oc=typeof window>"u"?x.useEffect:x.useLayoutEffect;function Uc(e){let t=x.useRef();return t.current===void 0&&(t.current=e()),t}function to(e){let t=qy(),r=()=>e(t.snapshot());return x.useSyncExternalStore(t.subscribe,r,r)}function GR(e,t,r,n=[]){let a=x.useRef(),s=ff();return oc(()=>{var i;let o=(()=>{var u;for(let d of r){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():a.current}})(),l=n.map(u=>u.trim());s.value(e,o,l),(i=t.current)==null||i.setAttribute(Lc,o),a.current=o}),a}var LY=()=>{let[e,t]=x.useState(),r=Uc(()=>new Map);return oc(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,a)=>{r.current.set(n,a),t({})}};function UY(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Sm({asChild:e,children:t},r){return e&&x.isValidElement(t)?x.cloneElement(UY(t),{ref:t.ref},r(t.props.children)):r(t)}var BY={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Hn=x.forwardRef(({className:e,...t},r)=>c.jsx(Nn,{ref:r,className:Te("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));Hn.displayName=Nn.displayName;const Gn=x.forwardRef(({className:e,...t},r)=>c.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[c.jsx(VF,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),c.jsx(Nn.Input,{ref:r,className:Te("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));Gn.displayName=Nn.Input.displayName;const qn=x.forwardRef(({className:e,...t},r)=>c.jsx(Nn.List,{ref:r,className:Te("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));qn.displayName=Nn.List.displayName;const Kn=x.forwardRef((e,t)=>c.jsx(Nn.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));Kn.displayName=Nn.Empty.displayName;const Jn=x.forwardRef(({className:e,...t},r)=>c.jsx(Nn.Group,{ref:r,className:Te("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));Jn.displayName=Nn.Group.displayName;const $Y=x.forwardRef(({className:e,...t},r)=>c.jsx(Nn.Separator,{ref:r,className:Te("-mx-1 h-px bg-border",e),...t}));$Y.displayName=Nn.Separator.displayName;const Xn=x.forwardRef(({className:e,...t},r)=>c.jsx(Nn.Item,{ref:r,className:Te("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));Xn.displayName=Nn.Item.displayName;const JS=({onSubmit:e,onCancel:t,isLoading:r=!1,initialData:n,title:a="Nova Aplicao de Defensivos",submitLabel:s="Salvar aplicao"})=>{var D,O;const{data:i}=fc(),{data:o}=Uy(),{data:l}=fR(),[u,d]=x.useState(""),[f,h]=x.useState(""),[m,v]=x.useState(!1),{data:p}=Qi(u),[g,y]=x.useState(0),{safras:_,defaultSafra:w}=mm(),[E,T]=x.useState(""),[b,S]=x.useState(!1),[C,A]=x.useState([{tempId:il(),defensivo:"",dose:0,unidade:"L/ha",alvo:"",aplicacoes:[],produto_salvo:!1,deve_faturar:!0,porcentagem_salva:100,area_hectares:0,total:0}]),[j,I]=x.useState(!1);x.useEffect(()=>{var P,Q,Z;if(n){d(n.produtor_numerocm||""),h(n.area||"");const re=(Q=(P=n.defensivos)==null?void 0:P[0])==null?void 0:Q.safra_id;re&&T(String(re)),n.defensivos&&n.defensivos.length>0&&(A(n.defensivos.map(ce=>({...ce,tempId:il(),aplicacoes:ce.alvo?ce.alvo.split(",").map(U=>U.trim()):[],porcentagem_salva:Math.min(100,Math.max(1,Number(ce.porcentagem_salva??100))),total:(Number(ce.dose)||0)*(Number(ce.area_hectares)||0)*(Math.min(100,Math.max(1,Number(ce.porcentagem_salva??100)))/100)}))),y(((Z=n.defensivos[0])==null?void 0:Z.area_hectares)||0))}},[n]),x.useEffect(()=>{!n&&!E&&w&&T(String(w.id))},[w,n,E]),x.useEffect(()=>{if(n||E)return;const P=_||[];if(!P.length)return;const Q=w||P.find(Z=>Z==null?void 0:Z.is_default)||P.find(Z=>Z==null?void 0:Z.ativa)||P[0];Q!=null&&Q.id&&T(String(Q.id))},[_,w,n,E]),x.useEffect(()=>{A(P=>P.map(Q=>({...Q,total:(Number(Q.dose)||0)*(g||0)*(Math.min(100,Math.max(1,Number(Q.porcentagem_salva??100)))/100)})))},[g]);const N=()=>{A([{tempId:il(),classe:"",defensivo:"",dose:0,unidade:"L/ha",alvo:"",aplicacoes:[],produto_salvo:!1,deve_faturar:!0,porcentagem_salva:100,area_hectares:0,total:0},...C])},W=P=>{C.length!==1&&A(C.filter(Q=>Q.tempId!==P))},M=(P,Q,Z)=>{A(re=>re.map(ce=>{if(ce.tempId===P){const U={...ce,[Q]:Z};if(Q==="porcentagem_salva"){const we=parseFloat(Z),Ne=isNaN(we)?100:Math.min(100,Math.max(0,we));U.porcentagem_salva=Ne}if(Q==="dose"||Q==="porcentagem_salva"){const we=Number(Q==="dose"?Z:U.dose)||0,Ne=Math.min(100,Math.max(0,Number(U.porcentagem_salva??100)));U.total=we*(g||0)*(Ne/100)}return U}return ce}))},X=x.useMemo(()=>{const P={};return C.forEach(Q=>{const Z=Q.aplicacoes&&Q.aplicacoes[0]||Q.alvo||"",re=String(Z||"").trim(),ce=String(Q.defensivo||"").trim();!re||!ce||(P[re]||(P[re]=[]),P[re].push(ce))}),P},[C]),z=P=>{if(P.preventDefault(),!E){alert("Selecione a Safra antes do Produtor/Fazenda");return}if(!u||!f){alert("Por favor, preencha Produtor e Fazenda");return}if(!ne){alert("No  possvel cadastrar defensivos antes de registrar a programao de Cultivar para este produtor/fazenda.");return}if(C.length===0||Number(g)<=0||C.some(Z=>!Z.defensivo||Number(Z.dose)<=0)){alert("Por favor, adicione pelo menos um defensivo vlido com dose e rea");return}const Q=C.map(({tempId:Z,total:re,aplicacoes:ce,...U})=>({...U,safra_id:E,area_hectares:g,alvo:ce&&ce.length>0?ce.join(", "):U.alvo}));e({produtor_numerocm:u,area:f,defensivos:Q})},V=i==null?void 0:i.find(P=>P.numerocm===u),{programacoes:Y=[],isLoading:F}=tf(),ne=x.useMemo(()=>{if(!u||!f||!E)return!1;const P=String(f||"").trim(),Q=String(u||"").trim(),Z=String(E||"").trim();return(Y||[]).some(re=>String(re.produtor_numerocm||"").trim()===Q&&String(re.area||"").trim()===P&&String(re.safra||"").trim()===Z)},[Y,u,f,E]);x.useEffect(()=>{if(!u||!f||!E)return;(async()=>{try{const Q=(p||[]).find(we=>we.nomefazenda===f);if(!Q)return;const{data:Z,error:re}=await ge.from("programacoes").select("id").eq("produtor_numerocm",u).eq("fazenda_idfazenda",Q.idfazenda).eq("safra_id",E).maybeSingle();if(re||!(Z!=null&&Z.id))return;const{data:ce,error:U}=await ge.rpc("get_programacao_area_total",{programacao_uuid:Z.id});!U&&ce!==null&&ce!==void 0&&y(Number(ce))}catch(Q){console.error("Erro ao buscar rea programada:",Q)}})()},[u,f,E,p]);const ee=x.useMemo(()=>{if(!E)return[];const P=String(E),Q=new Set((Y||[]).filter(Z=>String(Z.safra||"")===P).map(Z=>String(Z.produtor_numerocm||"")));return Array.from(Q)},[Y,E]),k=x.useMemo(()=>E?(i||[]).filter(Z=>ee.includes(String(Z.numerocm))):[],[i,ee,E]),G=x.useMemo(()=>{const P=new Set;if(E&&u){const Q=String(E),Z=String(u);(Y||[]).filter(re=>String(re.safra||"")===Q&&String(re.produtor_numerocm||"")===Z).forEach(re=>P.add(String(re.area||"")))}return P},[Y,E,u]),L=x.useMemo(()=>!E||!u?[]:(p||[]).filter(Z=>G.has(String(Z.nomefazenda))),[p,G,E,u]);return c.jsxs(Ue,{className:"p-6 mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:a}),c.jsxs("form",{onSubmit:z,className:"space-y-6",children:[u&&f&&!F&&!ne&&c.jsx("div",{className:"p-3 rounded-md bg-destructive/10 text-destructive text-sm",children:"No  possvel cadastrar defensivos antes de registrar a programao de Cultivar para este produtor/fazenda."}),c.jsxs("div",{className:"grid gap-4 md:grid-cols-4 lg:grid-cols-12",children:[c.jsxs("div",{className:"space-y-2 md:col-span-1 lg:col-span-1",children:[c.jsx(de,{children:"Safra *"}),c.jsxs(ya,{open:b,onOpenChange:S,children:[c.jsx(wa,{asChild:!0,children:c.jsxs(ae,{variant:"outline",role:"combobox",className:"w-full justify-between",children:[E?`${((D=(_||[]).find(P=>String(P.id)===String(E)))==null?void 0:D.nome)||"Selecionada"}`:"Selecione...",c.jsx(xa,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),c.jsx(Wn,{className:"w-full p-0",children:c.jsxs(Hn,{children:[c.jsx(Gn,{placeholder:"Buscar safra..."}),c.jsxs(qn,{children:[c.jsx(Kn,{children:"Nenhuma safra encontrada."}),c.jsx(Jn,{children:(_||[]).map(P=>c.jsxs(Xn,{value:`${P.nome}`,onSelect:()=>{T(String(P.id)),d(""),h(""),y(0),S(!1)},children:[c.jsx(va,{className:Te("mr-2 h-4 w-4",String(E)===String(P.id)?"opacity-100":"opacity-0")}),P.nome]},String(P.id)))})]})]})})]})]}),c.jsxs("div",{className:"space-y-2 md:col-span-1 lg:col-span-3",children:[c.jsx(de,{children:"Produtor *"}),c.jsxs(ya,{open:j,onOpenChange:I,children:[c.jsx(wa,{asChild:!0,children:c.jsxs(ae,{variant:"outline",role:"combobox",className:"w-full justify-between",disabled:!E,children:[V?`${V.numerocm} - ${V.nome}`:"Selecione...",c.jsx(xa,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),c.jsx(Wn,{className:"w-full p-0",children:c.jsxs(Hn,{children:[c.jsx(Gn,{placeholder:"Buscar produtor..."}),c.jsxs(qn,{children:[c.jsx(Kn,{children:"Nenhum produtor com Cultivar nesta safra."}),c.jsx(Jn,{children:(k||[]).map(P=>c.jsxs(Xn,{value:`${P.numerocm} ${P.nome}`,onSelect:()=>{d(P.numerocm),h(""),I(!1)},children:[c.jsx(va,{className:Te("mr-2 h-4 w-4",u===P.numerocm?"opacity-100":"opacity-0")}),P.numerocm," - ",P.nome]},P.id))})]})]})})]})]}),c.jsxs("div",{className:"space-y-2 md:col-span-2 lg:col-span-6",children:[c.jsx(de,{htmlFor:"fazenda",children:"Fazenda *"}),c.jsxs(ya,{open:m,onOpenChange:v,children:[c.jsx(wa,{asChild:!0,children:c.jsxs(ae,{variant:"outline",role:"combobox","aria-expanded":m,className:"w-full justify-between",disabled:!u||!E,children:[f?c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsx("span",{children:((O=p.find(P=>P.nomefazenda===f))==null?void 0:O.nomefazenda)||f}),Number(g||0)>0?c.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",Number(g).toFixed(2)," ha)"]}):c.jsx(ht,{variant:"secondary",className:"text-xs",children:"sem rea(h)"})]}):"Selecione uma fazenda...",c.jsx(xa,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),c.jsx(Wn,{className:"w-full p-0",children:c.jsxs(Hn,{children:[c.jsx(Gn,{placeholder:"Buscar fazenda..."}),c.jsxs(qn,{children:[c.jsx(Kn,{children:"Nenhuma fazenda com Cultivar nesta safra."}),c.jsx(Jn,{children:(L||[]).map(P=>c.jsxs(Xn,{value:P.nomefazenda,onSelect:()=>{h(P.nomefazenda),v(!1)},children:[c.jsx(va,{className:Te("mr-2 h-4 w-4",f===P.nomefazenda?"opacity-100":"opacity-0")}),c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsx("span",{children:P.nomefazenda}),Number(P.area_cultivavel||0)>0?c.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",Number(P.area_cultivavel||0)," ha)"]}):c.jsx(ht,{variant:"secondary",className:"text-xs",children:"sem rea(h)"})]})]},P.id))})]})]})})]})]}),c.jsxs("div",{className:"space-y-2 lg:col-span-2",children:[c.jsx(de,{children:"rea cultivvel (ha)"}),c.jsx(_e,{type:"number",value:g?g.toFixed(2):"0.00",disabled:!0,className:"bg-muted"})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(de,{className:"text-base font-semibold",children:"Defensivos aplicados"}),c.jsxs(ae,{type:"button",onClick:N,size:"sm",variant:"outline",children:[c.jsx(Ka,{className:"mr-2 h-4 w-4"}),"Adicionar defensivo"]})]}),C.map((P,Q)=>c.jsx(VY,{defensivo:P,index:Q,defensivosCatalog:o||[],calendario:l,existingByAplicacao:X,onChange:(Z,re)=>M(P.tempId,Z,re),onRemove:()=>W(P.tempId),canRemove:C.length>1},P.tempId))]}),c.jsxs("div",{className:"flex gap-2 justify-end pt-4",children:[c.jsx(ae,{type:"button",variant:"outline",onClick:t,disabled:r,children:"Cancelar"}),c.jsx(ae,{type:"submit",disabled:r||!F&&!ne,children:r?"Salvando...":s})]})]})]})},Fs=e=>String(e||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toUpperCase(),Is=e=>{const t=Fs(e);return t.length>3&&t.endsWith("S")?t.slice(0,-1):t},zY=new Set([Fs("Tratamento de Semente - TS")]),VY=({defensivo:e,index:t,defensivosCatalog:r,calendario:n,existingByAplicacao:a,onChange:s,onRemove:i,canRemove:o})=>{var T,b;const[l,u]=x.useState(!1),[d,f]=x.useState(!1),[h,m]=x.useState(!1),[v,p]=x.useState(""),[g,y]=x.useState(e.aplicacoes||[]);x.useEffect(()=>{y(e.aplicacoes||[])},[e.aplicacoes]),x.useEffect(()=>{var j;if(e.classe&&e.classe.trim()){p(e.classe);return}if(v)return;const S=Object.keys((n==null?void 0:n.aplicacoesPorClasse)||{}),C=String(e.defensivo||"").trim();if(C){const I=(r||[]).find(M=>Fs(String(M.item||""))===Fs(C)),N=String((I==null?void 0:I.grupo)||"").trim();if(N){p(N),s("classe",N);return}const W=(j=C.split("-")[0])==null?void 0:j.trim();if(W){const M=Is(W),X=S.find(z=>Is(z)===M);if(X){p(X),s("classe",X);return}}}if(e.aplicacoes&&e.aplicacoes.length>0){const I=e.aplicacoes[0],N=S.find(W=>{var M;return(((M=n==null?void 0:n.aplicacoesPorClasse)==null?void 0:M[W])||[]).some(X=>Is(X)===Is(I))});if(N){p(N),s("classe",N);return}}const A=String(e.alvo||"").trim();if(A){const I=Is(A),N=S.find(W=>{var M;return(((M=n==null?void 0:n.aplicacoesPorClasse)==null?void 0:M[W])||[]).some(X=>Is(X)===I)});N&&(p(N),s("classe",N))}},[e.classe,e.defensivo,e.aplicacoes,e.alvo,n,v,r,s]),console.log(" Total items in catalog:",r==null?void 0:r.length),console.log(" Selected class:",v);const _=(r==null?void 0:r.filter(S=>S.grupo==="INSETICIDA").length)||0;console.log(' Items com grupo="INSETICIDA" no catlogo original:',_);const E=(r||[]).filter(S=>{var ee;const C=String(v||"").trim();if(!C)return!0;const A=Is(C),j=Is(S.grupo||""),I=Is(((ee=String(S.item||"").split("-")[0])==null?void 0:ee.trim())||"");if(!(j&&j===A||!j&&I===A))return!1;const W=String((g[0]||e.alvo||"").trim());if(!W)return!0;const M=(a[W]||[]).map(k=>Fs(String(k||"").replace(/%/g,""))).filter(k=>k&&k!==Fs(e.defensivo||"")),X=A+" ",z=M.map(k=>k.startsWith(X)?k.slice(X.length).trim():k),V=Fs(S.item||""),Y=Fs(S.marca||""),F=z.some(k=>k&&V.includes(k)),ne=z.some(k=>k&&Y.includes(k));return!(F||ne)});return c.jsx(Ue,{className:"p-4 bg-muted/50",children:c.jsx("div",{className:"flex items-start gap-4",children:c.jsxs("div",{className:"flex-1 grid gap-2 md:grid-cols-2 lg:grid-cols-12",children:[c.jsxs("div",{className:"space-y-2 lg:col-span-2",children:[c.jsx(de,{children:"Descrio da Classe"}),c.jsxs(ya,{open:d,onOpenChange:f,children:[c.jsx(wa,{asChild:!0,children:c.jsxs(ae,{variant:"outline",role:"combobox",className:"w-full justify-between",children:[v||"Selecione...",c.jsx(xa,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),c.jsx(Wn,{className:"w-full p-0",children:c.jsxs(Hn,{children:[c.jsx(Gn,{placeholder:"Buscar classe..."}),c.jsxs(qn,{children:[c.jsx(Kn,{children:"Nenhuma classe encontrada."}),c.jsx(Jn,{children:((n==null?void 0:n.classes)||[]).map(S=>c.jsxs(Xn,{value:S,onSelect:()=>{p(S),y([]),s("aplicacoes",[]),s("alvo",""),s("classe",S),s("defensivo",""),s("dose",0),s("porcentagem_salva",0),f(!1)},children:[c.jsx(va,{className:Te("mr-2 h-4 w-4",v===S?"opacity-100":"opacity-0")}),S]},S))})]})]})})]})]}),c.jsxs("div",{className:"space-y-2 lg:col-span-2",children:[c.jsx(de,{children:"Descrio da Aplicao"}),c.jsxs(ya,{open:h,onOpenChange:m,children:[c.jsx(wa,{asChild:!0,children:c.jsxs(ae,{variant:"outline",role:"combobox",className:"w-full justify-between",children:[g.length>0?g[0]:v?"Selecione...":"Selecione uma classe",c.jsx(xa,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),c.jsx(Wn,{className:"w-full p-0",children:c.jsxs(Hn,{children:[c.jsx(Gn,{placeholder:"Buscar aplicao..."}),c.jsxs(qn,{children:[c.jsx(Kn,{children:v?"Nenhuma aplicao encontrada.":"Selecione uma classe primeiro."}),c.jsx(Jn,{children:(((T=n==null?void 0:n.aplicacoesPorClasse)==null?void 0:T[v])||[]).filter(S=>!zY.has(Fs(S))).map(S=>c.jsxs(Xn,{value:S,onSelect:()=>{const C=g.includes(S)?[]:[S];y(C),s("aplicacoes",C),s("alvo",C[0]??"")},children:[c.jsx(va,{className:Te("mr-2 h-4 w-4",g.includes(S)?"opacity-100":"opacity-0")}),S]},S))})]})]})})]})]}),c.jsxs("div",{className:"space-y-2 lg:col-span-3",children:[c.jsx(de,{children:"Defensivo *"}),c.jsxs(ya,{open:l,onOpenChange:u,children:[c.jsx(wa,{asChild:!0,children:c.jsxs(ae,{variant:"outline",role:"combobox",className:"w-full justify-between",children:[e.defensivo||"Selecione...",c.jsx(xa,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),c.jsx(Wn,{className:"w-full p-0",children:c.jsxs(Hn,{children:[c.jsx(Gn,{placeholder:"Buscar defensivo..."}),c.jsxs(qn,{children:[c.jsx(Kn,{children:"Nenhum defensivo encontrado."}),c.jsx(Jn,{children:E.map(S=>c.jsxs(Xn,{value:`${S.item} ${S.marca}`,onSelect:()=>{s("defensivo",S.item||""),u(!1)},children:[c.jsx(va,{className:Te("mr-2 h-4 w-4",e.defensivo===S.item?"opacity-100":"opacity-0")}),S.item," ",S.marca&&`- ${S.marca}`]},S.cod_item))})]})]})})]})]}),c.jsxs("div",{className:"space-y-2 lg:col-span-1",children:[c.jsx(de,{children:"Dose *"}),c.jsx(_e,{type:"number",step:"0.01",value:e.dose,onChange:S=>s("dose",parseFloat(S.target.value)||0),placeholder:"0.00",required:!0})]}),c.jsxs("div",{className:"space-y-2 lg:col-span-1",children:[c.jsx(de,{className:"whitespace-nowrap text-xs truncate",children:"Cobertura em %"}),c.jsx(_e,{type:"number",step:"0.1",min:"0",max:"100",value:e.porcentagem_salva??100,onChange:S=>{const C=parseFloat(S.target.value),A=isNaN(C)?100:Math.min(100,Math.max(0,C));s("porcentagem_salva",A)},placeholder:"100"})]}),c.jsxs("div",{className:"space-y-2 md:col-span-2 lg:col-span-1",children:[c.jsx(de,{children:"Total"}),c.jsx(_e,{type:"number",step:"0.01",value:((b=e.total)==null?void 0:b.toFixed(2))||"0.00",disabled:!0,className:"bg-muted"})]}),c.jsxs("div",{className:"space-y-3 lg:col-span-1",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Bt,{id:`produto-salvo-${t}`,checked:e.produto_salvo,onCheckedChange:S=>s("produto_salvo",S)}),c.jsx(de,{htmlFor:`produto-salvo-${t}`,className:"cursor-pointer",children:"Produto proprio"})]}),o&&c.jsx(ae,{type:"button",variant:"ghost",size:"icon",onClick:i,title:"Remover defensivo",className:"h-10 w-10",children:c.jsx(pr,{className:"h-4 w-4"})})]})]})})})},Yr={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},qR=()=>{const{toast:e}=dn(),t=St(),{data:r,isLoading:n}=bt({queryKey:["programacoes-list"],queryFn:async()=>{const l=Yr==null?void 0:Yr.VITE_API_URL,u=typeof window<"u"?window.location.hostname:"127.0.0.1",d=l||`http://${u}:5000`,f=await fetch(`${d}/programacoes`,{credentials:"omit"});if(!f.ok)throw new Error(`Erro ao carregar programaes: ${f.status}`);const h=await f.json();return(h==null?void 0:h.items)??[]}}),a=ot({mutationFn:async l=>{const u=Yr==null?void 0:Yr.VITE_API_URL,d=typeof window<"u"?window.location.hostname:"127.0.0.1",f=u||`http://${d}:5000`,h=l.cultivares.reduce((g,y)=>g+y.percentual_cobertura,0);if(Math.abs(h-100)>.1)throw new Error("O percentual de cobertura das cultivares deve somar 100% (tolerncia 0,1)");const m={user_id:void 0,...l},v=await fetch(`${f}/programacoes`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)});if(!v.ok){const g=await v.text();throw new Error(g)}return await v.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["programacoes-list"]}),t.invalidateQueries({queryKey:["programacao-cultivares"]}),t.invalidateQueries({queryKey:["programacao-adubacao"]}),e({title:"Programao criada com sucesso!"})},onError:l=>{e({title:"Erro ao criar programao",description:l.message,variant:"destructive"})}}),s=ot({mutationFn:async l=>{const u=Yr==null?void 0:Yr.VITE_API_URL,d=typeof window<"u"?window.location.hostname:"127.0.0.1",f=u||`http://${d}:5000`,h=await fetch(`${f}/programacoes/${l}`,{method:"DELETE"});if(!h.ok)throw new Error(`Erro ao excluir programao: ${h.status}`)},onSuccess:()=>{t.invalidateQueries({queryKey:["programacoes-list"]}),e({title:"Programao excluda com sucesso!"})},onError:l=>{e({title:"Erro ao excluir programao",description:l.message,variant:"destructive"})}}),i=ot({mutationFn:async({id:l,...u})=>{const d=Yr==null?void 0:Yr.VITE_API_URL,f=typeof window<"u"?window.location.hostname:"127.0.0.1",h=d||`http://${f}:5000`,m=u.cultivares.reduce((p,g)=>p+(Number(g.percentual_cobertura)||0),0);if(Math.abs(m-100)>.1)throw new Error("O percentual de cobertura das cultivares deve somar 100% (tolerncia 0,1)");const v=await fetch(`${h}/programacoes/${l}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)});if(!v.ok){const p=await v.text();throw new Error(p)}},onSuccess:()=>{t.invalidateQueries({queryKey:["programacoes-list"]}),t.invalidateQueries({queryKey:["programacao-cultivares"]}),t.invalidateQueries({queryKey:["programacao-adubacao"]}),e({title:"Programao atualizada com sucesso!"})},onError:l=>{e({title:"Erro ao atualizar programao",description:l.message,variant:"destructive"})}}),o=ot({mutationFn:async({id:l,produtor_numerocm:u,fazenda_idfazenda:d,area_hectares:f,area_name:h})=>{const m=Yr==null?void 0:Yr.VITE_API_URL,v=typeof window<"u"?window.location.hostname:"127.0.0.1",p=m||`http://${v}:5000`;if(!f||Number(f)<=0)throw new Error("A fazenda selecionada no possui rea preenchida");const g=(r||[]).find(N=>N.id===l);if(!g)throw new Error("Programao no encontrada");const y=await fetch(`${p}/programacoes/${l}/children`);if(!y.ok)throw new Error(`Erro ao carregar filhos: ${y.status}`);const _=await y.json(),w=(_==null?void 0:_.tratamentos)||{},E=(_==null?void 0:_.defensivos)||[],T=(_==null?void 0:_.cultivares)||[],b=(_==null?void 0:_.adubacao)||[],S={};E.forEach(N=>{const W=N.programacao_cultivar_id;W&&(S[W]||(S[W]=[]),S[W].push({classe:N.classe,aplicacao:N.aplicacao,defensivo:N.defensivo,dose:N.dose,cobertura:N.cobertura,total:N.total,produto_salvo:!!N.produto_salvo}))});const C=h||g.area,A={produtor_numerocm:u,fazenda_idfazenda:d,area:C,area_hectares:f,safra_id:g.safra_id||void 0,epoca_id:void 0,talhao_ids:(_==null?void 0:_.talhoes)||[],cultivares:T.map(N=>({cultivar:N.cultivar,percentual_cobertura:Number(N.percentual_cobertura)||0,tipo_embalagem:N.tipo_embalagem,tipo_tratamento:N.tipo_tratamento,tratamento_ids:w[N.id]||[],data_plantio:N.data_plantio||null,populacao_recomendada:Number(N.populacao_recomendada)||0,semente_propria:!!N.semente_propria,referencia_rnc_mapa:N.referencia_rnc_mapa||null,sementes_por_saca:Number(N.sementes_por_saca)||0,defensivos_fazenda:N.tipo_tratamento==="NA FAZENDA"?S[N.id]||[]:[]})),adubacao:b.map(N=>({formulacao:N.formulacao,dose:Number(N.dose)||0,percentual_cobertura:Number(N.percentual_cobertura)||0,data_aplicacao:N.data_aplicacao||null,embalagem:N.embalagem||null,justificativa_nao_adubacao_id:N.justificativa_nao_adubacao_id||null,fertilizante_salvo:!!N.fertilizante_salvo,deve_faturar:typeof N.deve_faturar=="boolean"?N.deve_faturar:!0,porcentagem_salva:Number(N.porcentagem_salva)||0}))},j=await fetch(`${p}/programacoes`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(A)});if(!j.ok){const N=await j.text();throw new Error(N)}const I=await j.json();return I==null?void 0:I.id},onSuccess:()=>{t.invalidateQueries({queryKey:["programacoes-list"]}),t.invalidateQueries({queryKey:["programacao-cultivares"]}),t.invalidateQueries({queryKey:["programacao-adubacao"]}),e({title:"Replicao concluda com sucesso!"})},onError:l=>{e({title:"Erro ao replicar programao",description:l.message,variant:"destructive"})}});return{programacoes:r||[],isLoading:n,create:a.mutate,delete:s.mutate,update:i.mutateAsync,isUpdating:i.isPending,replicate:o.mutateAsync,isReplicating:o.isPending}};var bm="Collapsible",[WY,KR]=Vr(bm),[HY,Ky]=WY(bm),JR=x.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:s,onOpenChange:i,...o}=e,[l,u]=Sa({prop:n,defaultProp:a??!1,onChange:i,caller:bm});return c.jsx(HY,{scope:r,disabled:s,contentId:Cr(),open:l,onOpenToggle:x.useCallback(()=>u(d=>!d),[u]),children:c.jsx(Pe.div,{"data-state":Xy(l),"data-disabled":s?"":void 0,...o,ref:t})})});JR.displayName=bm;var XR="CollapsibleTrigger",YR=x.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,a=Ky(XR,r);return c.jsx(Pe.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":Xy(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:t,onClick:Ie(e.onClick,a.onOpenToggle)})});YR.displayName=XR;var Jy="CollapsibleContent",QR=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Ky(Jy,e.__scopeCollapsible);return c.jsx(fn,{present:r||a.open,children:({present:s})=>c.jsx(GY,{...n,ref:t,present:s})})});QR.displayName=Jy;var GY=x.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:a,...s}=e,i=Ky(Jy,r),[o,l]=x.useState(n),u=x.useRef(null),d=Ke(t,u),f=x.useRef(0),h=f.current,m=x.useRef(0),v=m.current,p=i.open||o,g=x.useRef(p),y=x.useRef(void 0);return x.useEffect(()=>{const _=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(_)},[]),mr(()=>{const _=u.current;if(_){y.current=y.current||{transitionDuration:_.style.transitionDuration,animationName:_.style.animationName},_.style.transitionDuration="0s",_.style.animationName="none";const w=_.getBoundingClientRect();f.current=w.height,m.current=w.width,g.current||(_.style.transitionDuration=y.current.transitionDuration,_.style.animationName=y.current.animationName),l(n)}},[i.open,n]),c.jsx(Pe.div,{"data-state":Xy(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!p,...s,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...e.style},children:p&&a})});function Xy(e){return e?"open":"closed"}var qY=JR,KY=YR,JY=QR,ts="Accordion",XY=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Yy,YY,QY]=z0(ts),[Tm,LQ]=Vr(ts,[QY,KR]),Qy=KR(),ZR=me.forwardRef((e,t)=>{const{type:r,...n}=e,a=n,s=n;return c.jsx(Yy.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?c.jsx(rQ,{...s,ref:t}):c.jsx(tQ,{...a,ref:t})})});ZR.displayName=ts;var[eP,ZY]=Tm(ts),[tP,eQ]=Tm(ts,{collapsible:!1}),tQ=me.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},collapsible:s=!1,...i}=e,[o,l]=Sa({prop:r,defaultProp:n??"",onChange:a,caller:ts});return c.jsx(eP,{scope:e.__scopeAccordion,value:me.useMemo(()=>o?[o]:[],[o]),onItemOpen:l,onItemClose:me.useCallback(()=>s&&l(""),[s,l]),children:c.jsx(tP,{scope:e.__scopeAccordion,collapsible:s,children:c.jsx(rP,{...i,ref:t})})})}),rQ=me.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...s}=e,[i,o]=Sa({prop:r,defaultProp:n??[],onChange:a,caller:ts}),l=me.useCallback(d=>o((f=[])=>[...f,d]),[o]),u=me.useCallback(d=>o((f=[])=>f.filter(h=>h!==d)),[o]);return c.jsx(eP,{scope:e.__scopeAccordion,value:i,onItemOpen:l,onItemClose:u,children:c.jsx(tP,{scope:e.__scopeAccordion,collapsible:!0,children:c.jsx(rP,{...s,ref:t})})})}),[nQ,Cm]=Tm(ts),rP=me.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:a,orientation:s="vertical",...i}=e,o=me.useRef(null),l=Ke(o,t),u=YY(r),f=rf(a)==="ltr",h=Ie(e.onKeyDown,m=>{var C;if(!XY.includes(m.key))return;const v=m.target,p=u().filter(A=>{var j;return!((j=A.ref.current)!=null&&j.disabled)}),g=p.findIndex(A=>A.ref.current===v),y=p.length;if(g===-1)return;m.preventDefault();let _=g;const w=0,E=y-1,T=()=>{_=g+1,_>E&&(_=w)},b=()=>{_=g-1,_<w&&(_=E)};switch(m.key){case"Home":_=w;break;case"End":_=E;break;case"ArrowRight":s==="horizontal"&&(f?T():b());break;case"ArrowDown":s==="vertical"&&T();break;case"ArrowLeft":s==="horizontal"&&(f?b():T());break;case"ArrowUp":s==="vertical"&&b();break}const S=_%y;(C=p[S].ref.current)==null||C.focus()});return c.jsx(nQ,{scope:r,disabled:n,direction:a,orientation:s,children:c.jsx(Yy.Slot,{scope:r,children:c.jsx(Pe.div,{...i,"data-orientation":s,ref:l,onKeyDown:n?void 0:h})})})}),T0="AccordionItem",[aQ,Zy]=Tm(T0),nP=me.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...a}=e,s=Cm(T0,r),i=ZY(T0,r),o=Qy(r),l=Cr(),u=n&&i.value.includes(n)||!1,d=s.disabled||e.disabled;return c.jsx(aQ,{scope:r,open:u,disabled:d,triggerId:l,children:c.jsx(qY,{"data-orientation":s.orientation,"data-state":lP(u),...o,...a,ref:t,disabled:d,open:u,onOpenChange:f=>{f?i.onItemOpen(n):i.onItemClose(n)}})})});nP.displayName=T0;var aP="AccordionHeader",sP=me.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=Cm(ts,r),s=Zy(aP,r);return c.jsx(Pe.h3,{"data-orientation":a.orientation,"data-state":lP(s.open),"data-disabled":s.disabled?"":void 0,...n,ref:t})});sP.displayName=aP;var dx="AccordionTrigger",iP=me.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=Cm(ts,r),s=Zy(dx,r),i=eQ(dx,r),o=Qy(r);return c.jsx(Yy.ItemSlot,{scope:r,children:c.jsx(KY,{"aria-disabled":s.open&&!i.collapsible||void 0,"data-orientation":a.orientation,id:s.triggerId,...o,...n,ref:t})})});iP.displayName=dx;var oP="AccordionContent",cP=me.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=Cm(ts,r),s=Zy(oP,r),i=Qy(r);return c.jsx(JY,{role:"region","aria-labelledby":s.triggerId,"data-orientation":a.orientation,...i,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});cP.displayName=oP;function lP(e){return e?"open":"closed"}var sQ=ZR,iQ=nP,oQ=sP,uP=iP,dP=cP;const cQ=sQ,fP=x.forwardRef(({className:e,...t},r)=>c.jsx(iQ,{ref:r,className:Te("border-b",e),...t}));fP.displayName="AccordionItem";const hP=x.forwardRef(({className:e,children:t,...r},n)=>c.jsx(oQ,{className:"flex",children:c.jsxs(uP,{ref:n,className:Te("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,c.jsx(ur,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));hP.displayName=uP.displayName;const mP=x.forwardRef(({className:e,children:t,...r},n)=>c.jsx(dP,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:c.jsx("div",{className:Te("pb-4 pt-0",e),children:t})}));mP.displayName=dP.displayName;const lQ=()=>{var D;const[e,t]=x.useState(!1),[r,n]=x.useState(null),{aplicacoes:a,isLoading:s,create:i,duplicate:o,remove:l,update:u,isCreating:d,isUpdating:f,replicate:h,isReplicating:m}=G1(),{data:v=[]}=fc(),{programacoes:p=[]}=qR(),{programacoes:g=[]}=tf(),y=p.length>0,[_,w]=x.useState(!1),[E,T]=x.useState(null),[b,S]=x.useState(""),[C,A]=x.useState(""),[j,I]=x.useState([]),[N,W]=x.useState(!1),[M,X]=x.useState(!1),[z,V]=x.useState([]),{data:Y=[]}=Qi(b),F=x.useMemo(()=>{const O=new Set;for(const P of g){const Q=String(P.produtor_numerocm||"").trim();Q&&O.add(Q)}return O},[g]),ne=x.useMemo(()=>{const O=new Map;for(const P of g){const Q=String(P.produtor_numerocm||"").trim(),Z=String(P.area||"").trim();!Q||!Z||(O.has(Q)||O.set(Q,new Set),O.get(Q).add(Z))}return O},[g]),ee=x.useMemo(()=>E&&a.find(O=>O.id===E)||null,[a,E]),k=x.useMemo(()=>{if(!ee)return"";const O=(ee.defensivos||[]).find(P=>P&&P.safra_id);return String((O==null?void 0:O.safra_id)||"").trim()},[ee]),G=O=>{try{if(!O)return"";const Q=localStorage.getItem("aplicacoes_defensivos_produtor_map");return((Q?JSON.parse(Q):{})[O]||"").trim()}catch{return""}},L=O=>{i(O),t(!1)};return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx("header",{className:"border-b bg-card",children:c.jsx("div",{className:"container mx-auto px-4 py-4",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(Ao,{to:"/",children:c.jsx(ae,{variant:"ghost",size:"icon",children:c.jsx(u1,{className:"h-5 w-5"})})}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Jh,{className:"h-6 w-6 text-primary"}),c.jsx("h1",{className:"text-xl font-bold",children:"Defensivos"})]})]})})}),c.jsxs("main",{className:"container mx-auto px-4 py-8",children:[c.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Programao de Defensivos"}),c.jsx("p",{className:"text-muted-foreground",children:"Programao planejadas por rea"})]}),c.jsxs(ae,{onClick:()=>t(!e),disabled:!y,children:[c.jsx(Ka,{className:"mr-2 h-4 w-4"}),"Nova Programao"]})]}),!y&&c.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:c.jsx("p",{className:"text-yellow-800 font-medium",children:"  necessrio ter programao de cultivares e adubao antes de programar defensivos."})}),e&&!r&&c.jsx(JS,{onSubmit:L,onCancel:()=>t(!1),isLoading:d}),r&&c.jsx(JS,{title:"Editar Programao de Defensivo",submitLabel:"Salvar alteraes",initialData:{produtor_numerocm:r.produtor_numerocm||G(r.id),area:r.area,defensivos:r.defensivos},onSubmit:O=>{u({id:r.id,...O}),n(null)},onCancel:()=>n(null),isLoading:f}),s?c.jsx("p",{className:"text-muted-foreground",children:"Carregando programao..."}):c.jsx("div",{className:"grid gap-4",children:a.length===0?c.jsx(Ue,{className:"p-6",children:c.jsx("p",{className:"text-muted-foreground",children:"Nenhuma programao cadastrada."})}):a.map(O=>{var P;return c.jsx(Ue,{className:"hover:shadow-lg transition-shadow",children:c.jsx(cQ,{type:"single",collapsible:!0,className:"w-full",children:c.jsxs(fP,{value:"item-1",className:"border-none",children:[c.jsxs("div",{className:"flex items-center justify-between p-6 pb-0",children:[c.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[c.jsx(Jh,{className:"h-5 w-5 text-primary"}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("h3",{className:"font-semibold text-lg",children:[O.produtor_numerocm," - ",((P=v.find(Q=>Q.numerocm===O.produtor_numerocm))==null?void 0:P.nome)||""," "]}),O.produtor_numerocm&&c.jsx("p",{className:"text-sm text-muted-foreground",children:O.area}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:[O.defensivos.length," defensivo(s) programado(s)"]})]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(ae,{variant:"outline",size:"icon",onClick:()=>n(O),title:"Editar programao",children:c.jsx(Ya,{className:"h-4 w-4"})}),c.jsx(ae,{variant:"outline",size:"icon",onClick:()=>{T(O.id),S(""),A(""),w(!0)},title:"Replicar programao",children:c.jsx(d1,{className:"h-4 w-4"})}),c.jsx(ae,{variant:"outline",size:"icon",onClick:()=>l(O.id),title:"Excluir programao",children:c.jsx(pr,{className:"h-4 w-4"})})]})]}),c.jsx(hP,{className:"px-6 py-4 hover:no-underline",children:c.jsx("span",{className:"text-sm font-medium",children:"Ver defensivos aplicados"})}),c.jsx(mP,{className:"px-6 pb-6",children:c.jsx("div",{className:"grid gap-3 pt-2 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:O.defensivos.map((Q,Z)=>c.jsxs("div",{className:"bg-muted/50 p-4 rounded-md",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("span",{className:"font-semibold",children:Q.defensivo}),Q.produto_salvo&&c.jsx(ht,{variant:"secondary",className:"text-xs",children:"Produto Salvo"})]}),c.jsxs("div",{className:"grid gap-5 text-sm",children:[c.jsxs("p",{children:[c.jsx("span",{className:"text-muted-foreground",children:"Dose:"})," ",Q.dose," ",Q.unidade]}),Q.alvo&&c.jsxs("p",{children:[c.jsx("span",{className:"text-muted-foreground",children:"Alvo:"})," ",Q.alvo]}),Q.produto_salvo&&Q.porcentagem_salva>0&&c.jsxs("p",{children:[c.jsx("span",{className:"text-muted-foreground",children:"% Salva:"})," ",Q.porcentagem_salva,"%"]})]})]},Q.id||Z))})})]})})},O.id)})})]}),c.jsx(ba,{open:_,onOpenChange:O=>w(O),children:c.jsxs(Qn,{children:[c.jsx(Zn,{children:c.jsx(ea,{children:"Replicar programao"})}),c.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Produtor"}),c.jsxs(ya,{open:N,onOpenChange:W,children:[c.jsx(wa,{asChild:!0,children:c.jsxs(ae,{variant:"outline",role:"combobox",className:"w-full justify-between",children:[b?`${b} - ${((D=v.find(O=>O.numerocm===b))==null?void 0:D.nome)||""}`:"Selecione produtor...",c.jsx(xa,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),c.jsx(Wn,{className:"w-full p-0",children:c.jsxs(Hn,{children:[c.jsx(Gn,{placeholder:"Buscar produtor..."}),c.jsxs(qn,{children:[c.jsx(Kn,{children:"Nenhum produtor encontrado."}),c.jsx(Jn,{children:v.filter(O=>F.has(String(O.numerocm))).filter(O=>!ee||String(O.numerocm)!==String(ee.produtor_numerocm)).map(O=>c.jsxs(Xn,{value:`${O.numerocm} ${O.nome}`,onSelect:()=>{S(O.numerocm),V([]),W(!1)},children:[c.jsx(va,{className:Te("mr-2 h-4 w-4",b===O.numerocm?"opacity-100":"opacity-0")}),O.numerocm," - ",O.nome]},O.id))})]})]})})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"reas (fazendas)"}),c.jsxs(ya,{open:M,onOpenChange:X,children:[c.jsx(wa,{asChild:!0,children:c.jsxs(ae,{variant:"outline",role:"combobox","aria-expanded":M,className:"w-full justify-between",disabled:!b,children:[z.length>0?`${z.length} rea(s) selecionada(s)`:"Selecione reas...",c.jsx(xa,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),c.jsx(Wn,{className:"w-full p-0",children:c.jsxs(Hn,{children:[c.jsx(Gn,{placeholder:"Buscar rea..."}),c.jsxs(qn,{children:[c.jsx(Kn,{children:"Nenhuma rea encontrada."}),c.jsx(Jn,{children:Y.filter(O=>{const P=ne.get(String(b)),Q=String(O.nomefazenda),Z=Number(O.area_cultivavel||0)>0,re=!!P&&P.has(Q),ce=k?g.some(we=>String(we.produtor_numerocm)===String(b)&&String(we.area)===Q&&String(we.safra||"")===String(k)):!0,U=!!ee&&String(b)===String(ee.produtor_numerocm)&&Q===String(ee.area);return re&&ce&&Z&&!U}).map(O=>{var Z;const P=((Z=v.find(re=>re.numerocm===O.numerocm))==null?void 0:Z.nome)||"",Q=z.some(re=>re.produtor_numerocm===b&&re.area===O.nomefazenda);return c.jsxs(Xn,{value:`${O.numerocm} ${P} / ${O.nomefazenda}`,onSelect:()=>{ee&&String(b)===String(ee.produtor_numerocm)&&String(O.nomefazenda)===String(ee.area)||V(ce=>ce.some(we=>we.produtor_numerocm===b&&we.area===O.nomefazenda)?ce.filter(we=>!(we.produtor_numerocm===b&&we.area===O.nomefazenda)):[...ce,{produtor_numerocm:b,area:O.nomefazenda}])},children:[c.jsx(Bt,{checked:Q,className:"mr-2 h-4 w-4"}),c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsxs("span",{children:[O.numerocm," - ",P," / ",O.nomefazenda]}),Number(O.area_cultivavel||0)>0?c.jsxs("span",{className:"ml-2 text-xs text-muted-foreground",children:["(",Number(O.area_cultivavel||0)," ha)"]}):c.jsx(ht,{variant:"secondary",className:"text-xs",children:"sem rea(h)"})]})]},`${O.id}-${O.numerocm}`)})})]})]})})]})]})]}),c.jsx("div",{className:"mt-4 flex items-center gap-2",children:c.jsx(ae,{variant:"outline",onClick:()=>{if(z.length===0)return;const O=[...j];for(const P of z)O.some(Z=>Z.produtor_numerocm===P.produtor_numerocm&&Z.area===P.area)||O.push(P);I(O),V([])},disabled:z.length===0,children:"Adicionar destino"})}),j.length>0&&c.jsxs("div",{className:"mt-2 space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Destinos selecionados"}),c.jsx("div",{className:"space-y-2",children:j.map((O,P)=>{var Q;return c.jsxs("div",{className:"flex items-center justify-between rounded-md border p-2",children:[c.jsxs("div",{className:"text-sm",children:[c.jsxs("span",{className:"font-medium",children:[O.produtor_numerocm," - ",((Q=v.find(Z=>Z.numerocm===O.produtor_numerocm))==null?void 0:Q.nome)||""]}),c.jsxs("span",{className:"ml-2 text-muted-foreground",children:["/ ",O.area]})]}),c.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>{I(j.filter((Z,re)=>re!==P))},title:"Remover destino",children:c.jsx(pr,{className:"h-4 w-4"})})]},`${O.produtor_numerocm}-${O.area}-${P}`)})})]}),c.jsxs(Za,{children:[c.jsx(ae,{variant:"secondary",onClick:()=>{w(!1),T(null),S(""),A(""),I([]),V([])},children:"Cancelar"}),c.jsx(ae,{onClick:async()=>{if(!E||j.length===0)return;const O=await Promise.allSettled(j.map(Z=>h({id:E,produtor_numerocm:Z.produtor_numerocm,area:Z.area}))),P=O.filter(Z=>Z.status==="fulfilled").length,Q=O.filter(Z=>Z.status==="rejected").length;P>0&&le.success(`Replicao concluda: ${P} sucesso(s)`),Q>0&&le.error(`Falhas em ${Q} destino(s)`),w(!1),T(null),S(""),A(""),V([]),I([])},disabled:m||!E||j.length===0,children:"Replicar"})]})]})})]})},sg=e=>{const t=Number(e);return Number.isFinite(t)?t:0},uQ=()=>{const{programacoes:e}=tf(),{programacoes:t}=H1(),{aplicacoes:r}=G1(),n=e??[],a=t??[],s=r??[],i=x.useMemo(()=>{const o=n.reduce((h,m)=>h+sg(m.quantidade),0),l=n.reduce((h,m)=>{const v=m.area,p=typeof v=="string"?v.match(/(\d+(\.\d+)?)/):null;return p?h+parseFloat(p[1]):h},0),u=a.reduce((h,m)=>h+sg(m.total),0),d=s.reduce((h,m)=>{const v=m.defensivos.reduce((p,g)=>p+sg(g.dose),0);return h+v},0),f=new Set;return n.forEach(h=>{const m=String(h.safra??"").trim();m&&f.add(m)}),{cultivares:n.length,quantidadeSementes:o,hectares:l,adubacoes:a.length,volumeAdubacao:u,defensivos:s.length,volumeDefensivo:d,safras:Array.from(f)}},[n,a,s]);return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx("header",{className:"border-b bg-card",children:c.jsx("div",{className:"container mx-auto px-4 py-4",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(Ao,{to:"/",children:c.jsx(ae,{variant:"ghost",size:"icon",children:c.jsx(u1,{className:"h-5 w-5"})})}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(QT,{className:"h-6 w-6 text-primary"}),c.jsx("h1",{className:"text-xl font-bold",children:"Relatorios"})]})]})})}),c.jsxs("main",{className:"container mx-auto px-4 py-8",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Relatorios consolidados"}),c.jsx("p",{className:"text-muted-foreground",children:"Visualize dados consolidados via Supabase"})]}),c.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[c.jsxs(Ue,{className:"p-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Resumo de cultivares"}),c.jsxs("div",{className:"space-y-3 mb-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-muted-foreground",children:"Cultivares"}),c.jsx("span",{className:"font-semibold",children:i.cultivares})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-muted-foreground",children:"Quantidade total"}),c.jsx("span",{className:"font-semibold",children:i.quantidadeSementes.toFixed(2)})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-muted-foreground",children:"Hectares identificados"}),c.jsxs("span",{className:"font-semibold",children:[i.hectares.toFixed(2)," ha"]})]})]}),c.jsxs(ae,{className:"w-full",variant:"outline",children:[c.jsx(Of,{className:"mr-2 h-4 w-4"}),"Exportar CSV"]})]}),c.jsxs(Ue,{className:"p-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Resumo de adubacoes"}),c.jsxs("div",{className:"space-y-3 mb-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-muted-foreground",children:"Programacoes"}),c.jsx("span",{className:"font-semibold",children:i.adubacoes})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-muted-foreground",children:"Volume total"}),c.jsx("span",{className:"font-semibold",children:i.volumeAdubacao.toFixed(2)})]})]}),c.jsxs(ae,{className:"w-full",variant:"outline",children:[c.jsx(Of,{className:"mr-2 h-4 w-4"}),"Exportar PDF"]})]}),c.jsxs(Ue,{className:"p-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Resumo de defensivos"}),c.jsxs("div",{className:"space-y-3 mb-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-muted-foreground",children:"Aplicacoes"}),c.jsx("span",{className:"font-semibold",children:i.defensivos})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-muted-foreground",children:"Volume total"}),c.jsx("span",{className:"font-semibold",children:i.volumeDefensivo.toFixed(2)})]})]}),c.jsxs(ae,{className:"w-full",variant:"outline",children:[c.jsx(Of,{className:"mr-2 h-4 w-4"}),"Exportar Excel"]})]}),c.jsxs(Ue,{className:"p-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Safras monitoradas"}),c.jsx("div",{className:"space-y-3 mb-4",children:i.safras.length===0?c.jsx("p",{className:"text-muted-foreground",children:"Nenhuma safra identificada nas consultas."}):i.safras.map(o=>c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-muted-foreground",children:o}),c.jsx("span",{className:"font-semibold",children:n.filter(l=>String(l.safra??"")===o).length})]},o))}),c.jsxs(ae,{className:"w-full",variant:"outline",children:[c.jsx(Of,{className:"mr-2 h-4 w-4"}),"Exportar resumo"]})]})]})]})]})},dQ=e=>bt({queryKey:["tratamentos-por-cultivar",e],queryFn:async()=>{if(!e)return[];const{data:t,error:r}=await ge.from("cultivares_tratamentos").select(`
          tratamento_id,
          tratamentos_sementes (
            id,
            nome,
            cultura,
            ativo
          )
        `).eq("cultivar",e);if(r)throw r;return(t==null?void 0:t.map(n=>n.tratamentos_sementes).filter(n=>n&&n.ativo))||[]},enabled:!!e}),ig={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},fQ=()=>bt({queryKey:["justificativas-adubacao"],queryFn:async()=>{const e=ig==null?void 0:ig.VITE_API_URL,t=typeof window<"u"?window.location.hostname:"127.0.0.1",r=e||`http://${t}:5000`,n=await fetch(`${r}/justificativas_adubacao?ativas=true`);if(!n.ok){const s=await n.text();throw new Error(s)}const a=await n.json();return(a==null?void 0:a.items)||[]}}),og={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},hQ=()=>bt({queryKey:["epocas"],queryFn:async()=>{const e=og==null?void 0:og.VITE_API_URL,t=typeof window<"u"?window.location.hostname:"127.0.0.1",r=e||`http://${t}:5000`,n=await fetch(`${r}/epocas?ativas=true`);if(!n.ok){const s=await n.text();throw new Error(s)}const a=await n.json();return(a==null?void 0:a.items)||[]}});function mQ({item:e,index:t,cultivaresDistinct:r,cultivaresCatalog:n,canRemove:a,areaHectares:s,onChange:i,onRemove:o}){const{toast:l}=dn(),[u,d]=x.useState(e.cultura||"");x.useEffect(()=>{e.cultura&&e.cultura!==u&&d(e.cultura)},[e.cultura]);const f=n.find(b=>b.cultivar===e.cultivar),h=f==null?void 0:f.cultivar,{data:m=[]}=dQ(h),{data:v=[]}=Uy(),p=x.useMemo(()=>{const b=new Set;for(const S of n){const C=String(S.cultura||"").trim();C&&b.add(C)}return Array.from(b).sort((S,C)=>S.localeCompare(C,"pt-BR",{sensitivity:"base"}))},[n]),g=x.useMemo(()=>{const b=n.filter(C=>String(C.cultivar||"").trim()?u?String(C.cultura||"").trim()===u:!0:!1).map(C=>String(C.cultivar||"").trim());return Array.from(new Set(b)).map(C=>({cultivar:C}))},[u,n]),[y,_]=x.useState(e.defensivos_fazenda||[{tempId:il(),classe:"",aplicacao:"Tratamento de Semente - TS",defensivo:"",dose:0,cobertura:100,total:0,produto_salvo:!1,porcentagem_salva:100}]);x.useEffect(()=>{i(t,"defensivos_fazenda",y)},[y]);const w=()=>{_([{tempId:il(),classe:"",aplicacao:"Tratamento de Semente - TS",defensivo:"",dose:0,cobertura:100,total:0,produto_salvo:!1,porcentagem_salva:100},...y])},E=b=>{y.length!==1&&_(y.filter(S=>S.tempId!==b))},T=(b,S,C)=>{if(S==="defensivo"&&C&&y.find(j=>j.tempId!==b&&j.defensivo===C&&!j.produto_salvo)){l({title:"Produto no pode ser repetido",description:"Para repetir este produto, marque a flag 'Produto salvo' no registro anterior.",variant:"destructive"});return}if(S==="produto_salvo"&&!C){const A=y.find(j=>j.tempId===b);if(A!=null&&A.defensivo&&y.filter(I=>I.tempId!==b&&I.defensivo===A.defensivo&&!I.produto_salvo).length>0){l({title:"No  possvel desmarcar",description:"Existe outro produto igual sem a flag marcada. Ao menos um deve ter a flag 'Produto salvo' marcada.",variant:"destructive"});return}}_(A=>A.map(j=>{if(j.tempId===b){const I={...j,[S]:C};if(S==="dose"||S==="cobertura"){const N=Number(S==="dose"?C:j.dose)||0,W=Math.min(100,Math.max(0,Number(S==="cobertura"?C:j.cobertura)||100));I.total=N*(s||0)*(W/100),I.cobertura=W}return I}return j}))};return c.jsxs("div",{className:"space-y-3 p-3 md:p-4 border rounded-lg",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-7 gap-3",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(de,{children:"Cultura"}),c.jsxs(yr,{value:u,onValueChange:b=>{d(b),i(t,"cultura",b),i(t,"cultivar","")},children:[c.jsx(ir,{children:c.jsx(wr,{placeholder:"Selecione cultura"})}),c.jsx(or,{children:p.map(b=>c.jsx(ut,{value:b||"",children:b},b))})]})]}),c.jsxs("div",{className:"space-y-2 sm:col-span-2 lg:col-span-2 xl:col-span-2",children:[c.jsx(de,{children:"Cultivar"}),c.jsxs(yr,{value:e.cultivar,onValueChange:b=>i(t,"cultivar",b),disabled:!u,children:[c.jsx(ir,{children:c.jsx(wr,{placeholder:u?"Selecione":"Selecione cultura primeiro"})}),c.jsx(or,{children:g.map(b=>c.jsx(ut,{value:b.cultivar||"",children:b.cultivar},`cult-${b.cultivar??"null"}`))})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(de,{children:"Tipo Embalagem"}),c.jsx("div",{className:"flex gap-2",children:c.jsxs(yr,{value:e.tipo_embalagem,onValueChange:b=>i(t,"tipo_embalagem",b),children:[c.jsx(ir,{className:"flex-1",children:c.jsx(wr,{})}),c.jsxs(or,{children:[c.jsx(ut,{value:"BAG 5000K",children:"BAG 5000K"}),c.jsx(ut,{value:"SACAS 200K",children:"SACAS 200K"})]})]})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(de,{children:"Tipo Tratamento"}),c.jsxs(yr,{value:e.tipo_tratamento,onValueChange:b=>{i(t,"tipo_tratamento",b),b==="NO"&&(i(t,"tratamento_ids",[]),i(t,"tratamento_id",void 0))},children:[c.jsx(ir,{children:c.jsx(wr,{})}),c.jsxs(or,{children:[c.jsx(ut,{value:"NO",children:"NO"}),c.jsx(ut,{value:"NA FAZENDA",children:"NA FAZENDA"}),c.jsx(ut,{value:"INDUSTRIAL",children:"INDUSTRIAL"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(de,{children:"Data provvel de plantio"}),c.jsx(_e,{type:"date",value:e.data_plantio||"",onChange:b=>i(t,"data_plantio",b.target.value)})]}),c.jsxs("div",{className:"space-y-2 sm:col-span-2 lg:col-span-1",children:[c.jsx(de,{children:"% Cobertura"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(_e,{type:"number",step:"0.1",min:"1",max:"100",value:e.percentual_cobertura??100,onChange:b=>{const S=Number(b.target.value),C=Number.isFinite(S)?Math.min(100,Math.max(1,S)):100;i(t,"percentual_cobertura",C)},className:"flex-1"}),c.jsx(ae,{type:"button",variant:"destructive",size:"icon",onClick:()=>o(t),disabled:!a,className:"shrink-0",children:c.jsx(pr,{className:"h-4 w-4"})})]})]})]}),e.cultivar&&e.tipo_tratamento!=="NO"&&e.tipo_tratamento!=="NA FAZENDA"&&c.jsxs("div",{className:"space-y-2",children:[c.jsx(de,{children:"Tratamento Especfico"}),c.jsxs(ya,{children:[c.jsx(wa,{asChild:!0,children:c.jsxs(ae,{variant:"outline",type:"button",role:"combobox",className:"w-full justify-between",children:[Array.isArray(e.tratamento_ids)&&e.tratamento_ids.length>0?`${e.tratamento_ids.length} selecionado(s)`:"Selecione o(s) tratamento(s)...",c.jsx(xa,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),c.jsx(Wn,{className:"w-full p-0",children:c.jsxs(Hn,{shouldFilter:!0,children:[c.jsx(Gn,{placeholder:"Buscar tratamento..."}),c.jsxs(qn,{children:[c.jsx(Kn,{children:"Nenhum tratamento encontrado."}),c.jsx(Jn,{children:m.map(b=>{const S=Array.isArray(e.tratamento_ids)?e.tratamento_ids.includes(b.id):!1;return c.jsxs(Xn,{value:`${b.nome}`,onSelect:()=>{const C=Array.isArray(e.tratamento_ids)?[...e.tratamento_ids]:[],j=C.includes(b.id)?C.filter(I=>I!==b.id):[...C,b.id];i(t,"tratamento_ids",j)},children:[c.jsx(va,{className:Te("mr-2 h-4 w-4",S?"opacity-100":"opacity-0")}),b.nome]},b.id)})})]})]})})]})]}),e.cultivar&&e.tipo_tratamento==="NA FAZENDA"&&c.jsxs("div",{className:"space-y-3 pt-3 border-t",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[c.jsx(de,{className:"text-sm font-semibold",children:"Defensivos para o TS"}),c.jsxs(ae,{type:"button",variant:"outline",size:"sm",onClick:w,className:"w-full sm:w-auto",children:[c.jsx(Ka,{className:"h-4 w-4 mr-1"}),"Adicionar defensivo"]})]}),y.map((b,S)=>c.jsx("div",{className:"space-y-3 p-3 border rounded-md bg-muted/30",children:c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-3",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(de,{children:"Aplicao"}),c.jsx(_e,{value:"Tratamento de Semente - TS",disabled:!0,className:"bg-muted"})]}),c.jsxs("div",{className:"space-y-2 sm:col-span-2 lg:col-span-2",children:[c.jsx(de,{children:"Defensivo *"}),c.jsxs(ya,{children:[c.jsx(wa,{asChild:!0,children:c.jsxs(ae,{variant:"outline",type:"button",role:"combobox",className:"w-full justify-between",children:[b.defensivo||"Selecione...",c.jsx(xa,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),c.jsx(Wn,{className:"w-full p-0",children:c.jsxs(Hn,{shouldFilter:!0,children:[c.jsx(Gn,{placeholder:"Buscar defensivo..."}),c.jsxs(qn,{children:[c.jsx(Kn,{children:"Nenhum defensivo encontrado."}),c.jsx(Jn,{children:v.map(C=>c.jsxs(Xn,{value:`${C.item}`,onSelect:()=>T(b.tempId,"defensivo",C.item),children:[c.jsx(va,{className:Te("mr-2 h-4 w-4",b.defensivo===C.item?"opacity-100":"opacity-0")}),C.item]},C.cod_item))})]})]})})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(de,{children:"Dose *"}),c.jsx(_e,{type:"text",inputMode:"decimal",value:String(b.dose||""),onChange:C=>{let A=C.target.value.replace(",",".");(A===""||/^\d*\.?\d*$/.test(A))&&T(b.tempId,"dose",A)},onBlur:C=>{let A=C.target.value.replace(",",".");const j=A===""?0:parseFloat(A);isNaN(j)?T(b.tempId,"dose",0):T(b.tempId,"dose",j)}})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(de,{children:"Cobertura em %"}),c.jsx(_e,{type:"number",step:"0.1",min:"0",max:"100",value:b.cobertura,onChange:C=>T(b.tempId,"cobertura",parseFloat(C.target.value)||100)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(de,{children:"Total"}),c.jsx(_e,{type:"number",value:b.total.toFixed(2),disabled:!0,className:"bg-muted"})]}),c.jsxs("div",{className:"space-y-2 sm:col-span-2 lg:col-span-3 xl:col-span-1 flex flex-col sm:flex-row items-start sm:items-center gap-2 justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Bt,{id:`produto-salvo-${b.tempId}`,checked:b.produto_salvo,onCheckedChange:C=>T(b.tempId,"produto_salvo",!!C)}),c.jsx(de,{htmlFor:`produto-salvo-${b.tempId}`,className:"text-sm whitespace-nowrap",children:"Produto proprio."})]}),y.length>1&&c.jsx(ae,{type:"button",variant:"ghost",size:"icon",onClick:()=>E(b.tempId),className:"shrink-0",children:c.jsx(pr,{className:"h-4 w-4"})})]})]})},b.tempId))]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Bt,{id:`cultivar-salvo-${e.uiId||t}`,checked:!!e.semente_propria,onCheckedChange:b=>i(t,"semente_propria",!!b)}),c.jsx(de,{htmlFor:`cultivar-salvo-${e.uiId||t}`,children:"Semente propria"})]})]})}const XS=({onSubmit:e,onCancel:t,title:r,submitLabel:n,initialData:a})=>{var Xt,Gt,rr;const{toast:s}=dn();St();const{profile:i}=oA(),{data:o}=q1(),l=!!(o!=null&&o.isAdmin);i!=null&&i.numerocm_consultor;const{data:u=[]}=fc(),{data:d=[]}=Qi(),{data:f=[]}=hm(),{data:h=[]}=pI(),{safras:m=[],defaultSafra:v}=mm(),{data:p=[]}=fQ(),{data:g=[]}=hQ(),y=he=>{const be=String(he||"").toUpperCase().trim();return be==="NO"||be==="NAO"?"NO":be==="NA FAZENDA"||be.includes("FAZENDA")?"NA FAZENDA":be==="INDUSTRIAL"||be.startsWith("INDUSTR")?"INDUSTRIAL":"NO"},_=x.useMemo(()=>{const he=new Set;return(h||[]).filter(be=>{const Ce=String(be.item||"").trim();return!Ce||he.has(Ce)?!1:(he.add(Ce),!0)})},[h]),w=x.useMemo(()=>{const he=new Set;return(f||[]).filter(be=>{const Ce=String(be.cultivar||"").trim();return!Ce||he.has(Ce)?!1:(he.add(Ce),!0)})},[f]),[E,T]=x.useState((a==null?void 0:a.produtor_numerocm)||""),[b,S]=x.useState((a==null?void 0:a.fazenda_idfazenda)||""),[C,A]=x.useState((a==null?void 0:a.area)||""),[j,I]=x.useState(String((a==null?void 0:a.area_hectares)||"")),[N,W]=x.useState((a==null?void 0:a.safra_id)||""),[M,X]=x.useState((a==null?void 0:a.epoca_id)||""),[z,V]=x.useState([]),[Y,F]=x.useState(!1),ne=()=>`${Date.now().toString(36)}-${Math.random().toString(36).slice(2)}`,[ee,k]=x.useState(a!=null&&a.cultivares&&a.cultivares.length>0?a.cultivares.map(he=>({...he,uiId:ne()})):[{uiId:ne(),cultivar:"",percentual_cobertura:0,tipo_embalagem:"BAG 5000K",tipo_tratamento:"NO"}]),[G,L]=x.useState(a!=null&&a.adubacao&&a.adubacao.length>0?a.adubacao:[{formulacao:"",dose:0,percentual_cobertura:0}]),[D,O]=x.useState([]),[P,Q]=x.useState(!1),Z=x.useRef(!1),re=(Xt=D.find(he=>he.idfazenda===b))==null?void 0:Xt.id,{data:ce=[]}=oy(re);x.useEffect(()=>{!N&&(v!=null&&v.id)&&W(v.id)},[v,N]),x.useEffect(()=>{if(a){if(Z.current=!0,typeof a.produtor_numerocm=="string"){T(a.produtor_numerocm);const he=d.filter(be=>be.numerocm===a.produtor_numerocm);O(he)}if(typeof a.fazenda_idfazenda=="string"&&S(a.fazenda_idfazenda),typeof a.area=="string"&&A(a.area),typeof a.area_hectares<"u"&&I(String(a.area_hectares||"")),typeof a.safra_id=="string"&&W(a.safra_id),typeof a.epoca_id=="string"&&X(a.epoca_id),Array.isArray(a.talhao_ids)&&V(a.talhao_ids),Array.isArray(a.cultivares)&&k(a.cultivares.map(he=>{const be=y(he.tipo_tratamento),Ce={...he,tipo_tratamento:be,uiId:ne()};return be==="NO"&&(Ce.tratamento_ids=[],Ce.tratamento_id=void 0),Ce})),Array.isArray(a.adubacao)&&L(a.adubacao),Array.isArray(a.adubacao)){const he=a.adubacao.some(Ce=>!!Ce.formulacao),be=a.adubacao.some(Ce=>!!Ce.justificativa_nao_adubacao_id);F(!!be&&!he)}setTimeout(()=>{Z.current=!1},100)}},[a,d]),x.useEffect(()=>{var he;if(Y){const be=((he=G[0])==null?void 0:he.justificativa_nao_adubacao_id)||"";L([{formulacao:"",dose:0,percentual_cobertura:0,justificativa_nao_adubacao_id:be}])}else{const be=G.length===1&&!G[0].formulacao;(G.length===0||be)&&L([{formulacao:"",dose:0,percentual_cobertura:100}])}},[Y]),x.useEffect(()=>{if(!Z.current&&E){const he=d.filter(be=>be.numerocm===E);O(he),S(""),A(""),V([]),I("")}},[E,d]),x.useEffect(()=>{if(Z.current||!b)return;const he=D.find(be=>be.idfazenda===b);A((he==null?void 0:he.nomefazenda)||""),V([]),I("")},[b,D]),x.useEffect(()=>{if(z.length===0){I("");return}const he=ce.filter(be=>z.includes(be.id)).reduce((be,Ce)=>be+Number(Ce.area||0),0);I(String(he))},[z,ce]);const U=()=>{k([{uiId:ne(),cultivar:"",percentual_cobertura:100,tipo_embalagem:"BAG 5000K",tipo_tratamento:"NO"},...ee])},we=he=>{k(ee.filter((be,Ce)=>Ce!==he))},Ne=(he,be,Ce)=>{const gt=[...ee];gt[he]={...gt[he],[be]:Ce},k(gt)},$e=()=>{L([{formulacao:"",dose:0,percentual_cobertura:100},...G])},Me=he=>{const be=G.filter((Ce,gt)=>gt!==he);L(be),be.length===0&&(F(!0),L([{formulacao:"",dose:0,percentual_cobertura:0,justificativa_nao_adubacao_id:""}]))},pe=(he,be,Ce)=>{const gt=[...G];gt[he]={...gt[he],[be]:Ce},L(gt)},et=()=>ee.reduce((he,be)=>he+(Number(be.percentual_cobertura)||0),0),Pt=()=>G.reduce((he,be)=>he+(Number(be.percentual_cobertura)||0),0),Ot=he=>{he.preventDefault();const be=et();if(Math.abs(be-100)>.1){s({title:"Erro de validao",description:"O percentual de cobertura das cultivares deve somar 100% (tolerncia 0,1)",variant:"destructive"});return}const Ce=d.find(Ze=>Ze.idfazenda===b&&Ze.numerocm===E)||D.find(Ze=>Ze.idfazenda===b),gt=(Ce==null?void 0:Ce.nomefazenda)||C,At=Ce!=null&&Ce.area_cultivavel&&Number(Ce.area_cultivavel)>0?Number(Ce.area_cultivavel):Number(j);if(!b){s({title:"Erro de validao",description:"Selecione a fazenda antes de salvar",variant:"destructive"});return}if(!gt){s({title:"Erro de validao",description:"Nome da rea no definido. Selecione a fazenda novamente.",variant:"destructive"});return}if(!At||Number.isNaN(At)||At<=0){s({title:"Erro de validao",description:"Preencha a rea (hectares) com um valor vlido",variant:"destructive"});return}const Kr=G.filter(Ze=>!!Ze.formulacao);if(!Y&&Kr.length===0){s({title:"Erro de validao",description:"Adicione pelo menos uma adubao ou marque 'No fazer adubao'",variant:"destructive"});return}if(z.length===0){s({title:"Erro de validao",description:"Selecione pelo menos um talho",variant:"destructive"});return}const ze={produtor_numerocm:E,fazenda_idfazenda:b,area:gt,area_hectares:At,safra_id:N||void 0,epoca_id:M||void 0,talhao_ids:z,cultivares:ee.filter(Ze=>Ze.cultivar).map(({uiId:Ze,...ct})=>{if(ct.tipo_tratamento==="NA FAZENDA"){const ia={...ct,defensivos_fazenda:ct.defensivos_fazenda||[]},lu=(Array.isArray(ct.tratamento_ids)?ct.tratamento_ids:[])[0]||ct.tratamento_id||void 0;return ia.tratamento_id=lu,ia}if(ct.tipo_tratamento==="NO"){const ia={...ct};return ia.tratamento_ids=[],ia.tratamento_id=void 0,ia}const Nr=(Array.isArray(ct.tratamento_ids)?ct.tratamento_ids:[])[0]||ct.tratamento_id||void 0;return{...ct,tratamento_id:Nr}}),adubacao:Y?(()=>{var ct;const Ze=(ct=G[0])==null?void 0:ct.justificativa_nao_adubacao_id;return Ze?[{formulacao:"",dose:0,percentual_cobertura:0,justificativa_nao_adubacao_id:Ze}]:(s({title:"Erro de validao",description:"Selecione a justificativa para no fazer adubao",variant:"destructive"}),[])})():Kr};e(ze)};return c.jsxs(Ue,{className:"overflow-hidden",children:[c.jsxs("form",{onSubmit:Ot,className:"p-4 sm:p-6 space-y-6",children:[r&&c.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-2",children:r}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(de,{children:"Produtor"}),c.jsxs(yr,{value:E,onValueChange:T,children:[c.jsx(ir,{children:c.jsx(wr,{placeholder:"Selecione o produtor"})}),c.jsx(or,{children:u.map(he=>c.jsx(ut,{value:he.numerocm,children:he.nome},he.numerocm))})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[c.jsx(de,{children:"Fazenda"}),b&&re&&c.jsxs(ae,{type:"button",variant:"ghost",size:"sm",onClick:()=>Q(!0),className:"h-8 gap-1 w-full sm:w-auto",children:[c.jsx(Kh,{className:"h-4 w-4"}),c.jsx("span",{className:"sm:inline",children:"Gerenciar Talhes"})]})]}),c.jsxs(yr,{value:b,onValueChange:S,disabled:!E,children:[c.jsx(ir,{children:c.jsx(wr,{placeholder:"Selecione a fazenda"})}),c.jsx(or,{children:D.map(he=>{const be=!he.area_cultivavel||Number(he.area_cultivavel)<=0;return c.jsx(ut,{value:he.idfazenda,children:c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("span",{children:he.nomefazenda}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",Number(he.area_cultivavel||0)," ha)"]}),be&&c.jsx(ht,{variant:"destructive",className:"text-xs",children:"sem rea"})]})]})},he.idfazenda)})})]})]}),b&&ce.length>0&&c.jsxs("div",{className:"space-y-2 lg:col-span-2",children:[c.jsx(de,{children:"Talhes da Fazenda *"}),c.jsx("div",{className:"border rounded-lg p-3 space-y-2 max-h-60 overflow-y-auto",children:ce.map(he=>c.jsxs("div",{className:"flex items-center space-x-2 py-1",children:[c.jsx(Bt,{id:`talhao-${he.id}`,checked:z.includes(he.id),onCheckedChange:be=>{V(be?[...z,he.id]:z.filter(Ce=>Ce!==he.id))}}),c.jsxs(de,{htmlFor:`talhao-${he.id}`,className:"flex-1 cursor-pointer font-normal text-sm",children:[he.nome," - ",Number(he.area).toFixed(2)," ha"]})]},he.id))}),z.length>0&&c.jsxs("div",{className:"text-xs sm:text-sm text-muted-foreground bg-muted/30 p-2 rounded",children:[z.length," talho(es) selecionado(s)  Total: ",j," ha"]})]}),b&&ce.length===0&&c.jsxs("div",{className:"space-y-2 p-3 border border-destructive/50 rounded-lg bg-destructive/5 lg:col-span-2",children:[c.jsx(ht,{variant:"destructive",className:"mb-1",children:"Fazenda sem talhes"}),c.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:'Cadastre os talhes usando o boto "Gerenciar Talhes" acima.'})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(de,{children:"Safra"}),c.jsxs(yr,{value:N,onValueChange:W,children:[c.jsx(ir,{children:c.jsx(wr,{placeholder:"Selecione a safra"})}),c.jsx(or,{children:(m||[]).filter(he=>he.ativa).map(he=>c.jsxs(ut,{value:he.id,children:[he.nome,he.is_default?" (Padro)":""]},he.id))})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(de,{children:"poca"}),c.jsxs(yr,{value:M,onValueChange:X,children:[c.jsx(ir,{children:c.jsx(wr,{placeholder:"Selecione a poca"})}),c.jsx(or,{children:(g||[]).map(he=>c.jsx(ut,{value:he.id,children:he.nome},he.id))})]})]})]}),c.jsxs("div",{className:"border-t pt-6 space-y-4",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Cultivares / Sementes"}),c.jsxs(ae,{type:"button",onClick:U,variant:"outline",size:"sm",className:"w-full sm:w-auto",children:[c.jsx(Ka,{className:"h-4 w-4 mr-1"}),"Adicionar"]})]}),c.jsx("div",{className:"space-y-4",children:ee.map((he,be)=>c.jsx(mQ,{item:he,index:be,cultivaresDistinct:w,cultivaresCatalog:f,canRemove:ee.length>1,areaHectares:Number(j)||0,onChange:Ne,onRemove:we},he.uiId))}),c.jsxs("div",{className:`text-sm font-medium ${et()===100?"text-green-600":"text-red-600"}`,children:["Total: ",et().toFixed(2),"% ",et()!==100&&"(deve ser 100%)"]})]}),c.jsxs("div",{className:"border-t pt-6 space-y-4",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Adubao"}),c.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3",children:[c.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[c.jsx("input",{type:"checkbox",checked:Y,onChange:he=>F(he.target.checked),className:"rounded"}),"No fazer adubao"]}),!Y&&c.jsxs(ae,{type:"button",onClick:$e,variant:"outline",size:"sm",className:"w-full sm:w-auto",children:[c.jsx(Ka,{className:"h-4 w-4 mr-1"}),"Adicionar"]})]})]}),Y?c.jsxs("div",{className:"space-y-4",children:[c.jsx(de,{children:"Justificativa para no fazer adubao *"}),c.jsxs(yr,{value:((Gt=G[0])==null?void 0:Gt.justificativa_nao_adubacao_id)||"",onValueChange:he=>{const be=[...G];be.length===0?be.push({formulacao:"",dose:0,percentual_cobertura:0,justificativa_nao_adubacao_id:he}):be[0].justificativa_nao_adubacao_id=he,L(be)},children:[c.jsx(ir,{children:c.jsx(wr,{placeholder:"Selecione a justificativa"})}),c.jsx(or,{children:p.map(he=>c.jsx(ut,{value:he.id,children:he.descricao},he.id))})]})]}):c.jsx("div",{className:"space-y-4",children:G.map((he,be)=>c.jsxs("div",{className:"p-3 md:p-4 border rounded-lg space-y-3",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-3",children:[c.jsxs("div",{className:"space-y-2 sm:col-span-2 lg:col-span-2",children:[c.jsx(de,{children:"Formulao"}),c.jsxs(yr,{value:he.formulacao,onValueChange:Ce=>pe(be,"formulacao",Ce),children:[c.jsx(ir,{children:c.jsx(wr,{placeholder:"Selecione"})}),c.jsxs(or,{children:[he.formulacao&&!_.some(Ce=>(Ce.item||"")===he.formulacao)&&c.jsx(ut,{value:he.formulacao,children:he.formulacao}),_.map(Ce=>c.jsx(ut,{value:Ce.item||"",children:Ce.item},Ce.cod_item??Ce.item))]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(de,{children:"Dose (kg/ha)"}),c.jsx(_e,{type:"number",step:"0.01",value:he.dose,onChange:Ce=>pe(be,"dose",Number(Ce.target.value))})]}),c.jsxs("div",{className:"space-y-2 sm:col-span-2 lg:col-span-1",children:[c.jsx(de,{children:"Data provvel"}),c.jsx(_e,{type:"date",value:he.data_aplicacao||"",onChange:Ce=>pe(be,"data_aplicacao",Ce.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(de,{children:"Embalagem"}),c.jsxs(yr,{value:he.embalagem||"",onValueChange:Ce=>pe(be,"embalagem",Ce),children:[c.jsx(ir,{children:c.jsx(wr,{placeholder:"Selecione"})}),c.jsxs(or,{children:[c.jsx(ut,{value:"Big Bag",children:"Big Bag"}),c.jsx(ut,{value:"Saca",children:"Saca"})]})]})]}),c.jsxs("div",{className:"space-y-2 sm:col-span-2 lg:col-span-1",children:[c.jsx(de,{children:"% Cobertura"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(_e,{type:"number",step:"0.1",min:"1",max:"100",value:he.percentual_cobertura??100,onChange:Ce=>{const gt=Number(Ce.target.value),At=Number.isFinite(gt)?Math.min(100,Math.max(1,gt)):100;pe(be,"percentual_cobertura",At)},className:"flex-1"}),c.jsx(ae,{type:"button",variant:"destructive",size:"icon",onClick:()=>Me(be),disabled:!1,className:"shrink-0",children:c.jsx(pr,{className:"h-4 w-4"})})]})]})]}),c.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t sm:col-span-2 lg:col-span-3 xl:col-span-5",children:[c.jsx(Bt,{id:`adubacao-salvo-${be}`,checked:!!he.fertilizante_salvo,onCheckedChange:Ce=>pe(be,"fertilizante_salvo",!!Ce)}),c.jsx(de,{htmlFor:`adubacao-salvo-${be}`,className:"text-sm",children:"Fertilizante proprio"})]})]},be))}),c.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:!Y&&`Total cobertura: ${Pt().toFixed(2)}%`})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-6",children:[c.jsx(ae,{type:"button",variant:"outline",onClick:t,className:"w-full sm:w-auto",children:"Cancelar"}),c.jsx(ae,{type:"submit",className:"w-full sm:w-auto",children:n||"Salvar Programao"})]})]}),re&&c.jsx(cy,{fazendaId:re,fazendaNome:((rr=D.find(he=>he.id===re))==null?void 0:rr.nomefazenda)||"",open:P,onOpenChange:Q})]})},cg={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"};function pQ(){var D;const[e,t]=x.useState(!1),[r,n]=x.useState(null),[a,s]=x.useState({}),[i,o]=x.useState({}),{programacoes:l,isLoading:u,create:d,delete:f,update:h,isUpdating:m,replicate:v,isReplicating:p}=qR(),{data:g=[]}=Qi(),{data:y=[]}=fc(),{programacoes:_=[]}=tf(),{programacoes:w=[]}=H1(),{data:E=[]}=hm(),[T,b]=x.useState(!1),[S,C]=x.useState(null),[A,j]=x.useState(""),[I,N]=x.useState(!1),[W,M]=x.useState(!1),[X,z]=x.useState([]),[V,Y]=x.useState([]),{data:F=[]}=Qi(A),[ne,ee]=x.useState(!1),[k,G]=x.useState(null),L=g.length>0;return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx("header",{className:"border-b bg-card",children:c.jsx("div",{className:"container mx-auto px-4 py-4",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(Ao,{to:"/",children:c.jsx(ae,{variant:"ghost",size:"icon",children:c.jsx(u1,{className:"h-5 w-5"})})}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(sv,{className:"h-6 w-6 text-primary"}),c.jsx("h1",{className:"text-xl font-bold",children:"Programao"})]})]})})}),c.jsxs("main",{className:"container mx-auto px-4 py-8",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Programao"}),c.jsx("p",{className:"text-muted-foreground",children:"Planejamento de sementes e fertilizantes"})]}),c.jsx(ae,{onClick:()=>t(!0),disabled:!L,children:"Nova Programao"})]}),!L&&c.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:c.jsx("p",{className:"text-yellow-800 font-medium",children:" No h reas cadastradas. Por favor, cadastre fazendas antes de criar programaes."})}),e&&!r&&c.jsx(XS,{onSubmit:O=>{d(O),t(!1)},onCancel:()=>t(!1)}),r&&c.jsx(XS,{title:"Editar Programao",submitLabel:m?"Salvando...":"Salvar alteraes",initialData:{produtor_numerocm:r.produtor_numerocm,fazenda_idfazenda:r.fazenda_idfazenda,area:r.area,area_hectares:r.area_hectares,safra_id:r.safra_id||void 0,epoca_id:r.epoca_id||void 0,talhao_ids:r.talhao_ids||[],cultivares:_.filter(P=>P.programacao_id===r.id).map(P=>{const Q=E.find(Z=>Z.cultivar===P.cultivar);return{cultivar:P.cultivar,cultura:(Q==null?void 0:Q.cultura)||"",percentual_cobertura:Number(P.percentual_cobertura)||0,tipo_embalagem:P.tipo_embalagem,tipo_tratamento:P.tipo_tratamento,tratamento_ids:a[P.id]??(Array.isArray(P.tratamento_ids)?P.tratamento_ids:P.tratamento_id?[P.tratamento_id]:[]),tratamento_id:P.tratamento_id||void 0,data_plantio:P.data_plantio||void 0,populacao_recomendada:Number(P.populacao_recomendada)||0,semente_propria:!!P.semente_propria,referencia_rnc_mapa:P.referencia_rnc_mapa||void 0,sementes_por_saca:Number(P.sementes_por_saca)||0,defensivos_fazenda:i[P.id]||[]}}),adubacao:w.filter(P=>P.programacao_id===r.id).map(P=>({formulacao:P.formulacao,dose:Number(P.dose)||0,percentual_cobertura:Number(P.percentual_cobertura)||0,data_aplicacao:P.data_aplicacao||void 0,embalagem:P.embalagem||void 0,justificativa_nao_adubacao_id:P.justificativa_nao_adubacao_id||void 0}))},onSubmit:O=>{h({id:r.id,...O}).then(()=>{n(null),s({}),o({})})},onCancel:()=>{n(null),s({}),o({})}}),u?c.jsx("p",{className:"text-muted-foreground",children:"Carregando programaes..."}):c.jsx("div",{className:"grid gap-4",children:l.length===0?c.jsx(Ue,{className:"p-6",children:c.jsx("p",{className:"text-muted-foreground",children:"Nenhuma programao encontrada."})}):l.map(O=>{const P=y.find(Z=>Z.numerocm===O.produtor_numerocm),Q=g.find(Z=>Z.idfazenda===O.fazenda_idfazenda&&Z.numerocm===O.produtor_numerocm);return c.jsx(Ue,{className:"p-6 hover:shadow-lg transition-shadow",children:c.jsxs("div",{className:"flex items-start justify-between gap-4",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c.jsx(sv,{className:"h-5 w-5 text-primary"}),c.jsxs("h3",{className:"font-semibold text-lg",children:[O.produtor_numerocm," - ",(P==null?void 0:P.nome)||""]}),c.jsxs("p",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-medium",children:"Fazenda:"}),c.jsx("span",{children:(Q==null?void 0:Q.nomefazenda)||""}),c.jsx(ae,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>{Q&&(G({id:Q.id,nome:Q.nomefazenda}),ee(!0))},title:"Gerenciar talhes",children:c.jsx(Kh,{className:"h-4 w-4"})})]})]}),c.jsx("div",{className:"grid gap-2 text-sm text-muted-foreground"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ae,{variant:"outline",size:"icon",onClick:async()=>{const Z=cg==null?void 0:cg.VITE_API_URL,re=typeof window<"u"?window.location.hostname:"127.0.0.1",ce=Z||`http://${re}:5000`,U=await fetch(`${ce}/programacoes/${O.id}/children`);if(!U.ok){le.error("Erro ao carregar dados da programao para edio");return}const we=await U.json(),Ne=((we==null?void 0:we.talhoes)||[]).map(Ot=>({talhao_id:Ot})),$e=(we==null?void 0:we.cultivares)||[],Me=(we==null?void 0:we.tratamentos)||{},pe=(we==null?void 0:we.defensivos)||[],et={},Pt=$e.length>0?$e[0].epoca_id:void 0;for(const Ot of $e)if(Ot.tipo_tratamento==="NA FAZENDA"){const Xt=pe.filter(Gt=>Gt.programacao_cultivar_id===Ot.id).map(Gt=>({tempId:il(),classe:Gt.classe||"",aplicacao:Gt.aplicacao,defensivo:Gt.defensivo,dose:Number(Gt.dose)||0,cobertura:Number(Gt.cobertura)||100,total:Number(Gt.total)||0,produto_salvo:!!Gt.produto_salvo,porcentagem_salva:100}));et[Ot.id]=Xt}s(Me),o(et),n({...O,epoca_id:Pt,talhao_ids:(Ne||[]).map(Ot=>Ot.talhao_id)})},title:"Editar",children:c.jsx(Ya,{className:"h-4 w-4"})}),c.jsx(ae,{variant:"outline",size:"icon",onClick:()=>{C(O.id),j(""),b(!0),z([]),Y([])},title:"Replicar",children:c.jsx(d1,{className:"h-4 w-4"})}),c.jsx(ae,{variant:"outline",size:"icon",onClick:()=>f(O.id),title:"Excluir",children:c.jsx(pr,{className:"h-4 w-4"})})]})]})},O.id)})})]}),c.jsx(ba,{open:T,onOpenChange:O=>b(O),children:c.jsxs(Qn,{children:[c.jsx(Zn,{children:c.jsx(ea,{children:"Replicar programao"})}),c.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Produtor"}),c.jsxs(ya,{open:I,onOpenChange:N,children:[c.jsx(wa,{asChild:!0,children:c.jsxs(ae,{variant:"outline",role:"combobox",className:"w-full justify-between",children:[A?`${A} - ${((D=y.find(O=>O.numerocm===A))==null?void 0:D.nome)||""}`:"Selecione produtor...",c.jsx(xa,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),c.jsx(Wn,{className:"w-full p-0",children:c.jsxs(Hn,{children:[c.jsx(Gn,{placeholder:"Buscar produtor..."}),c.jsxs(qn,{children:[c.jsx(Kn,{children:"Nenhum produtor encontrado."}),c.jsx(Jn,{children:y.map(O=>c.jsxs(Xn,{value:`${O.numerocm} ${O.nome}`,onSelect:()=>{j(O.numerocm),z([]),N(!1)},children:[c.jsx(va,{className:Te("mr-2 h-4 w-4",A===O.numerocm?"opacity-100":"opacity-0")}),O.numerocm," - ",O.nome]},O.id))})]})]})})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"reas (fazendas)"}),c.jsxs(ya,{open:W,onOpenChange:M,children:[c.jsx(wa,{asChild:!0,children:c.jsxs(ae,{variant:"outline",role:"combobox","aria-expanded":W,className:"w-full justify-between",disabled:!A,children:[X.length>0?`${X.length} rea(s) selecionada(s)`:"Selecione reas...",c.jsx(xa,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),c.jsx(Wn,{className:"w-full p-0",children:c.jsxs(Hn,{children:[c.jsx(Gn,{placeholder:"Buscar rea..."}),c.jsxs(qn,{children:[c.jsx(Kn,{children:"Nenhuma rea encontrada."}),c.jsx(Jn,{children:F==null?void 0:F.map(O=>{var re;const P=((re=y.find(ce=>ce.numerocm===O.numerocm))==null?void 0:re.nome)||"",Q=X.some(ce=>ce.produtor_numerocm===A&&ce.fazenda_idfazenda===O.idfazenda),Z=!O.area_cultivavel||Number(O.area_cultivavel)<=0;return c.jsxs(Xn,{value:`${O.numerocm} ${P} / ${O.nomefazenda}`,onSelect:()=>{if(Z){le.error("Fazenda sem rea preenchida (ha). Atualize na Admin.");return}z(ce=>ce.some(we=>we.produtor_numerocm===A&&we.fazenda_idfazenda===O.idfazenda)?ce.filter(we=>!(we.produtor_numerocm===A&&we.fazenda_idfazenda===O.idfazenda)):[...ce,{produtor_numerocm:A,fazenda_idfazenda:O.idfazenda,nomefazenda:O.nomefazenda,area_hectares:Number(O.area_cultivavel)}])},children:[c.jsx(Bt,{checked:Q,className:"mr-2 h-4 w-4"}),c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsxs("span",{children:[O.numerocm," - ",P," / ",O.nomefazenda]}),Number(O.area_cultivavel||0)>0?c.jsxs("span",{className:"ml-2 text-xs text-muted-foreground",children:["(",Number(O.area_cultivavel||0)," ha)"]}):c.jsx(ht,{variant:"secondary",className:"text-xs",children:"sem rea(h)"})]})]},`${O.idfazenda}-${O.numerocm}`)})})]})]})})]})]})]}),c.jsx("div",{className:"mt-4 flex items-center gap-2",children:c.jsx(ae,{variant:"outline",onClick:()=>{if(X.length===0)return;const O=[...V];for(const P of X)O.some(Z=>Z.produtor_numerocm===P.produtor_numerocm&&Z.fazenda_idfazenda===P.fazenda_idfazenda)||O.push({produtor_numerocm:P.produtor_numerocm,fazenda_idfazenda:P.fazenda_idfazenda,area_hectares:P.area_hectares});Y(O),z([])},disabled:X.length===0,children:"Adicionar destino"})}),V.length>0&&c.jsxs("div",{className:"mt-2 space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Destinos selecionados"}),c.jsx("div",{className:"space-y-2",children:V.map((O,P)=>{var Q,Z;return c.jsxs("div",{className:"flex items-center justify-between rounded-md border p-2",children:[c.jsxs("div",{className:"text-sm",children:[c.jsxs("span",{className:"font-medium",children:[O.produtor_numerocm," - ",((Q=y.find(re=>re.numerocm===O.produtor_numerocm))==null?void 0:Q.nome)||""]}),c.jsxs("span",{className:"ml-2 text-muted-foreground",children:["/ ",((Z=F.find(re=>re.idfazenda===O.fazenda_idfazenda))==null?void 0:Z.nomefazenda)||O.fazenda_idfazenda," (",Number(O.area_hectares)," ha)"]})]}),c.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>{Y(V.filter((re,ce)=>ce!==P))},title:"Remover destino",children:c.jsx(pr,{className:"h-4 w-4"})})]},`${O.produtor_numerocm}-${O.fazenda_idfazenda}-${P}`)})})]}),c.jsxs(Za,{children:[c.jsx(ae,{variant:"secondary",onClick:()=>{b(!1),C(null),j(""),z([]),Y([])},children:"Cancelar"}),c.jsx(ae,{onClick:async()=>{if(!S||V.length===0)return;const O=await Promise.allSettled(V.map(Z=>{var re;return v({id:S,produtor_numerocm:Z.produtor_numerocm,fazenda_idfazenda:Z.fazenda_idfazenda,area_hectares:Z.area_hectares,area_name:((re=F.find(ce=>ce.idfazenda===Z.fazenda_idfazenda))==null?void 0:re.nomefazenda)||""})})),P=O.filter(Z=>Z.status==="fulfilled").length,Q=O.filter(Z=>Z.status==="rejected").length;P>0&&le.success(`Replicao concluda: ${P} sucesso(s)`),Q>0&&le.error(`Falhas em ${Q} destino(s)`),b(!1),C(null),j(""),z([]),Y([])},disabled:p||!S||V.length===0,children:"Replicar"})]})]})}),k&&c.jsx(cy,{fazendaId:k.id,fazendaNome:k.nome,open:ne,onOpenChange:ee})]})}const gQ=()=>{const e=tu();return x.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),c.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),c.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),c.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},vQ=new sL,ku=({children:e})=>{const[t,r]=x.useState(null),[n,a]=x.useState(!0);return X5(),x.useEffect(()=>{ge.auth.getSession().then(({data:{session:i}})=>{r(i),a(!1)});const{data:{subscription:s}}=ge.auth.onAuthStateChange((i,o)=>{r(o)});return()=>s.unsubscribe()},[]),n?c.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:c.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})}):t?c.jsx(c.Fragment,{children:e}):c.jsx(l6,{to:"/auth",replace:!0})},xQ=()=>c.jsx(uL,{client:vQ,children:c.jsxs(zM,{children:[c.jsx(C3,{}),c.jsx(aD,{}),c.jsx(x6,{future:{v7_relativeSplatPath:!0},children:c.jsxs(d6,{children:[c.jsx(di,{path:"/auth",element:c.jsx(TB,{})}),c.jsx(di,{path:"/",element:c.jsx(ku,{children:c.jsx(oB,{})})}),c.jsx(di,{path:"/admin",element:c.jsx(ku,{children:c.jsx(nY,{})})}),c.jsx(di,{path:"/defensivos",element:c.jsx(ku,{children:c.jsx(lQ,{})})}),c.jsx(di,{path:"/programacao",element:c.jsx(ku,{children:c.jsx(pQ,{})})}),c.jsx(di,{path:"/relatorios",element:c.jsx(ku,{children:c.jsx(uQ,{})})}),c.jsx(di,{path:"*",element:c.jsx(gQ,{})})]})})]})});ET(document.getElementById("root")).render(c.jsx(xQ,{}));
