var cw=e=>{throw TypeError(e)};var Pm=(e,t,r)=>t.has(e)||cw("Cannot "+r);var te=(e,t,r)=>(Pm(e,t,"read from private field"),r?r.call(e):t.get(e)),Me=(e,t,r)=>t.has(e)?cw("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),je=(e,t,r,n)=>(Pm(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Xe=(e,t,r)=>(Pm(e,t,"access private method"),r);var vf=(e,t,r,n)=>({set _(a){je(e,t,a,r)},get _(){return te(e,t,n)}});function kP(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();function pb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function gb(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var vb={exports:{}},j0={},xb={exports:{}},Qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jd=Symbol.for("react.element"),CP=Symbol.for("react.portal"),AP=Symbol.for("react.fragment"),jP=Symbol.for("react.strict_mode"),NP=Symbol.for("react.profiler"),IP=Symbol.for("react.provider"),RP=Symbol.for("react.context"),PP=Symbol.for("react.forward_ref"),OP=Symbol.for("react.suspense"),FP=Symbol.for("react.memo"),DP=Symbol.for("react.lazy"),lw=Symbol.iterator;function MP(e){return e===null||typeof e!="object"?null:(e=lw&&e[lw]||e["@@iterator"],typeof e=="function"?e:null)}var yb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wb=Object.assign,Eb={};function ql(e,t,r){this.props=e,this.context=t,this.refs=Eb,this.updater=r||yb}ql.prototype.isReactComponent={};ql.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ql.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _b(){}_b.prototype=ql.prototype;function wx(e,t,r){this.props=e,this.context=t,this.refs=Eb,this.updater=r||yb}var Ex=wx.prototype=new _b;Ex.constructor=wx;wb(Ex,ql.prototype);Ex.isPureReactComponent=!0;var uw=Array.isArray,Sb=Object.prototype.hasOwnProperty,_x={current:null},bb={key:!0,ref:!0,__self:!0,__source:!0};function Tb(e,t,r){var n,a={},s=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)Sb.call(t,n)&&!bb.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];a.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:Jd,type:e,key:s,ref:i,props:a,_owner:_x.current}}function LP(e,t){return{$$typeof:Jd,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Sx(e){return typeof e=="object"&&e!==null&&e.$$typeof===Jd}function UP(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var dw=/\/+/g;function Om(e,t){return typeof e=="object"&&e!==null&&e.key!=null?UP(""+e.key):t.toString(36)}function lh(e,t,r,n,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Jd:case CP:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+Om(i,0):n,uw(a)?(r="",e!=null&&(r=e.replace(dw,"$&/")+"/"),lh(a,t,r,"",function(u){return u})):a!=null&&(Sx(a)&&(a=LP(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(dw,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",uw(e))for(var o=0;o<e.length;o++){s=e[o];var l=n+Om(s,o);i+=lh(s,t,r,l,a)}else if(l=MP(e),typeof l=="function")for(e=l.call(e),o=0;!(s=e.next()).done;)s=s.value,l=n+Om(s,o++),i+=lh(s,t,r,l,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function xf(e,t,r){if(e==null)return e;var n=[],a=0;return lh(e,n,"","",function(s){return t.call(r,s,a++)}),n}function BP(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ln={current:null},uh={transition:null},$P={ReactCurrentDispatcher:ln,ReactCurrentBatchConfig:uh,ReactCurrentOwner:_x};function kb(){throw Error("act(...) is not supported in production builds of React.")}Qe.Children={map:xf,forEach:function(e,t,r){xf(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return xf(e,function(){t++}),t},toArray:function(e){return xf(e,function(t){return t})||[]},only:function(e){if(!Sx(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Qe.Component=ql;Qe.Fragment=AP;Qe.Profiler=NP;Qe.PureComponent=wx;Qe.StrictMode=jP;Qe.Suspense=OP;Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$P;Qe.act=kb;Qe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=wb({},e.props),a=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=_x.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)Sb.call(t,l)&&!bb.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Jd,type:e.type,key:a,ref:s,props:n,_owner:i}};Qe.createContext=function(e){return e={$$typeof:RP,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:IP,_context:e},e.Consumer=e};Qe.createElement=Tb;Qe.createFactory=function(e){var t=Tb.bind(null,e);return t.type=e,t};Qe.createRef=function(){return{current:null}};Qe.forwardRef=function(e){return{$$typeof:PP,render:e}};Qe.isValidElement=Sx;Qe.lazy=function(e){return{$$typeof:DP,_payload:{_status:-1,_result:e},_init:BP}};Qe.memo=function(e,t){return{$$typeof:FP,type:e,compare:t===void 0?null:t}};Qe.startTransition=function(e){var t=uh.transition;uh.transition={};try{e()}finally{uh.transition=t}};Qe.unstable_act=kb;Qe.useCallback=function(e,t){return ln.current.useCallback(e,t)};Qe.useContext=function(e){return ln.current.useContext(e)};Qe.useDebugValue=function(){};Qe.useDeferredValue=function(e){return ln.current.useDeferredValue(e)};Qe.useEffect=function(e,t){return ln.current.useEffect(e,t)};Qe.useId=function(){return ln.current.useId()};Qe.useImperativeHandle=function(e,t,r){return ln.current.useImperativeHandle(e,t,r)};Qe.useInsertionEffect=function(e,t){return ln.current.useInsertionEffect(e,t)};Qe.useLayoutEffect=function(e,t){return ln.current.useLayoutEffect(e,t)};Qe.useMemo=function(e,t){return ln.current.useMemo(e,t)};Qe.useReducer=function(e,t,r){return ln.current.useReducer(e,t,r)};Qe.useRef=function(e){return ln.current.useRef(e)};Qe.useState=function(e){return ln.current.useState(e)};Qe.useSyncExternalStore=function(e,t,r){return ln.current.useSyncExternalStore(e,t,r)};Qe.useTransition=function(){return ln.current.useTransition()};Qe.version="18.3.1";xb.exports=Qe;var x=xb.exports;const pe=pb(x),bx=kP({__proto__:null,default:pe},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zP=x,VP=Symbol.for("react.element"),WP=Symbol.for("react.fragment"),HP=Object.prototype.hasOwnProperty,GP=zP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qP={key:!0,ref:!0,__self:!0,__source:!0};function Cb(e,t,r){var n,a={},s=null,i=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)HP.call(t,n)&&!qP.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:VP,type:e,key:s,ref:i,props:a,_owner:GP.current}}j0.Fragment=WP;j0.jsx=Cb;j0.jsxs=Cb;vb.exports=j0;var c=vb.exports,Ab={exports:{}},ra={},jb={exports:{}},Nb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Y,F){var ne=Y.length;Y.push(F);e:for(;0<ne;){var Z=ne-1>>>1,C=Y[Z];if(0<a(C,F))Y[Z]=F,Y[ne]=C,ne=Z;else break e}}function r(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var F=Y[0],ne=Y.pop();if(ne!==F){Y[0]=ne;e:for(var Z=0,C=Y.length,G=C>>>1;Z<G;){var L=2*(Z+1)-1,D=Y[L],O=L+1,P=Y[O];if(0>a(D,ne))O<C&&0>a(P,D)?(Y[Z]=P,Y[O]=ne,Z=O):(Y[Z]=D,Y[L]=ne,Z=L);else if(O<C&&0>a(P,ne))Y[Z]=P,Y[O]=ne,Z=O;else break e}}return F}function a(Y,F){var ne=Y.sortIndex-F.sortIndex;return ne!==0?ne:Y.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var l=[],u=[],d=1,f=null,h=3,m=!1,v=!1,p=!1,g=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(Y){for(var F=r(u);F!==null;){if(F.callback===null)n(u);else if(F.startTime<=Y)n(u),F.sortIndex=F.expirationTime,t(l,F);else break;F=r(u)}}function _(Y){if(p=!1,w(Y),!v)if(r(l)!==null)v=!0,B(T);else{var F=r(u);F!==null&&z(_,F.startTime-Y)}}function T(Y,F){v=!1,p&&(p=!1,y(k),k=-1),m=!0;var ne=h;try{for(w(F),f=r(l);f!==null&&(!(f.expirationTime>F)||Y&&!I());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,h=f.priorityLevel;var C=Z(f.expirationTime<=F);F=e.unstable_now(),typeof C=="function"?f.callback=C:f===r(l)&&n(l),w(F)}else n(l);f=r(l)}if(f!==null)var G=!0;else{var L=r(u);L!==null&&z(_,L.startTime-F),G=!1}return G}finally{f=null,h=ne,m=!1}}var b=!1,S=null,k=-1,A=5,j=-1;function I(){return!(e.unstable_now()-j<A)}function N(){if(S!==null){var Y=e.unstable_now();j=Y;var F=!0;try{F=S(!0,Y)}finally{F?W():(b=!1,S=null)}}else b=!1}var W;if(typeof E=="function")W=function(){E(N)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,X=M.port2;M.port1.onmessage=N,W=function(){X.postMessage(null)}}else W=function(){g(N,0)};function B(Y){S=Y,b||(b=!0,W())}function z(Y,F){k=g(function(){Y(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,B(T))},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(Y){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var ne=h;h=F;try{return Y()}finally{h=ne}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Y,F){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ne=h;h=Y;try{return F()}finally{h=ne}},e.unstable_scheduleCallback=function(Y,F,ne){var Z=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?Z+ne:Z):ne=Z,Y){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=ne+C,Y={id:d++,callback:F,priorityLevel:Y,startTime:ne,expirationTime:C,sortIndex:-1},ne>Z?(Y.sortIndex=ne,t(u,Y),r(l)===null&&Y===r(u)&&(p?(y(k),k=-1):p=!0,z(_,ne-Z))):(Y.sortIndex=C,t(l,Y),v||m||(v=!0,B(T))),Y},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(Y){var F=h;return function(){var ne=h;h=F;try{return Y.apply(this,arguments)}finally{h=ne}}}})(Nb);jb.exports=Nb;var JP=jb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KP=x,Yn=JP;function ve(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ib=new Set,ud={};function uc(e,t){Il(e,t),Il(e+"Capture",t)}function Il(e,t){for(ud[e]=t,e=0;e<t.length;e++)Ib.add(t[e])}var Js=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vg=Object.prototype.hasOwnProperty,XP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fw={},hw={};function YP(e){return vg.call(hw,e)?!0:vg.call(fw,e)?!1:XP.test(e)?hw[e]=!0:(fw[e]=!0,!1)}function ZP(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function QP(e,t,r,n){if(t===null||typeof t>"u"||ZP(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function un(e,t,r,n,a,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var jr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){jr[e]=new un(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];jr[t]=new un(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){jr[e]=new un(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){jr[e]=new un(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){jr[e]=new un(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){jr[e]=new un(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){jr[e]=new un(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){jr[e]=new un(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){jr[e]=new un(e,5,!1,e.toLowerCase(),null,!1,!1)});var Tx=/[\-:]([a-z])/g;function kx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Tx,kx);jr[t]=new un(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Tx,kx);jr[t]=new un(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Tx,kx);jr[t]=new un(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){jr[e]=new un(e,1,!1,e.toLowerCase(),null,!1,!1)});jr.xlinkHref=new un("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){jr[e]=new un(e,1,!1,e.toLowerCase(),null,!0,!0)});function Cx(e,t,r,n){var a=jr.hasOwnProperty(t)?jr[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(QP(t,r,a,n)&&(r=null),n||a===null?YP(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ti=KP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yf=Symbol.for("react.element"),Vc=Symbol.for("react.portal"),Wc=Symbol.for("react.fragment"),Ax=Symbol.for("react.strict_mode"),xg=Symbol.for("react.profiler"),Rb=Symbol.for("react.provider"),Pb=Symbol.for("react.context"),jx=Symbol.for("react.forward_ref"),yg=Symbol.for("react.suspense"),wg=Symbol.for("react.suspense_list"),Nx=Symbol.for("react.memo"),gi=Symbol.for("react.lazy"),Ob=Symbol.for("react.offscreen"),mw=Symbol.iterator;function yu(e){return e===null||typeof e!="object"?null:(e=mw&&e[mw]||e["@@iterator"],typeof e=="function"?e:null)}var $t=Object.assign,Fm;function Iu(e){if(Fm===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Fm=t&&t[1]||""}return`
`+Fm+e}var Dm=!1;function Mm(e,t){if(!e||Dm)return"";Dm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),s=n.stack.split(`
`),i=a.length-1,o=s.length-1;1<=i&&0<=o&&a[i]!==s[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==s[o]){if(i!==1||o!==1)do if(i--,o--,0>o||a[i]!==s[o]){var l=`
`+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=o);break}}}finally{Dm=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Iu(e):""}function eO(e){switch(e.tag){case 5:return Iu(e.type);case 16:return Iu("Lazy");case 13:return Iu("Suspense");case 19:return Iu("SuspenseList");case 0:case 2:case 15:return e=Mm(e.type,!1),e;case 11:return e=Mm(e.type.render,!1),e;case 1:return e=Mm(e.type,!0),e;default:return""}}function Eg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Wc:return"Fragment";case Vc:return"Portal";case xg:return"Profiler";case Ax:return"StrictMode";case yg:return"Suspense";case wg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Pb:return(e.displayName||"Context")+".Consumer";case Rb:return(e._context.displayName||"Context")+".Provider";case jx:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Nx:return t=e.displayName||null,t!==null?t:Eg(e.type)||"Memo";case gi:t=e._payload,e=e._init;try{return Eg(e(t))}catch{}}return null}function tO(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Eg(t);case 8:return t===Ax?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Xi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Fb(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function rO(e){var t=Fb(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function wf(e){e._valueTracker||(e._valueTracker=rO(e))}function Db(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Fb(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ch(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function _g(e,t){var r=t.checked;return $t({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function pw(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Xi(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Mb(e,t){t=t.checked,t!=null&&Cx(e,"checked",t,!1)}function Sg(e,t){Mb(e,t);var r=Xi(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?bg(e,t.type,r):t.hasOwnProperty("defaultValue")&&bg(e,t.type,Xi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function gw(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function bg(e,t,r){(t!=="number"||Ch(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ru=Array.isArray;function rl(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Xi(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Tg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ve(91));return $t({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function vw(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ve(92));if(Ru(r)){if(1<r.length)throw Error(ve(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Xi(r)}}function Lb(e,t){var r=Xi(t.value),n=Xi(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function xw(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ub(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ub(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ef,Bb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ef=Ef||document.createElement("div"),Ef.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ef.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function dd(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var zu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nO=["Webkit","ms","Moz","O"];Object.keys(zu).forEach(function(e){nO.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),zu[t]=zu[e]})});function $b(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||zu.hasOwnProperty(e)&&zu[e]?(""+t).trim():t+"px"}function zb(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=$b(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var aO=$t({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cg(e,t){if(t){if(aO[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ve(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ve(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ve(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ve(62))}}function Ag(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jg=null;function Ix(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ng=null,nl=null,al=null;function yw(e){if(e=Yd(e)){if(typeof Ng!="function")throw Error(ve(280));var t=e.stateNode;t&&(t=O0(t),Ng(e.stateNode,e.type,t))}}function Vb(e){nl?al?al.push(e):al=[e]:nl=e}function Wb(){if(nl){var e=nl,t=al;if(al=nl=null,yw(e),t)for(e=0;e<t.length;e++)yw(t[e])}}function Hb(e,t){return e(t)}function Gb(){}var Lm=!1;function qb(e,t,r){if(Lm)return e(t,r);Lm=!0;try{return Hb(e,t,r)}finally{Lm=!1,(nl!==null||al!==null)&&(Gb(),Wb())}}function fd(e,t){var r=e.stateNode;if(r===null)return null;var n=O0(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ve(231,t,typeof r));return r}var Ig=!1;if(Js)try{var wu={};Object.defineProperty(wu,"passive",{get:function(){Ig=!0}}),window.addEventListener("test",wu,wu),window.removeEventListener("test",wu,wu)}catch{Ig=!1}function sO(e,t,r,n,a,s,i,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Vu=!1,Ah=null,jh=!1,Rg=null,iO={onError:function(e){Vu=!0,Ah=e}};function oO(e,t,r,n,a,s,i,o,l){Vu=!1,Ah=null,sO.apply(iO,arguments)}function cO(e,t,r,n,a,s,i,o,l){if(oO.apply(this,arguments),Vu){if(Vu){var u=Ah;Vu=!1,Ah=null}else throw Error(ve(198));jh||(jh=!0,Rg=u)}}function dc(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Jb(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ww(e){if(dc(e)!==e)throw Error(ve(188))}function lO(e){var t=e.alternate;if(!t){if(t=dc(e),t===null)throw Error(ve(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return ww(a),e;if(s===n)return ww(a),t;s=s.sibling}throw Error(ve(188))}if(r.return!==n.return)r=a,n=s;else{for(var i=!1,o=a.child;o;){if(o===r){i=!0,r=a,n=s;break}if(o===n){i=!0,n=a,r=s;break}o=o.sibling}if(!i){for(o=s.child;o;){if(o===r){i=!0,r=s,n=a;break}if(o===n){i=!0,n=s,r=a;break}o=o.sibling}if(!i)throw Error(ve(189))}}if(r.alternate!==n)throw Error(ve(190))}if(r.tag!==3)throw Error(ve(188));return r.stateNode.current===r?e:t}function Kb(e){return e=lO(e),e!==null?Xb(e):null}function Xb(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Xb(e);if(t!==null)return t;e=e.sibling}return null}var Yb=Yn.unstable_scheduleCallback,Ew=Yn.unstable_cancelCallback,uO=Yn.unstable_shouldYield,dO=Yn.unstable_requestPaint,Xt=Yn.unstable_now,fO=Yn.unstable_getCurrentPriorityLevel,Rx=Yn.unstable_ImmediatePriority,Zb=Yn.unstable_UserBlockingPriority,Nh=Yn.unstable_NormalPriority,hO=Yn.unstable_LowPriority,Qb=Yn.unstable_IdlePriority,N0=null,vs=null;function mO(e){if(vs&&typeof vs.onCommitFiberRoot=="function")try{vs.onCommitFiberRoot(N0,e,void 0,(e.current.flags&128)===128)}catch{}}var Ga=Math.clz32?Math.clz32:vO,pO=Math.log,gO=Math.LN2;function vO(e){return e>>>=0,e===0?32:31-(pO(e)/gO|0)|0}var _f=64,Sf=4194304;function Pu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ih(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,i=r&268435455;if(i!==0){var o=i&~a;o!==0?n=Pu(o):(s&=i,s!==0&&(n=Pu(s)))}else i=r&~a,i!==0?n=Pu(i):s!==0&&(n=Pu(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ga(t),a=1<<r,n|=e[r],t&=~a;return n}function xO(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yO(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-Ga(s),o=1<<i,l=a[i];l===-1?(!(o&r)||o&n)&&(a[i]=xO(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}function Pg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function e2(){var e=_f;return _f<<=1,!(_f&4194240)&&(_f=64),e}function Um(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Kd(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ga(t),e[t]=r}function wO(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Ga(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}function Px(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ga(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var mt=0;function t2(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var r2,Ox,n2,a2,s2,Og=!1,bf=[],Li=null,Ui=null,Bi=null,hd=new Map,md=new Map,xi=[],EO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _w(e,t){switch(e){case"focusin":case"focusout":Li=null;break;case"dragenter":case"dragleave":Ui=null;break;case"mouseover":case"mouseout":Bi=null;break;case"pointerover":case"pointerout":hd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":md.delete(t.pointerId)}}function Eu(e,t,r,n,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},t!==null&&(t=Yd(t),t!==null&&Ox(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function _O(e,t,r,n,a){switch(t){case"focusin":return Li=Eu(Li,e,t,r,n,a),!0;case"dragenter":return Ui=Eu(Ui,e,t,r,n,a),!0;case"mouseover":return Bi=Eu(Bi,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return hd.set(s,Eu(hd.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,md.set(s,Eu(md.get(s)||null,e,t,r,n,a)),!0}return!1}function i2(e){var t=Co(e.target);if(t!==null){var r=dc(t);if(r!==null){if(t=r.tag,t===13){if(t=Jb(r),t!==null){e.blockedOn=t,s2(e.priority,function(){n2(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function dh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Fg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);jg=n,r.target.dispatchEvent(n),jg=null}else return t=Yd(r),t!==null&&Ox(t),e.blockedOn=r,!1;t.shift()}return!0}function Sw(e,t,r){dh(e)&&r.delete(t)}function SO(){Og=!1,Li!==null&&dh(Li)&&(Li=null),Ui!==null&&dh(Ui)&&(Ui=null),Bi!==null&&dh(Bi)&&(Bi=null),hd.forEach(Sw),md.forEach(Sw)}function _u(e,t){e.blockedOn===t&&(e.blockedOn=null,Og||(Og=!0,Yn.unstable_scheduleCallback(Yn.unstable_NormalPriority,SO)))}function pd(e){function t(a){return _u(a,e)}if(0<bf.length){_u(bf[0],e);for(var r=1;r<bf.length;r++){var n=bf[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Li!==null&&_u(Li,e),Ui!==null&&_u(Ui,e),Bi!==null&&_u(Bi,e),hd.forEach(t),md.forEach(t),r=0;r<xi.length;r++)n=xi[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<xi.length&&(r=xi[0],r.blockedOn===null);)i2(r),r.blockedOn===null&&xi.shift()}var sl=ti.ReactCurrentBatchConfig,Rh=!0;function bO(e,t,r,n){var a=mt,s=sl.transition;sl.transition=null;try{mt=1,Fx(e,t,r,n)}finally{mt=a,sl.transition=s}}function TO(e,t,r,n){var a=mt,s=sl.transition;sl.transition=null;try{mt=4,Fx(e,t,r,n)}finally{mt=a,sl.transition=s}}function Fx(e,t,r,n){if(Rh){var a=Fg(e,t,r,n);if(a===null)Km(e,t,n,Ph,r),_w(e,n);else if(_O(a,e,t,r,n))n.stopPropagation();else if(_w(e,n),t&4&&-1<EO.indexOf(e)){for(;a!==null;){var s=Yd(a);if(s!==null&&r2(s),s=Fg(e,t,r,n),s===null&&Km(e,t,n,Ph,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else Km(e,t,n,null,r)}}var Ph=null;function Fg(e,t,r,n){if(Ph=null,e=Ix(n),e=Co(e),e!==null)if(t=dc(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Jb(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ph=e,null}function o2(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fO()){case Rx:return 1;case Zb:return 4;case Nh:case hO:return 16;case Qb:return 536870912;default:return 16}default:return 16}}var Pi=null,Dx=null,fh=null;function c2(){if(fh)return fh;var e,t=Dx,r=t.length,n,a="value"in Pi?Pi.value:Pi.textContent,s=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[s-n];n++);return fh=a.slice(e,1<n?1-n:void 0)}function hh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Tf(){return!0}function bw(){return!1}function na(e){function t(r,n,a,s,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Tf:bw,this.isPropagationStopped=bw,this}return $t(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Tf)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Tf)},persist:function(){},isPersistent:Tf}),t}var Jl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mx=na(Jl),Xd=$t({},Jl,{view:0,detail:0}),kO=na(Xd),Bm,$m,Su,I0=$t({},Xd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lx,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Su&&(Su&&e.type==="mousemove"?(Bm=e.screenX-Su.screenX,$m=e.screenY-Su.screenY):$m=Bm=0,Su=e),Bm)},movementY:function(e){return"movementY"in e?e.movementY:$m}}),Tw=na(I0),CO=$t({},I0,{dataTransfer:0}),AO=na(CO),jO=$t({},Xd,{relatedTarget:0}),zm=na(jO),NO=$t({},Jl,{animationName:0,elapsedTime:0,pseudoElement:0}),IO=na(NO),RO=$t({},Jl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),PO=na(RO),OO=$t({},Jl,{data:0}),kw=na(OO),FO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LO(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=MO[e])?!!t[e]:!1}function Lx(){return LO}var UO=$t({},Xd,{key:function(e){if(e.key){var t=FO[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=hh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?DO[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lx,charCode:function(e){return e.type==="keypress"?hh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?hh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),BO=na(UO),$O=$t({},I0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cw=na($O),zO=$t({},Xd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lx}),VO=na(zO),WO=$t({},Jl,{propertyName:0,elapsedTime:0,pseudoElement:0}),HO=na(WO),GO=$t({},I0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qO=na(GO),JO=[9,13,27,32],Ux=Js&&"CompositionEvent"in window,Wu=null;Js&&"documentMode"in document&&(Wu=document.documentMode);var KO=Js&&"TextEvent"in window&&!Wu,l2=Js&&(!Ux||Wu&&8<Wu&&11>=Wu),Aw=" ",jw=!1;function u2(e,t){switch(e){case"keyup":return JO.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function d2(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Hc=!1;function XO(e,t){switch(e){case"compositionend":return d2(t);case"keypress":return t.which!==32?null:(jw=!0,Aw);case"textInput":return e=t.data,e===Aw&&jw?null:e;default:return null}}function YO(e,t){if(Hc)return e==="compositionend"||!Ux&&u2(e,t)?(e=c2(),fh=Dx=Pi=null,Hc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return l2&&t.locale!=="ko"?null:t.data;default:return null}}var ZO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ZO[e.type]:t==="textarea"}function f2(e,t,r,n){Vb(n),t=Oh(t,"onChange"),0<t.length&&(r=new Mx("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Hu=null,gd=null;function QO(e){S2(e,0)}function R0(e){var t=Jc(e);if(Db(t))return e}function e4(e,t){if(e==="change")return t}var h2=!1;if(Js){var Vm;if(Js){var Wm="oninput"in document;if(!Wm){var Iw=document.createElement("div");Iw.setAttribute("oninput","return;"),Wm=typeof Iw.oninput=="function"}Vm=Wm}else Vm=!1;h2=Vm&&(!document.documentMode||9<document.documentMode)}function Rw(){Hu&&(Hu.detachEvent("onpropertychange",m2),gd=Hu=null)}function m2(e){if(e.propertyName==="value"&&R0(gd)){var t=[];f2(t,gd,e,Ix(e)),qb(QO,t)}}function t4(e,t,r){e==="focusin"?(Rw(),Hu=t,gd=r,Hu.attachEvent("onpropertychange",m2)):e==="focusout"&&Rw()}function r4(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return R0(gd)}function n4(e,t){if(e==="click")return R0(t)}function a4(e,t){if(e==="input"||e==="change")return R0(t)}function s4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ka=typeof Object.is=="function"?Object.is:s4;function vd(e,t){if(Ka(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!vg.call(t,a)||!Ka(e[a],t[a]))return!1}return!0}function Pw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ow(e,t){var r=Pw(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Pw(r)}}function p2(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?p2(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function g2(){for(var e=window,t=Ch();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ch(e.document)}return t}function Bx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function i4(e){var t=g2(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&p2(r.ownerDocument.documentElement,r)){if(n!==null&&Bx(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=Ow(r,s);var i=Ow(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var o4=Js&&"documentMode"in document&&11>=document.documentMode,Gc=null,Dg=null,Gu=null,Mg=!1;function Fw(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Mg||Gc==null||Gc!==Ch(n)||(n=Gc,"selectionStart"in n&&Bx(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Gu&&vd(Gu,n)||(Gu=n,n=Oh(Dg,"onSelect"),0<n.length&&(t=new Mx("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Gc)))}function kf(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var qc={animationend:kf("Animation","AnimationEnd"),animationiteration:kf("Animation","AnimationIteration"),animationstart:kf("Animation","AnimationStart"),transitionend:kf("Transition","TransitionEnd")},Hm={},v2={};Js&&(v2=document.createElement("div").style,"AnimationEvent"in window||(delete qc.animationend.animation,delete qc.animationiteration.animation,delete qc.animationstart.animation),"TransitionEvent"in window||delete qc.transitionend.transition);function P0(e){if(Hm[e])return Hm[e];if(!qc[e])return e;var t=qc[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in v2)return Hm[e]=t[r];return e}var x2=P0("animationend"),y2=P0("animationiteration"),w2=P0("animationstart"),E2=P0("transitionend"),_2=new Map,Dw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ao(e,t){_2.set(e,t),uc(t,[e])}for(var Gm=0;Gm<Dw.length;Gm++){var qm=Dw[Gm],c4=qm.toLowerCase(),l4=qm[0].toUpperCase()+qm.slice(1);ao(c4,"on"+l4)}ao(x2,"onAnimationEnd");ao(y2,"onAnimationIteration");ao(w2,"onAnimationStart");ao("dblclick","onDoubleClick");ao("focusin","onFocus");ao("focusout","onBlur");ao(E2,"onTransitionEnd");Il("onMouseEnter",["mouseout","mouseover"]);Il("onMouseLeave",["mouseout","mouseover"]);Il("onPointerEnter",["pointerout","pointerover"]);Il("onPointerLeave",["pointerout","pointerover"]);uc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));uc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));uc("onBeforeInput",["compositionend","keypress","textInput","paste"]);uc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));uc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));uc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ou));function Mw(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,cO(n,t,void 0,e),e.currentTarget=null}function S2(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var i=n.length-1;0<=i;i--){var o=n[i],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&a.isPropagationStopped())break e;Mw(a,o,u),s=l}else for(i=0;i<n.length;i++){if(o=n[i],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&a.isPropagationStopped())break e;Mw(a,o,u),s=l}}}if(jh)throw e=Rg,jh=!1,Rg=null,e}function At(e,t){var r=t[zg];r===void 0&&(r=t[zg]=new Set);var n=e+"__bubble";r.has(n)||(b2(t,e,2,!1),r.add(n))}function Jm(e,t,r){var n=0;t&&(n|=4),b2(r,e,n,t)}var Cf="_reactListening"+Math.random().toString(36).slice(2);function xd(e){if(!e[Cf]){e[Cf]=!0,Ib.forEach(function(r){r!=="selectionchange"&&(u4.has(r)||Jm(r,!1,e),Jm(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Cf]||(t[Cf]=!0,Jm("selectionchange",!1,t))}}function b2(e,t,r,n){switch(o2(t)){case 1:var a=bO;break;case 4:a=TO;break;default:a=Fx}r=a.bind(null,t,r,e),a=void 0,!Ig||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Km(e,t,r,n,a){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;i=i.return}for(;o!==null;){if(i=Co(o),i===null)return;if(l=i.tag,l===5||l===6){n=s=i;continue e}o=o.parentNode}}n=n.return}qb(function(){var u=s,d=Ix(r),f=[];e:{var h=_2.get(e);if(h!==void 0){var m=Mx,v=e;switch(e){case"keypress":if(hh(r)===0)break e;case"keydown":case"keyup":m=BO;break;case"focusin":v="focus",m=zm;break;case"focusout":v="blur",m=zm;break;case"beforeblur":case"afterblur":m=zm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Tw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=AO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=VO;break;case x2:case y2:case w2:m=IO;break;case E2:m=HO;break;case"scroll":m=kO;break;case"wheel":m=qO;break;case"copy":case"cut":case"paste":m=PO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Cw}var p=(t&4)!==0,g=!p&&e==="scroll",y=p?h!==null?h+"Capture":null:h;p=[];for(var E=u,w;E!==null;){w=E;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,y!==null&&(_=fd(E,y),_!=null&&p.push(yd(E,_,w)))),g)break;E=E.return}0<p.length&&(h=new m(h,v,null,r,d),f.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==jg&&(v=r.relatedTarget||r.fromElement)&&(Co(v)||v[Ks]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(v=r.relatedTarget||r.toElement,m=u,v=v?Co(v):null,v!==null&&(g=dc(v),v!==g||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(p=Tw,_="onMouseLeave",y="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(p=Cw,_="onPointerLeave",y="onPointerEnter",E="pointer"),g=m==null?h:Jc(m),w=v==null?h:Jc(v),h=new p(_,E+"leave",m,r,d),h.target=g,h.relatedTarget=w,_=null,Co(d)===u&&(p=new p(y,E+"enter",v,r,d),p.target=w,p.relatedTarget=g,_=p),g=_,m&&v)t:{for(p=m,y=v,E=0,w=p;w;w=Ec(w))E++;for(w=0,_=y;_;_=Ec(_))w++;for(;0<E-w;)p=Ec(p),E--;for(;0<w-E;)y=Ec(y),w--;for(;E--;){if(p===y||y!==null&&p===y.alternate)break t;p=Ec(p),y=Ec(y)}p=null}else p=null;m!==null&&Lw(f,h,m,p,!1),v!==null&&g!==null&&Lw(f,g,v,p,!0)}}e:{if(h=u?Jc(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var T=e4;else if(Nw(h))if(h2)T=a4;else{T=r4;var b=t4}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=n4);if(T&&(T=T(e,u))){f2(f,T,r,d);break e}b&&b(e,h,u),e==="focusout"&&(b=h._wrapperState)&&b.controlled&&h.type==="number"&&bg(h,"number",h.value)}switch(b=u?Jc(u):window,e){case"focusin":(Nw(b)||b.contentEditable==="true")&&(Gc=b,Dg=u,Gu=null);break;case"focusout":Gu=Dg=Gc=null;break;case"mousedown":Mg=!0;break;case"contextmenu":case"mouseup":case"dragend":Mg=!1,Fw(f,r,d);break;case"selectionchange":if(o4)break;case"keydown":case"keyup":Fw(f,r,d)}var S;if(Ux)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Hc?u2(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(l2&&r.locale!=="ko"&&(Hc||k!=="onCompositionStart"?k==="onCompositionEnd"&&Hc&&(S=c2()):(Pi=d,Dx="value"in Pi?Pi.value:Pi.textContent,Hc=!0)),b=Oh(u,k),0<b.length&&(k=new kw(k,e,null,r,d),f.push({event:k,listeners:b}),S?k.data=S:(S=d2(r),S!==null&&(k.data=S)))),(S=KO?XO(e,r):YO(e,r))&&(u=Oh(u,"onBeforeInput"),0<u.length&&(d=new kw("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=S))}S2(f,t)})}function yd(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Oh(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=fd(e,r),s!=null&&n.unshift(yd(e,s,a)),s=fd(e,t),s!=null&&n.push(yd(e,s,a))),e=e.return}return n}function Ec(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Lw(e,t,r,n,a){for(var s=t._reactName,i=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,a?(l=fd(r,s),l!=null&&i.unshift(yd(r,l,o))):a||(l=fd(r,s),l!=null&&i.push(yd(r,l,o)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var d4=/\r\n?/g,f4=/\u0000|\uFFFD/g;function Uw(e){return(typeof e=="string"?e:""+e).replace(d4,`
`).replace(f4,"")}function Af(e,t,r){if(t=Uw(t),Uw(e)!==t&&r)throw Error(ve(425))}function Fh(){}var Lg=null,Ug=null;function Bg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $g=typeof setTimeout=="function"?setTimeout:void 0,h4=typeof clearTimeout=="function"?clearTimeout:void 0,Bw=typeof Promise=="function"?Promise:void 0,m4=typeof queueMicrotask=="function"?queueMicrotask:typeof Bw<"u"?function(e){return Bw.resolve(null).then(e).catch(p4)}:$g;function p4(e){setTimeout(function(){throw e})}function Xm(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),pd(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);pd(t)}function $i(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function $w(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Kl=Math.random().toString(36).slice(2),hs="__reactFiber$"+Kl,wd="__reactProps$"+Kl,Ks="__reactContainer$"+Kl,zg="__reactEvents$"+Kl,g4="__reactListeners$"+Kl,v4="__reactHandles$"+Kl;function Co(e){var t=e[hs];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ks]||r[hs]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=$w(e);e!==null;){if(r=e[hs])return r;e=$w(e)}return t}e=r,r=e.parentNode}return null}function Yd(e){return e=e[hs]||e[Ks],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Jc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ve(33))}function O0(e){return e[wd]||null}var Vg=[],Kc=-1;function so(e){return{current:e}}function jt(e){0>Kc||(e.current=Vg[Kc],Vg[Kc]=null,Kc--)}function _t(e,t){Kc++,Vg[Kc]=e.current,e.current=t}var Yi={},$r=so(Yi),kn=so(!1),Go=Yi;function Rl(e,t){var r=e.type.contextTypes;if(!r)return Yi;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Cn(e){return e=e.childContextTypes,e!=null}function Dh(){jt(kn),jt($r)}function zw(e,t,r){if($r.current!==Yi)throw Error(ve(168));_t($r,t),_t(kn,r)}function T2(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(ve(108,tO(e)||"Unknown",a));return $t({},r,n)}function Mh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yi,Go=$r.current,_t($r,e),_t(kn,kn.current),!0}function Vw(e,t,r){var n=e.stateNode;if(!n)throw Error(ve(169));r?(e=T2(e,t,Go),n.__reactInternalMemoizedMergedChildContext=e,jt(kn),jt($r),_t($r,e)):jt(kn),_t(kn,r)}var Ls=null,F0=!1,Ym=!1;function k2(e){Ls===null?Ls=[e]:Ls.push(e)}function x4(e){F0=!0,k2(e)}function io(){if(!Ym&&Ls!==null){Ym=!0;var e=0,t=mt;try{var r=Ls;for(mt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ls=null,F0=!1}catch(a){throw Ls!==null&&(Ls=Ls.slice(e+1)),Yb(Rx,io),a}finally{mt=t,Ym=!1}}return null}var Xc=[],Yc=0,Lh=null,Uh=0,ma=[],pa=0,qo=null,$s=1,zs="";function wo(e,t){Xc[Yc++]=Uh,Xc[Yc++]=Lh,Lh=e,Uh=t}function C2(e,t,r){ma[pa++]=$s,ma[pa++]=zs,ma[pa++]=qo,qo=e;var n=$s;e=zs;var a=32-Ga(n)-1;n&=~(1<<a),r+=1;var s=32-Ga(t)+a;if(30<s){var i=a-a%5;s=(n&(1<<i)-1).toString(32),n>>=i,a-=i,$s=1<<32-Ga(t)+a|r<<a|n,zs=s+e}else $s=1<<s|r<<a|n,zs=e}function $x(e){e.return!==null&&(wo(e,1),C2(e,1,0))}function zx(e){for(;e===Lh;)Lh=Xc[--Yc],Xc[Yc]=null,Uh=Xc[--Yc],Xc[Yc]=null;for(;e===qo;)qo=ma[--pa],ma[pa]=null,zs=ma[--pa],ma[pa]=null,$s=ma[--pa],ma[pa]=null}var zn=null,$n=null,Pt=!1,za=null;function A2(e,t){var r=va(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Ww(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,zn=e,$n=$i(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,zn=e,$n=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=qo!==null?{id:$s,overflow:zs}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=va(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,zn=e,$n=null,!0):!1;default:return!1}}function Wg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Hg(e){if(Pt){var t=$n;if(t){var r=t;if(!Ww(e,t)){if(Wg(e))throw Error(ve(418));t=$i(r.nextSibling);var n=zn;t&&Ww(e,t)?A2(n,r):(e.flags=e.flags&-4097|2,Pt=!1,zn=e)}}else{if(Wg(e))throw Error(ve(418));e.flags=e.flags&-4097|2,Pt=!1,zn=e}}}function Hw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;zn=e}function jf(e){if(e!==zn)return!1;if(!Pt)return Hw(e),Pt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Bg(e.type,e.memoizedProps)),t&&(t=$n)){if(Wg(e))throw j2(),Error(ve(418));for(;t;)A2(e,t),t=$i(t.nextSibling)}if(Hw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ve(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){$n=$i(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}$n=null}}else $n=zn?$i(e.stateNode.nextSibling):null;return!0}function j2(){for(var e=$n;e;)e=$i(e.nextSibling)}function Pl(){$n=zn=null,Pt=!1}function Vx(e){za===null?za=[e]:za.push(e)}var y4=ti.ReactCurrentBatchConfig;function bu(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ve(309));var n=r.stateNode}if(!n)throw Error(ve(147,e));var a=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var o=a.refs;i===null?delete o[s]:o[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(ve(284));if(!r._owner)throw Error(ve(290,e))}return e}function Nf(e,t){throw e=Object.prototype.toString.call(t),Error(ve(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Gw(e){var t=e._init;return t(e._payload)}function N2(e){function t(y,E){if(e){var w=y.deletions;w===null?(y.deletions=[E],y.flags|=16):w.push(E)}}function r(y,E){if(!e)return null;for(;E!==null;)t(y,E),E=E.sibling;return null}function n(y,E){for(y=new Map;E!==null;)E.key!==null?y.set(E.key,E):y.set(E.index,E),E=E.sibling;return y}function a(y,E){return y=Hi(y,E),y.index=0,y.sibling=null,y}function s(y,E,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<E?(y.flags|=2,E):w):(y.flags|=2,E)):(y.flags|=1048576,E)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function o(y,E,w,_){return E===null||E.tag!==6?(E=ap(w,y.mode,_),E.return=y,E):(E=a(E,w),E.return=y,E)}function l(y,E,w,_){var T=w.type;return T===Wc?d(y,E,w.props.children,_,w.key):E!==null&&(E.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===gi&&Gw(T)===E.type)?(_=a(E,w.props),_.ref=bu(y,E,w),_.return=y,_):(_=wh(w.type,w.key,w.props,null,y.mode,_),_.ref=bu(y,E,w),_.return=y,_)}function u(y,E,w,_){return E===null||E.tag!==4||E.stateNode.containerInfo!==w.containerInfo||E.stateNode.implementation!==w.implementation?(E=sp(w,y.mode,_),E.return=y,E):(E=a(E,w.children||[]),E.return=y,E)}function d(y,E,w,_,T){return E===null||E.tag!==7?(E=Vo(w,y.mode,_,T),E.return=y,E):(E=a(E,w),E.return=y,E)}function f(y,E,w){if(typeof E=="string"&&E!==""||typeof E=="number")return E=ap(""+E,y.mode,w),E.return=y,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case yf:return w=wh(E.type,E.key,E.props,null,y.mode,w),w.ref=bu(y,null,E),w.return=y,w;case Vc:return E=sp(E,y.mode,w),E.return=y,E;case gi:var _=E._init;return f(y,_(E._payload),w)}if(Ru(E)||yu(E))return E=Vo(E,y.mode,w,null),E.return=y,E;Nf(y,E)}return null}function h(y,E,w,_){var T=E!==null?E.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return T!==null?null:o(y,E,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case yf:return w.key===T?l(y,E,w,_):null;case Vc:return w.key===T?u(y,E,w,_):null;case gi:return T=w._init,h(y,E,T(w._payload),_)}if(Ru(w)||yu(w))return T!==null?null:d(y,E,w,_,null);Nf(y,w)}return null}function m(y,E,w,_,T){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(w)||null,o(E,y,""+_,T);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case yf:return y=y.get(_.key===null?w:_.key)||null,l(E,y,_,T);case Vc:return y=y.get(_.key===null?w:_.key)||null,u(E,y,_,T);case gi:var b=_._init;return m(y,E,w,b(_._payload),T)}if(Ru(_)||yu(_))return y=y.get(w)||null,d(E,y,_,T,null);Nf(E,_)}return null}function v(y,E,w,_){for(var T=null,b=null,S=E,k=E=0,A=null;S!==null&&k<w.length;k++){S.index>k?(A=S,S=null):A=S.sibling;var j=h(y,S,w[k],_);if(j===null){S===null&&(S=A);break}e&&S&&j.alternate===null&&t(y,S),E=s(j,E,k),b===null?T=j:b.sibling=j,b=j,S=A}if(k===w.length)return r(y,S),Pt&&wo(y,k),T;if(S===null){for(;k<w.length;k++)S=f(y,w[k],_),S!==null&&(E=s(S,E,k),b===null?T=S:b.sibling=S,b=S);return Pt&&wo(y,k),T}for(S=n(y,S);k<w.length;k++)A=m(S,y,k,w[k],_),A!==null&&(e&&A.alternate!==null&&S.delete(A.key===null?k:A.key),E=s(A,E,k),b===null?T=A:b.sibling=A,b=A);return e&&S.forEach(function(I){return t(y,I)}),Pt&&wo(y,k),T}function p(y,E,w,_){var T=yu(w);if(typeof T!="function")throw Error(ve(150));if(w=T.call(w),w==null)throw Error(ve(151));for(var b=T=null,S=E,k=E=0,A=null,j=w.next();S!==null&&!j.done;k++,j=w.next()){S.index>k?(A=S,S=null):A=S.sibling;var I=h(y,S,j.value,_);if(I===null){S===null&&(S=A);break}e&&S&&I.alternate===null&&t(y,S),E=s(I,E,k),b===null?T=I:b.sibling=I,b=I,S=A}if(j.done)return r(y,S),Pt&&wo(y,k),T;if(S===null){for(;!j.done;k++,j=w.next())j=f(y,j.value,_),j!==null&&(E=s(j,E,k),b===null?T=j:b.sibling=j,b=j);return Pt&&wo(y,k),T}for(S=n(y,S);!j.done;k++,j=w.next())j=m(S,y,k,j.value,_),j!==null&&(e&&j.alternate!==null&&S.delete(j.key===null?k:j.key),E=s(j,E,k),b===null?T=j:b.sibling=j,b=j);return e&&S.forEach(function(N){return t(y,N)}),Pt&&wo(y,k),T}function g(y,E,w,_){if(typeof w=="object"&&w!==null&&w.type===Wc&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case yf:e:{for(var T=w.key,b=E;b!==null;){if(b.key===T){if(T=w.type,T===Wc){if(b.tag===7){r(y,b.sibling),E=a(b,w.props.children),E.return=y,y=E;break e}}else if(b.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===gi&&Gw(T)===b.type){r(y,b.sibling),E=a(b,w.props),E.ref=bu(y,b,w),E.return=y,y=E;break e}r(y,b);break}else t(y,b);b=b.sibling}w.type===Wc?(E=Vo(w.props.children,y.mode,_,w.key),E.return=y,y=E):(_=wh(w.type,w.key,w.props,null,y.mode,_),_.ref=bu(y,E,w),_.return=y,y=_)}return i(y);case Vc:e:{for(b=w.key;E!==null;){if(E.key===b)if(E.tag===4&&E.stateNode.containerInfo===w.containerInfo&&E.stateNode.implementation===w.implementation){r(y,E.sibling),E=a(E,w.children||[]),E.return=y,y=E;break e}else{r(y,E);break}else t(y,E);E=E.sibling}E=sp(w,y.mode,_),E.return=y,y=E}return i(y);case gi:return b=w._init,g(y,E,b(w._payload),_)}if(Ru(w))return v(y,E,w,_);if(yu(w))return p(y,E,w,_);Nf(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,E!==null&&E.tag===6?(r(y,E.sibling),E=a(E,w),E.return=y,y=E):(r(y,E),E=ap(w,y.mode,_),E.return=y,y=E),i(y)):r(y,E)}return g}var Ol=N2(!0),I2=N2(!1),Bh=so(null),$h=null,Zc=null,Wx=null;function Hx(){Wx=Zc=$h=null}function Gx(e){var t=Bh.current;jt(Bh),e._currentValue=t}function Gg(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function il(e,t){$h=e,Wx=Zc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Tn=!0),e.firstContext=null)}function Sa(e){var t=e._currentValue;if(Wx!==e)if(e={context:e,memoizedValue:t,next:null},Zc===null){if($h===null)throw Error(ve(308));Zc=e,$h.dependencies={lanes:0,firstContext:e}}else Zc=Zc.next=e;return t}var Ao=null;function qx(e){Ao===null?Ao=[e]:Ao.push(e)}function R2(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,qx(t)):(r.next=a.next,a.next=r),t.interleaved=r,Xs(e,n)}function Xs(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var vi=!1;function Jx(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function P2(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ws(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zi(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,it&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Xs(e,r)}return a=n.interleaved,a===null?(t.next=t,qx(n)):(t.next=a.next,a.next=t),n.interleaved=t,Xs(e,r)}function mh(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Px(e,r)}}function qw(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=i:s=s.next=i,r=r.next}while(r!==null);s===null?a=s=t:s=s.next=t}else a=s=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function zh(e,t,r,n){var a=e.updateQueue;vi=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var l=o,u=l.next;l.next=null,i===null?s=u:i.next=u,i=l;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==i&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(s!==null){var f=a.baseState;i=0,d=u=l=null,o=s;do{var h=o.lane,m=o.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=e,p=o;switch(h=t,m=r,p.tag){case 1:if(v=p.payload,typeof v=="function"){f=v.call(m,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=p.payload,h=typeof v=="function"?v.call(m,f,h):v,h==null)break e;f=$t({},f,h);break e;case 2:vi=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=m,l=f):d=d.next=m,i|=h;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;h=o,o=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(l=f),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);Ko|=i,e.lanes=i,e.memoizedState=f}}function Jw(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ve(191,a));a.call(n)}}}var Zd={},xs=so(Zd),Ed=so(Zd),_d=so(Zd);function jo(e){if(e===Zd)throw Error(ve(174));return e}function Kx(e,t){switch(_t(_d,t),_t(Ed,e),_t(xs,Zd),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:kg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=kg(t,e)}jt(xs),_t(xs,t)}function Fl(){jt(xs),jt(Ed),jt(_d)}function O2(e){jo(_d.current);var t=jo(xs.current),r=kg(t,e.type);t!==r&&(_t(Ed,e),_t(xs,r))}function Xx(e){Ed.current===e&&(jt(xs),jt(Ed))}var Ut=so(0);function Vh(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Zm=[];function Yx(){for(var e=0;e<Zm.length;e++)Zm[e]._workInProgressVersionPrimary=null;Zm.length=0}var ph=ti.ReactCurrentDispatcher,Qm=ti.ReactCurrentBatchConfig,Jo=0,Bt=null,lr=null,wr=null,Wh=!1,qu=!1,Sd=0,w4=0;function Rr(){throw Error(ve(321))}function Zx(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ka(e[r],t[r]))return!1;return!0}function Qx(e,t,r,n,a,s){if(Jo=s,Bt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ph.current=e===null||e.memoizedState===null?b4:T4,e=r(n,a),qu){s=0;do{if(qu=!1,Sd=0,25<=s)throw Error(ve(301));s+=1,wr=lr=null,t.updateQueue=null,ph.current=k4,e=r(n,a)}while(qu)}if(ph.current=Hh,t=lr!==null&&lr.next!==null,Jo=0,wr=lr=Bt=null,Wh=!1,t)throw Error(ve(300));return e}function e1(){var e=Sd!==0;return Sd=0,e}function ls(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wr===null?Bt.memoizedState=wr=e:wr=wr.next=e,wr}function ba(){if(lr===null){var e=Bt.alternate;e=e!==null?e.memoizedState:null}else e=lr.next;var t=wr===null?Bt.memoizedState:wr.next;if(t!==null)wr=t,lr=e;else{if(e===null)throw Error(ve(310));lr=e,e={memoizedState:lr.memoizedState,baseState:lr.baseState,baseQueue:lr.baseQueue,queue:lr.queue,next:null},wr===null?Bt.memoizedState=wr=e:wr=wr.next=e}return wr}function bd(e,t){return typeof t=="function"?t(e):t}function ep(e){var t=ba(),r=t.queue;if(r===null)throw Error(ve(311));r.lastRenderedReducer=e;var n=lr,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var i=a.next;a.next=s.next,s.next=i}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var o=i=null,l=null,u=s;do{var d=u.lane;if((Jo&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,i=n):l=l.next=f,Bt.lanes|=d,Ko|=d}u=u.next}while(u!==null&&u!==s);l===null?i=n:l.next=o,Ka(n,t.memoizedState)||(Tn=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do s=a.lane,Bt.lanes|=s,Ko|=s,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function tp(e){var t=ba(),r=t.queue;if(r===null)throw Error(ve(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do s=e(s,i.action),i=i.next;while(i!==a);Ka(s,t.memoizedState)||(Tn=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function F2(){}function D2(e,t){var r=Bt,n=ba(),a=t(),s=!Ka(n.memoizedState,a);if(s&&(n.memoizedState=a,Tn=!0),n=n.queue,t1(U2.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||wr!==null&&wr.memoizedState.tag&1){if(r.flags|=2048,Td(9,L2.bind(null,r,n,a,t),void 0,null),Er===null)throw Error(ve(349));Jo&30||M2(r,t,a)}return a}function M2(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Bt.updateQueue,t===null?(t={lastEffect:null,stores:null},Bt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function L2(e,t,r,n){t.value=r,t.getSnapshot=n,B2(t)&&$2(e)}function U2(e,t,r){return r(function(){B2(t)&&$2(e)})}function B2(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ka(e,r)}catch{return!0}}function $2(e){var t=Xs(e,1);t!==null&&qa(t,e,1,-1)}function Kw(e){var t=ls();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bd,lastRenderedState:e},t.queue=e,e=e.dispatch=S4.bind(null,Bt,e),[t.memoizedState,e]}function Td(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Bt.updateQueue,t===null?(t={lastEffect:null,stores:null},Bt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function z2(){return ba().memoizedState}function gh(e,t,r,n){var a=ls();Bt.flags|=e,a.memoizedState=Td(1|t,r,void 0,n===void 0?null:n)}function D0(e,t,r,n){var a=ba();n=n===void 0?null:n;var s=void 0;if(lr!==null){var i=lr.memoizedState;if(s=i.destroy,n!==null&&Zx(n,i.deps)){a.memoizedState=Td(t,r,s,n);return}}Bt.flags|=e,a.memoizedState=Td(1|t,r,s,n)}function Xw(e,t){return gh(8390656,8,e,t)}function t1(e,t){return D0(2048,8,e,t)}function V2(e,t){return D0(4,2,e,t)}function W2(e,t){return D0(4,4,e,t)}function H2(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function G2(e,t,r){return r=r!=null?r.concat([e]):null,D0(4,4,H2.bind(null,t,e),r)}function r1(){}function q2(e,t){var r=ba();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Zx(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function J2(e,t){var r=ba();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Zx(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function K2(e,t,r){return Jo&21?(Ka(r,t)||(r=e2(),Bt.lanes|=r,Ko|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Tn=!0),e.memoizedState=r)}function E4(e,t){var r=mt;mt=r!==0&&4>r?r:4,e(!0);var n=Qm.transition;Qm.transition={};try{e(!1),t()}finally{mt=r,Qm.transition=n}}function X2(){return ba().memoizedState}function _4(e,t,r){var n=Wi(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Y2(e))Z2(t,r);else if(r=R2(e,t,r,n),r!==null){var a=sn();qa(r,e,n,a),Q2(r,t,n)}}function S4(e,t,r){var n=Wi(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Y2(e))Z2(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,o=s(i,r);if(a.hasEagerState=!0,a.eagerState=o,Ka(o,i)){var l=t.interleaved;l===null?(a.next=a,qx(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=R2(e,t,a,n),r!==null&&(a=sn(),qa(r,e,n,a),Q2(r,t,n))}}function Y2(e){var t=e.alternate;return e===Bt||t!==null&&t===Bt}function Z2(e,t){qu=Wh=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Q2(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Px(e,r)}}var Hh={readContext:Sa,useCallback:Rr,useContext:Rr,useEffect:Rr,useImperativeHandle:Rr,useInsertionEffect:Rr,useLayoutEffect:Rr,useMemo:Rr,useReducer:Rr,useRef:Rr,useState:Rr,useDebugValue:Rr,useDeferredValue:Rr,useTransition:Rr,useMutableSource:Rr,useSyncExternalStore:Rr,useId:Rr,unstable_isNewReconciler:!1},b4={readContext:Sa,useCallback:function(e,t){return ls().memoizedState=[e,t===void 0?null:t],e},useContext:Sa,useEffect:Xw,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,gh(4194308,4,H2.bind(null,t,e),r)},useLayoutEffect:function(e,t){return gh(4194308,4,e,t)},useInsertionEffect:function(e,t){return gh(4,2,e,t)},useMemo:function(e,t){var r=ls();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ls();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=_4.bind(null,Bt,e),[n.memoizedState,e]},useRef:function(e){var t=ls();return e={current:e},t.memoizedState=e},useState:Kw,useDebugValue:r1,useDeferredValue:function(e){return ls().memoizedState=e},useTransition:function(){var e=Kw(!1),t=e[0];return e=E4.bind(null,e[1]),ls().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Bt,a=ls();if(Pt){if(r===void 0)throw Error(ve(407));r=r()}else{if(r=t(),Er===null)throw Error(ve(349));Jo&30||M2(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,Xw(U2.bind(null,n,s,e),[e]),n.flags|=2048,Td(9,L2.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=ls(),t=Er.identifierPrefix;if(Pt){var r=zs,n=$s;r=(n&~(1<<32-Ga(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Sd++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=w4++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},T4={readContext:Sa,useCallback:q2,useContext:Sa,useEffect:t1,useImperativeHandle:G2,useInsertionEffect:V2,useLayoutEffect:W2,useMemo:J2,useReducer:ep,useRef:z2,useState:function(){return ep(bd)},useDebugValue:r1,useDeferredValue:function(e){var t=ba();return K2(t,lr.memoizedState,e)},useTransition:function(){var e=ep(bd)[0],t=ba().memoizedState;return[e,t]},useMutableSource:F2,useSyncExternalStore:D2,useId:X2,unstable_isNewReconciler:!1},k4={readContext:Sa,useCallback:q2,useContext:Sa,useEffect:t1,useImperativeHandle:G2,useInsertionEffect:V2,useLayoutEffect:W2,useMemo:J2,useReducer:tp,useRef:z2,useState:function(){return tp(bd)},useDebugValue:r1,useDeferredValue:function(e){var t=ba();return lr===null?t.memoizedState=e:K2(t,lr.memoizedState,e)},useTransition:function(){var e=tp(bd)[0],t=ba().memoizedState;return[e,t]},useMutableSource:F2,useSyncExternalStore:D2,useId:X2,unstable_isNewReconciler:!1};function Da(e,t){if(e&&e.defaultProps){t=$t({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function qg(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:$t({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var M0={isMounted:function(e){return(e=e._reactInternals)?dc(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=sn(),a=Wi(e),s=Ws(n,a);s.payload=t,r!=null&&(s.callback=r),t=zi(e,s,a),t!==null&&(qa(t,e,a,n),mh(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=sn(),a=Wi(e),s=Ws(n,a);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=zi(e,s,a),t!==null&&(qa(t,e,a,n),mh(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=sn(),n=Wi(e),a=Ws(r,n);a.tag=2,t!=null&&(a.callback=t),t=zi(e,a,n),t!==null&&(qa(t,e,n,r),mh(t,e,n))}};function Yw(e,t,r,n,a,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,i):t.prototype&&t.prototype.isPureReactComponent?!vd(r,n)||!vd(a,s):!0}function eT(e,t,r){var n=!1,a=Yi,s=t.contextType;return typeof s=="object"&&s!==null?s=Sa(s):(a=Cn(t)?Go:$r.current,n=t.contextTypes,s=(n=n!=null)?Rl(e,a):Yi),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=M0,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function Zw(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&M0.enqueueReplaceState(t,t.state,null)}function Jg(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Jx(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=Sa(s):(s=Cn(t)?Go:$r.current,a.context=Rl(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(qg(e,t,s,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&M0.enqueueReplaceState(a,a.state,null),zh(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Dl(e,t){try{var r="",n=t;do r+=eO(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function rp(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Kg(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var C4=typeof WeakMap=="function"?WeakMap:Map;function tT(e,t,r){r=Ws(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){qh||(qh=!0,sv=n),Kg(e,t)},r}function rT(e,t,r){r=Ws(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){Kg(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Kg(e,t),typeof n!="function"&&(Vi===null?Vi=new Set([this]):Vi.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function Qw(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new C4;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=$4.bind(null,e,t,r),t.then(e,e))}function eE(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function tE(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ws(-1,1),t.tag=2,zi(r,t,1))),r.lanes|=1),e)}var A4=ti.ReactCurrentOwner,Tn=!1;function en(e,t,r,n){t.child=e===null?I2(t,null,r,n):Ol(t,e.child,r,n)}function rE(e,t,r,n,a){r=r.render;var s=t.ref;return il(t,a),n=Qx(e,t,r,n,s,a),r=e1(),e!==null&&!Tn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ys(e,t,a)):(Pt&&r&&$x(t),t.flags|=1,en(e,t,n,a),t.child)}function nE(e,t,r,n,a){if(e===null){var s=r.type;return typeof s=="function"&&!u1(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,nT(e,t,s,n,a)):(e=wh(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var i=s.memoizedProps;if(r=r.compare,r=r!==null?r:vd,r(i,n)&&e.ref===t.ref)return Ys(e,t,a)}return t.flags|=1,e=Hi(s,n),e.ref=t.ref,e.return=t,t.child=e}function nT(e,t,r,n,a){if(e!==null){var s=e.memoizedProps;if(vd(s,n)&&e.ref===t.ref)if(Tn=!1,t.pendingProps=n=s,(e.lanes&a)!==0)e.flags&131072&&(Tn=!0);else return t.lanes=e.lanes,Ys(e,t,a)}return Xg(e,t,r,n,a)}function aT(e,t,r){var n=t.pendingProps,a=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_t(el,Fn),Fn|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_t(el,Fn),Fn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,_t(el,Fn),Fn|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,_t(el,Fn),Fn|=n;return en(e,t,a,r),t.child}function sT(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Xg(e,t,r,n,a){var s=Cn(r)?Go:$r.current;return s=Rl(t,s),il(t,a),r=Qx(e,t,r,n,s,a),n=e1(),e!==null&&!Tn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ys(e,t,a)):(Pt&&n&&$x(t),t.flags|=1,en(e,t,r,a),t.child)}function aE(e,t,r,n,a){if(Cn(r)){var s=!0;Mh(t)}else s=!1;if(il(t,a),t.stateNode===null)vh(e,t),eT(t,r,n),Jg(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=Sa(u):(u=Cn(r)?Go:$r.current,u=Rl(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==n||l!==u)&&Zw(t,i,n,u),vi=!1;var h=t.memoizedState;i.state=h,zh(t,n,i,a),l=t.memoizedState,o!==n||h!==l||kn.current||vi?(typeof d=="function"&&(qg(t,r,d,n),l=t.memoizedState),(o=vi||Yw(t,r,o,n,h,l,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),i.props=n,i.state=l,i.context=u,n=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,P2(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Da(t.type,o),i.props=u,f=t.pendingProps,h=i.context,l=r.contextType,typeof l=="object"&&l!==null?l=Sa(l):(l=Cn(r)?Go:$r.current,l=Rl(t,l));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==f||h!==l)&&Zw(t,i,n,l),vi=!1,h=t.memoizedState,i.state=h,zh(t,n,i,a);var v=t.memoizedState;o!==f||h!==v||kn.current||vi?(typeof m=="function"&&(qg(t,r,m,n),v=t.memoizedState),(u=vi||Yw(t,r,u,n,h,v,l)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,v,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,v,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),i.props=n,i.state=v,i.context=l,n=u):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Yg(e,t,r,n,s,a)}function Yg(e,t,r,n,a,s){sT(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&Vw(t,r,!1),Ys(e,t,s);n=t.stateNode,A4.current=t;var o=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Ol(t,e.child,null,s),t.child=Ol(t,null,o,s)):en(e,t,o,s),t.memoizedState=n.state,a&&Vw(t,r,!0),t.child}function iT(e){var t=e.stateNode;t.pendingContext?zw(e,t.pendingContext,t.pendingContext!==t.context):t.context&&zw(e,t.context,!1),Kx(e,t.containerInfo)}function sE(e,t,r,n,a){return Pl(),Vx(a),t.flags|=256,en(e,t,r,n),t.child}var Zg={dehydrated:null,treeContext:null,retryLane:0};function Qg(e){return{baseLanes:e,cachePool:null,transitions:null}}function oT(e,t,r){var n=t.pendingProps,a=Ut.current,s=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),_t(Ut,a&1),e===null)return Hg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,s?(n=t.mode,s=t.child,i={mode:"hidden",children:i},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=B0(i,n,0,null),e=Vo(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Qg(r),t.memoizedState=Zg,e):n1(t,i));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return j4(e,t,i,n,o,a,r);if(s){s=n.fallback,i=t.mode,a=e.child,o=a.sibling;var l={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Hi(a,l),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?s=Hi(o,s):(s=Vo(s,i,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,i=e.child.memoizedState,i=i===null?Qg(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~r,t.memoizedState=Zg,n}return s=e.child,e=s.sibling,n=Hi(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function n1(e,t){return t=B0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function If(e,t,r,n){return n!==null&&Vx(n),Ol(t,e.child,null,r),e=n1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function j4(e,t,r,n,a,s,i){if(r)return t.flags&256?(t.flags&=-257,n=rp(Error(ve(422))),If(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=B0({mode:"visible",children:n.children},a,0,null),s=Vo(s,a,i,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Ol(t,e.child,null,i),t.child.memoizedState=Qg(i),t.memoizedState=Zg,s);if(!(t.mode&1))return If(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(ve(419)),n=rp(s,n,void 0),If(e,t,i,n)}if(o=(i&e.childLanes)!==0,Tn||o){if(n=Er,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,Xs(e,a),qa(n,e,a,-1))}return l1(),n=rp(Error(ve(421))),If(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=z4.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,$n=$i(a.nextSibling),zn=t,Pt=!0,za=null,e!==null&&(ma[pa++]=$s,ma[pa++]=zs,ma[pa++]=qo,$s=e.id,zs=e.overflow,qo=t),t=n1(t,n.children),t.flags|=4096,t)}function iE(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Gg(e.return,t,r)}function np(e,t,r,n,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function cT(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(en(e,t,n.children,r),n=Ut.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&iE(e,r,t);else if(e.tag===19)iE(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(_t(Ut,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Vh(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),np(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Vh(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}np(t,!0,r,null,s);break;case"together":np(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function vh(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ys(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ko|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ve(153));if(t.child!==null){for(e=t.child,r=Hi(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Hi(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function N4(e,t,r){switch(t.tag){case 3:iT(t),Pl();break;case 5:O2(t);break;case 1:Cn(t.type)&&Mh(t);break;case 4:Kx(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;_t(Bh,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(_t(Ut,Ut.current&1),t.flags|=128,null):r&t.child.childLanes?oT(e,t,r):(_t(Ut,Ut.current&1),e=Ys(e,t,r),e!==null?e.sibling:null);_t(Ut,Ut.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return cT(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),_t(Ut,Ut.current),n)break;return null;case 22:case 23:return t.lanes=0,aT(e,t,r)}return Ys(e,t,r)}var lT,ev,uT,dT;lT=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ev=function(){};uT=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,jo(xs.current);var s=null;switch(r){case"input":a=_g(e,a),n=_g(e,n),s=[];break;case"select":a=$t({},a,{value:void 0}),n=$t({},n,{value:void 0}),s=[];break;case"textarea":a=Tg(e,a),n=Tg(e,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Fh)}Cg(r,n);var i;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var o=a[u];for(i in o)o.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ud.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(o=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(i in o)!o.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in l)l.hasOwnProperty(i)&&o[i]!==l[i]&&(r||(r={}),r[i]=l[i])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ud.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&At("scroll",e),s||o===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};dT=function(e,t,r,n){r!==n&&(t.flags|=4)};function Tu(e,t){if(!Pt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Pr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function I4(e,t,r){var n=t.pendingProps;switch(zx(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pr(t),null;case 1:return Cn(t.type)&&Dh(),Pr(t),null;case 3:return n=t.stateNode,Fl(),jt(kn),jt($r),Yx(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(jf(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,za!==null&&(cv(za),za=null))),ev(e,t),Pr(t),null;case 5:Xx(t);var a=jo(_d.current);if(r=t.type,e!==null&&t.stateNode!=null)uT(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ve(166));return Pr(t),null}if(e=jo(xs.current),jf(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[hs]=t,n[wd]=s,e=(t.mode&1)!==0,r){case"dialog":At("cancel",n),At("close",n);break;case"iframe":case"object":case"embed":At("load",n);break;case"video":case"audio":for(a=0;a<Ou.length;a++)At(Ou[a],n);break;case"source":At("error",n);break;case"img":case"image":case"link":At("error",n),At("load",n);break;case"details":At("toggle",n);break;case"input":pw(n,s),At("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},At("invalid",n);break;case"textarea":vw(n,s),At("invalid",n)}Cg(r,s),a=null;for(var i in s)if(s.hasOwnProperty(i)){var o=s[i];i==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&Af(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Af(n.textContent,o,e),a=["children",""+o]):ud.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&At("scroll",n)}switch(r){case"input":wf(n),gw(n,s,!0);break;case"textarea":wf(n),xw(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Fh)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ub(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[hs]=t,e[wd]=n,lT(e,t,!1,!1),t.stateNode=e;e:{switch(i=Ag(r,n),r){case"dialog":At("cancel",e),At("close",e),a=n;break;case"iframe":case"object":case"embed":At("load",e),a=n;break;case"video":case"audio":for(a=0;a<Ou.length;a++)At(Ou[a],e);a=n;break;case"source":At("error",e),a=n;break;case"img":case"image":case"link":At("error",e),At("load",e),a=n;break;case"details":At("toggle",e),a=n;break;case"input":pw(e,n),a=_g(e,n),At("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=$t({},n,{value:void 0}),At("invalid",e);break;case"textarea":vw(e,n),a=Tg(e,n),At("invalid",e);break;default:a=n}Cg(r,a),o=a;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?zb(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Bb(e,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&dd(e,l):typeof l=="number"&&dd(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ud.hasOwnProperty(s)?l!=null&&s==="onScroll"&&At("scroll",e):l!=null&&Cx(e,s,l,i))}switch(r){case"input":wf(e),gw(e,n,!1);break;case"textarea":wf(e),xw(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Xi(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?rl(e,!!n.multiple,s,!1):n.defaultValue!=null&&rl(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Fh)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Pr(t),null;case 6:if(e&&t.stateNode!=null)dT(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ve(166));if(r=jo(_d.current),jo(xs.current),jf(t)){if(n=t.stateNode,r=t.memoizedProps,n[hs]=t,(s=n.nodeValue!==r)&&(e=zn,e!==null))switch(e.tag){case 3:Af(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Af(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[hs]=t,t.stateNode=n}return Pr(t),null;case 13:if(jt(Ut),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Pt&&$n!==null&&t.mode&1&&!(t.flags&128))j2(),Pl(),t.flags|=98560,s=!1;else if(s=jf(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(ve(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ve(317));s[hs]=t}else Pl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Pr(t),s=!1}else za!==null&&(cv(za),za=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ut.current&1?hr===0&&(hr=3):l1())),t.updateQueue!==null&&(t.flags|=4),Pr(t),null);case 4:return Fl(),ev(e,t),e===null&&xd(t.stateNode.containerInfo),Pr(t),null;case 10:return Gx(t.type._context),Pr(t),null;case 17:return Cn(t.type)&&Dh(),Pr(t),null;case 19:if(jt(Ut),s=t.memoizedState,s===null)return Pr(t),null;if(n=(t.flags&128)!==0,i=s.rendering,i===null)if(n)Tu(s,!1);else{if(hr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Vh(e),i!==null){for(t.flags|=128,Tu(s,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return _t(Ut,Ut.current&1|2),t.child}e=e.sibling}s.tail!==null&&Xt()>Ml&&(t.flags|=128,n=!0,Tu(s,!1),t.lanes=4194304)}else{if(!n)if(e=Vh(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Tu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!Pt)return Pr(t),null}else 2*Xt()-s.renderingStartTime>Ml&&r!==1073741824&&(t.flags|=128,n=!0,Tu(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(r=s.last,r!==null?r.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Xt(),t.sibling=null,r=Ut.current,_t(Ut,n?r&1|2:r&1),t):(Pr(t),null);case 22:case 23:return c1(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Fn&1073741824&&(Pr(t),t.subtreeFlags&6&&(t.flags|=8192)):Pr(t),null;case 24:return null;case 25:return null}throw Error(ve(156,t.tag))}function R4(e,t){switch(zx(t),t.tag){case 1:return Cn(t.type)&&Dh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fl(),jt(kn),jt($r),Yx(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Xx(t),null;case 13:if(jt(Ut),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ve(340));Pl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return jt(Ut),null;case 4:return Fl(),null;case 10:return Gx(t.type._context),null;case 22:case 23:return c1(),null;case 24:return null;default:return null}}var Rf=!1,Mr=!1,P4=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function Qc(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Vt(e,t,n)}else r.current=null}function tv(e,t,r){try{r()}catch(n){Vt(e,t,n)}}var oE=!1;function O4(e,t){if(Lg=Rh,e=g2(),Bx(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var i=0,o=-1,l=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(o=i+a),f!==s||n!==0&&f.nodeType!==3||(l=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===a&&(o=i),h===s&&++d===n&&(l=i),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ug={focusedElem:e,selectionRange:r},Rh=!1,Oe=t;Oe!==null;)if(t=Oe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Oe=e;else for(;Oe!==null;){t=Oe;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var p=v.memoizedProps,g=v.memoizedState,y=t.stateNode,E=y.getSnapshotBeforeUpdate(t.elementType===t.type?p:Da(t.type,p),g);y.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ve(163))}}catch(_){Vt(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Oe=e;break}Oe=t.return}return v=oE,oE=!1,v}function Ju(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&tv(t,r,s)}a=a.next}while(a!==n)}}function L0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function rv(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function fT(e){var t=e.alternate;t!==null&&(e.alternate=null,fT(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[hs],delete t[wd],delete t[zg],delete t[g4],delete t[v4])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function hT(e){return e.tag===5||e.tag===3||e.tag===4}function cE(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||hT(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function nv(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Fh));else if(n!==4&&(e=e.child,e!==null))for(nv(e,t,r),e=e.sibling;e!==null;)nv(e,t,r),e=e.sibling}function av(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(av(e,t,r),e=e.sibling;e!==null;)av(e,t,r),e=e.sibling}var Sr=null,Ba=!1;function ii(e,t,r){for(r=r.child;r!==null;)mT(e,t,r),r=r.sibling}function mT(e,t,r){if(vs&&typeof vs.onCommitFiberUnmount=="function")try{vs.onCommitFiberUnmount(N0,r)}catch{}switch(r.tag){case 5:Mr||Qc(r,t);case 6:var n=Sr,a=Ba;Sr=null,ii(e,t,r),Sr=n,Ba=a,Sr!==null&&(Ba?(e=Sr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Sr.removeChild(r.stateNode));break;case 18:Sr!==null&&(Ba?(e=Sr,r=r.stateNode,e.nodeType===8?Xm(e.parentNode,r):e.nodeType===1&&Xm(e,r),pd(e)):Xm(Sr,r.stateNode));break;case 4:n=Sr,a=Ba,Sr=r.stateNode.containerInfo,Ba=!0,ii(e,t,r),Sr=n,Ba=a;break;case 0:case 11:case 14:case 15:if(!Mr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&tv(r,t,i),a=a.next}while(a!==n)}ii(e,t,r);break;case 1:if(!Mr&&(Qc(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Vt(r,t,o)}ii(e,t,r);break;case 21:ii(e,t,r);break;case 22:r.mode&1?(Mr=(n=Mr)||r.memoizedState!==null,ii(e,t,r),Mr=n):ii(e,t,r);break;default:ii(e,t,r)}}function lE(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new P4),t.forEach(function(n){var a=V4.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Na(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:Sr=o.stateNode,Ba=!1;break e;case 3:Sr=o.stateNode.containerInfo,Ba=!0;break e;case 4:Sr=o.stateNode.containerInfo,Ba=!0;break e}o=o.return}if(Sr===null)throw Error(ve(160));mT(s,i,a),Sr=null,Ba=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(u){Vt(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)pT(t,e),t=t.sibling}function pT(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Na(t,e),is(e),n&4){try{Ju(3,e,e.return),L0(3,e)}catch(p){Vt(e,e.return,p)}try{Ju(5,e,e.return)}catch(p){Vt(e,e.return,p)}}break;case 1:Na(t,e),is(e),n&512&&r!==null&&Qc(r,r.return);break;case 5:if(Na(t,e),is(e),n&512&&r!==null&&Qc(r,r.return),e.flags&32){var a=e.stateNode;try{dd(a,"")}catch(p){Vt(e,e.return,p)}}if(n&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,i=r!==null?r.memoizedProps:s,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&Mb(a,s),Ag(o,i);var u=Ag(o,s);for(i=0;i<l.length;i+=2){var d=l[i],f=l[i+1];d==="style"?zb(a,f):d==="dangerouslySetInnerHTML"?Bb(a,f):d==="children"?dd(a,f):Cx(a,d,f,u)}switch(o){case"input":Sg(a,s);break;case"textarea":Lb(a,s);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?rl(a,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?rl(a,!!s.multiple,s.defaultValue,!0):rl(a,!!s.multiple,s.multiple?[]:"",!1))}a[wd]=s}catch(p){Vt(e,e.return,p)}}break;case 6:if(Na(t,e),is(e),n&4){if(e.stateNode===null)throw Error(ve(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(p){Vt(e,e.return,p)}}break;case 3:if(Na(t,e),is(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{pd(t.containerInfo)}catch(p){Vt(e,e.return,p)}break;case 4:Na(t,e),is(e);break;case 13:Na(t,e),is(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(i1=Xt())),n&4&&lE(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Mr=(u=Mr)||d,Na(t,e),Mr=u):Na(t,e),is(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Oe=e,d=e.child;d!==null;){for(f=Oe=d;Oe!==null;){switch(h=Oe,m=h.child,h.tag){case 0:case 11:case 14:case 15:Ju(4,h,h.return);break;case 1:Qc(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(p){Vt(n,r,p)}}break;case 5:Qc(h,h.return);break;case 22:if(h.memoizedState!==null){dE(f);continue}}m!==null?(m.return=h,Oe=m):dE(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=f.stateNode,l=f.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=$b("display",i))}catch(p){Vt(e,e.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){Vt(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Na(t,e),is(e),n&4&&lE(e);break;case 21:break;default:Na(t,e),is(e)}}function is(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(hT(r)){var n=r;break e}r=r.return}throw Error(ve(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(dd(a,""),n.flags&=-33);var s=cE(e);av(e,s,a);break;case 3:case 4:var i=n.stateNode.containerInfo,o=cE(e);nv(e,o,i);break;default:throw Error(ve(161))}}catch(l){Vt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function F4(e,t,r){Oe=e,gT(e)}function gT(e,t,r){for(var n=(e.mode&1)!==0;Oe!==null;){var a=Oe,s=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||Rf;if(!i){var o=a.alternate,l=o!==null&&o.memoizedState!==null||Mr;o=Rf;var u=Mr;if(Rf=i,(Mr=l)&&!u)for(Oe=a;Oe!==null;)i=Oe,l=i.child,i.tag===22&&i.memoizedState!==null?fE(a):l!==null?(l.return=i,Oe=l):fE(a);for(;s!==null;)Oe=s,gT(s),s=s.sibling;Oe=a,Rf=o,Mr=u}uE(e)}else a.subtreeFlags&8772&&s!==null?(s.return=a,Oe=s):uE(e)}}function uE(e){for(;Oe!==null;){var t=Oe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Mr||L0(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Mr)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Da(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Jw(t,s,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Jw(t,i,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&pd(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ve(163))}Mr||t.flags&512&&rv(t)}catch(h){Vt(t,t.return,h)}}if(t===e){Oe=null;break}if(r=t.sibling,r!==null){r.return=t.return,Oe=r;break}Oe=t.return}}function dE(e){for(;Oe!==null;){var t=Oe;if(t===e){Oe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Oe=r;break}Oe=t.return}}function fE(e){for(;Oe!==null;){var t=Oe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{L0(4,t)}catch(l){Vt(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){Vt(t,a,l)}}var s=t.return;try{rv(t)}catch(l){Vt(t,s,l)}break;case 5:var i=t.return;try{rv(t)}catch(l){Vt(t,i,l)}}}catch(l){Vt(t,t.return,l)}if(t===e){Oe=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Oe=o;break}Oe=t.return}}var D4=Math.ceil,Gh=ti.ReactCurrentDispatcher,a1=ti.ReactCurrentOwner,xa=ti.ReactCurrentBatchConfig,it=0,Er=null,sr=null,Tr=0,Fn=0,el=so(0),hr=0,kd=null,Ko=0,U0=0,s1=0,Ku=null,_n=null,i1=0,Ml=1/0,Fs=null,qh=!1,sv=null,Vi=null,Pf=!1,Oi=null,Jh=0,Xu=0,iv=null,xh=-1,yh=0;function sn(){return it&6?Xt():xh!==-1?xh:xh=Xt()}function Wi(e){return e.mode&1?it&2&&Tr!==0?Tr&-Tr:y4.transition!==null?(yh===0&&(yh=e2()),yh):(e=mt,e!==0||(e=window.event,e=e===void 0?16:o2(e.type)),e):1}function qa(e,t,r,n){if(50<Xu)throw Xu=0,iv=null,Error(ve(185));Kd(e,r,n),(!(it&2)||e!==Er)&&(e===Er&&(!(it&2)&&(U0|=r),hr===4&&yi(e,Tr)),An(e,n),r===1&&it===0&&!(t.mode&1)&&(Ml=Xt()+500,F0&&io()))}function An(e,t){var r=e.callbackNode;yO(e,t);var n=Ih(e,e===Er?Tr:0);if(n===0)r!==null&&Ew(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Ew(r),t===1)e.tag===0?x4(hE.bind(null,e)):k2(hE.bind(null,e)),m4(function(){!(it&6)&&io()}),r=null;else{switch(t2(n)){case 1:r=Rx;break;case 4:r=Zb;break;case 16:r=Nh;break;case 536870912:r=Qb;break;default:r=Nh}r=bT(r,vT.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function vT(e,t){if(xh=-1,yh=0,it&6)throw Error(ve(327));var r=e.callbackNode;if(ol()&&e.callbackNode!==r)return null;var n=Ih(e,e===Er?Tr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Kh(e,n);else{t=n;var a=it;it|=2;var s=yT();(Er!==e||Tr!==t)&&(Fs=null,Ml=Xt()+500,zo(e,t));do try{U4();break}catch(o){xT(e,o)}while(!0);Hx(),Gh.current=s,it=a,sr!==null?t=0:(Er=null,Tr=0,t=hr)}if(t!==0){if(t===2&&(a=Pg(e),a!==0&&(n=a,t=ov(e,a))),t===1)throw r=kd,zo(e,0),yi(e,n),An(e,Xt()),r;if(t===6)yi(e,n);else{if(a=e.current.alternate,!(n&30)&&!M4(a)&&(t=Kh(e,n),t===2&&(s=Pg(e),s!==0&&(n=s,t=ov(e,s))),t===1))throw r=kd,zo(e,0),yi(e,n),An(e,Xt()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(ve(345));case 2:Eo(e,_n,Fs);break;case 3:if(yi(e,n),(n&130023424)===n&&(t=i1+500-Xt(),10<t)){if(Ih(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){sn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=$g(Eo.bind(null,e,_n,Fs),t);break}Eo(e,_n,Fs);break;case 4:if(yi(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-Ga(n);s=1<<i,i=t[i],i>a&&(a=i),n&=~s}if(n=a,n=Xt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*D4(n/1960))-n,10<n){e.timeoutHandle=$g(Eo.bind(null,e,_n,Fs),n);break}Eo(e,_n,Fs);break;case 5:Eo(e,_n,Fs);break;default:throw Error(ve(329))}}}return An(e,Xt()),e.callbackNode===r?vT.bind(null,e):null}function ov(e,t){var r=Ku;return e.current.memoizedState.isDehydrated&&(zo(e,t).flags|=256),e=Kh(e,t),e!==2&&(t=_n,_n=r,t!==null&&cv(t)),e}function cv(e){_n===null?_n=e:_n.push.apply(_n,e)}function M4(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!Ka(s(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function yi(e,t){for(t&=~s1,t&=~U0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ga(t),n=1<<r;e[r]=-1,t&=~n}}function hE(e){if(it&6)throw Error(ve(327));ol();var t=Ih(e,0);if(!(t&1))return An(e,Xt()),null;var r=Kh(e,t);if(e.tag!==0&&r===2){var n=Pg(e);n!==0&&(t=n,r=ov(e,n))}if(r===1)throw r=kd,zo(e,0),yi(e,t),An(e,Xt()),r;if(r===6)throw Error(ve(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Eo(e,_n,Fs),An(e,Xt()),null}function o1(e,t){var r=it;it|=1;try{return e(t)}finally{it=r,it===0&&(Ml=Xt()+500,F0&&io())}}function Xo(e){Oi!==null&&Oi.tag===0&&!(it&6)&&ol();var t=it;it|=1;var r=xa.transition,n=mt;try{if(xa.transition=null,mt=1,e)return e()}finally{mt=n,xa.transition=r,it=t,!(it&6)&&io()}}function c1(){Fn=el.current,jt(el)}function zo(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,h4(r)),sr!==null)for(r=sr.return;r!==null;){var n=r;switch(zx(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Dh();break;case 3:Fl(),jt(kn),jt($r),Yx();break;case 5:Xx(n);break;case 4:Fl();break;case 13:jt(Ut);break;case 19:jt(Ut);break;case 10:Gx(n.type._context);break;case 22:case 23:c1()}r=r.return}if(Er=e,sr=e=Hi(e.current,null),Tr=Fn=t,hr=0,kd=null,s1=U0=Ko=0,_n=Ku=null,Ao!==null){for(t=0;t<Ao.length;t++)if(r=Ao[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var i=s.next;s.next=a,n.next=i}r.pending=n}Ao=null}return e}function xT(e,t){do{var r=sr;try{if(Hx(),ph.current=Hh,Wh){for(var n=Bt.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Wh=!1}if(Jo=0,wr=lr=Bt=null,qu=!1,Sd=0,a1.current=null,r===null||r.return===null){hr=1,kd=t,sr=null;break}e:{var s=e,i=r.return,o=r,l=t;if(t=Tr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=eE(i);if(m!==null){m.flags&=-257,tE(m,i,o,s,t),m.mode&1&&Qw(s,u,t),t=m,l=u;var v=t.updateQueue;if(v===null){var p=new Set;p.add(l),t.updateQueue=p}else v.add(l);break e}else{if(!(t&1)){Qw(s,u,t),l1();break e}l=Error(ve(426))}}else if(Pt&&o.mode&1){var g=eE(i);if(g!==null){!(g.flags&65536)&&(g.flags|=256),tE(g,i,o,s,t),Vx(Dl(l,o));break e}}s=l=Dl(l,o),hr!==4&&(hr=2),Ku===null?Ku=[s]:Ku.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=tT(s,l,t);qw(s,y);break e;case 1:o=l;var E=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Vi===null||!Vi.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t;var _=rT(s,o,t);qw(s,_);break e}}s=s.return}while(s!==null)}ET(r)}catch(T){t=T,sr===r&&r!==null&&(sr=r=r.return);continue}break}while(!0)}function yT(){var e=Gh.current;return Gh.current=Hh,e===null?Hh:e}function l1(){(hr===0||hr===3||hr===2)&&(hr=4),Er===null||!(Ko&268435455)&&!(U0&268435455)||yi(Er,Tr)}function Kh(e,t){var r=it;it|=2;var n=yT();(Er!==e||Tr!==t)&&(Fs=null,zo(e,t));do try{L4();break}catch(a){xT(e,a)}while(!0);if(Hx(),it=r,Gh.current=n,sr!==null)throw Error(ve(261));return Er=null,Tr=0,hr}function L4(){for(;sr!==null;)wT(sr)}function U4(){for(;sr!==null&&!uO();)wT(sr)}function wT(e){var t=ST(e.alternate,e,Fn);e.memoizedProps=e.pendingProps,t===null?ET(e):sr=t,a1.current=null}function ET(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=R4(r,t),r!==null){r.flags&=32767,sr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{hr=6,sr=null;return}}else if(r=I4(r,t,Fn),r!==null){sr=r;return}if(t=t.sibling,t!==null){sr=t;return}sr=t=e}while(t!==null);hr===0&&(hr=5)}function Eo(e,t,r){var n=mt,a=xa.transition;try{xa.transition=null,mt=1,B4(e,t,r,n)}finally{xa.transition=a,mt=n}return null}function B4(e,t,r,n){do ol();while(Oi!==null);if(it&6)throw Error(ve(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ve(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(wO(e,s),e===Er&&(sr=Er=null,Tr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Pf||(Pf=!0,bT(Nh,function(){return ol(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=xa.transition,xa.transition=null;var i=mt;mt=1;var o=it;it|=4,a1.current=null,O4(e,r),pT(r,e),i4(Ug),Rh=!!Lg,Ug=Lg=null,e.current=r,F4(r),dO(),it=o,mt=i,xa.transition=s}else e.current=r;if(Pf&&(Pf=!1,Oi=e,Jh=a),s=e.pendingLanes,s===0&&(Vi=null),mO(r.stateNode),An(e,Xt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(qh)throw qh=!1,e=sv,sv=null,e;return Jh&1&&e.tag!==0&&ol(),s=e.pendingLanes,s&1?e===iv?Xu++:(Xu=0,iv=e):Xu=0,io(),null}function ol(){if(Oi!==null){var e=t2(Jh),t=xa.transition,r=mt;try{if(xa.transition=null,mt=16>e?16:e,Oi===null)var n=!1;else{if(e=Oi,Oi=null,Jh=0,it&6)throw Error(ve(331));var a=it;for(it|=4,Oe=e.current;Oe!==null;){var s=Oe,i=s.child;if(Oe.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(Oe=u;Oe!==null;){var d=Oe;switch(d.tag){case 0:case 11:case 15:Ju(8,d,s)}var f=d.child;if(f!==null)f.return=d,Oe=f;else for(;Oe!==null;){d=Oe;var h=d.sibling,m=d.return;if(fT(d),d===u){Oe=null;break}if(h!==null){h.return=m,Oe=h;break}Oe=m}}}var v=s.alternate;if(v!==null){var p=v.child;if(p!==null){v.child=null;do{var g=p.sibling;p.sibling=null,p=g}while(p!==null)}}Oe=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,Oe=i;else e:for(;Oe!==null;){if(s=Oe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ju(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,Oe=y;break e}Oe=s.return}}var E=e.current;for(Oe=E;Oe!==null;){i=Oe;var w=i.child;if(i.subtreeFlags&2064&&w!==null)w.return=i,Oe=w;else e:for(i=E;Oe!==null;){if(o=Oe,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:L0(9,o)}}catch(T){Vt(o,o.return,T)}if(o===i){Oe=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,Oe=_;break e}Oe=o.return}}if(it=a,io(),vs&&typeof vs.onPostCommitFiberRoot=="function")try{vs.onPostCommitFiberRoot(N0,e)}catch{}n=!0}return n}finally{mt=r,xa.transition=t}}return!1}function mE(e,t,r){t=Dl(r,t),t=tT(e,t,1),e=zi(e,t,1),t=sn(),e!==null&&(Kd(e,1,t),An(e,t))}function Vt(e,t,r){if(e.tag===3)mE(e,e,r);else for(;t!==null;){if(t.tag===3){mE(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Vi===null||!Vi.has(n))){e=Dl(r,e),e=rT(t,e,1),t=zi(t,e,1),e=sn(),t!==null&&(Kd(t,1,e),An(t,e));break}}t=t.return}}function $4(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=sn(),e.pingedLanes|=e.suspendedLanes&r,Er===e&&(Tr&r)===r&&(hr===4||hr===3&&(Tr&130023424)===Tr&&500>Xt()-i1?zo(e,0):s1|=r),An(e,t)}function _T(e,t){t===0&&(e.mode&1?(t=Sf,Sf<<=1,!(Sf&130023424)&&(Sf=4194304)):t=1);var r=sn();e=Xs(e,t),e!==null&&(Kd(e,t,r),An(e,r))}function z4(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),_T(e,r)}function V4(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ve(314))}n!==null&&n.delete(t),_T(e,r)}var ST;ST=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||kn.current)Tn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Tn=!1,N4(e,t,r);Tn=!!(e.flags&131072)}else Tn=!1,Pt&&t.flags&1048576&&C2(t,Uh,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;vh(e,t),e=t.pendingProps;var a=Rl(t,$r.current);il(t,r),a=Qx(null,t,n,e,a,r);var s=e1();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Cn(n)?(s=!0,Mh(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Jx(t),a.updater=M0,t.stateNode=a,a._reactInternals=t,Jg(t,n,e,r),t=Yg(null,t,n,!0,s,r)):(t.tag=0,Pt&&s&&$x(t),en(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(vh(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=H4(n),e=Da(n,e),a){case 0:t=Xg(null,t,n,e,r);break e;case 1:t=aE(null,t,n,e,r);break e;case 11:t=rE(null,t,n,e,r);break e;case 14:t=nE(null,t,n,Da(n.type,e),r);break e}throw Error(ve(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Da(n,a),Xg(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Da(n,a),aE(e,t,n,a,r);case 3:e:{if(iT(t),e===null)throw Error(ve(387));n=t.pendingProps,s=t.memoizedState,a=s.element,P2(e,t),zh(t,n,null,r);var i=t.memoizedState;if(n=i.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=Dl(Error(ve(423)),t),t=sE(e,t,n,r,a);break e}else if(n!==a){a=Dl(Error(ve(424)),t),t=sE(e,t,n,r,a);break e}else for($n=$i(t.stateNode.containerInfo.firstChild),zn=t,Pt=!0,za=null,r=I2(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Pl(),n===a){t=Ys(e,t,r);break e}en(e,t,n,r)}t=t.child}return t;case 5:return O2(t),e===null&&Hg(t),n=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,i=a.children,Bg(n,a)?i=null:s!==null&&Bg(n,s)&&(t.flags|=32),sT(e,t),en(e,t,i,r),t.child;case 6:return e===null&&Hg(t),null;case 13:return oT(e,t,r);case 4:return Kx(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ol(t,null,n,r):en(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Da(n,a),rE(e,t,n,a,r);case 7:return en(e,t,t.pendingProps,r),t.child;case 8:return en(e,t,t.pendingProps.children,r),t.child;case 12:return en(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,i=a.value,_t(Bh,n._currentValue),n._currentValue=i,s!==null)if(Ka(s.value,i)){if(s.children===a.children&&!kn.current){t=Ys(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var o=s.dependencies;if(o!==null){i=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=Ws(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),Gg(s.return,r,t),o.lanes|=r;break}l=l.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(ve(341));i.lanes|=r,o=i.alternate,o!==null&&(o.lanes|=r),Gg(i,r,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}en(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,il(t,r),a=Sa(a),n=n(a),t.flags|=1,en(e,t,n,r),t.child;case 14:return n=t.type,a=Da(n,t.pendingProps),a=Da(n.type,a),nE(e,t,n,a,r);case 15:return nT(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Da(n,a),vh(e,t),t.tag=1,Cn(n)?(e=!0,Mh(t)):e=!1,il(t,r),eT(t,n,a),Jg(t,n,a,r),Yg(null,t,n,!0,e,r);case 19:return cT(e,t,r);case 22:return aT(e,t,r)}throw Error(ve(156,t.tag))};function bT(e,t){return Yb(e,t)}function W4(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function va(e,t,r,n){return new W4(e,t,r,n)}function u1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function H4(e){if(typeof e=="function")return u1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===jx)return 11;if(e===Nx)return 14}return 2}function Hi(e,t){var r=e.alternate;return r===null?(r=va(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function wh(e,t,r,n,a,s){var i=2;if(n=e,typeof e=="function")u1(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Wc:return Vo(r.children,a,s,t);case Ax:i=8,a|=8;break;case xg:return e=va(12,r,t,a|2),e.elementType=xg,e.lanes=s,e;case yg:return e=va(13,r,t,a),e.elementType=yg,e.lanes=s,e;case wg:return e=va(19,r,t,a),e.elementType=wg,e.lanes=s,e;case Ob:return B0(r,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Rb:i=10;break e;case Pb:i=9;break e;case jx:i=11;break e;case Nx:i=14;break e;case gi:i=16,n=null;break e}throw Error(ve(130,e==null?e:typeof e,""))}return t=va(i,r,t,a),t.elementType=e,t.type=n,t.lanes=s,t}function Vo(e,t,r,n){return e=va(7,e,n,t),e.lanes=r,e}function B0(e,t,r,n){return e=va(22,e,n,t),e.elementType=Ob,e.lanes=r,e.stateNode={isHidden:!1},e}function ap(e,t,r){return e=va(6,e,null,t),e.lanes=r,e}function sp(e,t,r){return t=va(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function G4(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Um(0),this.expirationTimes=Um(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Um(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function d1(e,t,r,n,a,s,i,o,l){return e=new G4(e,t,r,o,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=va(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jx(s),e}function q4(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vc,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function TT(e){if(!e)return Yi;e=e._reactInternals;e:{if(dc(e)!==e||e.tag!==1)throw Error(ve(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Cn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ve(171))}if(e.tag===1){var r=e.type;if(Cn(r))return T2(e,r,t)}return t}function kT(e,t,r,n,a,s,i,o,l){return e=d1(r,n,!0,e,a,s,i,o,l),e.context=TT(null),r=e.current,n=sn(),a=Wi(r),s=Ws(n,a),s.callback=t??null,zi(r,s,a),e.current.lanes=a,Kd(e,a,n),An(e,n),e}function $0(e,t,r,n){var a=t.current,s=sn(),i=Wi(a);return r=TT(r),t.context===null?t.context=r:t.pendingContext=r,t=Ws(s,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=zi(a,t,i),e!==null&&(qa(e,a,i,s),mh(e,a,i)),i}function Xh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function pE(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function f1(e,t){pE(e,t),(e=e.alternate)&&pE(e,t)}function J4(){return null}var CT=typeof reportError=="function"?reportError:function(e){console.error(e)};function h1(e){this._internalRoot=e}z0.prototype.render=h1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ve(409));$0(e,t,null,null)};z0.prototype.unmount=h1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xo(function(){$0(null,e,null,null)}),t[Ks]=null}};function z0(e){this._internalRoot=e}z0.prototype.unstable_scheduleHydration=function(e){if(e){var t=a2();e={blockedOn:null,target:e,priority:t};for(var r=0;r<xi.length&&t!==0&&t<xi[r].priority;r++);xi.splice(r,0,e),r===0&&i2(e)}};function m1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function V0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function gE(){}function K4(e,t,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var u=Xh(i);s.call(u)}}var i=kT(t,n,e,0,null,!1,!1,"",gE);return e._reactRootContainer=i,e[Ks]=i.current,xd(e.nodeType===8?e.parentNode:e),Xo(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var u=Xh(l);o.call(u)}}var l=d1(e,0,!1,null,null,!1,!1,"",gE);return e._reactRootContainer=l,e[Ks]=l.current,xd(e.nodeType===8?e.parentNode:e),Xo(function(){$0(t,l,r,n)}),l}function W0(e,t,r,n,a){var s=r._reactRootContainer;if(s){var i=s;if(typeof a=="function"){var o=a;a=function(){var l=Xh(i);o.call(l)}}$0(t,i,e,a)}else i=K4(r,t,e,a,n);return Xh(i)}r2=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Pu(t.pendingLanes);r!==0&&(Px(t,r|1),An(t,Xt()),!(it&6)&&(Ml=Xt()+500,io()))}break;case 13:Xo(function(){var n=Xs(e,1);if(n!==null){var a=sn();qa(n,e,1,a)}}),f1(e,1)}};Ox=function(e){if(e.tag===13){var t=Xs(e,134217728);if(t!==null){var r=sn();qa(t,e,134217728,r)}f1(e,134217728)}};n2=function(e){if(e.tag===13){var t=Wi(e),r=Xs(e,t);if(r!==null){var n=sn();qa(r,e,t,n)}f1(e,t)}};a2=function(){return mt};s2=function(e,t){var r=mt;try{return mt=e,t()}finally{mt=r}};Ng=function(e,t,r){switch(t){case"input":if(Sg(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=O0(n);if(!a)throw Error(ve(90));Db(n),Sg(n,a)}}}break;case"textarea":Lb(e,r);break;case"select":t=r.value,t!=null&&rl(e,!!r.multiple,t,!1)}};Hb=o1;Gb=Xo;var X4={usingClientEntryPoint:!1,Events:[Yd,Jc,O0,Vb,Wb,o1]},ku={findFiberByHostInstance:Co,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Y4={bundleType:ku.bundleType,version:ku.version,rendererPackageName:ku.rendererPackageName,rendererConfig:ku.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ti.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Kb(e),e===null?null:e.stateNode},findFiberByHostInstance:ku.findFiberByHostInstance||J4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Of=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Of.isDisabled&&Of.supportsFiber)try{N0=Of.inject(Y4),vs=Of}catch{}}ra.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X4;ra.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m1(t))throw Error(ve(200));return q4(e,t,null,r)};ra.createRoot=function(e,t){if(!m1(e))throw Error(ve(299));var r=!1,n="",a=CT;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=d1(e,1,!1,null,null,r,!1,n,a),e[Ks]=t.current,xd(e.nodeType===8?e.parentNode:e),new h1(t)};ra.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ve(188)):(e=Object.keys(e).join(","),Error(ve(268,e)));return e=Kb(t),e=e===null?null:e.stateNode,e};ra.flushSync=function(e){return Xo(e)};ra.hydrate=function(e,t,r){if(!V0(t))throw Error(ve(200));return W0(null,e,t,!0,r)};ra.hydrateRoot=function(e,t,r){if(!m1(e))throw Error(ve(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",i=CT;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=kT(t,null,e,1,r??null,a,!1,s,i),e[Ks]=t.current,xd(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new z0(t)};ra.render=function(e,t,r){if(!V0(t))throw Error(ve(200));return W0(null,e,t,!1,r)};ra.unmountComponentAtNode=function(e){if(!V0(e))throw Error(ve(40));return e._reactRootContainer?(Xo(function(){W0(null,null,e,!1,function(){e._reactRootContainer=null,e[Ks]=null})}),!0):!1};ra.unstable_batchedUpdates=o1;ra.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!V0(r))throw Error(ve(200));if(e==null||e._reactInternals===void 0)throw Error(ve(38));return W0(e,t,r,!1,n)};ra.version="18.3.1-next-f1338f8080-20240426";function AT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(AT)}catch(e){console.error(e)}}AT(),Ab.exports=ra;var fc=Ab.exports;const jT=pb(fc);var NT,vE=fc;NT=vE.createRoot,vE.hydrateRoot;const Z4=1,Q4=1e6;let ip=0;function eF(){return ip=(ip+1)%Number.MAX_SAFE_INTEGER,ip.toString()}const op=new Map,xE=e=>{if(op.has(e))return;const t=setTimeout(()=>{op.delete(e),Yu({type:"REMOVE_TOAST",toastId:e})},Q4);op.set(e,t)},tF=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Z4)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?xE(r):e.toasts.forEach(n=>{xE(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Eh=[];let _h={toasts:[]};function Yu(e){_h=tF(_h,e),Eh.forEach(t=>{t(_h)})}function rF({...e}){const t=eF(),r=a=>Yu({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>Yu({type:"DISMISS_TOAST",toastId:t});return Yu({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function dn(){const[e,t]=x.useState(_h);return x.useEffect(()=>(Eh.push(t),()=>{const r=Eh.indexOf(t);r>-1&&Eh.splice(r,1)}),[]),{...e,toast:rF,dismiss:r=>Yu({type:"DISMISS_TOAST",toastId:r})}}function Ie(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function yE(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Yo(...e){return t=>{let r=!1;const n=e.map(a=>{const s=yE(a,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let a=0;a<n.length;a++){const s=n[a];typeof s=="function"?s():yE(e[a],null)}}}}function Je(...e){return x.useCallback(Yo(...e),e)}function nF(e,t){const r=x.createContext(t),n=s=>{const{children:i,...o}=s,l=x.useMemo(()=>o,Object.values(o));return c.jsx(r.Provider,{value:l,children:i})};n.displayName=e+"Provider";function a(s){const i=x.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[n,a]}function Vr(e,t=[]){let r=[];function n(s,i){const o=x.createContext(i),l=r.length;r=[...r,i];const u=f=>{var y;const{scope:h,children:m,...v}=f,p=((y=h==null?void 0:h[e])==null?void 0:y[l])||o,g=x.useMemo(()=>v,Object.values(v));return c.jsx(p.Provider,{value:g,children:m})};u.displayName=s+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[l])||o,v=x.useContext(m);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const a=()=>{const s=r.map(i=>x.createContext(i));return function(o){const l=(o==null?void 0:o[e])||s;return x.useMemo(()=>({[`__scope${e}`]:{...o,[e]:l}}),[o,l])}};return a.scopeName=e,[n,aF(a,...t)]}function aF(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const i=n.reduce((o,{useScope:l,scopeName:u})=>{const f=l(s)[`__scope${u}`];return{...o,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function Zo(e){const t=iF(e),r=x.forwardRef((n,a)=>{const{children:s,...i}=n,o=x.Children.toArray(s),l=o.find(oF);if(l){const u=l.props.children,d=o.map(f=>f===l?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return c.jsx(t,{...i,ref:a,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return c.jsx(t,{...i,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}var sF=Zo("Slot");function iF(e){const t=x.forwardRef((r,n)=>{const{children:a,...s}=r;if(x.isValidElement(a)){const i=lF(a),o=cF(s,a.props);return a.type!==x.Fragment&&(o.ref=n?Yo(n,i):i),x.cloneElement(a,o)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var IT=Symbol("radix.slottable");function RT(e){const t=({children:r})=>c.jsx(c.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=IT,t}function oF(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===IT}function cF(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...o)=>{const l=s(...o);return a(...o),l}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function lF(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function H0(e){const t=e+"CollectionProvider",[r,n]=Vr(t),[a,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=p=>{const{scope:g,children:y}=p,E=pe.useRef(null),w=pe.useRef(new Map).current;return c.jsx(a,{scope:g,itemMap:w,collectionRef:E,children:y})};i.displayName=t;const o=e+"CollectionSlot",l=Zo(o),u=pe.forwardRef((p,g)=>{const{scope:y,children:E}=p,w=s(o,y),_=Je(g,w.collectionRef);return c.jsx(l,{ref:_,children:E})});u.displayName=o;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=Zo(d),m=pe.forwardRef((p,g)=>{const{scope:y,children:E,...w}=p,_=pe.useRef(null),T=Je(g,_),b=s(d,y);return pe.useEffect(()=>(b.itemMap.set(_,{ref:_,...w}),()=>void b.itemMap.delete(_))),c.jsx(h,{[f]:"",ref:T,children:E})});m.displayName=d;function v(p){const g=s(e+"CollectionConsumer",p);return pe.useCallback(()=>{const E=g.collectionRef.current;if(!E)return[];const w=Array.from(E.querySelectorAll(`[${f}]`));return Array.from(g.itemMap.values()).sort((b,S)=>w.indexOf(b.ref.current)-w.indexOf(S.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:i,Slot:u,ItemSlot:m},v,n]}var uF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Pe=uF.reduce((e,t)=>{const r=Zo(`Primitive.${t}`),n=x.forwardRef((a,s)=>{const{asChild:i,...o}=a,l=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...o,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function PT(e,t){e&&fc.flushSync(()=>e.dispatchEvent(t))}function dr(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function dF(e,t=globalThis==null?void 0:globalThis.document){const r=dr(e);x.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var fF="DismissableLayer",lv="dismissableLayer.update",hF="dismissableLayer.pointerDownOutside",mF="dismissableLayer.focusOutside",wE,OT=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Xl=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:i,onDismiss:o,...l}=e,u=x.useContext(OT),[d,f]=x.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=x.useState({}),v=Je(t,S=>f(S)),p=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=p.indexOf(g),E=d?p.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=E>=y,T=gF(S=>{const k=S.target,A=[...u.branches].some(j=>j.contains(k));!_||A||(a==null||a(S),i==null||i(S),S.defaultPrevented||o==null||o())},h),b=vF(S=>{const k=S.target;[...u.branches].some(j=>j.contains(k))||(s==null||s(S),i==null||i(S),S.defaultPrevented||o==null||o())},h);return dF(S=>{E===u.layers.size-1&&(n==null||n(S),!S.defaultPrevented&&o&&(S.preventDefault(),o()))},h),x.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(wE=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),EE(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=wE)}},[d,h,r,u]),x.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),EE())},[d,u]),x.useEffect(()=>{const S=()=>m({});return document.addEventListener(lv,S),()=>document.removeEventListener(lv,S)},[]),c.jsx(Pe.div,{...l,ref:v,style:{pointerEvents:w?_?"auto":"none":void 0,...e.style},onFocusCapture:Ie(e.onFocusCapture,b.onFocusCapture),onBlurCapture:Ie(e.onBlurCapture,b.onBlurCapture),onPointerDownCapture:Ie(e.onPointerDownCapture,T.onPointerDownCapture)})});Xl.displayName=fF;var pF="DismissableLayerBranch",FT=x.forwardRef((e,t)=>{const r=x.useContext(OT),n=x.useRef(null),a=Je(t,n);return x.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),c.jsx(Pe.div,{...e,ref:a})});FT.displayName=pF;function gF(e,t=globalThis==null?void 0:globalThis.document){const r=dr(e),n=x.useRef(!1),a=x.useRef(()=>{});return x.useEffect(()=>{const s=o=>{if(o.target&&!n.current){let l=function(){DT(hF,r,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=l,t.addEventListener("click",a.current,{once:!0})):l()}else t.removeEventListener("click",a.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",s),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function vF(e,t=globalThis==null?void 0:globalThis.document){const r=dr(e),n=x.useRef(!1);return x.useEffect(()=>{const a=s=>{s.target&&!n.current&&DT(mF,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function EE(){const e=new CustomEvent(lv);document.dispatchEvent(e)}function DT(e,t,r,{discrete:n}){const a=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?PT(a,s):a.dispatchEvent(s)}var xF=Xl,yF=FT,gr=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},wF="Portal",Qd=x.forwardRef((e,t)=>{var o;const{container:r,...n}=e,[a,s]=x.useState(!1);gr(()=>s(!0),[]);const i=r||a&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return i?jT.createPortal(c.jsx(Pe.div,{...n,ref:t}),i):null});Qd.displayName=wF;function EF(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var fn=e=>{const{present:t,children:r}=e,n=_F(t),a=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),s=Je(n.ref,SF(a));return typeof r=="function"||n.isPresent?x.cloneElement(a,{ref:s}):null};fn.displayName="Presence";function _F(e){const[t,r]=x.useState(),n=x.useRef(null),a=x.useRef(e),s=x.useRef("none"),i=e?"mounted":"unmounted",[o,l]=EF(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=Ff(n.current);s.current=o==="mounted"?u:"none"},[o]),gr(()=>{const u=n.current,d=a.current;if(d!==e){const h=s.current,m=Ff(u);e?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,l]),gr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const p=Ff(n.current).includes(m.animationName);if(m.target===t&&p&&(l("ANIMATION_END"),!a.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},h=m=>{m.target===t&&(s.current=Ff(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:x.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Ff(e){return(e==null?void 0:e.animationName)||"none"}function SF(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var bF=bx[" useInsertionEffect ".trim().toString()]||gr;function Ta({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,s,i]=TF({defaultProp:t,onChange:r}),o=e!==void 0,l=o?e:a;{const d=x.useRef(e!==void 0);x.useEffect(()=>{const f=d.current;f!==o&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=o},[o,n])}const u=x.useCallback(d=>{var f;if(o){const h=kF(d)?d(e):d;h!==e&&((f=i.current)==null||f.call(i,h))}else s(d)},[o,e,s,i]);return[l,u]}function TF({defaultProp:e,onChange:t}){const[r,n]=x.useState(e),a=x.useRef(r),s=x.useRef(t);return bF(()=>{s.current=t},[t]),x.useEffect(()=>{var i;a.current!==r&&((i=s.current)==null||i.call(s,r),a.current=r)},[r,a]),[r,n,s]}function kF(e){return typeof e=="function"}var MT=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),CF="VisuallyHidden",G0=x.forwardRef((e,t)=>c.jsx(Pe.span,{...e,ref:t,style:{...MT,...e.style}}));G0.displayName=CF;var AF=G0,p1="ToastProvider",[g1,jF,NF]=H0("Toast"),[LT,AZ]=Vr("Toast",[NF]),[IF,q0]=LT(p1),UT=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:s=50,children:i}=e,[o,l]=x.useState(null),[u,d]=x.useState(0),f=x.useRef(!1),h=x.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${p1}\`. Expected non-empty \`string\`.`),c.jsx(g1.Provider,{scope:t,children:c.jsx(IF,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:s,toastCount:u,viewport:o,onViewportChange:l,onToastAdd:x.useCallback(()=>d(m=>m+1),[]),onToastRemove:x.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:i})})};UT.displayName=p1;var BT="ToastViewport",RF=["F8"],uv="toast.viewportPause",dv="toast.viewportResume",$T=x.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=RF,label:a="Notifications ({hotkey})",...s}=e,i=q0(BT,r),o=jF(r),l=x.useRef(null),u=x.useRef(null),d=x.useRef(null),f=x.useRef(null),h=Je(t,f,i.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=i.toastCount>0;x.useEffect(()=>{const g=y=>{var w;n.length!==0&&n.every(_=>y[_]||y.code===_)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[n]),x.useEffect(()=>{const g=l.current,y=f.current;if(v&&g&&y){const E=()=>{if(!i.isClosePausedRef.current){const b=new CustomEvent(uv);y.dispatchEvent(b),i.isClosePausedRef.current=!0}},w=()=>{if(i.isClosePausedRef.current){const b=new CustomEvent(dv);y.dispatchEvent(b),i.isClosePausedRef.current=!1}},_=b=>{!g.contains(b.relatedTarget)&&w()},T=()=>{g.contains(document.activeElement)||w()};return g.addEventListener("focusin",E),g.addEventListener("focusout",_),g.addEventListener("pointermove",E),g.addEventListener("pointerleave",T),window.addEventListener("blur",E),window.addEventListener("focus",w),()=>{g.removeEventListener("focusin",E),g.removeEventListener("focusout",_),g.removeEventListener("pointermove",E),g.removeEventListener("pointerleave",T),window.removeEventListener("blur",E),window.removeEventListener("focus",w)}}},[v,i.isClosePausedRef]);const p=x.useCallback(({tabbingDirection:g})=>{const E=o().map(w=>{const _=w.ref.current,T=[_,...HF(_)];return g==="forwards"?T:T.reverse()});return(g==="forwards"?E.reverse():E).flat()},[o]);return x.useEffect(()=>{const g=f.current;if(g){const y=E=>{var T,b,S;const w=E.altKey||E.ctrlKey||E.metaKey;if(E.key==="Tab"&&!w){const k=document.activeElement,A=E.shiftKey;if(E.target===g&&A){(T=u.current)==null||T.focus();return}const N=p({tabbingDirection:A?"backwards":"forwards"}),W=N.findIndex(M=>M===k);cp(N.slice(W+1))?E.preventDefault():A?(b=u.current)==null||b.focus():(S=d.current)==null||S.focus()}};return g.addEventListener("keydown",y),()=>g.removeEventListener("keydown",y)}},[o,p]),c.jsxs(yF,{ref:l,role:"region","aria-label":a.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&c.jsx(fv,{ref:u,onFocusFromOutsideViewport:()=>{const g=p({tabbingDirection:"forwards"});cp(g)}}),c.jsx(g1.Slot,{scope:r,children:c.jsx(Pe.ol,{tabIndex:-1,...s,ref:h})}),v&&c.jsx(fv,{ref:d,onFocusFromOutsideViewport:()=>{const g=p({tabbingDirection:"backwards"});cp(g)}})]})});$T.displayName=BT;var zT="ToastFocusProxy",fv=x.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,s=q0(zT,r);return c.jsx(G0,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const o=i.relatedTarget;!((u=s.viewport)!=null&&u.contains(o))&&n()}})});fv.displayName=zT;var ef="Toast",PF="toast.swipeStart",OF="toast.swipeMove",FF="toast.swipeCancel",DF="toast.swipeEnd",VT=x.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:s,...i}=e,[o,l]=Ta({prop:n,defaultProp:a??!0,onChange:s,caller:ef});return c.jsx(fn,{present:r||o,children:c.jsx(UF,{open:o,...i,ref:t,onClose:()=>l(!1),onPause:dr(e.onPause),onResume:dr(e.onResume),onSwipeStart:Ie(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ie(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ie(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ie(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});VT.displayName=ef;var[MF,LF]=LT(ef,{onClose(){}}),UF=x.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:s,onClose:i,onEscapeKeyDown:o,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...v}=e,p=q0(ef,r),[g,y]=x.useState(null),E=Je(t,M=>y(M)),w=x.useRef(null),_=x.useRef(null),T=a||p.duration,b=x.useRef(0),S=x.useRef(T),k=x.useRef(0),{onToastAdd:A,onToastRemove:j}=p,I=dr(()=>{var X;(g==null?void 0:g.contains(document.activeElement))&&((X=p.viewport)==null||X.focus()),i()}),N=x.useCallback(M=>{!M||M===1/0||(window.clearTimeout(k.current),b.current=new Date().getTime(),k.current=window.setTimeout(I,M))},[I]);x.useEffect(()=>{const M=p.viewport;if(M){const X=()=>{N(S.current),u==null||u()},B=()=>{const z=new Date().getTime()-b.current;S.current=S.current-z,window.clearTimeout(k.current),l==null||l()};return M.addEventListener(uv,B),M.addEventListener(dv,X),()=>{M.removeEventListener(uv,B),M.removeEventListener(dv,X)}}},[p.viewport,T,l,u,N]),x.useEffect(()=>{s&&!p.isClosePausedRef.current&&N(T)},[s,T,p.isClosePausedRef,N]),x.useEffect(()=>(A(),()=>j()),[A,j]);const W=x.useMemo(()=>g?XT(g):null,[g]);return p.viewport?c.jsxs(c.Fragment,{children:[W&&c.jsx(BF,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:W}),c.jsx(MF,{scope:r,onClose:I,children:fc.createPortal(c.jsx(g1.ItemSlot,{scope:r,children:c.jsx(xF,{asChild:!0,onEscapeKeyDown:Ie(o,()=>{p.isFocusedToastEscapeKeyDownRef.current||I(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:c.jsx(Pe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":p.swipeDirection,...v,ref:E,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ie(e.onKeyDown,M=>{M.key==="Escape"&&(o==null||o(M.nativeEvent),M.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:Ie(e.onPointerDown,M=>{M.button===0&&(w.current={x:M.clientX,y:M.clientY})}),onPointerMove:Ie(e.onPointerMove,M=>{if(!w.current)return;const X=M.clientX-w.current.x,B=M.clientY-w.current.y,z=!!_.current,Y=["left","right"].includes(p.swipeDirection),F=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,ne=Y?F(0,X):0,Z=Y?0:F(0,B),C=M.pointerType==="touch"?10:2,G={x:ne,y:Z},L={originalEvent:M,delta:G};z?(_.current=G,Df(OF,f,L,{discrete:!1})):_E(G,p.swipeDirection,C)?(_.current=G,Df(PF,d,L,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs(X)>C||Math.abs(B)>C)&&(w.current=null)}),onPointerUp:Ie(e.onPointerUp,M=>{const X=_.current,B=M.target;if(B.hasPointerCapture(M.pointerId)&&B.releasePointerCapture(M.pointerId),_.current=null,w.current=null,X){const z=M.currentTarget,Y={originalEvent:M,delta:X};_E(X,p.swipeDirection,p.swipeThreshold)?Df(DF,m,Y,{discrete:!0}):Df(FF,h,Y,{discrete:!0}),z.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),BF=e=>{const{__scopeToast:t,children:r,...n}=e,a=q0(ef,t),[s,i]=x.useState(!1),[o,l]=x.useState(!1);return VF(()=>i(!0)),x.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),o?null:c.jsx(Qd,{asChild:!0,children:c.jsx(G0,{...n,children:s&&c.jsxs(c.Fragment,{children:[a.label," ",r]})})})},$F="ToastTitle",WT=x.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return c.jsx(Pe.div,{...n,ref:t})});WT.displayName=$F;var zF="ToastDescription",HT=x.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return c.jsx(Pe.div,{...n,ref:t})});HT.displayName=zF;var GT="ToastAction",qT=x.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?c.jsx(KT,{altText:r,asChild:!0,children:c.jsx(v1,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${GT}\`. Expected non-empty \`string\`.`),null)});qT.displayName=GT;var JT="ToastClose",v1=x.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=LF(JT,r);return c.jsx(KT,{asChild:!0,children:c.jsx(Pe.button,{type:"button",...n,ref:t,onClick:Ie(e.onClick,a.onClose)})})});v1.displayName=JT;var KT=x.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return c.jsx(Pe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function XT(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),WF(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",s=n.dataset.radixToastAnnounceExclude==="";if(!a)if(s){const i=n.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...XT(n))}}),t}function Df(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?PT(a,s):a.dispatchEvent(s)}var _E=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),s=n>a;return t==="left"||t==="right"?s&&n>r:!s&&a>r};function VF(e=()=>{}){const t=dr(e);gr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function WF(e){return e.nodeType===e.ELEMENT_NODE}function HF(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function cp(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var GF=UT,YT=$T,ZT=VT,QT=WT,ek=HT,tk=qT,rk=v1;function nk(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=nk(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ak(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=nk(e))&&(n&&(n+=" "),n+=t);return n}const SE=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,bE=ak,J0=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return bE(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:s}=t,i=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=s==null?void 0:s[u];if(d===null)return null;const h=SE(d)||SE(f);return a[u][h]}),o=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),l=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(v=>{let[p,g]=v;return Array.isArray(g)?g.includes({...s,...o}[p]):{...s,...o}[p]===g})?[...u,f,h]:u},[]);return bE(e,i,l,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qF=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sk=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var JF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KF=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:i,...o},l)=>x.createElement("svg",{ref:l,...JF,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:sk("lucide",a),...o},[...i.map(([u,d])=>x.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=(e,t)=>{const r=x.forwardRef(({className:n,...a},s)=>x.createElement(KF,{ref:s,iconNode:t,className:sk(`lucide-${qF(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=Ft("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=Ft("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=Ft("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=Ft("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=Ft("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=Ft("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=Ft("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=Ft("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=Ft("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XF=Ft("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=Ft("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=Ft("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YF=Ft("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=Ft("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=Ft("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZF=Ft("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=Ft("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=Ft("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=Ft("Sprout",[["path",{d:"M7 20h10",key:"e6iznv"}],["path",{d:"M10 20c5.5-2.5.8-6.4 3-10",key:"161w41"}],["path",{d:"M9.5 9.4c1.1.8 1.8 2.2 2.3 3.7-2 .4-3.5.4-4.8-.3-1.2-.6-2.3-1.9-3-4.2 2.8-.5 4.4 0 5.5.8z",key:"9gtqwd"}],["path",{d:"M14.1 6a7 7 0 0 0-1.1 4c1.9-.1 3.3-.6 4.3-1.4 1-1 1.6-2.3 1.7-4.6-2.7.1-4 1-4.9 2z",key:"bkxnd2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=Ft("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QF=Ft("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=Ft("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=Ft("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=Ft("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),w1="-",e3=e=>{const t=r3(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const o=i.split(w1);return o[0]===""&&o.length!==1&&o.shift(),uk(o,t)||t3(i)},getConflictingClassGroupIds:(i,o)=>{const l=r[i]||[];return o&&n[i]?[...l,...n[i]]:l}}},uk=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?uk(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const s=e.join(w1);return(i=t.validators.find(({validator:o})=>o(s)))==null?void 0:i.classGroupId},TE=/^\[(.+)\]$/,t3=e=>{if(TE.test(e)){const t=TE.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},r3=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return a3(Object.entries(e.classGroups),r).forEach(([s,i])=>{pv(i,n,s,t)}),n},pv=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const s=a===""?t:kE(t,a);s.classGroupId=r;return}if(typeof a=="function"){if(n3(a)){pv(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([s,i])=>{pv(i,kE(t,s),r,n)})})},kE=(e,t)=>{let r=e;return t.split(w1).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},n3=e=>e.isThemeGetter,a3=(e,t)=>t?e.map(([r,n])=>{const a=n.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([i,o])=>[t+i,o])):s);return[r,a]}):e,s3=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(s,i)=>{r.set(s,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(s){let i=r.get(s);if(i!==void 0)return i;if((i=n.get(s))!==void 0)return a(s,i),i},set(s,i){r.has(s)?r.set(s,i):a(s,i)}}},dk="!",i3=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],s=t.length,i=o=>{const l=[];let u=0,d=0,f;for(let g=0;g<o.length;g++){let y=o[g];if(u===0){if(y===a&&(n||o.slice(g,g+s)===t)){l.push(o.slice(d,g)),d=g+s;continue}if(y==="/"){f=g;continue}}y==="["?u++:y==="]"&&u--}const h=l.length===0?o:o.substring(d),m=h.startsWith(dk),v=m?h.substring(1):h,p=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:p}};return r?o=>r({className:o,parseClassName:i}):i},o3=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},c3=e=>({cache:s3(e.cacheSize),parseClassName:i3(e),...e3(e)}),l3=/\s+/,u3=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,s=[],i=e.trim().split(l3);let o="";for(let l=i.length-1;l>=0;l-=1){const u=i[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let v=!!m,p=n(v?h.substring(0,m):h);if(!p){if(!v){o=u+(o.length>0?" "+o:o);continue}if(p=n(h),!p){o=u+(o.length>0?" "+o:o);continue}v=!1}const g=o3(d).join(":"),y=f?g+dk:g,E=y+p;if(s.includes(E))continue;s.push(E);const w=a(p,v);for(let _=0;_<w.length;++_){const T=w[_];s.push(y+T)}o=u+(o.length>0?" "+o:o)}return o};function d3(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=fk(t))&&(n&&(n+=" "),n+=r);return n}const fk=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=fk(e[n]))&&(r&&(r+=" "),r+=t);return r};function f3(e,...t){let r,n,a,s=i;function i(l){const u=t.reduce((d,f)=>f(d),e());return r=c3(u),n=r.cache.get,a=r.cache.set,s=o,o(l)}function o(l){const u=n(l);if(u)return u;const d=u3(l,r);return a(l,d),d}return function(){return s(d3.apply(null,arguments))}}const Ct=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},hk=/^\[(?:([a-z-]+):)?(.+)\]$/i,h3=/^\d+\/\d+$/,m3=new Set(["px","full","screen"]),p3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,g3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,v3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,x3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,y3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ns=e=>cl(e)||m3.has(e)||h3.test(e),oi=e=>Yl(e,"length",C3),cl=e=>!!e&&!Number.isNaN(Number(e)),up=e=>Yl(e,"number",cl),Cu=e=>!!e&&Number.isInteger(Number(e)),w3=e=>e.endsWith("%")&&cl(e.slice(0,-1)),Ke=e=>hk.test(e),ci=e=>p3.test(e),E3=new Set(["length","size","percentage"]),_3=e=>Yl(e,E3,mk),S3=e=>Yl(e,"position",mk),b3=new Set(["image","url"]),T3=e=>Yl(e,b3,j3),k3=e=>Yl(e,"",A3),Au=()=>!0,Yl=(e,t,r)=>{const n=hk.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},C3=e=>g3.test(e)&&!v3.test(e),mk=()=>!1,A3=e=>x3.test(e),j3=e=>y3.test(e),N3=()=>{const e=Ct("colors"),t=Ct("spacing"),r=Ct("blur"),n=Ct("brightness"),a=Ct("borderColor"),s=Ct("borderRadius"),i=Ct("borderSpacing"),o=Ct("borderWidth"),l=Ct("contrast"),u=Ct("grayscale"),d=Ct("hueRotate"),f=Ct("invert"),h=Ct("gap"),m=Ct("gradientColorStops"),v=Ct("gradientColorStopPositions"),p=Ct("inset"),g=Ct("margin"),y=Ct("opacity"),E=Ct("padding"),w=Ct("saturate"),_=Ct("scale"),T=Ct("sepia"),b=Ct("skew"),S=Ct("space"),k=Ct("translate"),A=()=>["auto","contain","none"],j=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",Ke,t],N=()=>[Ke,t],W=()=>["",Ns,oi],M=()=>["auto",cl,Ke],X=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],B=()=>["solid","dashed","dotted","double","none"],z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Y=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",Ke],ne=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>[cl,Ke];return{cacheSize:500,separator:":",theme:{colors:[Au],spacing:[Ns,oi],blur:["none","",ci,Ke],brightness:Z(),borderColor:[e],borderRadius:["none","","full",ci,Ke],borderSpacing:N(),borderWidth:W(),contrast:Z(),grayscale:F(),hueRotate:Z(),invert:F(),gap:N(),gradientColorStops:[e],gradientColorStopPositions:[w3,oi],inset:I(),margin:I(),opacity:Z(),padding:N(),saturate:Z(),scale:Z(),sepia:F(),skew:Z(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",Ke]}],container:["container"],columns:[{columns:[ci]}],"break-after":[{"break-after":ne()}],"break-before":[{"break-before":ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...X(),Ke]}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Cu,Ke]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ke]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",Cu,Ke]}],"grid-cols":[{"grid-cols":[Au]}],"col-start-end":[{col:["auto",{span:["full",Cu,Ke]},Ke]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[Au]}],"row-start-end":[{row:["auto",{span:[Cu,Ke]},Ke]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ke]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ke]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...Y()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Y(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Y(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[E]}],px:[{px:[E]}],py:[{py:[E]}],ps:[{ps:[E]}],pe:[{pe:[E]}],pt:[{pt:[E]}],pr:[{pr:[E]}],pb:[{pb:[E]}],pl:[{pl:[E]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ke,t]}],"min-w":[{"min-w":[Ke,t,"min","max","fit"]}],"max-w":[{"max-w":[Ke,t,"none","full","min","max","fit","prose",{screen:[ci]},ci]}],h:[{h:[Ke,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ke,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ke,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ke,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ci,oi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",up]}],"font-family":[{font:[Au]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ke]}],"line-clamp":[{"line-clamp":["none",cl,up]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ns,Ke]}],"list-image":[{"list-image":["none",Ke]}],"list-style-type":[{list:["none","disc","decimal",Ke]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ns,oi]}],"underline-offset":[{"underline-offset":["auto",Ns,Ke]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...X(),S3]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",_3]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},T3]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:B()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[Ns,Ke]}],"outline-w":[{outline:[Ns,oi]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Ns,oi]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ci,k3]}],"shadow-color":[{shadow:[Au]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ci,Ke]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ke]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",Ke]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ke]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Cu,Ke]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[b]}],"skew-y":[{"skew-y":[b]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ke]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ke]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ke]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ns,oi,up]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},I3=f3(N3);function Te(...e){return I3(ak(e))}function ll(){const e=globalThis.crypto;if(e!=null&&e.randomUUID)try{return e.randomUUID()}catch{}if(e!=null&&e.getRandomValues){const r=new Uint8Array(16);e.getRandomValues(r),r[6]=r[6]&15|64,r[8]=r[8]&63|128;const n=Array.from(r,a=>a.toString(16).padStart(2,"0"));return`${n[0]}${n[1]}${n[2]}${n[3]}-${n[4]}${n[5]}-${n[6]}${n[7]}-${n[8]}${n[9]}-${n[10]}${n[11]}${n[12]}${n[13]}${n[14]}${n[15]}`}const t=()=>Math.floor((1+Math.random())*65536).toString(16).substring(1);return`${t()}${t()}-${t()}-${t()}-${t()}-${t()}${t()}${t()}`}const R3=GF,pk=x.forwardRef(({className:e,...t},r)=>c.jsx(YT,{ref:r,className:Te("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));pk.displayName=YT.displayName;const P3=J0("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),gk=x.forwardRef(({className:e,variant:t,...r},n)=>c.jsx(ZT,{ref:n,className:Te(P3({variant:t}),e),...r}));gk.displayName=ZT.displayName;const O3=x.forwardRef(({className:e,...t},r)=>c.jsx(tk,{ref:r,className:Te("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));O3.displayName=tk.displayName;const vk=x.forwardRef(({className:e,...t},r)=>c.jsx(rk,{ref:r,className:Te("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:c.jsx(lk,{className:"h-4 w-4"})}));vk.displayName=rk.displayName;const xk=x.forwardRef(({className:e,...t},r)=>c.jsx(QT,{ref:r,className:Te("text-sm font-semibold",e),...t}));xk.displayName=QT.displayName;const yk=x.forwardRef(({className:e,...t},r)=>c.jsx(ek,{ref:r,className:Te("text-sm opacity-90",e),...t}));yk.displayName=ek.displayName;function F3(){const{toasts:e}=dn();return c.jsxs(R3,{children:[e.map(function({id:t,title:r,description:n,action:a,...s}){return c.jsxs(gk,{...s,children:[c.jsxs("div",{className:"grid gap-1",children:[r&&c.jsx(xk,{children:r}),n&&c.jsx(yk,{children:n})]}),a,c.jsx(vk,{})]},t)}),c.jsx(pk,{})]})}var CE=["light","dark"],D3="(prefers-color-scheme: dark)",M3=x.createContext(void 0),L3={setTheme:e=>{},themes:[]},U3=()=>{var e;return(e=x.useContext(M3))!=null?e:L3};x.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:s,value:i,attrs:o,nonce:l})=>{let u=s==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${o.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=a?CE.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(v,p=!1,g=!0)=>{let y=i?i[v]:v,E=p?v+"|| ''":`'${y}'`,w="";return a&&g&&!p&&CE.includes(v)&&(w+=`d.style.colorScheme = '${v}';`),r==="class"?p||y?w+=`c.add(${E})`:w+="null":y&&(w+=`d[s](n,${E})`),w},m=e?`!function(){${d}${h(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${D3}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}${u?"":"else{"+h(s,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}else{${h(s,!1,!1)};}${f}}catch(t){}}();`;return x.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})});var B3=e=>{switch(e){case"success":return V3;case"info":return H3;case"warning":return W3;case"error":return G3;default:return null}},$3=Array(12).fill(0),z3=({visible:e,className:t})=>pe.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},pe.createElement("div",{className:"sonner-spinner"},$3.map((r,n)=>pe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),V3=pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},pe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),W3=pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},pe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),H3=pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},pe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),G3=pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},pe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),q3=pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},pe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),pe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),J3=()=>{let[e,t]=pe.useState(document.hidden);return pe.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},gv=1,K3=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:gv++,s=this.toasts.find(o=>o.id===a),i=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),s?this.toasts=this.toasts.map(o=>o.id===a?(this.publish({...o,...e,id:a,title:r}),{...o,...e,id:a,dismissible:i,title:r}):o):this.addToast({title:r,...n,dismissible:i,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),a=r!==void 0,s,i=n.then(async l=>{if(s=["resolve",l],pe.isValidElement(l))a=!1,this.create({id:r,type:"default",message:l});else if(Y3(l)&&!l.ok){a=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${l.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${l.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){a=!1;let u=typeof t.success=="function"?await t.success(l):t.success,d=typeof t.description=="function"?await t.description(l):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async l=>{if(s=["reject",l],t.error!==void 0){a=!1;let u=typeof t.error=="function"?await t.error(l):t.error,d=typeof t.description=="function"?await t.description(l):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var l;a&&(this.dismiss(r),r=void 0),(l=t.finally)==null||l.call(t)}),o=()=>new Promise((l,u)=>i.then(()=>s[0]==="reject"?u(s[1]):l(s[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:o}:Object.assign(r,{unwrap:o})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||gv++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},wn=new K3,X3=(e,t)=>{let r=(t==null?void 0:t.id)||gv++;return wn.addToast({title:e,...t,id:r}),r},Y3=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Z3=X3,Q3=()=>wn.toasts,eD=()=>wn.getActiveToasts(),ce=Object.assign(Z3,{success:wn.success,info:wn.info,warning:wn.warning,error:wn.error,custom:wn.custom,message:wn.message,promise:wn.promise,dismiss:wn.dismiss,loading:wn.loading},{getHistory:Q3,getToasts:eD});function tD(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}tD(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Lf(e){return e.label!==void 0}var rD=3,nD="32px",aD="16px",AE=4e3,sD=356,iD=14,oD=20,cD=200;function Ia(...e){return e.filter(Boolean).join(" ")}function lD(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var uD=e=>{var t,r,n,a,s,i,o,l,u,d,f;let{invert:h,toast:m,unstyled:v,interacting:p,setHeights:g,visibleToasts:y,heights:E,index:w,toasts:_,expanded:T,removeToast:b,defaultRichColors:S,closeButton:k,style:A,cancelButtonStyle:j,actionButtonStyle:I,className:N="",descriptionClassName:W="",duration:M,position:X,gap:B,loadingIcon:z,expandByDefault:Y,classNames:F,icons:ne,closeButtonAriaLabel:Z="Close toast",pauseWhenPageIsHidden:C}=e,[G,L]=pe.useState(null),[D,O]=pe.useState(null),[P,Q]=pe.useState(!1),[ee,re]=pe.useState(!1),[fe,V]=pe.useState(!1),[Ee,ye]=pe.useState(!1),[Be,De]=pe.useState(!1),[me,Ze]=pe.useState(0),[kt,yt]=pe.useState(0),Zt=pe.useRef(m.duration||M||AE),Gt=pe.useRef(null),ir=pe.useRef(null),he=w===0,be=w+1<=y,ke=m.type,gt=m.dismissible!==!1,Nt=m.className||"",Jr=m.descriptionClassName||"",ze=pe.useMemo(()=>E.findIndex(Ve=>Ve.toastId===m.id)||0,[E,m.id]),et=pe.useMemo(()=>{var Ve;return(Ve=m.closeButton)!=null?Ve:k},[m.closeButton,k]),lt=pe.useMemo(()=>m.duration||M||AE,[m.duration,M]),It=pe.useRef(0),Nr=pe.useRef(0),ia=pe.useRef(0),Cs=pe.useRef(null),[fu,gf]=X.split("-"),hu=pe.useMemo(()=>E.reduce((Ve,ut,wt)=>wt>=ze?Ve:Ve+ut.height,0),[E,ze]),mu=J3(),Nm=m.invert||h,pu=ke==="loading";Nr.current=pe.useMemo(()=>ze*B+hu,[ze,hu]),pe.useEffect(()=>{Zt.current=lt},[lt]),pe.useEffect(()=>{Q(!0)},[]),pe.useEffect(()=>{let Ve=ir.current;if(Ve){let ut=Ve.getBoundingClientRect().height;return yt(ut),g(wt=>[{toastId:m.id,height:ut,position:m.position},...wt]),()=>g(wt=>wt.filter(Rn=>Rn.toastId!==m.id))}},[g,m.id]),pe.useLayoutEffect(()=>{if(!P)return;let Ve=ir.current,ut=Ve.style.height;Ve.style.height="auto";let wt=Ve.getBoundingClientRect().height;Ve.style.height=ut,yt(wt),g(Rn=>Rn.find(Pn=>Pn.toastId===m.id)?Rn.map(Pn=>Pn.toastId===m.id?{...Pn,height:wt}:Pn):[{toastId:m.id,height:wt,position:m.position},...Rn])},[P,m.title,m.description,g,m.id]);let In=pe.useCallback(()=>{re(!0),Ze(Nr.current),g(Ve=>Ve.filter(ut=>ut.toastId!==m.id)),setTimeout(()=>{b(m)},cD)},[m,b,g,Nr]);pe.useEffect(()=>{if(m.promise&&ke==="loading"||m.duration===1/0||m.type==="loading")return;let Ve;return T||p||C&&mu?(()=>{if(ia.current<It.current){let ut=new Date().getTime()-It.current;Zt.current=Zt.current-ut}ia.current=new Date().getTime()})():Zt.current!==1/0&&(It.current=new Date().getTime(),Ve=setTimeout(()=>{var ut;(ut=m.onAutoClose)==null||ut.call(m,m),In()},Zt.current)),()=>clearTimeout(Ve)},[T,p,m,ke,C,mu,In]),pe.useEffect(()=>{m.delete&&In()},[In,m.delete]);function Im(){var Ve,ut,wt;return ne!=null&&ne.loading?pe.createElement("div",{className:Ia(F==null?void 0:F.loader,(Ve=m==null?void 0:m.classNames)==null?void 0:Ve.loader,"sonner-loader"),"data-visible":ke==="loading"},ne.loading):z?pe.createElement("div",{className:Ia(F==null?void 0:F.loader,(ut=m==null?void 0:m.classNames)==null?void 0:ut.loader,"sonner-loader"),"data-visible":ke==="loading"},z):pe.createElement(z3,{className:Ia(F==null?void 0:F.loader,(wt=m==null?void 0:m.classNames)==null?void 0:wt.loader),visible:ke==="loading"})}return pe.createElement("li",{tabIndex:0,ref:ir,className:Ia(N,Nt,F==null?void 0:F.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,F==null?void 0:F.default,F==null?void 0:F[ke],(r=m==null?void 0:m.classNames)==null?void 0:r[ke]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:S,"data-styled":!(m.jsx||m.unstyled||v),"data-mounted":P,"data-promise":!!m.promise,"data-swiped":Be,"data-removed":ee,"data-visible":be,"data-y-position":fu,"data-x-position":gf,"data-index":w,"data-front":he,"data-swiping":fe,"data-dismissible":gt,"data-type":ke,"data-invert":Nm,"data-swipe-out":Ee,"data-swipe-direction":D,"data-expanded":!!(T||Y&&P),style:{"--index":w,"--toasts-before":w,"--z-index":_.length-w,"--offset":`${ee?me:Nr.current}px`,"--initial-height":Y?"auto":`${kt}px`,...A,...m.style},onDragEnd:()=>{V(!1),L(null),Cs.current=null},onPointerDown:Ve=>{pu||!gt||(Gt.current=new Date,Ze(Nr.current),Ve.target.setPointerCapture(Ve.pointerId),Ve.target.tagName!=="BUTTON"&&(V(!0),Cs.current={x:Ve.clientX,y:Ve.clientY}))},onPointerUp:()=>{var Ve,ut,wt,Rn;if(Ee||!gt)return;Cs.current=null;let Pn=Number(((Ve=ir.current)==null?void 0:Ve.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),as=Number(((ut=ir.current)==null?void 0:ut.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),As=new Date().getTime()-((wt=Gt.current)==null?void 0:wt.getTime()),Kr=G==="x"?Pn:as,ss=Math.abs(Kr)/As;if(Math.abs(Kr)>=oD||ss>.11){Ze(Nr.current),(Rn=m.onDismiss)==null||Rn.call(m,m),O(G==="x"?Pn>0?"right":"left":as>0?"down":"up"),In(),ye(!0),De(!1);return}V(!1),L(null)},onPointerMove:Ve=>{var ut,wt,Rn,Pn;if(!Cs.current||!gt||((ut=window.getSelection())==null?void 0:ut.toString().length)>0)return;let as=Ve.clientY-Cs.current.y,As=Ve.clientX-Cs.current.x,Kr=(wt=e.swipeDirections)!=null?wt:lD(X);!G&&(Math.abs(As)>1||Math.abs(as)>1)&&L(Math.abs(As)>Math.abs(as)?"x":"y");let ss={x:0,y:0};G==="y"?(Kr.includes("top")||Kr.includes("bottom"))&&(Kr.includes("top")&&as<0||Kr.includes("bottom")&&as>0)&&(ss.y=as):G==="x"&&(Kr.includes("left")||Kr.includes("right"))&&(Kr.includes("left")&&As<0||Kr.includes("right")&&As>0)&&(ss.x=As),(Math.abs(ss.x)>0||Math.abs(ss.y)>0)&&De(!0),(Rn=ir.current)==null||Rn.style.setProperty("--swipe-amount-x",`${ss.x}px`),(Pn=ir.current)==null||Pn.style.setProperty("--swipe-amount-y",`${ss.y}px`)}},et&&!m.jsx?pe.createElement("button",{"aria-label":Z,"data-disabled":pu,"data-close-button":!0,onClick:pu||!gt?()=>{}:()=>{var Ve;In(),(Ve=m.onDismiss)==null||Ve.call(m,m)},className:Ia(F==null?void 0:F.closeButton,(a=m==null?void 0:m.classNames)==null?void 0:a.closeButton)},(s=ne==null?void 0:ne.close)!=null?s:q3):null,m.jsx||x.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:pe.createElement(pe.Fragment,null,ke||m.icon||m.promise?pe.createElement("div",{"data-icon":"",className:Ia(F==null?void 0:F.icon,(i=m==null?void 0:m.classNames)==null?void 0:i.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Im():null,m.type!=="loading"?m.icon||(ne==null?void 0:ne[ke])||B3(ke):null):null,pe.createElement("div",{"data-content":"",className:Ia(F==null?void 0:F.content,(o=m==null?void 0:m.classNames)==null?void 0:o.content)},pe.createElement("div",{"data-title":"",className:Ia(F==null?void 0:F.title,(l=m==null?void 0:m.classNames)==null?void 0:l.title)},typeof m.title=="function"?m.title():m.title),m.description?pe.createElement("div",{"data-description":"",className:Ia(W,Jr,F==null?void 0:F.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),x.isValidElement(m.cancel)?m.cancel:m.cancel&&Lf(m.cancel)?pe.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||j,onClick:Ve=>{var ut,wt;Lf(m.cancel)&&gt&&((wt=(ut=m.cancel).onClick)==null||wt.call(ut,Ve),In())},className:Ia(F==null?void 0:F.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,x.isValidElement(m.action)?m.action:m.action&&Lf(m.action)?pe.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||I,onClick:Ve=>{var ut,wt;Lf(m.action)&&((wt=(ut=m.action).onClick)==null||wt.call(ut,Ve),!Ve.defaultPrevented&&In())},className:Ia(F==null?void 0:F.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function jE(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function dD(e,t){let r={};return[e,t].forEach((n,a)=>{let s=a===1,i=s?"--mobile-offset":"--offset",o=s?aD:nD;function l(u){["top","right","bottom","left"].forEach(d=>{r[`${i}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?l(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${i}-${u}`]=o:r[`${i}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):l(o)}),r}var fD=x.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:l,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:m,visibleToasts:v=rD,toastOptions:p,dir:g=jE(),gap:y=iD,loadingIcon:E,icons:w,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:T}=e,[b,S]=pe.useState([]),k=pe.useMemo(()=>Array.from(new Set([n].concat(b.filter(C=>C.position).map(C=>C.position)))),[b,n]),[A,j]=pe.useState([]),[I,N]=pe.useState(!1),[W,M]=pe.useState(!1),[X,B]=pe.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),z=pe.useRef(null),Y=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=pe.useRef(null),ne=pe.useRef(!1),Z=pe.useCallback(C=>{S(G=>{var L;return(L=G.find(D=>D.id===C.id))!=null&&L.delete||wn.dismiss(C.id),G.filter(({id:D})=>D!==C.id)})},[]);return pe.useEffect(()=>wn.subscribe(C=>{if(C.dismiss){S(G=>G.map(L=>L.id===C.id?{...L,delete:!0}:L));return}setTimeout(()=>{jT.flushSync(()=>{S(G=>{let L=G.findIndex(D=>D.id===C.id);return L!==-1?[...G.slice(0,L),{...G[L],...C},...G.slice(L+1)]:[C,...G]})})})}),[]),pe.useEffect(()=>{if(d!=="system"){B(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?B("dark"):B("light")),typeof window>"u")return;let C=window.matchMedia("(prefers-color-scheme: dark)");try{C.addEventListener("change",({matches:G})=>{B(G?"dark":"light")})}catch{C.addListener(({matches:L})=>{try{B(L?"dark":"light")}catch(D){console.error(D)}})}},[d]),pe.useEffect(()=>{b.length<=1&&N(!1)},[b]),pe.useEffect(()=>{let C=G=>{var L,D;a.every(O=>G[O]||G.code===O)&&(N(!0),(L=z.current)==null||L.focus()),G.code==="Escape"&&(document.activeElement===z.current||(D=z.current)!=null&&D.contains(document.activeElement))&&N(!1)};return document.addEventListener("keydown",C),()=>document.removeEventListener("keydown",C)},[a]),pe.useEffect(()=>{if(z.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,ne.current=!1)}},[z.current]),pe.createElement("section",{ref:t,"aria-label":`${_} ${Y}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((C,G)=>{var L;let[D,O]=C.split("-");return b.length?pe.createElement("ol",{key:C,dir:g==="auto"?jE():g,tabIndex:-1,ref:z,className:o,"data-sonner-toaster":!0,"data-theme":X,"data-y-position":D,"data-lifted":I&&b.length>1&&!s,"data-x-position":O,style:{"--front-toast-height":`${((L=A[0])==null?void 0:L.height)||0}px`,"--width":`${sD}px`,"--gap":`${y}px`,...m,...dD(l,u)},onBlur:P=>{ne.current&&!P.currentTarget.contains(P.relatedTarget)&&(ne.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:P=>{P.target instanceof HTMLElement&&P.target.dataset.dismissible==="false"||ne.current||(ne.current=!0,F.current=P.relatedTarget)},onMouseEnter:()=>N(!0),onMouseMove:()=>N(!0),onMouseLeave:()=>{W||N(!1)},onDragEnd:()=>N(!1),onPointerDown:P=>{P.target instanceof HTMLElement&&P.target.dataset.dismissible==="false"||M(!0)},onPointerUp:()=>M(!1)},b.filter(P=>!P.position&&G===0||P.position===C).map((P,Q)=>{var ee,re;return pe.createElement(uD,{key:P.id,icons:w,index:Q,toast:P,defaultRichColors:f,duration:(ee=p==null?void 0:p.duration)!=null?ee:h,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:r,visibleToasts:v,closeButton:(re=p==null?void 0:p.closeButton)!=null?re:i,interacting:W,position:C,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:Z,toasts:b.filter(fe=>fe.position==P.position),heights:A.filter(fe=>fe.position==P.position),setHeights:j,expandByDefault:s,gap:y,loadingIcon:E,expanded:I,pauseWhenPageIsHidden:T,swipeDirections:e.swipeDirections})})):null}))});const hD=({...e})=>{const{theme:t="system"}=U3();return c.jsx(fD,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var mD=bx[" useId ".trim().toString()]||(()=>{}),pD=0;function kr(e){const[t,r]=x.useState(mD());return gr(()=>{e||r(n=>n??String(pD++))},[e]),e||(t?`radix-${t}`:"")}const gD=["top","right","bottom","left"],Zi=Math.min,Dn=Math.max,Qh=Math.round,Uf=Math.floor,ys=e=>({x:e,y:e}),vD={left:"right",right:"left",bottom:"top",top:"bottom"},xD={start:"end",end:"start"};function vv(e,t,r){return Dn(e,Zi(t,r))}function Zs(e,t){return typeof e=="function"?e(t):e}function Qs(e){return e.split("-")[0]}function Zl(e){return e.split("-")[1]}function E1(e){return e==="x"?"y":"x"}function _1(e){return e==="y"?"height":"width"}const yD=new Set(["top","bottom"]);function gs(e){return yD.has(Qs(e))?"y":"x"}function S1(e){return E1(gs(e))}function wD(e,t,r){r===void 0&&(r=!1);const n=Zl(e),a=S1(e),s=_1(a);let i=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(i=e0(i)),[i,e0(i)]}function ED(e){const t=e0(e);return[xv(e),t,xv(t)]}function xv(e){return e.replace(/start|end/g,t=>xD[t])}const NE=["left","right"],IE=["right","left"],_D=["top","bottom"],SD=["bottom","top"];function bD(e,t,r){switch(e){case"top":case"bottom":return r?t?IE:NE:t?NE:IE;case"left":case"right":return t?_D:SD;default:return[]}}function TD(e,t,r,n){const a=Zl(e);let s=bD(Qs(e),r==="start",n);return a&&(s=s.map(i=>i+"-"+a),t&&(s=s.concat(s.map(xv)))),s}function e0(e){return e.replace(/left|right|bottom|top/g,t=>vD[t])}function kD(e){return{top:0,right:0,bottom:0,left:0,...e}}function wk(e){return typeof e!="number"?kD(e):{top:e,right:e,bottom:e,left:e}}function t0(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function RE(e,t,r){let{reference:n,floating:a}=e;const s=gs(t),i=S1(t),o=_1(i),l=Qs(t),u=s==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[o]/2-a[o]/2;let m;switch(l){case"top":m={x:d,y:n.y-a.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-a.width,y:f};break;default:m={x:n.x,y:n.y}}switch(Zl(t)){case"start":m[i]-=h*(r&&u?-1:1);break;case"end":m[i]+=h*(r&&u?-1:1);break}return m}const CD=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:s=[],platform:i}=r,o=s.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=RE(u,n,l),h=n,m={},v=0;for(let p=0;p<o.length;p++){const{name:g,fn:y}=o[p],{x:E,y:w,data:_,reset:T}=await y({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:m,rects:u,platform:i,elements:{reference:e,floating:t}});d=E??d,f=w??f,m={...m,[g]:{...m[g],..._}},T&&v<=50&&(v++,typeof T=="object"&&(T.placement&&(h=T.placement),T.rects&&(u=T.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:a}):T.rects),{x:d,y:f}=RE(u,h,l)),p=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:m}};async function Cd(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:s,rects:i,elements:o,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Zs(t,e),v=wk(m),g=o[h?f==="floating"?"reference":"floating":f],y=t0(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(g)))==null||r?g:g.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:l})),E=f==="floating"?{x:n,y:a,width:i.floating.width,height:i.floating.height}:i.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),_=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},T=t0(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:E,offsetParent:w,strategy:l}):E);return{top:(y.top-T.top+v.top)/_.y,bottom:(T.bottom-y.bottom+v.bottom)/_.y,left:(y.left-T.left+v.left)/_.x,right:(T.right-y.right+v.right)/_.x}}const AD=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:s,platform:i,elements:o,middlewareData:l}=t,{element:u,padding:d=0}=Zs(e,t)||{};if(u==null)return{};const f=wk(d),h={x:r,y:n},m=S1(a),v=_1(m),p=await i.getDimensions(u),g=m==="y",y=g?"top":"left",E=g?"bottom":"right",w=g?"clientHeight":"clientWidth",_=s.reference[v]+s.reference[m]-h[m]-s.floating[v],T=h[m]-s.reference[m],b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let S=b?b[w]:0;(!S||!await(i.isElement==null?void 0:i.isElement(b)))&&(S=o.floating[w]||s.floating[v]);const k=_/2-T/2,A=S/2-p[v]/2-1,j=Zi(f[y],A),I=Zi(f[E],A),N=j,W=S-p[v]-I,M=S/2-p[v]/2+k,X=vv(N,M,W),B=!l.arrow&&Zl(a)!=null&&M!==X&&s.reference[v]/2-(M<N?j:I)-p[v]/2<0,z=B?M<N?M-N:M-W:0;return{[m]:h[m]+z,data:{[m]:X,centerOffset:M-X-z,...B&&{alignmentOffset:z}},reset:B}}}),jD=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:s,rects:i,initialPlacement:o,platform:l,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:p=!0,...g}=Zs(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const y=Qs(a),E=gs(o),w=Qs(o)===o,_=await(l.isRTL==null?void 0:l.isRTL(u.floating)),T=h||(w||!p?[e0(o)]:ED(o)),b=v!=="none";!h&&b&&T.push(...TD(o,p,v,_));const S=[o,...T],k=await Cd(t,g),A=[];let j=((n=s.flip)==null?void 0:n.overflows)||[];if(d&&A.push(k[y]),f){const M=wD(a,i,_);A.push(k[M[0]],k[M[1]])}if(j=[...j,{placement:a,overflows:A}],!A.every(M=>M<=0)){var I,N;const M=(((I=s.flip)==null?void 0:I.index)||0)+1,X=S[M];if(X&&(!(f==="alignment"?E!==gs(X):!1)||j.every(Y=>Y.overflows[0]>0&&gs(Y.placement)===E)))return{data:{index:M,overflows:j},reset:{placement:X}};let B=(N=j.filter(z=>z.overflows[0]<=0).sort((z,Y)=>z.overflows[1]-Y.overflows[1])[0])==null?void 0:N.placement;if(!B)switch(m){case"bestFit":{var W;const z=(W=j.filter(Y=>{if(b){const F=gs(Y.placement);return F===E||F==="y"}return!0}).map(Y=>[Y.placement,Y.overflows.filter(F=>F>0).reduce((F,ne)=>F+ne,0)]).sort((Y,F)=>Y[1]-F[1])[0])==null?void 0:W[0];z&&(B=z);break}case"initialPlacement":B=o;break}if(a!==B)return{reset:{placement:B}}}return{}}}};function PE(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function OE(e){return gD.some(t=>e[t]>=0)}const ND=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=Zs(e,t);switch(n){case"referenceHidden":{const s=await Cd(t,{...a,elementContext:"reference"}),i=PE(s,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:OE(i)}}}case"escaped":{const s=await Cd(t,{...a,altBoundary:!0}),i=PE(s,r.floating);return{data:{escapedOffsets:i,escaped:OE(i)}}}default:return{}}}}},Ek=new Set(["left","top"]);async function ID(e,t){const{placement:r,platform:n,elements:a}=e,s=await(n.isRTL==null?void 0:n.isRTL(a.floating)),i=Qs(r),o=Zl(r),l=gs(r)==="y",u=Ek.has(i)?-1:1,d=s&&l?-1:1,f=Zs(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof v=="number"&&(m=o==="end"?v*-1:v),l?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const RD=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:s,placement:i,middlewareData:o}=t,l=await ID(t,e);return i===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:a+l.x,y:s+l.y,data:{...l,placement:i}}}}},PD=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:s=!0,crossAxis:i=!1,limiter:o={fn:g=>{let{x:y,y:E}=g;return{x:y,y:E}}},...l}=Zs(e,t),u={x:r,y:n},d=await Cd(t,l),f=gs(Qs(a)),h=E1(f);let m=u[h],v=u[f];if(s){const g=h==="y"?"top":"left",y=h==="y"?"bottom":"right",E=m+d[g],w=m-d[y];m=vv(E,m,w)}if(i){const g=f==="y"?"top":"left",y=f==="y"?"bottom":"right",E=v+d[g],w=v-d[y];v=vv(E,v,w)}const p=o.fn({...t,[h]:m,[f]:v});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[h]:s,[f]:i}}}}}},OD=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:s,middlewareData:i}=t,{offset:o=0,mainAxis:l=!0,crossAxis:u=!0}=Zs(e,t),d={x:r,y:n},f=gs(a),h=E1(f);let m=d[h],v=d[f];const p=Zs(o,t),g=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(l){const w=h==="y"?"height":"width",_=s.reference[h]-s.floating[w]+g.mainAxis,T=s.reference[h]+s.reference[w]-g.mainAxis;m<_?m=_:m>T&&(m=T)}if(u){var y,E;const w=h==="y"?"width":"height",_=Ek.has(Qs(a)),T=s.reference[f]-s.floating[w]+(_&&((y=i.offset)==null?void 0:y[f])||0)+(_?0:g.crossAxis),b=s.reference[f]+s.reference[w]+(_?0:((E=i.offset)==null?void 0:E[f])||0)-(_?g.crossAxis:0);v<T?v=T:v>b&&(v=b)}return{[h]:m,[f]:v}}}},FD=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:s,platform:i,elements:o}=t,{apply:l=()=>{},...u}=Zs(e,t),d=await Cd(t,u),f=Qs(a),h=Zl(a),m=gs(a)==="y",{width:v,height:p}=s.floating;let g,y;f==="top"||f==="bottom"?(g=f,y=h===(await(i.isRTL==null?void 0:i.isRTL(o.floating))?"start":"end")?"left":"right"):(y=f,g=h==="end"?"top":"bottom");const E=p-d.top-d.bottom,w=v-d.left-d.right,_=Zi(p-d[g],E),T=Zi(v-d[y],w),b=!t.middlewareData.shift;let S=_,k=T;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(k=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(S=E),b&&!h){const j=Dn(d.left,0),I=Dn(d.right,0),N=Dn(d.top,0),W=Dn(d.bottom,0);m?k=v-2*(j!==0||I!==0?j+I:Dn(d.left,d.right)):S=p-2*(N!==0||W!==0?N+W:Dn(d.top,d.bottom))}await l({...t,availableWidth:k,availableHeight:S});const A=await i.getDimensions(o.floating);return v!==A.width||p!==A.height?{reset:{rects:!0}}:{}}}};function K0(){return typeof window<"u"}function Ql(e){return _k(e)?(e.nodeName||"").toLowerCase():"#document"}function Vn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ss(e){var t;return(t=(_k(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function _k(e){return K0()?e instanceof Node||e instanceof Vn(e).Node:!1}function Ya(e){return K0()?e instanceof Element||e instanceof Vn(e).Element:!1}function ws(e){return K0()?e instanceof HTMLElement||e instanceof Vn(e).HTMLElement:!1}function FE(e){return!K0()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Vn(e).ShadowRoot}const DD=new Set(["inline","contents"]);function tf(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Za(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!DD.has(a)}const MD=new Set(["table","td","th"]);function LD(e){return MD.has(Ql(e))}const UD=[":popover-open",":modal"];function X0(e){return UD.some(t=>{try{return e.matches(t)}catch{return!1}})}const BD=["transform","translate","scale","rotate","perspective"],$D=["transform","translate","scale","rotate","perspective","filter"],zD=["paint","layout","strict","content"];function b1(e){const t=T1(),r=Ya(e)?Za(e):e;return BD.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||$D.some(n=>(r.willChange||"").includes(n))||zD.some(n=>(r.contain||"").includes(n))}function VD(e){let t=Qi(e);for(;ws(t)&&!Ul(t);){if(b1(t))return t;if(X0(t))return null;t=Qi(t)}return null}function T1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const WD=new Set(["html","body","#document"]);function Ul(e){return WD.has(Ql(e))}function Za(e){return Vn(e).getComputedStyle(e)}function Y0(e){return Ya(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Qi(e){if(Ql(e)==="html")return e;const t=e.assignedSlot||e.parentNode||FE(e)&&e.host||Ss(e);return FE(t)?t.host:t}function Sk(e){const t=Qi(e);return Ul(t)?e.ownerDocument?e.ownerDocument.body:e.body:ws(t)&&tf(t)?t:Sk(t)}function Ad(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=Sk(e),s=a===((n=e.ownerDocument)==null?void 0:n.body),i=Vn(a);if(s){const o=yv(i);return t.concat(i,i.visualViewport||[],tf(a)?a:[],o&&r?Ad(o):[])}return t.concat(a,Ad(a,[],r))}function yv(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function bk(e){const t=Za(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=ws(e),s=a?e.offsetWidth:r,i=a?e.offsetHeight:n,o=Qh(r)!==s||Qh(n)!==i;return o&&(r=s,n=i),{width:r,height:n,$:o}}function k1(e){return Ya(e)?e:e.contextElement}function ul(e){const t=k1(e);if(!ws(t))return ys(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:s}=bk(t);let i=(s?Qh(r.width):r.width)/n,o=(s?Qh(r.height):r.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!o||!Number.isFinite(o))&&(o=1),{x:i,y:o}}const HD=ys(0);function Tk(e){const t=Vn(e);return!T1()||!t.visualViewport?HD:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function GD(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Vn(e)?!1:t}function Qo(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),s=k1(e);let i=ys(1);t&&(n?Ya(n)&&(i=ul(n)):i=ul(e));const o=GD(s,r,n)?Tk(s):ys(0);let l=(a.left+o.x)/i.x,u=(a.top+o.y)/i.y,d=a.width/i.x,f=a.height/i.y;if(s){const h=Vn(s),m=n&&Ya(n)?Vn(n):n;let v=h,p=yv(v);for(;p&&n&&m!==v;){const g=ul(p),y=p.getBoundingClientRect(),E=Za(p),w=y.left+(p.clientLeft+parseFloat(E.paddingLeft))*g.x,_=y.top+(p.clientTop+parseFloat(E.paddingTop))*g.y;l*=g.x,u*=g.y,d*=g.x,f*=g.y,l+=w,u+=_,v=Vn(p),p=yv(v)}}return t0({width:d,height:f,x:l,y:u})}function C1(e,t){const r=Y0(e).scrollLeft;return t?t.left+r:Qo(Ss(e)).left+r}function kk(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:C1(e,n)),s=n.top+t.scrollTop;return{x:a,y:s}}function qD(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const s=a==="fixed",i=Ss(n),o=t?X0(t.floating):!1;if(n===i||o&&s)return r;let l={scrollLeft:0,scrollTop:0},u=ys(1);const d=ys(0),f=ws(n);if((f||!f&&!s)&&((Ql(n)!=="body"||tf(i))&&(l=Y0(n)),ws(n))){const m=Qo(n);u=ul(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=i&&!f&&!s?kk(i,l,!0):ys(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-l.scrollTop*u.y+d.y+h.y}}function JD(e){return Array.from(e.getClientRects())}function KD(e){const t=Ss(e),r=Y0(e),n=e.ownerDocument.body,a=Dn(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=Dn(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+C1(e);const o=-r.scrollTop;return Za(n).direction==="rtl"&&(i+=Dn(t.clientWidth,n.clientWidth)-a),{width:a,height:s,x:i,y:o}}function XD(e,t){const r=Vn(e),n=Ss(e),a=r.visualViewport;let s=n.clientWidth,i=n.clientHeight,o=0,l=0;if(a){s=a.width,i=a.height;const u=T1();(!u||u&&t==="fixed")&&(o=a.offsetLeft,l=a.offsetTop)}return{width:s,height:i,x:o,y:l}}const YD=new Set(["absolute","fixed"]);function ZD(e,t){const r=Qo(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,s=ws(e)?ul(e):ys(1),i=e.clientWidth*s.x,o=e.clientHeight*s.y,l=a*s.x,u=n*s.y;return{width:i,height:o,x:l,y:u}}function DE(e,t,r){let n;if(t==="viewport")n=XD(e,r);else if(t==="document")n=KD(Ss(e));else if(Ya(t))n=ZD(t,r);else{const a=Tk(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return t0(n)}function Ck(e,t){const r=Qi(e);return r===t||!Ya(r)||Ul(r)?!1:Za(r).position==="fixed"||Ck(r,t)}function QD(e,t){const r=t.get(e);if(r)return r;let n=Ad(e,[],!1).filter(o=>Ya(o)&&Ql(o)!=="body"),a=null;const s=Za(e).position==="fixed";let i=s?Qi(e):e;for(;Ya(i)&&!Ul(i);){const o=Za(i),l=b1(i);!l&&o.position==="fixed"&&(a=null),(s?!l&&!a:!l&&o.position==="static"&&!!a&&YD.has(a.position)||tf(i)&&!l&&Ck(e,i))?n=n.filter(d=>d!==i):a=o,i=Qi(i)}return t.set(e,n),n}function eM(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const i=[...r==="clippingAncestors"?X0(t)?[]:QD(t,this._c):[].concat(r),n],o=i[0],l=i.reduce((u,d)=>{const f=DE(t,d,a);return u.top=Dn(f.top,u.top),u.right=Zi(f.right,u.right),u.bottom=Zi(f.bottom,u.bottom),u.left=Dn(f.left,u.left),u},DE(t,o,a));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function tM(e){const{width:t,height:r}=bk(e);return{width:t,height:r}}function rM(e,t,r){const n=ws(t),a=Ss(t),s=r==="fixed",i=Qo(e,!0,s,t);let o={scrollLeft:0,scrollTop:0};const l=ys(0);function u(){l.x=C1(a)}if(n||!n&&!s)if((Ql(t)!=="body"||tf(a))&&(o=Y0(t)),n){const m=Qo(t,!0,s,t);l.x=m.x+t.clientLeft,l.y=m.y+t.clientTop}else a&&u();s&&!n&&a&&u();const d=a&&!n&&!s?kk(a,o):ys(0),f=i.left+o.scrollLeft-l.x-d.x,h=i.top+o.scrollTop-l.y-d.y;return{x:f,y:h,width:i.width,height:i.height}}function dp(e){return Za(e).position==="static"}function ME(e,t){if(!ws(e)||Za(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Ss(e)===r&&(r=r.ownerDocument.body),r}function Ak(e,t){const r=Vn(e);if(X0(e))return r;if(!ws(e)){let a=Qi(e);for(;a&&!Ul(a);){if(Ya(a)&&!dp(a))return a;a=Qi(a)}return r}let n=ME(e,t);for(;n&&LD(n)&&dp(n);)n=ME(n,t);return n&&Ul(n)&&dp(n)&&!b1(n)?r:n||VD(e)||r}const nM=async function(e){const t=this.getOffsetParent||Ak,r=this.getDimensions,n=await r(e.floating);return{reference:rM(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function aM(e){return Za(e).direction==="rtl"}const sM={convertOffsetParentRelativeRectToViewportRelativeRect:qD,getDocumentElement:Ss,getClippingRect:eM,getOffsetParent:Ak,getElementRects:nM,getClientRects:JD,getDimensions:tM,getScale:ul,isElement:Ya,isRTL:aM};function jk(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function iM(e,t){let r=null,n;const a=Ss(e);function s(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function i(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),s();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(o||t(),!h||!m)return;const v=Uf(f),p=Uf(a.clientWidth-(d+h)),g=Uf(a.clientHeight-(f+m)),y=Uf(d),w={rootMargin:-v+"px "+-p+"px "+-g+"px "+-y+"px",threshold:Dn(0,Zi(1,l))||1};let _=!0;function T(b){const S=b[0].intersectionRatio;if(S!==l){if(!_)return i();S?i(!1,S):n=setTimeout(()=>{i(!1,1e-7)},1e3)}S===1&&!jk(u,e.getBoundingClientRect())&&i(),_=!1}try{r=new IntersectionObserver(T,{...w,root:a.ownerDocument})}catch{r=new IntersectionObserver(T,w)}r.observe(e)}return i(!0),s}function oM(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=k1(e),d=a||s?[...u?Ad(u):[],...Ad(t)]:[];d.forEach(y=>{a&&y.addEventListener("scroll",r,{passive:!0}),s&&y.addEventListener("resize",r)});const f=u&&o?iM(u,r):null;let h=-1,m=null;i&&(m=new ResizeObserver(y=>{let[E]=y;E&&E.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),r()}),u&&!l&&m.observe(u),m.observe(t));let v,p=l?Qo(e):null;l&&g();function g(){const y=Qo(e);p&&!jk(p,y)&&r(),p=y,v=requestAnimationFrame(g)}return r(),()=>{var y;d.forEach(E=>{a&&E.removeEventListener("scroll",r),s&&E.removeEventListener("resize",r)}),f==null||f(),(y=m)==null||y.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const cM=RD,lM=PD,uM=jD,dM=FD,fM=ND,LE=AD,hM=OD,mM=(e,t,r)=>{const n=new Map,a={platform:sM,...r},s={...a.platform,_c:n};return CD(e,t,{...a,platform:s})};var pM=typeof document<"u",gM=function(){},Sh=pM?x.useLayoutEffect:gM;function r0(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!r0(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const s=a[n];if(!(s==="_owner"&&e.$$typeof)&&!r0(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function Nk(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function UE(e,t){const r=Nk(e);return Math.round(t*r)/r}function fp(e){const t=x.useRef(e);return Sh(()=>{t.current=e}),t}function vM(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:s,floating:i}={},transform:o=!0,whileElementsMounted:l,open:u}=e,[d,f]=x.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=x.useState(n);r0(h,n)||m(n);const[v,p]=x.useState(null),[g,y]=x.useState(null),E=x.useCallback(Y=>{Y!==b.current&&(b.current=Y,p(Y))},[]),w=x.useCallback(Y=>{Y!==S.current&&(S.current=Y,y(Y))},[]),_=s||v,T=i||g,b=x.useRef(null),S=x.useRef(null),k=x.useRef(d),A=l!=null,j=fp(l),I=fp(a),N=fp(u),W=x.useCallback(()=>{if(!b.current||!S.current)return;const Y={placement:t,strategy:r,middleware:h};I.current&&(Y.platform=I.current),mM(b.current,S.current,Y).then(F=>{const ne={...F,isPositioned:N.current!==!1};M.current&&!r0(k.current,ne)&&(k.current=ne,fc.flushSync(()=>{f(ne)}))})},[h,t,r,I,N]);Sh(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(Y=>({...Y,isPositioned:!1})))},[u]);const M=x.useRef(!1);Sh(()=>(M.current=!0,()=>{M.current=!1}),[]),Sh(()=>{if(_&&(b.current=_),T&&(S.current=T),_&&T){if(j.current)return j.current(_,T,W);W()}},[_,T,W,j,A]);const X=x.useMemo(()=>({reference:b,floating:S,setReference:E,setFloating:w}),[E,w]),B=x.useMemo(()=>({reference:_,floating:T}),[_,T]),z=x.useMemo(()=>{const Y={position:r,left:0,top:0};if(!B.floating)return Y;const F=UE(B.floating,d.x),ne=UE(B.floating,d.y);return o?{...Y,transform:"translate("+F+"px, "+ne+"px)",...Nk(B.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:F,top:ne}},[r,o,B.floating,d.x,d.y]);return x.useMemo(()=>({...d,update:W,refs:X,elements:B,floatingStyles:z}),[d,W,X,B,z])}const xM=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?LE({element:n.current,padding:a}).fn(r):{}:n?LE({element:n,padding:a}).fn(r):{}}}},yM=(e,t)=>({...cM(e),options:[e,t]}),wM=(e,t)=>({...lM(e),options:[e,t]}),EM=(e,t)=>({...hM(e),options:[e,t]}),_M=(e,t)=>({...uM(e),options:[e,t]}),SM=(e,t)=>({...dM(e),options:[e,t]}),bM=(e,t)=>({...fM(e),options:[e,t]}),TM=(e,t)=>({...xM(e),options:[e,t]});var kM="Arrow",Ik=x.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...s}=e;return c.jsx(Pe.svg,{...s,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});Ik.displayName=kM;var CM=Ik;function A1(e){const[t,r]=x.useState(void 0);return gr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const s=a[0];let i,o;if("borderBoxSize"in s){const l=s.borderBoxSize,u=Array.isArray(l)?l[0]:l;i=u.inlineSize,o=u.blockSize}else i=e.offsetWidth,o=e.offsetHeight;r({width:i,height:o})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var j1="Popper",[Rk,eu]=Vr(j1),[AM,Pk]=Rk(j1),Ok=e=>{const{__scopePopper:t,children:r}=e,[n,a]=x.useState(null);return c.jsx(AM,{scope:t,anchor:n,onAnchorChange:a,children:r})};Ok.displayName=j1;var Fk="PopperAnchor",Dk=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,s=Pk(Fk,r),i=x.useRef(null),o=Je(t,i);return x.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:c.jsx(Pe.div,{...a,ref:o})});Dk.displayName=Fk;var N1="PopperContent",[jM,NM]=Rk(N1),Mk=x.forwardRef((e,t)=>{var P,Q,ee,re,fe,V;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:s="center",alignOffset:i=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:v,...p}=e,g=Pk(N1,r),[y,E]=x.useState(null),w=Je(t,Ee=>E(Ee)),[_,T]=x.useState(null),b=A1(_),S=(b==null?void 0:b.width)??0,k=(b==null?void 0:b.height)??0,A=n+(s!=="center"?"-"+s:""),j=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},I=Array.isArray(u)?u:[u],N=I.length>0,W={padding:j,boundary:I.filter(RM),altBoundary:N},{refs:M,floatingStyles:X,placement:B,isPositioned:z,middlewareData:Y}=vM({strategy:"fixed",placement:A,whileElementsMounted:(...Ee)=>oM(...Ee,{animationFrame:m==="always"}),elements:{reference:g.anchor},middleware:[yM({mainAxis:a+k,alignmentAxis:i}),l&&wM({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?EM():void 0,...W}),l&&_M({...W}),SM({...W,apply:({elements:Ee,rects:ye,availableWidth:Be,availableHeight:De})=>{const{width:me,height:Ze}=ye.reference,kt=Ee.floating.style;kt.setProperty("--radix-popper-available-width",`${Be}px`),kt.setProperty("--radix-popper-available-height",`${De}px`),kt.setProperty("--radix-popper-anchor-width",`${me}px`),kt.setProperty("--radix-popper-anchor-height",`${Ze}px`)}}),_&&TM({element:_,padding:o}),PM({arrowWidth:S,arrowHeight:k}),h&&bM({strategy:"referenceHidden",...W})]}),[F,ne]=Bk(B),Z=dr(v);gr(()=>{z&&(Z==null||Z())},[z,Z]);const C=(P=Y.arrow)==null?void 0:P.x,G=(Q=Y.arrow)==null?void 0:Q.y,L=((ee=Y.arrow)==null?void 0:ee.centerOffset)!==0,[D,O]=x.useState();return gr(()=>{y&&O(window.getComputedStyle(y).zIndex)},[y]),c.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:z?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:D,"--radix-popper-transform-origin":[(re=Y.transformOrigin)==null?void 0:re.x,(fe=Y.transformOrigin)==null?void 0:fe.y].join(" "),...((V=Y.hide)==null?void 0:V.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:c.jsx(jM,{scope:r,placedSide:F,onArrowChange:T,arrowX:C,arrowY:G,shouldHideArrow:L,children:c.jsx(Pe.div,{"data-side":F,"data-align":ne,...p,ref:w,style:{...p.style,animation:z?void 0:"none"}})})})});Mk.displayName=N1;var Lk="PopperArrow",IM={top:"bottom",right:"left",bottom:"top",left:"right"},Uk=x.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,s=NM(Lk,n),i=IM[s.placedSide];return c.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:c.jsx(CM,{...a,ref:r,style:{...a.style,display:"block"}})})});Uk.displayName=Lk;function RM(e){return e!==null}var PM=e=>({name:"transformOrigin",options:e,fn(t){var g,y,E;const{placement:r,rects:n,middlewareData:a}=t,i=((g=a.arrow)==null?void 0:g.centerOffset)!==0,o=i?0:e.arrowWidth,l=i?0:e.arrowHeight,[u,d]=Bk(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((y=a.arrow)==null?void 0:y.x)??0)+o/2,m=(((E=a.arrow)==null?void 0:E.y)??0)+l/2;let v="",p="";return u==="bottom"?(v=i?f:`${h}px`,p=`${-l}px`):u==="top"?(v=i?f:`${h}px`,p=`${n.floating.height+l}px`):u==="right"?(v=`${-l}px`,p=i?f:`${m}px`):u==="left"&&(v=`${n.floating.width+l}px`,p=i?f:`${m}px`),{data:{x:v,y:p}}}});function Bk(e){const[t,r="center"]=e.split("-");return[t,r]}var $k=Ok,Z0=Dk,I1=Mk,R1=Uk,[Q0,jZ]=Vr("Tooltip",[eu]),P1=eu(),zk="TooltipProvider",OM=700,BE="tooltip.open",[FM,Vk]=Q0(zk),Wk=e=>{const{__scopeTooltip:t,delayDuration:r=OM,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:s}=e,i=x.useRef(!0),o=x.useRef(!1),l=x.useRef(0);return x.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),c.jsx(FM,{scope:t,isOpenDelayedRef:i,delayDuration:r,onOpen:x.useCallback(()=>{window.clearTimeout(l.current),i.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.current=!0,n)},[n]),isPointerInTransitRef:o,onPointerInTransitChange:x.useCallback(u=>{o.current=u},[]),disableHoverableContent:a,children:s})};Wk.displayName=zk;var Hk="Tooltip",[NZ,em]=Q0(Hk),wv="TooltipTrigger",DM=x.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=em(wv,r),s=Vk(wv,r),i=P1(r),o=x.useRef(null),l=Je(t,o,a.onTriggerChange),u=x.useRef(!1),d=x.useRef(!1),f=x.useCallback(()=>u.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),c.jsx(Z0,{asChild:!0,...i,children:c.jsx(Pe.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:l,onPointerMove:Ie(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:Ie(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:Ie(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ie(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:Ie(e.onBlur,a.onClose),onClick:Ie(e.onClick,a.onClose)})})});DM.displayName=wv;var MM="TooltipPortal",[IZ,LM]=Q0(MM,{forceMount:void 0}),Bl="TooltipContent",Gk=x.forwardRef((e,t)=>{const r=LM(Bl,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...s}=e,i=em(Bl,e.__scopeTooltip);return c.jsx(fn,{present:n||i.open,children:i.disableHoverableContent?c.jsx(qk,{side:a,...s,ref:t}):c.jsx(UM,{side:a,...s,ref:t})})}),UM=x.forwardRef((e,t)=>{const r=em(Bl,e.__scopeTooltip),n=Vk(Bl,e.__scopeTooltip),a=x.useRef(null),s=Je(t,a),[i,o]=x.useState(null),{trigger:l,onClose:u}=r,d=a.current,{onPointerInTransitChange:f}=n,h=x.useCallback(()=>{o(null),f(!1)},[f]),m=x.useCallback((v,p)=>{const g=v.currentTarget,y={x:v.clientX,y:v.clientY},E=WM(y,g.getBoundingClientRect()),w=HM(y,E),_=GM(p.getBoundingClientRect()),T=JM([...w,..._]);o(T),f(!0)},[f]);return x.useEffect(()=>()=>h(),[h]),x.useEffect(()=>{if(l&&d){const v=g=>m(g,d),p=g=>m(g,l);return l.addEventListener("pointerleave",v),d.addEventListener("pointerleave",p),()=>{l.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",p)}}},[l,d,m,h]),x.useEffect(()=>{if(i){const v=p=>{const g=p.target,y={x:p.clientX,y:p.clientY},E=(l==null?void 0:l.contains(g))||(d==null?void 0:d.contains(g)),w=!qM(y,i);E?h():w&&(h(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,d,i,u,h]),c.jsx(qk,{...e,ref:s})}),[BM,$M]=Q0(Hk,{isInside:!1}),zM=RT("TooltipContent"),qk=x.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:s,onPointerDownOutside:i,...o}=e,l=em(Bl,r),u=P1(r),{onClose:d}=l;return x.useEffect(()=>(document.addEventListener(BE,d),()=>document.removeEventListener(BE,d)),[d]),x.useEffect(()=>{if(l.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),c.jsx(Xl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:c.jsxs(I1,{"data-state":l.stateAttribute,...u,...o,ref:t,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(zM,{children:n}),c.jsx(BM,{scope:r,isInside:!0,children:c.jsx(AF,{id:l.contentId,role:"tooltip",children:a||n})})]})})});Gk.displayName=Bl;var Jk="TooltipArrow",VM=x.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=P1(r);return $M(Jk,r).isInside?null:c.jsx(R1,{...a,...n,ref:t})});VM.displayName=Jk;function WM(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(r,n,a,s)){case s:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function HM(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function GM(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function qM(e,t){const{x:r,y:n}=e;let a=!1;for(let s=0,i=t.length-1;s<t.length;i=s++){const o=t[s],l=t[i],u=o.x,d=o.y,f=l.x,h=l.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function JM(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),KM(t)}function KM(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const s=t[t.length-1],i=t[t.length-2];if((s.x-i.x)*(a.y-i.y)>=(s.y-i.y)*(a.x-i.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const s=r[r.length-1],i=r[r.length-2];if((s.x-i.x)*(a.y-i.y)>=(s.y-i.y)*(a.x-i.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var XM=Wk,Kk=Gk;const YM=XM,ZM=x.forwardRef(({className:e,sideOffset:t=4,...r},n)=>c.jsx(Kk,{ref:n,sideOffset:t,className:Te("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));ZM.displayName=Kk.displayName;var tu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ec=typeof window>"u"||"Deno"in globalThis;function tn(){}function QM(e,t){return typeof e=="function"?e(t):e}function Ev(e){return typeof e=="number"&&e>=0&&e!==1/0}function Xk(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Gi(e,t){return typeof e=="function"?e(t):e}function ha(e,t){return typeof e=="function"?e(t):e}function $E(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:s,queryKey:i,stale:o}=e;if(i){if(n){if(t.queryHash!==O1(i,t.options))return!1}else if(!jd(t.queryKey,i))return!1}if(r!=="all"){const l=t.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||a&&a!==t.state.fetchStatus||s&&!s(t))}function zE(e,t){const{exact:r,status:n,predicate:a,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(tc(t.options.mutationKey)!==tc(s))return!1}else if(!jd(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function O1(e,t){return((t==null?void 0:t.queryKeyHashFn)||tc)(e)}function tc(e){return JSON.stringify(e,(t,r)=>_v(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function jd(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>jd(e[r],t[r])):!1}function Yk(e,t){if(e===t)return e;const r=VE(e)&&VE(t);if(r||_v(e)&&_v(t)){const n=r?e:Object.keys(e),a=n.length,s=r?t:Object.keys(t),i=s.length,o=r?[]:{},l=new Set(n);let u=0;for(let d=0;d<i;d++){const f=r?d:s[d];(!r&&l.has(f)||r)&&e[f]===void 0&&t[f]===void 0?(o[f]=void 0,u++):(o[f]=Yk(e[f],t[f]),o[f]===e[f]&&e[f]!==void 0&&u++)}return a===i&&u===a?e:o}return t}function n0(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function VE(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function _v(e){if(!WE(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!WE(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function WE(e){return Object.prototype.toString.call(e)==="[object Object]"}function eL(e){return new Promise(t=>{setTimeout(t,e)})}function Sv(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Yk(e,t):t}function tL(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function rL(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var F1=Symbol();function Zk(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===F1?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Qk(e,t){return typeof e=="function"?e(...t):!!e}var Po,Si,yl,sb,nL=(sb=class extends tu{constructor(){super();Me(this,Po);Me(this,Si);Me(this,yl);je(this,yl,t=>{if(!ec&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){te(this,Si)||this.setEventListener(te(this,yl))}onUnsubscribe(){var t;this.hasListeners()||((t=te(this,Si))==null||t.call(this),je(this,Si,void 0))}setEventListener(t){var r;je(this,yl,t),(r=te(this,Si))==null||r.call(this),je(this,Si,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){te(this,Po)!==t&&(je(this,Po,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof te(this,Po)=="boolean"?te(this,Po):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Po=new WeakMap,Si=new WeakMap,yl=new WeakMap,sb),D1=new nL,wl,bi,El,ib,aL=(ib=class extends tu{constructor(){super();Me(this,wl,!0);Me(this,bi);Me(this,El);je(this,El,t=>{if(!ec&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){te(this,bi)||this.setEventListener(te(this,El))}onUnsubscribe(){var t;this.hasListeners()||((t=te(this,bi))==null||t.call(this),je(this,bi,void 0))}setEventListener(t){var r;je(this,El,t),(r=te(this,bi))==null||r.call(this),je(this,bi,t(this.setOnline.bind(this)))}setOnline(t){te(this,wl)!==t&&(je(this,wl,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return te(this,wl)}},wl=new WeakMap,bi=new WeakMap,El=new WeakMap,ib),a0=new aL;function bv(){let e,t;const r=new Promise((a,s)=>{e=a,t=s});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function sL(e){return Math.min(1e3*2**e,3e4)}function eC(e){return(e??"online")==="online"?a0.isOnline():!0}var tC=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function hp(e){return e instanceof tC}function rC(e){let t=!1,r=0,n=!1,a;const s=bv(),i=p=>{var g;n||(h(new tC(p)),(g=e.abort)==null||g.call(e))},o=()=>{t=!0},l=()=>{t=!1},u=()=>D1.isFocused()&&(e.networkMode==="always"||a0.isOnline())&&e.canRun(),d=()=>eC(e.networkMode)&&e.canRun(),f=p=>{var g;n||(n=!0,(g=e.onSuccess)==null||g.call(e,p),a==null||a(),s.resolve(p))},h=p=>{var g;n||(n=!0,(g=e.onError)==null||g.call(e,p),a==null||a(),s.reject(p))},m=()=>new Promise(p=>{var g;a=y=>{(n||u())&&p(y)},(g=e.onPause)==null||g.call(e)}).then(()=>{var p;a=void 0,n||(p=e.onContinue)==null||p.call(e)}),v=()=>{if(n)return;let p;const g=r===0?e.initialPromise:void 0;try{p=g??e.fn()}catch(y){p=Promise.reject(y)}Promise.resolve(p).then(f).catch(y=>{var b;if(n)return;const E=e.retry??(ec?0:3),w=e.retryDelay??sL,_=typeof w=="function"?w(r,y):w,T=E===!0||typeof E=="number"&&r<E||typeof E=="function"&&E(r,y);if(t||!T){h(y);return}r++,(b=e.onFail)==null||b.call(e,r,y),eL(_).then(()=>u()?void 0:m()).then(()=>{t?h(y):v()})})};return{promise:s,cancel:i,continue:()=>(a==null||a(),s),cancelRetry:o,continueRetry:l,canStart:d,start:()=>(d()?v():m().then(v),s)}}var iL=e=>setTimeout(e,0);function oL(){let e=[],t=0,r=o=>{o()},n=o=>{o()},a=iL;const s=o=>{t?e.push(o):a(()=>{r(o)})},i=()=>{const o=e;e=[],o.length&&a(()=>{n(()=>{o.forEach(l=>{r(l)})})})};return{batch:o=>{let l;t++;try{l=o()}finally{t--,t||i()}return l},batchCalls:o=>(...l)=>{s(()=>{o(...l)})},schedule:s,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{a=o}}}var ur=oL(),Oo,ob,nC=(ob=class{constructor(){Me(this,Oo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ev(this.gcTime)&&je(this,Oo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ec?1/0:5*60*1e3))}clearGcTimeout(){te(this,Oo)&&(clearTimeout(te(this,Oo)),je(this,Oo,void 0))}},Oo=new WeakMap,ob),_l,Fo,fa,Do,Fr,Wd,Mo,La,Os,cb,cL=(cb=class extends nC{constructor(t){super();Me(this,La);Me(this,_l);Me(this,Fo);Me(this,fa);Me(this,Do);Me(this,Fr);Me(this,Wd);Me(this,Mo);je(this,Mo,!1),je(this,Wd,t.defaultOptions),this.setOptions(t.options),this.observers=[],je(this,Do,t.client),je(this,fa,te(this,Do).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,je(this,_l,lL(this.options)),this.state=t.state??te(this,_l),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=te(this,Fr))==null?void 0:t.promise}setOptions(t){this.options={...te(this,Wd),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&te(this,fa).remove(this)}setData(t,r){const n=Sv(this.state.data,t,this.options);return Xe(this,La,Os).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Xe(this,La,Os).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=te(this,Fr))==null?void 0:n.promise;return(a=te(this,Fr))==null||a.cancel(t),r?r.then(tn).catch(tn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(te(this,_l))}isActive(){return this.observers.some(t=>ha(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===F1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Gi(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Xk(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=te(this,Fr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=te(this,Fr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),te(this,fa).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(te(this,Fr)&&(te(this,Mo)?te(this,Fr).cancel({revert:!0}):te(this,Fr).cancelRetry()),this.scheduleGc()),te(this,fa).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Xe(this,La,Os).call(this,{type:"invalidate"})}fetch(t,r){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(te(this,Fr))return te(this,Fr).continueRetry(),te(this,Fr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(je(this,Mo,!0),n.signal)})},s=()=>{const h=Zk(this.options,r),v=(()=>{const p={client:te(this,Do),queryKey:this.queryKey,meta:this.meta};return a(p),p})();return je(this,Mo,!1),this.options.persister?this.options.persister(h,v,this):h(v)},o=(()=>{const h={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:te(this,Do),state:this.state,fetchFn:s};return a(h),h})();(u=this.options.behavior)==null||u.onFetch(o,this),je(this,Fo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&Xe(this,La,Os).call(this,{type:"fetch",meta:(f=o.fetchOptions)==null?void 0:f.meta});const l=h=>{var m,v,p,g;hp(h)&&h.silent||Xe(this,La,Os).call(this,{type:"error",error:h}),hp(h)||((v=(m=te(this,fa).config).onError)==null||v.call(m,h,this),(g=(p=te(this,fa).config).onSettled)==null||g.call(p,this.state.data,h,this)),this.scheduleGc()};return je(this,Fr,rC({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var m,v,p,g;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(y){l(y);return}(v=(m=te(this,fa).config).onSuccess)==null||v.call(m,h,this),(g=(p=te(this,fa).config).onSettled)==null||g.call(p,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,m)=>{Xe(this,La,Os).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{Xe(this,La,Os).call(this,{type:"pause"})},onContinue:()=>{Xe(this,La,Os).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),te(this,Fr).start()}},_l=new WeakMap,Fo=new WeakMap,fa=new WeakMap,Do=new WeakMap,Fr=new WeakMap,Wd=new WeakMap,Mo=new WeakMap,La=new WeakSet,Os=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...aC(n.data,this.options),fetchMeta:t.meta??null};case"success":return je(this,Fo,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return hp(a)&&a.revert&&te(this,Fo)?{...te(this,Fo),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),ur.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),te(this,fa).notify({query:this,type:"updated",action:t})})},cb);function aC(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:eC(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function lL(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var us,lb,uL=(lb=class extends tu{constructor(t={}){super();Me(this,us);this.config=t,je(this,us,new Map)}build(t,r,n){const a=r.queryKey,s=r.queryHash??O1(a,r);let i=this.get(s);return i||(i=new cL({client:t,queryKey:a,queryHash:s,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(i)),i}add(t){te(this,us).has(t.queryHash)||(te(this,us).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=te(this,us).get(t.queryHash);r&&(t.destroy(),r===t&&te(this,us).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ur.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return te(this,us).get(t)}getAll(){return[...te(this,us).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>$E(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>$E(t,n)):r}notify(t){ur.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){ur.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ur.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},us=new WeakMap,lb),ds,Zr,Lo,fs,fi,ub,dL=(ub=class extends nC{constructor(t){super();Me(this,fs);Me(this,ds);Me(this,Zr);Me(this,Lo);this.mutationId=t.mutationId,je(this,Zr,t.mutationCache),je(this,ds,[]),this.state=t.state||sC(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){te(this,ds).includes(t)||(te(this,ds).push(t),this.clearGcTimeout(),te(this,Zr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){je(this,ds,te(this,ds).filter(r=>r!==t)),this.scheduleGc(),te(this,Zr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){te(this,ds).length||(this.state.status==="pending"?this.scheduleGc():te(this,Zr).remove(this))}continue(){var t;return((t=te(this,Lo))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,i,o,l,u,d,f,h,m,v,p,g,y,E,w,_,T,b,S,k;const r=()=>{Xe(this,fs,fi).call(this,{type:"continue"})};je(this,Lo,rC({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(A,j)=>{Xe(this,fs,fi).call(this,{type:"failed",failureCount:A,error:j})},onPause:()=>{Xe(this,fs,fi).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>te(this,Zr).canRun(this)}));const n=this.state.status==="pending",a=!te(this,Lo).canStart();try{if(n)r();else{Xe(this,fs,fi).call(this,{type:"pending",variables:t,isPaused:a}),await((i=(s=te(this,Zr).config).onMutate)==null?void 0:i.call(s,t,this));const j=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));j!==this.state.context&&Xe(this,fs,fi).call(this,{type:"pending",context:j,variables:t,isPaused:a})}const A=await te(this,Lo).start();return await((d=(u=te(this,Zr).config).onSuccess)==null?void 0:d.call(u,A,t,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,A,t,this.state.context)),await((v=(m=te(this,Zr).config).onSettled)==null?void 0:v.call(m,A,null,this.state.variables,this.state.context,this)),await((g=(p=this.options).onSettled)==null?void 0:g.call(p,A,null,t,this.state.context)),Xe(this,fs,fi).call(this,{type:"success",data:A}),A}catch(A){try{throw await((E=(y=te(this,Zr).config).onError)==null?void 0:E.call(y,A,t,this.state.context,this)),await((_=(w=this.options).onError)==null?void 0:_.call(w,A,t,this.state.context)),await((b=(T=te(this,Zr).config).onSettled)==null?void 0:b.call(T,void 0,A,this.state.variables,this.state.context,this)),await((k=(S=this.options).onSettled)==null?void 0:k.call(S,void 0,A,t,this.state.context)),A}finally{Xe(this,fs,fi).call(this,{type:"error",error:A})}}finally{te(this,Zr).runNext(this)}}},ds=new WeakMap,Zr=new WeakMap,Lo=new WeakMap,fs=new WeakSet,fi=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ur.batch(()=>{te(this,ds).forEach(n=>{n.onMutationUpdate(t)}),te(this,Zr).notify({mutation:this,type:"updated",action:t})})},ub);function sC(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Us,Ua,Hd,db,fL=(db=class extends tu{constructor(t={}){super();Me(this,Us);Me(this,Ua);Me(this,Hd);this.config=t,je(this,Us,new Set),je(this,Ua,new Map),je(this,Hd,0)}build(t,r,n){const a=new dL({mutationCache:this,mutationId:++vf(this,Hd)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){te(this,Us).add(t);const r=Bf(t);if(typeof r=="string"){const n=te(this,Ua).get(r);n?n.push(t):te(this,Ua).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(te(this,Us).delete(t)){const r=Bf(t);if(typeof r=="string"){const n=te(this,Ua).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&te(this,Ua).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Bf(t);if(typeof r=="string"){const n=te(this,Ua).get(r),a=n==null?void 0:n.find(s=>s.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=Bf(t);if(typeof r=="string"){const a=(n=te(this,Ua).get(r))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ur.batch(()=>{te(this,Us).forEach(t=>{this.notify({type:"removed",mutation:t})}),te(this,Us).clear(),te(this,Ua).clear()})}getAll(){return Array.from(te(this,Us))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>zE(r,n))}findAll(t={}){return this.getAll().filter(r=>zE(t,r))}notify(t){ur.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return ur.batch(()=>Promise.all(t.map(r=>r.continue().catch(tn))))}},Us=new WeakMap,Ua=new WeakMap,Hd=new WeakMap,db);function Bf(e){var t;return(t=e.options.scope)==null?void 0:t.id}function HE(e){return{onFetch:(t,r)=>{var d,f,h,m,v;const n=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((m=t.state.data)==null?void 0:m.pages)||[],i=((v=t.state.data)==null?void 0:v.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const u=async()=>{let p=!1;const g=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},y=Zk(t.options,t.fetchOptions),E=async(w,_,T)=>{if(p)return Promise.reject();if(_==null&&w.pages.length)return Promise.resolve(w);const S=(()=>{const I={client:t.client,queryKey:t.queryKey,pageParam:_,direction:T?"backward":"forward",meta:t.options.meta};return g(I),I})(),k=await y(S),{maxPages:A}=t.options,j=T?rL:tL;return{pages:j(w.pages,k,A),pageParams:j(w.pageParams,_,A)}};if(a&&s.length){const w=a==="backward",_=w?hL:GE,T={pages:s,pageParams:i},b=_(n,T);o=await E(T,b,w)}else{const w=e??s.length;do{const _=l===0?i[0]??n.initialPageParam:GE(n,o);if(l>0&&_==null)break;o=await E(o,_),l++}while(l<w)}return o};t.options.persister?t.fetchFn=()=>{var p,g;return(g=(p=t.options).persister)==null?void 0:g.call(p,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function GE(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function hL(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var zt,Ti,ki,Sl,bl,Ci,Tl,kl,fb,mL=(fb=class{constructor(e={}){Me(this,zt);Me(this,Ti);Me(this,ki);Me(this,Sl);Me(this,bl);Me(this,Ci);Me(this,Tl);Me(this,kl);je(this,zt,e.queryCache||new uL),je(this,Ti,e.mutationCache||new fL),je(this,ki,e.defaultOptions||{}),je(this,Sl,new Map),je(this,bl,new Map),je(this,Ci,0)}mount(){vf(this,Ci)._++,te(this,Ci)===1&&(je(this,Tl,D1.subscribe(async e=>{e&&(await this.resumePausedMutations(),te(this,zt).onFocus())})),je(this,kl,a0.subscribe(async e=>{e&&(await this.resumePausedMutations(),te(this,zt).onOnline())})))}unmount(){var e,t;vf(this,Ci)._--,te(this,Ci)===0&&((e=te(this,Tl))==null||e.call(this),je(this,Tl,void 0),(t=te(this,kl))==null||t.call(this),je(this,kl,void 0))}isFetching(e){return te(this,zt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return te(this,Ti).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=te(this,zt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=te(this,zt).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Gi(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return te(this,zt).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=te(this,zt).get(n.queryHash),s=a==null?void 0:a.state.data,i=QM(t,s);if(i!==void 0)return te(this,zt).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return ur.batch(()=>te(this,zt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=te(this,zt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=te(this,zt);ur.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=te(this,zt);return ur.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=ur.batch(()=>te(this,zt).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(tn).catch(tn)}invalidateQueries(e,t={}){return ur.batch(()=>(te(this,zt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=ur.batch(()=>te(this,zt).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let s=a.fetch(void 0,r);return r.throwOnError||(s=s.catch(tn)),a.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(tn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=te(this,zt).build(this,t);return r.isStaleByTime(Gi(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(tn).catch(tn)}fetchInfiniteQuery(e){return e.behavior=HE(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(tn).catch(tn)}ensureInfiniteQueryData(e){return e.behavior=HE(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return a0.isOnline()?te(this,Ti).resumePausedMutations():Promise.resolve()}getQueryCache(){return te(this,zt)}getMutationCache(){return te(this,Ti)}getDefaultOptions(){return te(this,ki)}setDefaultOptions(e){je(this,ki,e)}setQueryDefaults(e,t){te(this,Sl).set(tc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...te(this,Sl).values()],r={};return t.forEach(n=>{jd(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){te(this,bl).set(tc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...te(this,bl).values()],r={};return t.forEach(n=>{jd(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...te(this,ki).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=O1(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===F1&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...te(this,ki).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){te(this,zt).clear(),te(this,Ti).clear()}},zt=new WeakMap,Ti=new WeakMap,ki=new WeakMap,Sl=new WeakMap,bl=new WeakMap,Ci=new WeakMap,Tl=new WeakMap,kl=new WeakMap,fb),xn,tt,Gd,Qr,Uo,Cl,Ai,ji,qd,Al,jl,Bo,$o,Ni,Nl,dt,Fu,Tv,kv,Cv,Av,jv,Nv,Iv,iC,hb,pL=(hb=class extends tu{constructor(t,r){super();Me(this,dt);Me(this,xn);Me(this,tt);Me(this,Gd);Me(this,Qr);Me(this,Uo);Me(this,Cl);Me(this,Ai);Me(this,ji);Me(this,qd);Me(this,Al);Me(this,jl);Me(this,Bo);Me(this,$o);Me(this,Ni);Me(this,Nl,new Set);this.options=r,je(this,xn,t),je(this,ji,null),je(this,Ai,bv()),this.options.experimental_prefetchInRender||te(this,Ai).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(te(this,tt).addObserver(this),qE(te(this,tt),this.options)?Xe(this,dt,Fu).call(this):this.updateResult(),Xe(this,dt,Av).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Rv(te(this,tt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Rv(te(this,tt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Xe(this,dt,jv).call(this),Xe(this,dt,Nv).call(this),te(this,tt).removeObserver(this)}setOptions(t){const r=this.options,n=te(this,tt);if(this.options=te(this,xn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ha(this.options.enabled,te(this,tt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Xe(this,dt,Iv).call(this),te(this,tt).setOptions(this.options),r._defaulted&&!n0(this.options,r)&&te(this,xn).getQueryCache().notify({type:"observerOptionsUpdated",query:te(this,tt),observer:this});const a=this.hasListeners();a&&JE(te(this,tt),n,this.options,r)&&Xe(this,dt,Fu).call(this),this.updateResult(),a&&(te(this,tt)!==n||ha(this.options.enabled,te(this,tt))!==ha(r.enabled,te(this,tt))||Gi(this.options.staleTime,te(this,tt))!==Gi(r.staleTime,te(this,tt)))&&Xe(this,dt,Tv).call(this);const s=Xe(this,dt,kv).call(this);a&&(te(this,tt)!==n||ha(this.options.enabled,te(this,tt))!==ha(r.enabled,te(this,tt))||s!==te(this,Ni))&&Xe(this,dt,Cv).call(this,s)}getOptimisticResult(t){const r=te(this,xn).getQueryCache().build(te(this,xn),t),n=this.createResult(r,t);return vL(this,n)&&(je(this,Qr,n),je(this,Cl,this.options),je(this,Uo,te(this,tt).state)),n}getCurrentResult(){return te(this,Qr)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),Reflect.get(n,a))})}trackProp(t){te(this,Nl).add(t)}getCurrentQuery(){return te(this,tt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=te(this,xn).defaultQueryOptions(t),n=te(this,xn).getQueryCache().build(te(this,xn),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Xe(this,dt,Fu).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),te(this,Qr)))}createResult(t,r){var A;const n=te(this,tt),a=this.options,s=te(this,Qr),i=te(this,Uo),o=te(this,Cl),u=t!==n?t.state:te(this,Gd),{state:d}=t;let f={...d},h=!1,m;if(r._optimisticResults){const j=this.hasListeners(),I=!j&&qE(t,r),N=j&&JE(t,n,r,a);(I||N)&&(f={...f,...aC(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:p,status:g}=f;m=f.data;let y=!1;if(r.placeholderData!==void 0&&m===void 0&&g==="pending"){let j;s!=null&&s.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(j=s.data,y=!0):j=typeof r.placeholderData=="function"?r.placeholderData((A=te(this,jl))==null?void 0:A.state.data,te(this,jl)):r.placeholderData,j!==void 0&&(g="success",m=Sv(s==null?void 0:s.data,j,r),h=!0)}if(r.select&&m!==void 0&&!y)if(s&&m===(i==null?void 0:i.data)&&r.select===te(this,qd))m=te(this,Al);else try{je(this,qd,r.select),m=r.select(m),m=Sv(s==null?void 0:s.data,m,r),je(this,Al,m),je(this,ji,null)}catch(j){je(this,ji,j)}te(this,ji)&&(v=te(this,ji),m=te(this,Al),p=Date.now(),g="error");const E=f.fetchStatus==="fetching",w=g==="pending",_=g==="error",T=w&&E,b=m!==void 0,k={status:g,fetchStatus:f.fetchStatus,isPending:w,isSuccess:g==="success",isError:_,isInitialLoading:T,isLoading:T,data:m,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:E,isRefetching:E&&!w,isLoadingError:_&&!b,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:_&&b,isStale:M1(t,r),refetch:this.refetch,promise:te(this,Ai),isEnabled:ha(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const j=W=>{k.status==="error"?W.reject(k.error):k.data!==void 0&&W.resolve(k.data)},I=()=>{const W=je(this,Ai,k.promise=bv());j(W)},N=te(this,Ai);switch(N.status){case"pending":t.queryHash===n.queryHash&&j(N);break;case"fulfilled":(k.status==="error"||k.data!==N.value)&&I();break;case"rejected":(k.status!=="error"||k.error!==N.reason)&&I();break}}return k}updateResult(){const t=te(this,Qr),r=this.createResult(te(this,tt),this.options);if(je(this,Uo,te(this,tt).state),je(this,Cl,this.options),te(this,Uo).data!==void 0&&je(this,jl,te(this,tt)),n0(r,t))return;je(this,Qr,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,s=typeof a=="function"?a():a;if(s==="all"||!s&&!te(this,Nl).size)return!0;const i=new Set(s??te(this,Nl));return this.options.throwOnError&&i.add("error"),Object.keys(te(this,Qr)).some(o=>{const l=o;return te(this,Qr)[l]!==t[l]&&i.has(l)})};Xe(this,dt,iC).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Xe(this,dt,Av).call(this)}},xn=new WeakMap,tt=new WeakMap,Gd=new WeakMap,Qr=new WeakMap,Uo=new WeakMap,Cl=new WeakMap,Ai=new WeakMap,ji=new WeakMap,qd=new WeakMap,Al=new WeakMap,jl=new WeakMap,Bo=new WeakMap,$o=new WeakMap,Ni=new WeakMap,Nl=new WeakMap,dt=new WeakSet,Fu=function(t){Xe(this,dt,Iv).call(this);let r=te(this,tt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(tn)),r},Tv=function(){Xe(this,dt,jv).call(this);const t=Gi(this.options.staleTime,te(this,tt));if(ec||te(this,Qr).isStale||!Ev(t))return;const n=Xk(te(this,Qr).dataUpdatedAt,t)+1;je(this,Bo,setTimeout(()=>{te(this,Qr).isStale||this.updateResult()},n))},kv=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(te(this,tt)):this.options.refetchInterval)??!1},Cv=function(t){Xe(this,dt,Nv).call(this),je(this,Ni,t),!(ec||ha(this.options.enabled,te(this,tt))===!1||!Ev(te(this,Ni))||te(this,Ni)===0)&&je(this,$o,setInterval(()=>{(this.options.refetchIntervalInBackground||D1.isFocused())&&Xe(this,dt,Fu).call(this)},te(this,Ni)))},Av=function(){Xe(this,dt,Tv).call(this),Xe(this,dt,Cv).call(this,Xe(this,dt,kv).call(this))},jv=function(){te(this,Bo)&&(clearTimeout(te(this,Bo)),je(this,Bo,void 0))},Nv=function(){te(this,$o)&&(clearInterval(te(this,$o)),je(this,$o,void 0))},Iv=function(){const t=te(this,xn).getQueryCache().build(te(this,xn),this.options);if(t===te(this,tt))return;const r=te(this,tt);je(this,tt,t),je(this,Gd,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},iC=function(t){ur.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(te(this,Qr))}),te(this,xn).getQueryCache().notify({query:te(this,tt),type:"observerResultsUpdated"})})},hb);function gL(e,t){return ha(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function qE(e,t){return gL(e,t)||e.state.data!==void 0&&Rv(e,t,t.refetchOnMount)}function Rv(e,t,r){if(ha(t.enabled,e)!==!1&&Gi(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&M1(e,t)}return!1}function JE(e,t,r,n){return(e!==t||ha(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&M1(e,r)}function M1(e,t){return ha(t.enabled,e)!==!1&&e.isStaleByTime(Gi(t.staleTime,e))}function vL(e,t){return!n0(e.getCurrentResult(),t)}var Ii,Ri,yn,Bs,qs,bh,Pv,mb,xL=(mb=class extends tu{constructor(r,n){super();Me(this,qs);Me(this,Ii);Me(this,Ri);Me(this,yn);Me(this,Bs);je(this,Ii,r),this.setOptions(n),this.bindMethods(),Xe(this,qs,bh).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=te(this,Ii).defaultMutationOptions(r),n0(this.options,n)||te(this,Ii).getMutationCache().notify({type:"observerOptionsUpdated",mutation:te(this,yn),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&tc(n.mutationKey)!==tc(this.options.mutationKey)?this.reset():((a=te(this,yn))==null?void 0:a.state.status)==="pending"&&te(this,yn).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=te(this,yn))==null||r.removeObserver(this)}onMutationUpdate(r){Xe(this,qs,bh).call(this),Xe(this,qs,Pv).call(this,r)}getCurrentResult(){return te(this,Ri)}reset(){var r;(r=te(this,yn))==null||r.removeObserver(this),je(this,yn,void 0),Xe(this,qs,bh).call(this),Xe(this,qs,Pv).call(this)}mutate(r,n){var a;return je(this,Bs,n),(a=te(this,yn))==null||a.removeObserver(this),je(this,yn,te(this,Ii).getMutationCache().build(te(this,Ii),this.options)),te(this,yn).addObserver(this),te(this,yn).execute(r)}},Ii=new WeakMap,Ri=new WeakMap,yn=new WeakMap,Bs=new WeakMap,qs=new WeakSet,bh=function(){var n;const r=((n=te(this,yn))==null?void 0:n.state)??sC();je(this,Ri,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Pv=function(r){ur.batch(()=>{var n,a,s,i,o,l,u,d;if(te(this,Bs)&&this.hasListeners()){const f=te(this,Ri).variables,h=te(this,Ri).context;(r==null?void 0:r.type)==="success"?((a=(n=te(this,Bs)).onSuccess)==null||a.call(n,r.data,f,h),(i=(s=te(this,Bs)).onSettled)==null||i.call(s,r.data,null,f,h)):(r==null?void 0:r.type)==="error"&&((l=(o=te(this,Bs)).onError)==null||l.call(o,r.error,f,h),(d=(u=te(this,Bs)).onSettled)==null||d.call(u,void 0,r.error,f,h))}this.listeners.forEach(f=>{f(te(this,Ri))})})},mb),oC=x.createContext(void 0),bt=e=>{const t=x.useContext(oC);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},yL=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),c.jsx(oC.Provider,{value:e,children:t})),cC=x.createContext(!1),wL=()=>x.useContext(cC);cC.Provider;function EL(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var _L=x.createContext(EL()),SL=()=>x.useContext(_L),bL=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},TL=e=>{x.useEffect(()=>{e.clearReset()},[e])},kL=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||Qk(r,[e.error,n])),CL=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},AL=(e,t)=>e.isLoading&&e.isFetching&&!t,jL=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,KE=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function NL(e,t,r){var f,h,m,v,p;const n=wL(),a=SL(),s=bt(),i=s.defaultQueryOptions(e);(h=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,i),i._optimisticResults=n?"isRestoring":"optimistic",CL(i),bL(i,a),TL(a);const o=!s.getQueryCache().get(i.queryHash),[l]=x.useState(()=>new t(s,i)),u=l.getOptimisticResult(i),d=!n&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(g=>{const y=d?l.subscribe(ur.batchCalls(g)):tn;return l.updateResult(),y},[l,d]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),x.useEffect(()=>{l.setOptions(i)},[i,l]),jL(i,u))throw KE(i,l,a);if(kL({result:u,errorResetBoundary:a,throwOnError:i.throwOnError,query:s.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw u.error;if((v=(m=s.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||v.call(m,i,u),i.experimental_prefetchInRender&&!ec&&AL(u,n)){const g=o?KE(i,l,a):(p=s.getQueryCache().get(i.queryHash))==null?void 0:p.promise;g==null||g.catch(tn).finally(()=>{l.updateResult()})}return i.notifyOnChangeProps?u:l.trackResult(u)}function Tt(e,t){return NL(e,pL)}function ot(e,t){const r=bt(),[n]=x.useState(()=>new xL(r,e));x.useEffect(()=>{n.setOptions(e)},[n,e]);const a=x.useSyncExternalStore(x.useCallback(i=>n.subscribe(ur.batchCalls(i)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=x.useCallback((i,o)=>{n.mutate(i,o).catch(tn)},[n]);if(a.error&&Qk(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:s,mutateAsync:a.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nd(){return Nd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nd.apply(this,arguments)}var Fi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Fi||(Fi={}));const XE="popstate";function IL(e){e===void 0&&(e={});function t(n,a){let{pathname:s,search:i,hash:o}=n.location;return Ov("",{pathname:s,search:i,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:s0(a)}return PL(t,r,null,e)}function Yt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function lC(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function RL(){return Math.random().toString(36).substr(2,8)}function YE(e,t){return{usr:e.state,key:e.key,idx:t}}function Ov(e,t,r,n){return r===void 0&&(r=null),Nd({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ru(t):t,{state:r,key:t&&t.key||n||RL()})}function s0(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ru(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function PL(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:s=!1}=n,i=a.history,o=Fi.Pop,l=null,u=d();u==null&&(u=0,i.replaceState(Nd({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){o=Fi.Pop;let g=d(),y=g==null?null:g-u;u=g,l&&l({action:o,location:p.location,delta:y})}function h(g,y){o=Fi.Push;let E=Ov(p.location,g,y);u=d()+1;let w=YE(E,u),_=p.createHref(E);try{i.pushState(w,"",_)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;a.location.assign(_)}s&&l&&l({action:o,location:p.location,delta:1})}function m(g,y){o=Fi.Replace;let E=Ov(p.location,g,y);u=d();let w=YE(E,u),_=p.createHref(E);i.replaceState(w,"",_),s&&l&&l({action:o,location:p.location,delta:0})}function v(g){let y=a.location.origin!=="null"?a.location.origin:a.location.href,E=typeof g=="string"?g:s0(g);return E=E.replace(/ $/,"%20"),Yt(y,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,y)}let p={get action(){return o},get location(){return e(a,i)},listen(g){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(XE,f),l=g,()=>{a.removeEventListener(XE,f),l=null}},createHref(g){return t(a,g)},createURL:v,encodeLocation(g){let y=v(g);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:m,go(g){return i.go(g)}};return p}var ZE;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ZE||(ZE={}));function OL(e,t,r){return r===void 0&&(r="/"),FL(e,t,r,!1)}function FL(e,t,r,n){let a=typeof t=="string"?ru(t):t,s=L1(a.pathname||"/",r);if(s==null)return null;let i=uC(e);DL(i);let o=null;for(let l=0;o==null&&l<i.length;++l){let u=qL(s);o=HL(i[l],u,n)}return o}function uC(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(s,i,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:i,route:s};l.relativePath.startsWith("/")&&(Yt(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=qi([n,l.relativePath]),d=r.concat(l);s.children&&s.children.length>0&&(Yt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),uC(s.children,t,d,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:VL(u,s.index),routesMeta:d})};return e.forEach((s,i)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))a(s,i);else for(let l of dC(s.path))a(s,i,l)}),t}function dC(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let i=dC(n.join("/")),o=[];return o.push(...i.map(l=>l===""?s:[s,l].join("/"))),a&&o.push(...i),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function DL(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:WL(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const ML=/^:[\w-]+$/,LL=3,UL=2,BL=1,$L=10,zL=-2,QE=e=>e==="*";function VL(e,t){let r=e.split("/"),n=r.length;return r.some(QE)&&(n+=zL),t&&(n+=UL),r.filter(a=>!QE(a)).reduce((a,s)=>a+(ML.test(s)?LL:s===""?BL:$L),n)}function WL(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function HL(e,t,r){let{routesMeta:n}=e,a={},s="/",i=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=e_({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=e_({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),i.push({params:a,pathname:qi([s,f.pathname]),pathnameBase:YL(qi([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=qi([s,f.pathnameBase]))}return i}function e_(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=GL(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let p=o[f]||"";i=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}const v=o[f];return m&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:i,pattern:e}}function GL(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),lC(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function qL(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return lC(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function L1(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function JL(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?ru(e):e;return{pathname:r?r.startsWith("/")?r:KL(r,t):t,search:ZL(n),hash:QL(a)}}function KL(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function mp(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function XL(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function U1(e,t){let r=XL(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function B1(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=ru(e):(a=Nd({},e),Yt(!a.pathname||!a.pathname.includes("?"),mp("?","pathname","search",a)),Yt(!a.pathname||!a.pathname.includes("#"),mp("#","pathname","hash",a)),Yt(!a.search||!a.search.includes("#"),mp("#","search","hash",a)));let s=e===""||a.pathname==="",i=s?"/":a.pathname,o;if(i==null)o=r;else{let f=t.length-1;if(!n&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}o=f>=0?t[f]:"/"}let l=JL(a,o),u=i&&i!=="/"&&i.endsWith("/"),d=(s||i===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const qi=e=>e.join("/").replace(/\/\/+/g,"/"),YL=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ZL=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,QL=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function e5(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const fC=["post","put","patch","delete"];new Set(fC);const t5=["get",...fC];new Set(t5);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Id(){return Id=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Id.apply(this,arguments)}const $1=x.createContext(null),r5=x.createContext(null),oo=x.createContext(null),tm=x.createContext(null),co=x.createContext({outlet:null,matches:[],isDataRoute:!1}),hC=x.createContext(null);function n5(e,t){let{relative:r}=t===void 0?{}:t;nu()||Yt(!1);let{basename:n,navigator:a}=x.useContext(oo),{hash:s,pathname:i,search:o}=pC(e,{relative:r}),l=i;return n!=="/"&&(l=i==="/"?n:qi([n,i])),a.createHref({pathname:l,search:o,hash:s})}function nu(){return x.useContext(tm)!=null}function au(){return nu()||Yt(!1),x.useContext(tm).location}function mC(e){x.useContext(oo).static||x.useLayoutEffect(e)}function rf(){let{isDataRoute:e}=x.useContext(co);return e?g5():a5()}function a5(){nu()||Yt(!1);let e=x.useContext($1),{basename:t,future:r,navigator:n}=x.useContext(oo),{matches:a}=x.useContext(co),{pathname:s}=au(),i=JSON.stringify(U1(a,r.v7_relativeSplatPath)),o=x.useRef(!1);return mC(()=>{o.current=!0}),x.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=B1(u,JSON.parse(i),s,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:qi([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,i,s,e])}function pC(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=x.useContext(oo),{matches:a}=x.useContext(co),{pathname:s}=au(),i=JSON.stringify(U1(a,n.v7_relativeSplatPath));return x.useMemo(()=>B1(e,JSON.parse(i),s,r==="path"),[e,i,s,r])}function s5(e,t){return i5(e,t)}function i5(e,t,r,n){nu()||Yt(!1);let{navigator:a}=x.useContext(oo),{matches:s}=x.useContext(co),i=s[s.length-1],o=i?i.params:{};i&&i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let u=au(),d;if(t){var f;let g=typeof t=="string"?ru(t):t;l==="/"||(f=g.pathname)!=null&&f.startsWith(l)||Yt(!1),d=g}else d=u;let h=d.pathname||"/",m=h;if(l!=="/"){let g=l.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(g.length).join("/")}let v=OL(e,{pathname:m}),p=d5(v&&v.map(g=>Object.assign({},g,{params:Object.assign({},o,g.params),pathname:qi([l,a.encodeLocation?a.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?l:qi([l,a.encodeLocation?a.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),s,r,n);return t&&p?x.createElement(tm.Provider,{value:{location:Id({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Fi.Pop}},p):p}function o5(){let e=p5(),t=e5(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:a},r):null,null)}const c5=x.createElement(o5,null);class l5 extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?x.createElement(co.Provider,{value:this.props.routeContext},x.createElement(hC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function u5(e){let{routeContext:t,match:r,children:n}=e,a=x.useContext($1);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(co.Provider,{value:t},n)}function d5(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,o=(a=r)==null?void 0:a.errors;if(o!=null){let d=i.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||Yt(!1),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,v=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||v){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,h)=>{let m,v=!1,p=null,g=null;r&&(m=o&&f.route.id?o[f.route.id]:void 0,p=f.route.errorElement||c5,l&&(u<0&&h===0?(v=!0,g=null):u===h&&(v=!0,g=f.route.hydrateFallbackElement||null)));let y=t.concat(i.slice(0,h+1)),E=()=>{let w;return m?w=p:v?w=g:f.route.Component?w=x.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,x.createElement(u5,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?x.createElement(l5,{location:r.location,revalidation:r.revalidation,component:p,error:m,children:E(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):E()},null)}var gC=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(gC||{}),i0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(i0||{});function f5(e){let t=x.useContext($1);return t||Yt(!1),t}function h5(e){let t=x.useContext(r5);return t||Yt(!1),t}function m5(e){let t=x.useContext(co);return t||Yt(!1),t}function vC(e){let t=m5(),r=t.matches[t.matches.length-1];return r.route.id||Yt(!1),r.route.id}function p5(){var e;let t=x.useContext(hC),r=h5(i0.UseRouteError),n=vC(i0.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function g5(){let{router:e}=f5(gC.UseNavigateStable),t=vC(i0.UseNavigateStable),r=x.useRef(!1);return mC(()=>{r.current=!0}),x.useCallback(function(a,s){s===void 0&&(s={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Id({fromRouteId:t},s)))},[e,t])}function v5(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function x5(e){let{to:t,replace:r,state:n,relative:a}=e;nu()||Yt(!1);let{future:s,static:i}=x.useContext(oo),{matches:o}=x.useContext(co),{pathname:l}=au(),u=rf(),d=B1(t,U1(o,s.v7_relativeSplatPath),l,a==="path"),f=JSON.stringify(d);return x.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function hi(e){Yt(!1)}function y5(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Fi.Pop,navigator:s,static:i=!1,future:o}=e;nu()&&Yt(!1);let l=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:l,navigator:s,static:i,future:Id({v7_relativeSplatPath:!1},o)}),[l,o,s,i]);typeof n=="string"&&(n=ru(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:v="default"}=n,p=x.useMemo(()=>{let g=L1(d,l);return g==null?null:{location:{pathname:g,search:f,hash:h,state:m,key:v},navigationType:a}},[l,d,f,h,m,v,a]);return p==null?null:x.createElement(oo.Provider,{value:u},x.createElement(tm.Provider,{children:r,value:p}))}function w5(e){let{children:t,location:r}=e;return s5(Fv(t),r)}new Promise(()=>{});function Fv(e,t){t===void 0&&(t=[]);let r=[];return x.Children.forEach(e,(n,a)=>{if(!x.isValidElement(n))return;let s=[...t,a];if(n.type===x.Fragment){r.push.apply(r,Fv(n.props.children,s));return}n.type!==hi&&Yt(!1),!n.props.index||!n.props.children||Yt(!1);let i={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=Fv(n.props.children,s)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dv(){return Dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dv.apply(this,arguments)}function E5(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function _5(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function S5(e,t){return e.button===0&&(!t||t==="_self")&&!_5(e)}const b5=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],T5="6";try{window.__reactRouterVersion=T5}catch{}const k5="startTransition",t_=bx[k5];function C5(e){let{basename:t,children:r,future:n,window:a}=e,s=x.useRef();s.current==null&&(s.current=IL({window:a,v5Compat:!0}));let i=s.current,[o,l]=x.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},d=x.useCallback(f=>{u&&t_?t_(()=>l(f)):l(f)},[l,u]);return x.useLayoutEffect(()=>i.listen(d),[i,d]),x.useEffect(()=>v5(n),[n]),x.createElement(y5,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:i,future:n})}const A5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",j5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,No=x.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:s,replace:i,state:o,target:l,to:u,preventScrollReset:d,viewTransition:f}=t,h=E5(t,b5),{basename:m}=x.useContext(oo),v,p=!1;if(typeof u=="string"&&j5.test(u)&&(v=u,A5))try{let w=new URL(window.location.href),_=u.startsWith("//")?new URL(w.protocol+u):new URL(u),T=L1(_.pathname,m);_.origin===w.origin&&T!=null?u=T+_.search+_.hash:p=!0}catch{}let g=n5(u,{relative:a}),y=N5(u,{replace:i,state:o,target:l,preventScrollReset:d,relative:a,viewTransition:f});function E(w){n&&n(w),w.defaultPrevented||y(w)}return x.createElement("a",Dv({},h,{href:v||g,onClick:p||s?n:E,ref:r,target:l}))});var r_;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(r_||(r_={}));var n_;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(n_||(n_={}));function N5(e,t){let{target:r,replace:n,state:a,preventScrollReset:s,relative:i,viewTransition:o}=t===void 0?{}:t,l=rf(),u=au(),d=pC(e,{relative:i});return x.useCallback(f=>{if(S5(f,r)){f.preventDefault();let h=n!==void 0?n:s0(u)===s0(d);l(e,{replace:h,state:a,preventScrollReset:s,relative:i,viewTransition:o})}},[u,l,d,n,a,r,e,s,i,o])}var Mv=function(e,t){return Mv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},Mv(e,t)};function xC(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Mv(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var ga=function(){return ga=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},ga.apply(this,arguments)};function lo(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function yC(e,t,r,n){var a=arguments.length,s=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(s=(a<3?i(s):a>3?i(t,r,s):i(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s}function wC(e,t){return function(r,n){t(r,n,e)}}function EC(e,t,r,n,a,s){function i(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var o=n.kind,l=o==="getter"?"get":o==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),f,h=!1,m=r.length-1;m>=0;m--){var v={};for(var p in n)v[p]=p==="access"?{}:n[p];for(var p in n.access)v.access[p]=n.access[p];v.addInitializer=function(y){if(h)throw new TypeError("Cannot add initializers after decoration has completed");s.push(i(y||null))};var g=(0,r[m])(o==="accessor"?{get:d.get,set:d.set}:d[l],v);if(o==="accessor"){if(g===void 0)continue;if(g===null||typeof g!="object")throw new TypeError("Object expected");(f=i(g.get))&&(d.get=f),(f=i(g.set))&&(d.set=f),(f=i(g.init))&&a.unshift(f)}else(f=i(g))&&(o==="field"?a.unshift(f):d[l]=f)}u&&Object.defineProperty(u,n.name,d),h=!0}function _C(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function SC(e){return typeof e=="symbol"?e:"".concat(e)}function bC(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function TC(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Fe(e,t,r,n){function a(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function o(d){try{u(n.next(d))}catch(f){i(f)}}function l(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?s(d.value):a(d.value).then(o,l)}u((n=n.apply(e,t||[])).next())})}function kC(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,a,s,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function o(u){return function(d){return l([u,d])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(r=0)),r;)try{if(n=1,a&&(s=u[0]&2?a.return:u[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,u[1])).done)return s;switch(a=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],a=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var rm=Object.create?function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function CC(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&rm(t,e,r)}function o0(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function z1(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,s=[],i;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(o){i={error:o}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s}function AC(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(z1(arguments[t]));return e}function jC(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var s=arguments[t],i=0,o=s.length;i<o;i++,a++)n[a]=s[i];return n}function V1(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function $l(e){return this instanceof $l?(this.v=e,this):new $l(e)}function NC(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,s=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",i),a[Symbol.asyncIterator]=function(){return this},a;function i(m){return function(v){return Promise.resolve(v).then(m,f)}}function o(m,v){n[m]&&(a[m]=function(p){return new Promise(function(g,y){s.push([m,p,g,y])>1||l(m,p)})},v&&(a[m]=v(a[m])))}function l(m,v){try{u(n[m](v))}catch(p){h(s[0][3],p)}}function u(m){m.value instanceof $l?Promise.resolve(m.value.v).then(d,f):h(s[0][2],m)}function d(m){l("next",m)}function f(m){l("throw",m)}function h(m,v){m(v),s.shift(),s.length&&l(s[0][0],s[0][1])}}function IC(e){var t,r;return t={},n("next"),n("throw",function(a){throw a}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(a,s){t[a]=e[a]?function(i){return(r=!r)?{value:$l(e[a](i)),done:!1}:s?s(i):i}:s}}function RC(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof o0=="function"?o0(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(i){return new Promise(function(o,l){i=e[s](i),a(o,l,i.done,i.value)})}}function a(s,i,o,l){Promise.resolve(l).then(function(u){s({value:u,done:o})},i)}}function PC(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var I5=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Lv=function(e){return Lv=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Lv(e)};function OC(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Lv(e),n=0;n<r.length;n++)r[n]!=="default"&&rm(t,e,r[n]);return I5(t,e),t}function FC(e){return e&&e.__esModule?e:{default:e}}function DC(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function MC(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}function LC(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function UC(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var R5=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function BC(e){function t(s){e.error=e.hasError?new R5(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var r,n=0;function a(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(a,function(i){return t(i),a()})}else n|=1}catch(i){t(i)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function $C(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,a,s,i){return n?t?".jsx":".js":a&&(!s||!i)?r:a+s+"."+i.toLowerCase()+"js"}):e}const P5={__extends:xC,__assign:ga,__rest:lo,__decorate:yC,__param:wC,__esDecorate:EC,__runInitializers:_C,__propKey:SC,__setFunctionName:bC,__metadata:TC,__awaiter:Fe,__generator:kC,__createBinding:rm,__exportStar:CC,__values:o0,__read:z1,__spread:AC,__spreadArrays:jC,__spreadArray:V1,__await:$l,__asyncGenerator:NC,__asyncDelegator:IC,__asyncValues:RC,__makeTemplateObject:PC,__importStar:OC,__importDefault:FC,__classPrivateFieldGet:DC,__classPrivateFieldSet:MC,__classPrivateFieldIn:LC,__addDisposableResource:UC,__disposeResources:BC,__rewriteRelativeImportExtension:$C},O5=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:UC,get __assign(){return ga},__asyncDelegator:IC,__asyncGenerator:NC,__asyncValues:RC,__await:$l,__awaiter:Fe,__classPrivateFieldGet:DC,__classPrivateFieldIn:LC,__classPrivateFieldSet:MC,__createBinding:rm,__decorate:yC,__disposeResources:BC,__esDecorate:EC,__exportStar:CC,__extends:xC,__generator:kC,__importDefault:FC,__importStar:OC,__makeTemplateObject:PC,__metadata:TC,__param:wC,__propKey:SC,__read:z1,__rest:lo,__rewriteRelativeImportExtension:$C,__runInitializers:_C,__setFunctionName:bC,__spread:AC,__spreadArray:V1,__spreadArrays:jC,__values:o0,default:P5},Symbol.toStringTag,{value:"Module"})),F5="modulepreload",D5=function(e){return"/"+e},a_={},su=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=D5(l),l in a_)return;a_[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":F5,u||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return a.then(i=>{for(const o of i||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})},M5=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>su(async()=>{const{default:n}=await Promise.resolve().then(()=>hc);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class W1 extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class s_ extends W1{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class i_ extends W1{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class o_ extends W1{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Uv;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Uv||(Uv={}));class L5{constructor(t,{headers:r={},customFetch:n,region:a=Uv.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=M5(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Fe(this,arguments,void 0,function*(r,n={}){var a;try{const{headers:s,method:i,body:o,signal:l}=n;let u={},{region:d}=n;d||(d=this.region);const f=new URL(`${this.url}/${r}`);d&&d!=="any"&&(u["x-region"]=d,f.searchParams.set("forceFunctionRegion",d));let h;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",h=o):typeof o=="string"?(u["Content-Type"]="text/plain",h=o):typeof FormData<"u"&&o instanceof FormData?h=o:(u["Content-Type"]="application/json",h=JSON.stringify(o)):h=o;const m=yield this.fetch(f.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),s),body:h,signal:l}).catch(y=>{throw y.name==="AbortError"?y:new s_(y)}),v=m.headers.get("x-relay-error");if(v&&v==="true")throw new i_(m);if(!m.ok)throw new o_(m);let p=((a=m.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),g;return p==="application/json"?g=yield m.json():p==="application/octet-stream"||p==="application/pdf"?g=yield m.blob():p==="text/event-stream"?g=m:p==="multipart/form-data"?g=yield m.formData():g=yield m.text(),{data:g,error:null,response:m}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new s_(s)}:{data:null,error:s,response:s instanceof o_||s instanceof i_?s.context:void 0}}})}}var Sn={};const iu=gb(O5);var $f={},zf={},Vf={},Wf={},Hf={},U5=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},zl=U5();const B5=zl.fetch,zC=zl.fetch.bind(zl),VC=zl.Headers,$5=zl.Request,z5=zl.Response,hc=Object.freeze(Object.defineProperty({__proto__:null,Headers:VC,Request:$5,Response:z5,default:zC,fetch:B5},Symbol.toStringTag,{value:"Module"})),V5=gb(hc);var Gf={},c_;function WC(){if(c_)return Gf;c_=1,Object.defineProperty(Gf,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Gf.default=e,Gf}var l_;function HC(){if(l_)return Hf;l_=1,Object.defineProperty(Hf,"__esModule",{value:!0});const e=iu,t=e.__importDefault(V5),r=e.__importDefault(WC());class n{constructor(s){var i,o;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(o=s.isMaybeSingle)!==null&&o!==void 0?o:!1,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,f,h,m;let v=null,p=null,g=null,y=u.status,E=u.statusText;if(u.ok){if(this.method!=="HEAD"){const b=await u.text();b===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?p=b:p=JSON.parse(b))}const _=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),T=(h=u.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");_&&T&&T.length>1&&(g=parseInt(T[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(v={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,g=null,y=406,E="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const _=await u.text();try{v=JSON.parse(_),Array.isArray(v)&&u.status===404&&(p=[],v=null,y=200,E="OK")}catch{u.status===404&&_===""?(y=204,E="No Content"):v={message:_}}if(v&&this.isMaybeSingle&&(!((m=v==null?void 0:v.details)===null||m===void 0)&&m.includes("0 rows"))&&(v=null,y=200,E="OK"),v&&this.shouldThrowOnError)throw new r.default(v)}return{error:v,data:p,count:g,status:y,statusText:E}});return this.shouldThrowOnError||(l=l.catch(u=>{var d,f,h;return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(f=u==null?void 0:u.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(h=u==null?void 0:u.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),l.then(s,i)}returns(){return this}overrideTypes(){return this}}return Hf.default=n,Hf}var u_;function GC(){if(u_)return Wf;u_=1,Object.defineProperty(Wf,"__esModule",{value:!0});const t=iu.__importDefault(HC());class r extends t.default{select(a){let s=!1;const i=(a??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:s=!0,nullsFirst:i,foreignTable:o,referencedTable:l=o}={}){const u=l?`${l}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${a}.${s?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:s,referencedTable:i=s}={}){const o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${a}`),this}range(a,s,{foreignTable:i,referencedTable:o=i}={}){const l=typeof o>"u"?"offset":`${o}.offset`,u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${a}`),this.url.searchParams.set(u,`${s-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:s=!1,settings:i=!1,buffers:o=!1,wal:l=!1,format:u="text"}={}){var d;const f=[a?"analyze":null,s?"verbose":null,i?"settings":null,o?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return Wf.default=r,Wf}var d_;function H1(){if(d_)return Vf;d_=1,Object.defineProperty(Vf,"__esModule",{value:!0});const t=iu.__importDefault(GC());class r extends t.default{eq(a,s){return this.url.searchParams.append(a,`eq.${s}`),this}neq(a,s){return this.url.searchParams.append(a,`neq.${s}`),this}gt(a,s){return this.url.searchParams.append(a,`gt.${s}`),this}gte(a,s){return this.url.searchParams.append(a,`gte.${s}`),this}lt(a,s){return this.url.searchParams.append(a,`lt.${s}`),this}lte(a,s){return this.url.searchParams.append(a,`lte.${s}`),this}like(a,s){return this.url.searchParams.append(a,`like.${s}`),this}likeAllOf(a,s){return this.url.searchParams.append(a,`like(all).{${s.join(",")}}`),this}likeAnyOf(a,s){return this.url.searchParams.append(a,`like(any).{${s.join(",")}}`),this}ilike(a,s){return this.url.searchParams.append(a,`ilike.${s}`),this}ilikeAllOf(a,s){return this.url.searchParams.append(a,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(a,s){return this.url.searchParams.append(a,`ilike(any).{${s.join(",")}}`),this}is(a,s){return this.url.searchParams.append(a,`is.${s}`),this}in(a,s){const i=Array.from(new Set(s)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(a,`in.(${i})`),this}contains(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cs.{${s.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(s)}`),this}containedBy(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cd.{${s.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(s)}`),this}rangeGt(a,s){return this.url.searchParams.append(a,`sr.${s}`),this}rangeGte(a,s){return this.url.searchParams.append(a,`nxl.${s}`),this}rangeLt(a,s){return this.url.searchParams.append(a,`sl.${s}`),this}rangeLte(a,s){return this.url.searchParams.append(a,`nxr.${s}`),this}rangeAdjacent(a,s){return this.url.searchParams.append(a,`adj.${s}`),this}overlaps(a,s){return typeof s=="string"?this.url.searchParams.append(a,`ov.${s}`):this.url.searchParams.append(a,`ov.{${s.join(",")}}`),this}textSearch(a,s,{config:i,type:o}={}){let l="";o==="plain"?l="pl":o==="phrase"?l="ph":o==="websearch"&&(l="w");const u=i===void 0?"":`(${i})`;return this.url.searchParams.append(a,`${l}fts${u}.${s}`),this}match(a){return Object.entries(a).forEach(([s,i])=>{this.url.searchParams.append(s,`eq.${i}`)}),this}not(a,s,i){return this.url.searchParams.append(a,`not.${s}.${i}`),this}or(a,{foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.or`:"or";return this.url.searchParams.append(o,`(${a})`),this}filter(a,s,i){return this.url.searchParams.append(a,`${s}.${i}`),this}}return Vf.default=r,Vf}var f_;function qC(){if(f_)return zf;f_=1,Object.defineProperty(zf,"__esModule",{value:!0});const t=iu.__importDefault(H1());class r{constructor(a,{headers:s={},schema:i,fetch:o}){this.url=a,this.headers=new Headers(s),this.schema=i,this.fetch=o}select(a,s){const{head:i=!1,count:o}=s??{},l=i?"HEAD":"GET";let u=!1;const d=(a??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:s,defaultToNull:i=!0}={}){var o;const l="POST";if(s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const u=a.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(a,{onConflict:s,ignoreDuplicates:i=!1,count:o,defaultToNull:l=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(f.length>0){const h=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(a,{count:s}={}){var i;const o="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:a}={}){var s;const i="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return zf.default=r,zf}var h_;function W5(){if(h_)return $f;h_=1,Object.defineProperty($f,"__esModule",{value:!0});const e=iu,t=e.__importDefault(qC()),r=e.__importDefault(H1());class n{constructor(s,{headers:i={},schema:o,fetch:l}={}){this.url=s,this.headers=new Headers(i),this.schemaName=o,this.fetch=l}from(s){const i=new URL(`${this.url}/${s}`);return new t.default(i,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new n(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,i={},{head:o=!1,get:l=!1,count:u}={}){var d;let f;const h=new URL(`${this.url}/rpc/${s}`);let m;o||l?(f=o?"HEAD":"GET",Object.entries(i).filter(([p,g])=>g!==void 0).map(([p,g])=>[p,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([p,g])=>{h.searchParams.append(p,g)})):(f="POST",m=i);const v=new Headers(this.headers);return u&&v.set("Prefer",`count=${u}`),new r.default({method:f,url:h,headers:v,schema:this.schemaName,body:m,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return $f.default=n,$f}Object.defineProperty(Sn,"__esModule",{value:!0});Sn.PostgrestError=Sn.PostgrestBuilder=Sn.PostgrestTransformBuilder=Sn.PostgrestFilterBuilder=Sn.PostgrestQueryBuilder=Sn.PostgrestClient=void 0;const ou=iu,JC=ou.__importDefault(W5());Sn.PostgrestClient=JC.default;const KC=ou.__importDefault(qC());Sn.PostgrestQueryBuilder=KC.default;const XC=ou.__importDefault(H1());Sn.PostgrestFilterBuilder=XC.default;const YC=ou.__importDefault(GC());Sn.PostgrestTransformBuilder=YC.default;const ZC=ou.__importDefault(HC());Sn.PostgrestBuilder=ZC.default;const QC=ou.__importDefault(WC());Sn.PostgrestError=QC.default;var H5=Sn.default={PostgrestClient:JC.default,PostgrestQueryBuilder:KC.default,PostgrestFilterBuilder:XC.default,PostgrestTransformBuilder:YC.default,PostgrestBuilder:ZC.default,PostgrestError:QC.default};const{PostgrestClient:G5,PostgrestQueryBuilder:PZ,PostgrestFilterBuilder:OZ,PostgrestTransformBuilder:FZ,PostgrestBuilder:DZ,PostgrestError:MZ}=H5;class q5{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const J5="2.76.1",K5=`realtime-js/${J5}`,X5="1.0.0",Bv=1e4,Y5=1e3,Z5=100;var Zu;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Zu||(Zu={}));var or;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(or||(or={}));var $a;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})($a||($a={}));var $v;(function(e){e.websocket="websocket"})($v||($v={}));var bo;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(bo||(bo={}));class Q5{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),s=r.getUint8(2);let i=this.HEADER_LENGTH+2;const o=n.decode(t.slice(i,i+a));i=i+a;const l=n.decode(t.slice(i,i+s));i=i+s;const u=JSON.parse(n.decode(t.slice(i,t.byteLength)));return{ref:null,topic:o,event:l,payload:u}}}class eA{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Et;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Et||(Et={}));const m_=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,i)=>(s[i]=e6(i,e,t,a),s),{}):{}},e6=(e,t,r,n)=>{const a=t.find(o=>o.name===e),s=a==null?void 0:a.type,i=r[e];return s&&!n.includes(s)?tA(s,i):zv(i)},tA=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return a6(t,r)}switch(e){case Et.bool:return t6(t);case Et.float4:case Et.float8:case Et.int2:case Et.int4:case Et.int8:case Et.numeric:case Et.oid:return r6(t);case Et.json:case Et.jsonb:return n6(t);case Et.timestamp:return s6(t);case Et.abstime:case Et.date:case Et.daterange:case Et.int4range:case Et.int8range:case Et.money:case Et.reltime:case Et.text:case Et.time:case Et.timestamptz:case Et.timetz:case Et.tsrange:case Et.tstzrange:return zv(t);default:return zv(t)}},zv=e=>e,t6=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},r6=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},n6=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},a6=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const i=e.slice(1,r);try{s=JSON.parse("["+i+"]")}catch{s=i?i.split(","):[]}return s.map(o=>tA(t,o))}return e},s6=e=>typeof e=="string"?e.replace(" ","T"):e,rA=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class pp{constructor(t,r,n={},a=Bv){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var p_;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(p_||(p_={}));class Qu{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:s,onLeave:i,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Qu.syncState(this.state,a,s,i),this.pendingDiffs.forEach(l=>{this.state=Qu.syncDiff(this.state,l,s,i)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},a=>{const{onJoin:s,onLeave:i,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Qu.syncDiff(this.state,a,s,i),o())}),this.onJoin((a,s,i)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:i})}),this.onLeave((a,s,i)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const s=this.cloneDeep(t),i=this.transformState(r),o={},l={};return this.map(s,(u,d)=>{i[u]||(l[u]=d)}),this.map(i,(u,d)=>{const f=s[u];if(f){const h=d.map(g=>g.presence_ref),m=f.map(g=>g.presence_ref),v=d.filter(g=>m.indexOf(g.presence_ref)<0),p=f.filter(g=>h.indexOf(g.presence_ref)<0);v.length>0&&(o[u]=v),p.length>0&&(l[u]=p)}else o[u]=d}),this.syncDiff(s,{joins:o,leaves:l},n,a)}static syncDiff(t,r,n,a){const{joins:s,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(s,(o,l)=>{var u;const d=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(l),d.length>0){const f=t[o].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[o].unshift(...h)}n(o,d,l)}),this.map(i,(o,l)=>{let u=t[o];if(!u)return;const d=l.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[o]=u,a(o,u,l),u.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var g_;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(g_||(g_={}));var ed;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ed||(ed={}));var Ds;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ds||(Ds={}));class G1{constructor(t,r={config:{}},n){var a,s;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=or.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new pp(this,$a.join,this.params,this.timeout),this.rejoinTimer=new eA(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=or.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=or.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=or.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=or.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=or.errored,this.rejoinTimer.scheduleTimeout())}),this._on($a.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new Qu(this),this.broadcastEndpointURL=rA(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,s;if(this.socket.isConnected()||this.socket.connect(),this.state==or.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[ed.PRESENCE]&&this.bindings[ed.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,f={},h={broadcast:i,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(Ds.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Ds.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var v;if(this.socket.setAuth(),m===void 0){t==null||t(Ds.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,g=(v=p==null?void 0:p.length)!==null&&v!==void 0?v:0,y=[];for(let E=0;E<g;E++){const w=p[E],{filter:{event:_,schema:T,table:b,filter:S}}=w,k=m&&m[E];if(k&&k.event===_&&k.schema===T&&k.table===b&&k.filter===S)y.push(Object.assign(Object.assign({},w),{id:k.id}));else{this.unsubscribe(),this.state=or.errored,t==null||t(Ds.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(Ds.SUBSCRIBED);return}}).receive("error",m=>{this.state=or.errored,t==null||t(Ds.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ds.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===or.joined&&t===ed.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const i={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const u=await o.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:i}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var i,o,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(i=this.params)===null||i===void 0?void 0:i.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=or.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger($a.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new pp(this,$a.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=or.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,s=setTimeout(()=>a.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(s),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new pp(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Z5){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,s;const i=t.toLocaleLowerCase(),{close:o,error:l,leave:u,join:d}=$a;if(n&&[o,l,u,d].indexOf(i)>=0&&n!==this._joinRef())return;let h=this._onMessage(i,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var v,p,g;return((v=m.filter)===null||v===void 0?void 0:v.event)==="*"||((g=(p=m.filter)===null||p===void 0?void 0:p.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===i}).map(m=>m.callback(h,n)):(s=this.bindings[i])===null||s===void 0||s.filter(m=>{var v,p,g,y,E,w;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in m){const _=m.id,T=(v=m.filter)===null||v===void 0?void 0:v.event;return _&&((p=r.ids)===null||p===void 0?void 0:p.includes(_))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((g=r.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const _=(E=(y=m==null?void 0:m.filter)===null||y===void 0?void 0:y.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return _==="*"||_===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===i}).map(m=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:p,table:g,commit_timestamp:y,type:E,errors:w}=v;h=Object.assign(Object.assign({},{schema:p,table:g,commit_timestamp:y,eventType:E,new:{},old:{},errors:w}),this._getPayloadRecords(v))}m.callback(h,n)})}_isClosed(){return this.state===or.closed}_isJoined(){return this.state===or.joined}_isJoining(){return this.state===or.joining}_isLeaving(){return this.state===or.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),s={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&G1.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on($a.close,{},t)}_onError(t){this._on($a.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=or.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=m_(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=m_(t.columns,t.old_record)),r}}const gp=()=>{},qf={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},i6=[1e3,2e3,5e3,1e4],o6=1e4,c6=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class l6{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Bv,this.transport=null,this.heartbeatIntervalMs=qf.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=gp,this.ref=0,this.reconnectTimer=null,this.logger=gp,this.conn=null,this.sendBuffer=[],this.serializer=new Q5,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let s;return a?s=a:typeof fetch>"u"?s=(...i)=>su(async()=>{const{default:o}=await Promise.resolve().then(()=>hc);return{default:o}},void 0).then(({default:o})=>o(...i)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...i)=>s(...i)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${$v.websocket}`,this.httpEndpoint=rA(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=q5.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:X5}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Zu.connecting:return bo.Connecting;case Zu.open:return bo.Open;case Zu.closing:return bo.Closing;default:return bo.Closed}}isConnected(){return this.connectionState()===bo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(s=>s.topic===n);if(a)return a;{const s=new G1(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:a,ref:s}=t,i=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${s})`,a),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Y5,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},qf.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:s,ref:i}=r,o=i?`(${i})`:"",l=s.status||"";this.log("receive",`${l} ${n} ${a} ${o}`.trim(),s),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,s,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger($a.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([c6],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:K5};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push($a.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new eA(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},qf.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,s,i,o,l,u,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Bv,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:qf.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:gp,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:f=>i6[f-1]||o6,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,h)=>h(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class q1 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Lt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class u6 extends q1{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Vv extends q1{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const J1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>su(async()=>{const{default:n}=await Promise.resolve().then(()=>hc);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},d6=()=>Fe(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield su(()=>Promise.resolve().then(()=>hc),void 0)).Response:Response}),Wv=e=>{if(Array.isArray(e))return e.map(r=>Wv(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[a]=Wv(n)}),t},f6=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},vp=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),h6=(e,t,r)=>Fe(void 0,void 0,void 0,function*(){const n=yield d6();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const s=e.status||500,i=(a==null?void 0:a.statusCode)||s+"";t(new u6(vp(a),s,i))}).catch(a=>{t(new Vv(vp(a),a))}):t(new Vv(vp(e),e))}),m6=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(f6(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function nf(e,t,r,n,a,s){return Fe(this,void 0,void 0,function*(){return new Promise((i,o)=>{e(r,m6(t,n,a,s)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>i(l)).catch(l=>h6(l,o,n))})})}function Rd(e,t,r,n){return Fe(this,void 0,void 0,function*(){return nf(e,"GET",t,r,n)})}function Ma(e,t,r,n,a){return Fe(this,void 0,void 0,function*(){return nf(e,"POST",t,n,a,r)})}function Hv(e,t,r,n,a){return Fe(this,void 0,void 0,function*(){return nf(e,"PUT",t,n,a,r)})}function p6(e,t,r,n){return Fe(this,void 0,void 0,function*(){return nf(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function K1(e,t,r,n,a){return Fe(this,void 0,void 0,function*(){return nf(e,"DELETE",t,n,a,r)})}class g6{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return Fe(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Lt(t))return{data:null,error:t};throw t}})}}var nA;class v6{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[nA]="BlobDownloadBuilder",this.promise=null}asStream(){return new g6(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Fe(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Lt(t))return{data:null,error:t};throw t}})}}nA=Symbol.toStringTag;const x6={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},v_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class y6{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=J1(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return Fe(this,void 0,void 0,function*(){try{let s;const i=Object.assign(Object.assign({},v_),a);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const l=i.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",i.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",i.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=n,o["cache-control"]=`max-age=${i.cacheControl}`,o["content-type"]=i.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),a!=null&&a.headers&&(o=Object.assign(Object.assign({},o),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?Hv:Ma)(this.fetch,`${this.url}/object/${d}`,s,Object.assign({headers:o},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Lt(s))return{data:null,error:s};throw s}})}upload(t,r,n){return Fe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return Fe(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),i=this._getFinalPath(s),o=new URL(this.url+`/object/upload/sign/${i}`);o.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:v_.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield Hv(this.fetch,o.toString(),l,{headers:d});return{data:{path:s,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Lt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return Fe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const s=yield Ma(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),i=new URL(this.url+s.url),o=i.searchParams.get("token");if(!o)throw new q1("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Lt(n))return{data:null,error:n};throw n}})}update(t,r,n){return Fe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Fe(this,void 0,void 0,function*(){try{return{data:yield Ma(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Lt(a))return{data:null,error:a};throw a}})}copy(t,r,n){return Fe(this,void 0,void 0,function*(){try{return{data:{path:(yield Ma(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Lt(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return Fe(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),s=yield Ma(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${i}`)},{data:s,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Lt(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return Fe(this,void 0,void 0,function*(){try{const a=yield Ma(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${s}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Lt(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=s?`?${s}`:"",o=this._getFinalPath(t),l=()=>Rd(this.fetch,`${this.url}/${a}/${o}${i}`,{headers:this.headers,noResolveJson:!0});return new v6(l,this.shouldThrowOnError)}info(t){return Fe(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Rd(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Wv(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Lt(n))return{data:null,error:n};throw n}})}exists(t){return Fe(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield p6(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Lt(n)&&n instanceof Vv){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&a.push(s);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&a.push(l);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(t){return Fe(this,void 0,void 0,function*(){try{return{data:yield K1(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Lt(r))return{data:null,error:r};throw r}})}list(t,r,n){return Fe(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},x6),r),{prefix:t||""});return{data:yield Ma(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Lt(a))return{data:null,error:a};throw a}})}listV2(t,r){return Fe(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Ma(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Lt(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const aA="2.76.1",sA={"X-Client-Info":`storage-js/${aA}`};class w6{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const s=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},sA),r),this.fetch=J1(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Fe(this,void 0,void 0,function*(){try{return{data:yield Rd(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Lt(t))return{data:null,error:t};throw t}})}getBucket(t){return Fe(this,void 0,void 0,function*(){try{return{data:yield Rd(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Lt(r))return{data:null,error:r};throw r}})}createBucket(t){return Fe(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Ma(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Lt(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return Fe(this,void 0,void 0,function*(){try{return{data:yield Hv(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Lt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Fe(this,void 0,void 0,function*(){try{return{data:yield Ma(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Lt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Fe(this,void 0,void 0,function*(){try{return{data:yield K1(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Lt(r))return{data:null,error:r};throw r}})}}class E6{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},sA),r),this.fetch=J1(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Fe(this,void 0,void 0,function*(){try{return{data:yield Ma(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Lt(r))return{data:null,error:r};throw r}})}listBuckets(t){return Fe(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`,s=yield Rd(this.fetch,a,{headers:this.headers});return{data:Array.isArray(s)?s.filter(o=>o.type==="ANALYTICS"):[],error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Lt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Fe(this,void 0,void 0,function*(){try{return{data:yield K1(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Lt(r))return{data:null,error:r};throw r}})}}const X1={"X-Client-Info":`storage-js/${aA}`,"Content-Type":"application/json"};class iA extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ln(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class xp extends iA{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class _6 extends iA{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var x_;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(x_||(x_={}));const Y1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>su(async()=>{const{default:n}=await Promise.resolve().then(()=>hc);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},S6=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},y_=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),b6=(e,t,r)=>Fe(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e.status||500,s=e;if(typeof s.json=="function")s.json().then(i=>{const o=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||a+"";t(new xp(y_(i),a,o))}).catch(()=>{const i=a+"",o=s.statusText||`HTTP ${a} error`;t(new xp(o,a,i))});else{const i=a+"",o=s.statusText||`HTTP ${a} error`;t(new xp(o,a,i))}}else t(new _6(y_(e),e))}),T6=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(S6(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a};function k6(e,t,r,n,a,s){return Fe(this,void 0,void 0,function*(){return new Promise((i,o)=>{e(r,T6(t,n,a,s)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>i(l)).catch(l=>b6(l,o,n))})})}function Un(e,t,r,n,a){return Fe(this,void 0,void 0,function*(){return k6(e,"POST",t,n,a,r)})}class C6{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},X1),r),this.fetch=Y1(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Fe(this,void 0,void 0,function*(){try{return{data:(yield Un(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ln(r))return{data:null,error:r};throw r}})}getIndex(t,r){return Fe(this,void 0,void 0,function*(){try{return{data:yield Un(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ln(n))return{data:null,error:n};throw n}})}listIndexes(t){return Fe(this,void 0,void 0,function*(){try{return{data:yield Un(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ln(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return Fe(this,void 0,void 0,function*(){try{return{data:(yield Un(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ln(n))return{data:null,error:n};throw n}})}}class A6{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},X1),r),this.fetch=Y1(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Fe(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Un(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ln(r))return{data:null,error:r};throw r}})}getVectors(t){return Fe(this,void 0,void 0,function*(){try{return{data:yield Un(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ln(r))return{data:null,error:r};throw r}})}listVectors(t){return Fe(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Un(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ln(r))return{data:null,error:r};throw r}})}queryVectors(t){return Fe(this,void 0,void 0,function*(){try{return{data:yield Un(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ln(r))return{data:null,error:r};throw r}})}deleteVectors(t){return Fe(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Un(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ln(r))return{data:null,error:r};throw r}})}}class j6{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},X1),r),this.fetch=Y1(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Fe(this,void 0,void 0,function*(){try{return{data:(yield Un(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ln(r))return{data:null,error:r};throw r}})}getBucket(t){return Fe(this,void 0,void 0,function*(){try{return{data:yield Un(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ln(r))return{data:null,error:r};throw r}})}listBuckets(){return Fe(this,arguments,void 0,function*(t={}){try{return{data:yield Un(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ln(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Fe(this,void 0,void 0,function*(){try{return{data:(yield Un(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ln(r))return{data:null,error:r};throw r}})}}class N6 extends j6{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new I6(this.url,this.headers,t,this.fetch)}}class I6 extends C6{constructor(t,r,n,a){super(t,r,a),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Fe(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Fe(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Fe(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Fe(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new R6(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class R6 extends A6{constructor(t,r,n,a,s){super(t,r,s),this.vectorBucketName=n,this.indexName=a}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Fe(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Fe(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Fe(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Fe(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Fe(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class P6 extends w6{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new y6(this.url,this.headers,t,this.fetch)}get vectors(){return new N6(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new E6(this.url+"/iceberg",this.headers,this.fetch)}}const O6="2.76.1";let Du="";typeof Deno<"u"?Du="deno":typeof document<"u"?Du="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Du="react-native":Du="node";const F6={"X-Client-Info":`supabase-js-${Du}/${O6}`},D6={headers:F6},M6={schema:"public"},L6={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},U6={},B6=e=>{let t;return e?t=e:typeof fetch>"u"?t=zC:t=fetch,(...r)=>t(...r)},$6=()=>typeof Headers>"u"?VC:Headers,z6=(e,t,r)=>{const n=B6(r),a=$6();return async(s,i)=>{var o;const l=(o=await t())!==null&&o!==void 0?o:e;let u=new a(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(s,Object.assign(Object.assign({},i),{headers:u}))}};function V6(e){return e.endsWith("/")?e:e+"/"}function W6(e,t){var r,n;const{db:a,auth:s,realtime:i,global:o}=e,{db:l,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},l),a),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},d),i),storage:{},global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function H6(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(V6(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const oA="2.76.1",Lc=30*1e3,Gv=3,yp=Gv*Lc,G6="http://localhost:9999",q6="supabase.auth.token",J6={"X-Client-Info":`gotrue-js/${oA}`},qv="X-Supabase-Api-Version",cA={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},K6=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,X6=10*60*1e3;class Pd extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Le(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Y6 extends Pd{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Z6(e){return Le(e)&&e.name==="AuthApiError"}class To extends Pd{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class uo extends Pd{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class mi extends uo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Q6(e){return Le(e)&&e.name==="AuthSessionMissingError"}class _c extends uo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Jf extends uo{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Kf extends uo{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function e8(e){return Le(e)&&e.name==="AuthImplicitGrantRedirectError"}class w_ extends uo{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Jv extends uo{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function wp(e){return Le(e)&&e.name==="AuthRetryableFetchError"}class E_ extends uo{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Kv extends uo{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const c0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),__=` 	
\r=`.split(""),t8=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<__.length;t+=1)e[__[t].charCodeAt(0)]=-2;for(let t=0;t<c0.length;t+=1)e[c0[t].charCodeAt(0)]=t;return e})();function S_(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(c0[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(c0[n]),t.queuedBits-=6}}function lA(e,t,r){const n=t8[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function b_(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=i=>{a8(i,n,r)};for(let i=0;i<e.length;i+=1)lA(e.charCodeAt(i),a,s);return t.join("")}function r8(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function n8(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}r8(n,t)}}function a8(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function dl(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)lA(e.charCodeAt(a),r,n);return new Uint8Array(t)}function s8(e){const t=[];return n8(e,r=>t.push(r)),new Uint8Array(t)}function Io(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>S_(a,r,n)),S_(null,r,n),t.join("")}function i8(e){return Math.round(Date.now()/1e3)+e}function o8(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const On=()=>typeof window<"u"&&typeof document<"u",xo={tested:!1,writable:!1},uA=()=>{if(!On())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(xo.tested)return xo.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),xo.tested=!0,xo.writable=!0}catch{xo.tested=!0,xo.writable=!1}return xo.writable};function c8(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,s)=>{t[s]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const dA=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>su(async()=>{const{default:n}=await Promise.resolve().then(()=>hc);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},l8=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Uc=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},yo=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},li=async(e,t)=>{await e.removeItem(t)};class nm{constructor(){this.promise=new nm.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}nm.promiseConstructor=Promise;function Ep(e){const t=e.split(".");if(t.length!==3)throw new Kv("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!K6.test(t[n]))throw new Kv("JWT not in base64url format");return{header:JSON.parse(b_(t[0])),payload:JSON.parse(b_(t[1])),signature:dl(t[2]),raw:{header:t[0],payload:t[1]}}}async function u8(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function d8(e,t){return new Promise((n,a)=>{(async()=>{for(let s=0;s<1/0;s++)try{const i=await e(s);if(!t(s,null,i)){n(i);return}}catch(i){if(!t(s,i)){a(i);return}}})()})}function f8(e){return("0"+e.toString(16)).substr(-2)}function h8(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let s=0;s<56;s++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,f8).join("")}async function m8(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(s=>String.fromCharCode(s)).join("")}async function p8(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await m8(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Sc(e,t,r=!1){const n=h8();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Uc(e,`${t}-code-verifier`,a);const s=await p8(n);return[s,n===s?"plain":"s256"]}const g8=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function v8(e){const t=e.headers.get(qv);if(!t||!t.match(g8))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function x8(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function y8(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const w8=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function bc(e){if(!w8.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function _p(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function T_(e){return JSON.parse(JSON.stringify(e))}const _o=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),E8=[502,503,504];async function k_(e){var t;if(!l8(e))throw new Jv(_o(e),0);if(E8.includes(e.status))throw new Jv(_o(e),e.status);let r;try{r=await e.json()}catch(s){throw new To(_o(s),s)}let n;const a=v8(e);if(a&&a.getTime()>=cA["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new E_(_o(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new mi}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0))throw new E_(_o(r),e.status,r.weak_password.reasons);throw new Y6(_o(r),e.status||500,n)}const _8=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function We(e,t,r,n){var a;const s=Object.assign({},n==null?void 0:n.headers);s[qv]||(s[qv]=cA["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const i=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const o=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await S8(e,t,r+o,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function S8(e,t,r,n,a,s){const i=_8(t,n,a,s);let o;try{o=await e(r,Object.assign({},i))}catch(l){throw console.error(l),new Jv(_o(l),0)}if(o.ok||await k_(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await k_(l)}}function Oa(e){var t;let r=null;k8(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=i8(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function C_(e){const t=Oa(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function wi(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function b8(e){return{data:e,error:null}}function T8(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s}=e,i=lo(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s},l=Object.assign({},i);return{data:{properties:o,user:l},error:null}}function A_(e){return e}function k8(e){return e.access_token&&e.refresh_token&&e.expires_in}const Sp=["global","local","others"];class C8{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=dA(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Sp[0]){if(Sp.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Sp.join(", ")}`);try{return await We(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await We(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:wi})}catch(n){if(Le(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=lo(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await We(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:T8,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Le(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await We(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:wi})}catch(r){if(Le(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,s,i,o,l;try{const u={nextPage:null,lastPage:0,total:0},d=await We(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:A_});if(d.error)throw d.error;const f=await d.json(),h=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(v=>{const p=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(v.split(";")[1].split("=")[1]);u[`${g}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Le(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){bc(t);try{return await We(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:wi})}catch(r){if(Le(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){bc(t);try{return await We(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:wi})}catch(n){if(Le(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){bc(t);try{return await We(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:wi})}catch(n){if(Le(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){bc(t.userId);try{const{data:r,error:n}=await We(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Le(r))return{data:null,error:r};throw r}}async _deleteFactor(t){bc(t.userId),bc(t.id);try{return{data:await We(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,s,i,o,l;try{const u={nextPage:null,lastPage:0,total:0},d=await We(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:A_});if(d.error)throw d.error;const f=await d.json(),h=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(v=>{const p=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(v.split(";")[1].split("=")[1]);u[`${g}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Le(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await We(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Le(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await We(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Le(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await We(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Le(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await We(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Le(r))return{data:null,error:r};throw r}}}function j_(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Tc={debug:!!(globalThis&&uA()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class fA extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class A8 extends fA{}async function j8(e,t,r){Tc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Tc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Tc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Tc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Tc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new A8(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Tc.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function N8(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function hA(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function I8(e){return parseInt(e,16)}function R8(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function P8(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:s=new Date,nonce:i,notBefore:o,requestId:l,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=hA(e.address),v=d?`${d}://${n}`:n,p=e.statement?`${e.statement}
`:"",g=`${v} wants you to sign in with your Ethereum account:
${m}

${p}`;let y=`URI: ${f}
Version: ${h}
Chain ID: ${r}${i?`
Nonce: ${i}`:""}
Issued At: ${s.toISOString()}`;if(a&&(y+=`
Expiration Time: ${a.toISOString()}`),o&&(y+=`
Not Before: ${o.toISOString()}`),l&&(y+=`
Request ID: ${l}`),u){let E=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);E+=`
- ${w}`}y+=E}return`${g}
${y}`}class rr extends Error{constructor({message:t,code:r,cause:n,name:a}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=a??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class l0 extends rr{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function O8({error:e,options:t}){var r,n,a;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new rr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new rr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new rr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=s.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new rr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new rr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new rr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new rr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new rr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(mA(i)){if(s.rp.id!==i)return new rr({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new rr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new rr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new rr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new rr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function F8({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new rr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new rr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(mA(n)){if(r.rpId!==n)return new rr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new rr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new rr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new rr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class D8{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const M8=new D8;function L8(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=lo(e,["challenge","user","excludeCredentials"]),s=dl(t).buffer,i=Object.assign(Object.assign({},r),{id:dl(r.id).buffer}),o=Object.assign(Object.assign({},a),{challenge:s,user:i});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];o.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:dl(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function U8(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=lo(e,["challenge","allowCredentials"]),a=dl(t).buffer,s=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let i=0;i<r.length;i++){const o=r[i];s.allowCredentials[i]=Object.assign(Object.assign({},o),{id:dl(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return s}function B8(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Io(new Uint8Array(e.response.attestationObject)),clientDataJSON:Io(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function $8(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Io(new Uint8Array(a.authenticatorData)),clientDataJSON:Io(new Uint8Array(a.clientDataJSON)),signature:Io(new Uint8Array(a.signature)),userHandle:a.userHandle?Io(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function mA(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function N_(){var e,t;return!!(On()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function z8(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new l0("Browser returned unexpected credential type",t)}:{data:null,error:new l0("Empty credential response",t)}}catch(t){return{data:null,error:O8({error:t,options:e})}}}async function V8(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new l0("Browser returned unexpected credential type",t)}:{data:null,error:new l0("Empty credential response",t)}}catch(t){return{data:null,error:F8({error:t,options:e})}}}const W8={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},H8={userVerification:"preferred",hints:["security-key"]};function u0(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const s in a){const i=a[s];if(i!==void 0)if(Array.isArray(i))n[s]=i;else if(r(i))n[s]=i;else if(t(i)){const o=n[s];t(o)?n[s]=u0(o,i):n[s]=u0(i)}else n[s]=i}return n}function G8(e,t){return u0(W8,e,t||{})}function q8(e,t){return u0(H8,e,t||{})}class J8{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},s){try{const{data:i,error:o}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!i)return{data:null,error:o};const l=a??M8.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:u}=i.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(i.webauthn.type){case"create":{const u=G8(i.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:d,error:f}=await z8({publicKey:u,signal:l});return d?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=q8(i.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:d,error:f}=await V8(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:u,signal:l}));return d?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(i){return Le(i)?{data:null,error:i}:{data:null,error:new To("Unexpected error in challenge",i)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}},s){if(!r)return{data:null,error:new Pd("rpId is required for WebAuthn authentication")};try{if(!N_())return{data:null,error:new To("Browser does not support WebAuthn",null)};const{data:i,error:o}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:s});if(!i)return{data:null,error:o};const{webauthn:l}=i;return this._verify({factorId:t,challengeId:i.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(i){return Le(i)?{data:null,error:i}:{data:null,error:new To("Unexpected error in authenticate",i)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a},s){if(!r)return{data:null,error:new Pd("rpId is required for WebAuthn registration")};try{if(!N_())return{data:null,error:new To("Browser does not support WebAuthn",null)};const{data:i,error:o}=await this._enroll({friendlyName:t});if(!i)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:o};const{data:l,error:u}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:s});return l?this._verify({factorId:i.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(i){return Le(i)?{data:null,error:i}:{data:null,error:new To("Unexpected error in register",i)}}}}N8();const K8={url:G6,storageKey:q6,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:J6,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function I_(e,t,r){return await r()}const kc={};class Od{get jwks(){var t,r;return(r=(t=kc[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){kc[this.storageKey]=Object.assign(Object.assign({},kc[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=kc[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){kc[this.storageKey]=Object.assign(Object.assign({},kc[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Od.nextInstanceID,Od.nextInstanceID+=1,this.instanceID>0&&On()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},K8),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new C8({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=dA(a.fetch),this.lock=a.lock||I_,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:On()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=j8:this.lock=I_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new J8(this)},this.persistSession?(a.storage?this.storage=a.storage:uA()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=j_(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=j_(this.memoryStorage)),On()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${oA}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=c8(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),On()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),e8(s)){const l=(t=s.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:i,redirectType:o}=a;return this._debug("#_initialize()","detected session in URL",i,"redirect type",o),await this._saveSession(i),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Le(r)?{error:r}:{error:new To("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const s=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Oa}),{data:i,error:o}=s;if(o||!i)return{data:{user:null,session:null},error:o};const l=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(Le(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var r,n,a;try{let s;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await Sc(this.storage,this.storageKey)),s=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:v},xform:Oa})}else if("phone"in t){const{phone:d,password:f,options:h}=t;s=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Oa})}else throw new Jf("You must provide either an email or phone number and a password");const{data:i,error:o}=s;if(o||!i)return{data:{user:null,session:null},error:o};const l=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(Le(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:i,options:o}=t;r=await We(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:C_})}else if("phone"in t){const{phone:s,password:i,options:o}=t;r=await We(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:C_})}else throw new Jf("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new _c}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Le(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,s,i,o,l,u,d,f,h;let m,v;if("message"in t)m=t.message,v=t.signature;else{const{chain:p,wallet:g,statement:y,options:E}=t;let w;if(On())if(typeof g=="object")w=g;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")w=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(E!=null&&E.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=g}const _=new URL((r=E==null?void 0:E.url)!==null&&r!==void 0?r:window.location.href),T=await w.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!T||T.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const b=hA(T[0]);let S=(n=E==null?void 0:E.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!S){const A=await w.request({method:"eth_chainId"});S=I8(A)}const k={domain:_.host,address:b,statement:y,uri:_.href,version:"1",chainId:S,nonce:(a=E==null?void 0:E.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(i=(s=E==null?void 0:E.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(o=E==null?void 0:E.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=E==null?void 0:E.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=E==null?void 0:E.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=E==null?void 0:E.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=P8(k),v=await w.request({method:"personal_sign",params:[R8(m),b]})}try{const{data:p,error:g}=await We(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:v},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Oa});if(g)throw g;return!p||!p.session||!p.user?{data:{user:null,session:null},error:new _c}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:Object.assign({},p),error:g})}catch(p){if(Le(p))return{data:{user:null,session:null},error:p};throw p}}async signInWithSolana(t){var r,n,a,s,i,o,l,u,d,f,h,m;let v,p;if("message"in t)v=t.message,p=t.signature;else{const{chain:g,wallet:y,statement:E,options:w}=t;let _;if(On())if(typeof y=="object")_=y;else{const b=window;if("solana"in b&&typeof b.solana=="object"&&("signIn"in b.solana&&typeof b.solana.signIn=="function"||"signMessage"in b.solana&&typeof b.solana.signMessage=="function"))_=b.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=y}const T=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const b=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),E?{statement:E}:null));let S;if(Array.isArray(b)&&b[0]&&typeof b[0]=="object")S=b[0];else if(b&&typeof b=="object"&&"signedMessage"in b&&"signature"in b)S=b;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)v=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),p=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${T.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(a=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const b=await _.signMessage(new TextEncoder().encode(v),"utf8");if(!b||!(b instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=b}}try{const{data:g,error:y}=await We(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Io(p)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Oa});if(y)throw y;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new _c}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:y})}catch(g){if(Le(g))return{data:{user:null,session:null},error:g};throw g}}async _exchangeCodeForSession(t){const r=await yo(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:s,error:i}=await We(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Oa});if(await li(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new _c}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:a??null}),error:i})}catch(s){if(Le(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:s,nonce:i}=t,o=await We(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:s,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Oa}),{data:l,error:u}=o;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new _c}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(Le(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,s,i;try{if("email"in t){const{email:o,options:l}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Sc(this.storage,this.storageKey));const{error:f}=await We(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:o,options:l}=t,{data:u,error:d}=await We(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(a=l==null?void 0:l.data)!==null&&a!==void 0?a:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(i=l==null?void 0:l.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Jf("You must provide either an email or phone number.")}catch(o){if(Le(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let a,s;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:o}=await We(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:Oa});if(o)throw o;if(!i)throw new Error("An error occurred on token verification.");const l=i.session,u=i.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if(Le(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let s=null,i=null;return this.flowType==="pkce"&&([s,i]=await Sc(this.storage,this.storageKey)),await We(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:i}),headers:this.headers,xform:b8})}catch(s){if(Le(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new mi;const{error:a}=await We(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(Le(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:s}=t,{error:i}=await We(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:n,type:a,options:s}=t,{data:i,error:o}=await We(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:o}}throw new Jf("You must provide either an email or phone number and a type")}catch(r){if(Le(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await yo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<yp:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const i=await yo(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=_p()}if(this.storage.isServer&&t.user){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,d)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:t},error:null}}const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await We(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:wi}):await this._useSession(async r=>{var n,a,s;const{data:i,error:o}=r;if(o)throw o;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new mi}:await We(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:wi})})}catch(r){if(Le(r))return Q6(r)&&(await this._removeSession(),await li(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:s}=n;if(s)throw s;if(!a.session)throw new mi;const i=a.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await Sc(this.storage,this.storageKey));const{data:u,error:d}=await We(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:i.access_token,xform:wi});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(Le(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new mi;const r=Date.now()/1e3;let n=r,a=!0,s=null;const{payload:i}=Ep(t.access_token);if(i.exp&&(n=i.exp,a=n<=r),a){const{data:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)throw l;s={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(Le(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:o}=r;if(o)throw o;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new mi;const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Le(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!On())throw new Kf("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Kf(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new w_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Kf("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new w_("No code detected.");const{data:E,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:s,refresh_token:i,expires_in:o,expires_at:l,token_type:u}=t;if(!s||!o||!i||!u)throw new Kf("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let h=d+f;l&&(h=parseInt(l));const m=h-d;m*1e3<=Lc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const v=h-f;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,d);const{data:p,error:g}=await this._getUser(s);if(g)throw g;const y={provider_token:n,provider_refresh_token:a,access_token:s,expires_in:f,expires_at:h,refresh_token:i,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(Le(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await yo(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return{error:s};const i=(n=a.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:o}=await this.admin.signOut(i,t);if(o&&!(Z6(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await li(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=o8(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:s},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Sc(this.storage,this.storageKey,!0));try{return await We(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(Le(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async s=>{var i,o,l,u,d;const{data:f,error:h}=s;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await We(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return On()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Le(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:s}}=r;if(a)throw a;const{options:i,provider:o,token:l,access_token:u,nonce:d}=t,f=await We(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:Oa}),{data:h,error:m}=f;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new _c}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:m})}catch(a){if(Le(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:i}=r;if(i)throw i;return await We(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Le(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await d8(async a=>(a>0&&await u8(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await We(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Oa})),(a,s)=>{const i=200*Math.pow(2,a);return s&&wp(s)&&Date.now()+i-n<Lc})}catch(n){if(this._debug(r,"error",n),Le(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),On()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await yo(this.storage,this.storageKey);if(a&&this.userStorage){let i=await yo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:a.user},await Uc(this.userStorage,this.storageKey+"-user",i)),a.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:_p()}else if(a&&!a.user&&!a.user){const i=await yo(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(a.user=i.user,await li(this.storage,this.storageKey+"-user"),await Uc(this.storage,this.storageKey,a)):a.user=_p()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const s=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<yp;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${yp}s`),s){if(this.autoRefreshToken&&a.refresh_token){const{error:i}=await this._callRefreshToken(a.refresh_token);i&&(console.error(i),wp(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:o}=await this._getUser(a.access_token);!o&&(i!=null&&i.user)?(a.user=i.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new mi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new nm;const{data:s,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!s.session)throw new mi;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={data:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(a,"error",s),Le(s)){const i={data:null,error:s};return wp(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],i=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(l){s.push(l)}});if(await Promise.all(i),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Uc(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const s=T_(a);await Uc(this.storage,this.storageKey,s)}else{const a=T_(r);await Uc(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await li(this.storage,this.storageKey),await li(this.storage,this.storageKey+"-code-verifier"),await li(this.storage,this.storageKey+"-user"),this.userStorage&&await li(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&On()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Lc);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Lc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Lc}ms, refresh threshold is ${Gv} ticks`),a<=Gv&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof fA)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!On()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,i]=await Sc(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(i)}`});a.push(o.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);a.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?{data:null,error:s}:await We(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Le(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:i}=r;if(i)return{data:null,error:i};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await We(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&l.type==="totp"&&(!((a=l==null?void 0:l.totp)===null||a===void 0)&&a.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(Le(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return{data:null,error:s};const i=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?B8(t.webauthn.credential_response):$8(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:l}=await We(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:i,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(Le(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return{data:null,error:s};const i=await We(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(i.error)return i;const{data:o}=i;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:L8(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:U8(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Le(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(s),s.status==="verified"&&a[s.factor_type].push(s);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:s}=t;if(s)return{data:null,error:s};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Ep(a.access_token);let o=null;i.aal&&(o=i.aal);let l=o;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=i.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+X6>a)return n;const{data:s,error:i}=await We(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=a,n=s.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:v}=await this.getSession();if(v||!m.session)return{data:null,error:v};n=m.session.access_token}const{header:a,payload:s,signature:i,raw:{header:o,payload:l}}=Ep(n);r!=null&&r.allowExpired||x8(s.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:s,header:a,signature:i},error:null}}const d=y8(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,i,s8(`${o}.${l}`)))throw new Kv("Invalid JWT signature");return{data:{claims:s,header:a,signature:i},error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}}}Od.nextInstanceID=0;const X8=Od;class Y8 extends X8{constructor(t){super(t)}}class Z8{constructor(t,r,n){var a,s,i;this.supabaseUrl=t,this.supabaseKey=r;const o=H6(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:M6,realtime:U6,auth:Object.assign(Object.assign({},L6),{storageKey:l}),global:D6},d=W6(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=d.auth)!==null&&i!==void 0?i:{},this.headers,d.global.fetch),this.fetch=z6(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new G5(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new P6(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new L5(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:s,storageKey:i,flowType:o,lock:l,debug:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Y8({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:s,flowType:o,lock:l,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new l6(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Q8=(e,t,r)=>new Z8(e,t,r);function eU(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}eU()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const tU="https://kndaphgvedudbbmikqye.supabase.co",rU="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",Ce=Q8(tU,rU,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),nU=5*60*1e3,aU=4*60*1e3,sU=()=>{const{toast:e}=dn(),t=x.useRef(null),r=x.useRef(null),n=()=>{e({title:"Inatividade detectada",description:"Voc ser desconectado em 1 minuto por inatividade.",variant:"destructive"})},a=async()=>{try{t.current&&clearTimeout(t.current),r.current&&clearTimeout(r.current);const{data:{session:i}}=await Ce.auth.getSession();i&&(e({title:"Sesso encerrada",description:"Voc foi desconectado por inatividade.",variant:"destructive"}),await Ce.auth.signOut()),window.location.replace("/auth")}catch(i){console.error("Erro ao fazer logout:",i),window.location.replace("/auth")}},s=()=>{t.current&&clearTimeout(t.current),r.current&&clearTimeout(r.current),r.current=setTimeout(n,aU),t.current=setTimeout(a,nU)};return x.useEffect(()=>{const i=["mousedown","mousemove","keypress","scroll","touchstart","click"];return i.forEach(o=>{document.addEventListener(o,s)}),s(),()=>{i.forEach(o=>{document.removeEventListener(o,s)}),t.current&&clearTimeout(t.current),r.current&&clearTimeout(r.current)}},[]),null},Ue=x.forwardRef(({className:e,...t},r)=>c.jsx("div",{ref:r,className:Te("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Ue.displayName="Card";const vt=x.forwardRef(({className:e,...t},r)=>c.jsx("div",{ref:r,className:Te("flex flex-col space-y-1.5 p-6",e),...t}));vt.displayName="CardHeader";const xt=x.forwardRef(({className:e,...t},r)=>c.jsx("h3",{ref:r,className:Te("text-2xl font-semibold leading-none tracking-tight",e),...t}));xt.displayName="CardTitle";const aa=x.forwardRef(({className:e,...t},r)=>c.jsx("p",{ref:r,className:Te("text-sm text-muted-foreground",e),...t}));aa.displayName="CardDescription";const pt=x.forwardRef(({className:e,...t},r)=>c.jsx("div",{ref:r,className:Te("p-6 pt-0",e),...t}));pt.displayName="CardContent";const iU=x.forwardRef(({className:e,...t},r)=>c.jsx("div",{ref:r,className:Te("flex items-center p-6 pt-0",e),...t}));iU.displayName="CardFooter";const Z1=J0("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ae=x.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},s)=>{const i=n?sF:"button";return c.jsx(i,{className:Te(Z1({variant:t,size:r,className:e})),ref:s,...a})});ae.displayName="Button";const xr={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},af=()=>{const e=bt(),t=(f,h)=>{try{if(!f||!h)return;const m="programacao_cultivares_produtor_map",v=localStorage.getItem(m),p=v?JSON.parse(v):{};p[f]=h,localStorage.setItem(m,JSON.stringify(p))}catch{}},r=f=>{try{if(!f)return;const h="programacao_cultivares_produtor_map",m=localStorage.getItem(h),v=m?JSON.parse(m):{};v[f]&&(delete v[f],localStorage.setItem(h,JSON.stringify(v)))}catch{}},{data:n,isLoading:a,error:s}=Tt({queryKey:["programacao-cultivares"],queryFn:async()=>{const f=xr==null?void 0:xr.VITE_API_URL,h=typeof window<"u"?window.location.hostname:"127.0.0.1",m=f||`http://${h}:5000`,v=await fetch(`${m}/programacao_cultivares`);if(!v.ok)throw new Error(`Erro ao carregar cultivares: ${v.status}`);const p=await v.json(),g=(p==null?void 0:p.items)??[],y="programacao_cultivares_produtor_map";let E={};try{const T=localStorage.getItem(y);E=T?JSON.parse(T):{}}catch{}const w=[],_=g.map(T=>{if(!String(T.produtor_numerocm||"").trim()){const S=String(E[T.id]||"").trim();if(S)return w.push(fetch(`${m}/programacao_cultivares/${T.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({produtor_numerocm:S})})),{...T,produtor_numerocm:S}}return T});try{w.length&&await Promise.all(w)}catch{}return _}}),i=ot({mutationFn:async f=>{const h=xr==null?void 0:xr.VITE_API_URL,m=typeof window<"u"?window.location.hostname:"127.0.0.1",v=h||`http://${m}:5000`,{defensivos_fazenda:p,...g}=f,y={...g,defensivos_fazenda:p},E=await fetch(`${v}/programacao_cultivares`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)});if(!E.ok){const _=await E.text();throw new Error(_)}const w=await E.json();return t(w==null?void 0:w.id,f.produtor_numerocm),{...f,id:w.id}},onSuccess:(f,h)=>{e.invalidateQueries({queryKey:["programacao-cultivares"]}),ce.success("Programao criada com sucesso")},onError:f=>{ce.error(`Erro ao criar programao: ${f.message}`)}}),o=ot({mutationFn:async({id:f,...h})=>{const m=xr==null?void 0:xr.VITE_API_URL,v=typeof window<"u"?window.location.hostname:"127.0.0.1",p=m||`http://${v}:5000`,g=await fetch(`${p}/programacao_cultivares/${f}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)});if(!g.ok){const y=await g.text();throw new Error(y)}return t(f,h==null?void 0:h.produtor_numerocm),{id:f,...h}},onSuccess:(f,h)=>{e.invalidateQueries({queryKey:["programacao-cultivares"]}),ce.success("Programao atualizada com sucesso")},onError:f=>{ce.error(`Erro ao atualizar programao: ${f.message}`)}}),l=ot({mutationFn:async f=>{const h=xr==null?void 0:xr.VITE_API_URL,m=typeof window<"u"?window.location.hostname:"127.0.0.1",v=h||`http://${m}:5000`,p=await fetch(`${v}/programacao_cultivares/${f}`,{method:"DELETE"});if(!p.ok)throw new Error(`Erro ao excluir programao: ${p.status}`)},onSuccess:(f,h)=>{r(h),e.invalidateQueries({queryKey:["programacao-cultivares"]}),ce.success("Programao excluda com sucesso")},onError:f=>{ce.error(`Erro ao excluir programao: ${f.message}`)}}),u=ot({mutationFn:async f=>{const h=xr==null?void 0:xr.VITE_API_URL,m=typeof window<"u"?window.location.hostname:"127.0.0.1",v=h||`http://${m}:5000`,p=n==null?void 0:n.find(b=>b.id===f);if(!p)throw new Error("Programao no encontrada");const{id:g,created_at:y,updated_at:E,...w}=p,_=await fetch(`${v}/programacao_cultivares`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)});if(!_.ok){const b=await _.text();throw new Error(b)}const T=await _.json();return t(T==null?void 0:T.id,p.produtor_numerocm),{...w,id:T.id}},onSuccess:()=>{e.invalidateQueries({queryKey:["programacao-cultivares"]}),ce.success("Programao duplicada com sucesso")},onError:f=>{ce.error(`Erro ao duplicar programao: ${f.message}`)}}),d=ot({mutationFn:async({id:f,produtor_numerocm:h,area:m})=>{const v=xr==null?void 0:xr.VITE_API_URL,p=typeof window<"u"?window.location.hostname:"127.0.0.1",g=v||`http://${p}:5000`,y=n==null?void 0:n.find(N=>N.id===f);if(!y)throw new Error("Programao no encontrada");const{id:E,created_at:w,updated_at:_,user_id:T,produtor_numerocm:b,area:S,...k}=y,A={...k,produtor_numerocm:h,area:m},j=await fetch(`${g}/programacao_cultivares`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(A)});if(!j.ok){const N=await j.text();throw new Error(N)}const I=await j.json();return t(I==null?void 0:I.id,h),{...A,id:I.id}},onSuccess:()=>{e.invalidateQueries({queryKey:["programacao-cultivares"]}),ce.success("Programao replicada com sucesso")},onError:f=>{ce.error(`Erro ao replicar programao: ${f.message}`)}});return{programacoes:n??[],isLoading:a,error:s,create:i.mutate,update:o.mutate,remove:l.mutate,duplicate:u.mutate,replicate:d.mutateAsync,isCreating:i.isPending,isUpdating:o.isPending,isDeleting:l.isPending,isDuplicating:u.isPending,isReplicating:d.isPending}},Xr={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},Q1=()=>{const e=bt(),t=(f,h)=>{try{if(!f||!h)return;const m="programacao_adubacao_produtor_map",v=localStorage.getItem(m),p=v?JSON.parse(v):{};p[f]=(h||"").trim(),localStorage.setItem(m,JSON.stringify(p))}catch{}},r=f=>{try{if(!f)return;const h="programacao_adubacao_produtor_map",m=localStorage.getItem(h),v=m?JSON.parse(m):{};v[f]&&(delete v[f],localStorage.setItem(h,JSON.stringify(v)))}catch{}},{data:n,isLoading:a,error:s}=Tt({queryKey:["programacao-adubacao"],queryFn:async()=>{const f=Xr==null?void 0:Xr.VITE_API_URL,h=typeof window<"u"?window.location.hostname:"127.0.0.1",m=f||`http://${h}:5000`,v=await fetch(`${m}/programacao_adubacao`);if(!v.ok)throw new Error(`Erro ao carregar adubao: ${v.status}`);const p=await v.json(),g=(p==null?void 0:p.items)??[],y="programacao_adubacao_produtor_map";let E={};try{const T=localStorage.getItem(y);E=T?JSON.parse(T):{}}catch{}const w=[],_=g.map(T=>{if(!String(T.produtor_numerocm||"").trim()){const S=String(E[T.id]||"").trim();if(S)return w.push(fetch(`${m}/programacao_adubacao/${T.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({produtor_numerocm:S})})),{...T,produtor_numerocm:S}}return T});try{w.length&&await Promise.all(w)}catch{}return _}}),i=ot({mutationFn:async f=>{const h=Xr==null?void 0:Xr.VITE_API_URL,m=typeof window<"u"?window.location.hostname:"127.0.0.1",v=h||`http://${m}:5000`,p=await fetch(`${v}/programacao_adubacao`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});if(!p.ok){const y=await p.text();throw new Error(y)}const g=await p.json();return t(g==null?void 0:g.id,f.produtor_numerocm),{...f,id:g.id}},onSuccess:()=>{e.invalidateQueries({queryKey:["programacao-adubacao"]}),ce.success("Adubao criada com sucesso")},onError:f=>{ce.error(`Erro ao criar adubao: ${f.message}`)}}),o=ot({mutationFn:async({id:f,...h})=>{const m=Xr==null?void 0:Xr.VITE_API_URL,v=typeof window<"u"?window.location.hostname:"127.0.0.1",p=m||`http://${v}:5000`,g=await fetch(`${p}/programacao_adubacao/${f}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)});if(!g.ok){const y=await g.text();throw new Error(y)}return h.produtor_numerocm&&t(f,h.produtor_numerocm),{id:f,...h}},onSuccess:()=>{e.invalidateQueries({queryKey:["programacao-adubacao"]}),ce.success("Adubao atualizada com sucesso")},onError:f=>{ce.error(`Erro ao atualizar adubao: ${f.message}`)}}),l=ot({mutationFn:async({id:f,produtor_numerocm:h,area:m})=>{const v=(n||[]).find(S=>S.id===f);if(!v)throw new Error("Programao no encontrada");const{id:p,created_at:g,updated_at:y,user_id:E,produtor_numerocm:w,area:_,...T}=v,b={...T,produtor_numerocm:h,area:m};return i.mutateAsync(b)},onSuccess:()=>{e.invalidateQueries({queryKey:["programacao-adubacao"]}),ce.success("Adubao replicada com sucesso")},onError:f=>{ce.error(`Erro ao replicar adubao: ${f.message}`)}}),u=ot({mutationFn:async f=>{const h=Xr==null?void 0:Xr.VITE_API_URL,m=typeof window<"u"?window.location.hostname:"127.0.0.1",v=h||`http://${m}:5000`,p=await fetch(`${v}/programacao_adubacao/${f}`,{method:"DELETE"});if(!p.ok)throw new Error(`Erro ao excluir adubao: ${p.status}`)},onSuccess:()=>{e.invalidateQueries({queryKey:["programacao-adubacao"]}),ce.success("Adubao excluda com sucesso")},onError:f=>{ce.error(`Erro ao excluir adubao: ${f.message}`)}}),d=ot({mutationFn:async f=>{const h=Xr==null?void 0:Xr.VITE_API_URL,m=typeof window<"u"?window.location.hostname:"127.0.0.1",v=h||`http://${m}:5000`,p=n==null?void 0:n.find(b=>b.id===f);if(!p)throw new Error("Adubao no encontrada");const{id:g,created_at:y,updated_at:E,...w}=p,_=await fetch(`${v}/programacao_adubacao`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)});if(!_.ok){const b=await _.text();throw new Error(b)}const T=await _.json();return t(T==null?void 0:T.id,w.produtor_numerocm),{...w,id:T.id}},onSuccess:()=>{e.invalidateQueries({queryKey:["programacao-adubacao"]}),ce.success("Adubao duplicada com sucesso")},onError:f=>{ce.error(`Erro ao duplicar adubao: ${f.message}`)}});return{programacoes:n??[],isLoading:a,error:s,create:i.mutate,update:o.mutate,remove:f=>{u.mutate(f,{onSuccess:()=>r(f)})},duplicate:d.mutate,replicate:l.mutateAsync,isCreating:i.isPending,isUpdating:o.isPending,isDeleting:u.isPending,isDuplicating:d.isPending,isReplicating:l.isPending}},ey=()=>{const e=bt(),t=(f,h)=>{try{if(!f||!h)return;const m="aplicacoes_defensivos_produtor_map",v=localStorage.getItem(m),p=v?JSON.parse(v):{};p[f]=(h||"").trim(),localStorage.setItem(m,JSON.stringify(p))}catch{}},r=f=>{try{if(!f)return;const h="aplicacoes_defensivos_produtor_map",m=localStorage.getItem(h),v=m?JSON.parse(m):{};v[f]&&(delete v[f],localStorage.setItem(h,JSON.stringify(v)))}catch{}},{data:n=[],isLoading:a,error:s}=Tt({queryKey:["aplicacoes-defensivos"],queryFn:async()=>{const{data:f,error:h}=await Ce.from("aplicacoes_defensivos").select("*").order("created_at",{ascending:!1});if(h)throw h;const m="aplicacoes_defensivos_produtor_map";let v={};try{const g=localStorage.getItem(m);v=g?JSON.parse(g):{}}catch{}return await Promise.all(f.map(async g=>{const{data:y,error:E}=await Ce.from("programacao_defensivos").select("*").eq("aplicacao_id",g.id).order("created_at",{ascending:!0});if(E)throw E;let w=String(g.produtor_numerocm||"").trim();if(!w){const _=String(v[g.id]||"").trim();if(_){w=_;try{await Ce.from("aplicacoes_defensivos").update({produtor_numerocm:_}).eq("id",g.id)}catch{}}}return{...g,produtor_numerocm:w||g.produtor_numerocm,defensivos:y||[]}}))}}),i=ot({mutationFn:async f=>{const{data:{user:h}}=await Ce.auth.getUser();if(!h)throw new Error("Usurio no autenticado");const{data:m,error:v}=await Ce.from("aplicacoes_defensivos").insert({user_id:h.id,produtor_numerocm:f.produtor_numerocm,area:f.area}).select().single();if(v)throw v;const p=f.defensivos.map(y=>({aplicacao_id:m.id,user_id:h.id,classe:y.classe||null,defensivo:y.defensivo,dose:y.dose,unidade:y.unidade,alvo:y.alvo,produto_salvo:y.produto_salvo,deve_faturar:y.deve_faturar,porcentagem_salva:y.porcentagem_salva,area_hectares:y.area_hectares,safra_id:y.safra_id}));let{error:g}=await Ce.from("programacao_defensivos").insert(p);if(g&&String(g.message||"").toLowerCase().includes("classe")){const y=p.map(({classe:w,..._})=>_),{error:E}=await Ce.from("programacao_defensivos").insert(y);E?g=E:(ce.info("Classe no persistida (coluna ausente). Migre o banco para salvar a classe."),g=null)}if(g)throw g;return t(m.id,f.produtor_numerocm),m},onSuccess:()=>{e.invalidateQueries({queryKey:["aplicacoes-defensivos"]}),ce.success("Aplicao criada com sucesso!")},onError:f=>{ce.error("Erro ao criar aplicao: "+f.message)}}),o=ot({mutationFn:async({id:f,...h})=>{const{data:{user:m}}=await Ce.auth.getUser();if(!m)throw new Error("Usurio no autenticado");const{error:v}=await Ce.from("aplicacoes_defensivos").update({produtor_numerocm:h.produtor_numerocm,area:h.area}).eq("id",f);if(v)throw v;await Ce.from("programacao_defensivos").delete().eq("aplicacao_id",f);const p=h.defensivos.map(y=>({aplicacao_id:f,user_id:m.id,classe:y.classe||null,defensivo:y.defensivo,dose:y.dose,unidade:y.unidade,alvo:y.alvo,produto_salvo:y.produto_salvo,deve_faturar:y.deve_faturar,porcentagem_salva:y.porcentagem_salva,area_hectares:y.area_hectares,safra_id:y.safra_id}));let{error:g}=await Ce.from("programacao_defensivos").insert(p);if(g&&String(g.message||"").toLowerCase().includes("classe")){const y=p.map(({classe:w,..._})=>_),{error:E}=await Ce.from("programacao_defensivos").insert(y);E?g=E:(ce.info("Classe no persistida (coluna ausente). Migre o banco para salvar a classe."),g=null)}if(g)throw g;t(f,h.produtor_numerocm)},onSuccess:()=>{e.invalidateQueries({queryKey:["aplicacoes-defensivos"]}),ce.success("Aplicao atualizada com sucesso!")},onError:f=>{ce.error("Erro ao atualizar aplicao: "+f.message)}}),l=ot({mutationFn:async f=>{const{error:h}=await Ce.from("aplicacoes_defensivos").delete().eq("id",f);if(h)throw h},onSuccess:(f,h)=>{e.invalidateQueries({queryKey:["aplicacoes-defensivos"]}),r(h),ce.success("Aplicao excluda com sucesso!")},onError:f=>{ce.error("Erro ao excluir aplicao: "+f.message)}}),u=ot({mutationFn:async f=>{const h=n.find(m=>m.id===f);if(!h)throw new Error("Aplicao no encontrada");return i.mutateAsync({produtor_numerocm:h.produtor_numerocm||"",area:h.area,defensivos:h.defensivos.map(({id:m,...v})=>v)})}}),d=ot({mutationFn:async({id:f,produtor_numerocm:h,area:m})=>{const v=n.find(p=>p.id===f);if(!v)throw new Error("Aplicao no encontrada");return i.mutateAsync({produtor_numerocm:h,area:m,defensivos:v.defensivos.map(({id:p,...g})=>g)})},onSuccess:()=>{e.invalidateQueries({queryKey:["aplicacoes-defensivos"]}),ce.success("Aplicao replicada com sucesso!")},onError:f=>{ce.error("Erro ao replicar aplicao: "+f.message)}});return{aplicacoes:n,isLoading:a,error:s,create:i.mutateAsync,update:o.mutateAsync,remove:l.mutateAsync,duplicate:u.mutateAsync,replicate:d.mutateAsync,isCreating:i.isPending,isUpdating:o.isPending,isDeleting:l.isPending,isDuplicating:u.isPending,isReplicating:d.isPending}},pA=()=>{const{toast:e}=dn(),t=bt(),{data:r,isLoading:n,error:a}=Tt({queryKey:["profile"],queryFn:async()=>{const{data:{user:i}}=await Ce.auth.getUser();if(!i)throw new Error("Usurio no autenticado");const{data:o,error:l}=await Ce.from("profiles").select("*").eq("user_id",i.id).maybeSingle();if(l)throw l;return o}}),s=ot({mutationFn:async i=>{const{data:{user:o}}=await Ce.auth.getUser();if(!o)throw new Error("Usurio no autenticado");const{data:l,error:u}=await Ce.from("profiles").upsert({user_id:o.id,...i}).select().single();if(u)throw u;return l},onSuccess:()=>{t.invalidateQueries({queryKey:["profile"]}),e({title:"Perfil atualizado",description:"Suas informaes foram salvas com sucesso."})},onError:i=>{e({title:"Erro ao atualizar perfil",description:i.message,variant:"destructive"})}});return{profile:r,isLoading:n,error:a,updateProfile:s.mutate,isUpdating:s.isPending}},bp={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},eo=e=>{const{data:t,isLoading:r,error:n}=Tt({queryKey:["fazendas",e||"by-consultor"],queryFn:async()=>{var y;const{data:a}=await Ce.auth.getUser(),s=a==null?void 0:a.user;if(!s)throw new Error("Usurio no autenticado");const{data:i}=await Ce.from("user_roles").select("role").eq("user_id",s.id).maybeSingle(),o=i==null?void 0:i.role,l=o==="admin",u=o==="gestor",d=bp==null?void 0:bp.VITE_API_URL,f=typeof window<"u"?window.location.hostname:"127.0.0.1",h=d||`http://${f}:5000`;let m=`${h}/fazendas`;if(e)m=`${h}/fazendas?numerocm=${encodeURIComponent(e)}`;else if(!l&&!u){const{data:E}=await Ce.from("profiles").select("numerocm_consultor, email").eq("user_id",s.id).maybeSingle();let w=E==null?void 0:E.numerocm_consultor;if(!w&&(E!=null&&E.email)){const _=await fetch(`${h}/consultores/by_email?email=${encodeURIComponent(String(E.email).toLowerCase())}`);if(_.ok){const T=await _.json();w=(y=T==null?void 0:T.item)==null?void 0:y.numerocm_consultor}}w&&(m=`${h}/fazendas?numerocm_consultor=${encodeURIComponent(w)}`)}const v=await fetch(m);if(!v.ok){const E=await v.text();throw new Error(E)}const p=await v.json();return(p==null?void 0:p.items)||[]}});return{data:t??[],isLoading:r,error:n}},Tp={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},mc=()=>{const{data:e,isLoading:t,error:r}=Tt({queryKey:["produtores","by-consultor"],queryFn:async()=>{var p;const{data:n}=await Ce.auth.getUser(),a=n==null?void 0:n.user;if(!a)throw new Error("Usurio no autenticado");const{data:s}=await Ce.from("user_roles").select("role").eq("user_id",a.id).maybeSingle(),i=s==null?void 0:s.role,o=i==="admin",l=i==="gestor",u=Tp==null?void 0:Tp.VITE_API_URL,d=typeof window<"u"?window.location.hostname:"127.0.0.1",f=u||`http://${d}:5000`;let h=`${f}/produtores`;if(!o&&!l){const{data:g}=await Ce.from("profiles").select("numerocm_consultor, email").eq("user_id",a.id).maybeSingle();let y=g==null?void 0:g.numerocm_consultor;if(!y&&(g!=null&&g.email)){const E=await fetch(`${f}/consultores/by_email?email=${encodeURIComponent(String(g.email).toLowerCase())}`);if(E.ok){const w=await E.json();y=(p=w==null?void 0:w.item)==null?void 0:p.numerocm_consultor}}y&&(h=`${f}/produtores?numerocm_consultor=${encodeURIComponent(y)}`)}const m=await fetch(h);if(!m.ok){const g=await m.text();throw new Error(g)}const v=await m.json();return(v==null?void 0:v.items)||[]}});return{data:e??[],isLoading:t,error:r}},ty=()=>Tt({queryKey:["admin-role"],queryFn:async()=>{const{data:{user:e}}=await Ce.auth.getUser();if(!e)return{isAdmin:!1};const{data:t,error:r}=await Ce.from("user_roles").select("role").eq("user_id",e.id).eq("role","admin").maybeSingle();return r?(console.error("Error checking admin role:",r),{isAdmin:!1}):{isAdmin:!!t}}});var kp="focusScope.autoFocusOnMount",Cp="focusScope.autoFocusOnUnmount",R_={bubbles:!1,cancelable:!0},oU="FocusScope",am=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...i}=e,[o,l]=x.useState(null),u=dr(a),d=dr(s),f=x.useRef(null),h=Je(t,p=>l(p)),m=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let p=function(w){if(m.paused||!o)return;const _=w.target;o.contains(_)?f.current=_:pi(f.current,{select:!0})},g=function(w){if(m.paused||!o)return;const _=w.relatedTarget;_!==null&&(o.contains(_)||pi(f.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const T of w)T.removedNodes.length>0&&pi(o)};document.addEventListener("focusin",p),document.addEventListener("focusout",g);const E=new MutationObserver(y);return o&&E.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",g),E.disconnect()}}},[n,o,m.paused]),x.useEffect(()=>{if(o){O_.add(m);const p=document.activeElement;if(!o.contains(p)){const y=new CustomEvent(kp,R_);o.addEventListener(kp,u),o.dispatchEvent(y),y.defaultPrevented||(cU(hU(gA(o)),{select:!0}),document.activeElement===p&&pi(o))}return()=>{o.removeEventListener(kp,u),setTimeout(()=>{const y=new CustomEvent(Cp,R_);o.addEventListener(Cp,d),o.dispatchEvent(y),y.defaultPrevented||pi(p??document.body,{select:!0}),o.removeEventListener(Cp,d),O_.remove(m)},0)}}},[o,u,d,m]);const v=x.useCallback(p=>{if(!r&&!n||m.paused)return;const g=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,y=document.activeElement;if(g&&y){const E=p.currentTarget,[w,_]=lU(E);w&&_?!p.shiftKey&&y===_?(p.preventDefault(),r&&pi(w,{select:!0})):p.shiftKey&&y===w&&(p.preventDefault(),r&&pi(_,{select:!0})):y===E&&p.preventDefault()}},[r,n,m.paused]);return c.jsx(Pe.div,{tabIndex:-1,...i,ref:h,onKeyDown:v})});am.displayName=oU;function cU(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(pi(n,{select:t}),document.activeElement!==r)return}function lU(e){const t=gA(e),r=P_(t,e),n=P_(t.reverse(),e);return[r,n]}function gA(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function P_(e,t){for(const r of e)if(!uU(r,{upTo:t}))return r}function uU(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function dU(e){return e instanceof HTMLInputElement&&"select"in e}function pi(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&dU(e)&&t&&e.select()}}var O_=fU();function fU(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=F_(e,t),e.unshift(t)},remove(t){var r;e=F_(e,t),(r=e[0])==null||r.resume()}}}function F_(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function hU(e){return e.filter(t=>t.tagName!=="A")}var Ap=0;function ry(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??D_()),document.body.insertAdjacentElement("beforeend",e[1]??D_()),Ap++,()=>{Ap===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Ap--}},[])}function D_(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Th="right-scroll-bar-position",kh="width-before-scroll-bar",mU="with-scroll-bars-hidden",pU="--removed-body-scroll-bar-size";function jp(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function gU(e,t){var r=x.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var vU=typeof window<"u"?x.useLayoutEffect:x.useEffect,M_=new WeakMap;function xU(e,t){var r=gU(null,function(n){return e.forEach(function(a){return jp(a,n)})});return vU(function(){var n=M_.get(r);if(n){var a=new Set(n),s=new Set(e),i=r.current;a.forEach(function(o){s.has(o)||jp(o,null)}),s.forEach(function(o){a.has(o)||jp(o,i)})}M_.set(r,e)},[e]),r}function yU(e){return e}function wU(e,t){t===void 0&&(t=yU);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var i=t(s,n);return r.push(i),function(){r=r.filter(function(o){return o!==i})}},assignSyncMedium:function(s){for(n=!0;r.length;){var i=r;r=[],i.forEach(s)}r={push:function(o){return s(o)},filter:function(){return r}}},assignMedium:function(s){n=!0;var i=[];if(r.length){var o=r;r=[],o.forEach(s),i=r}var l=function(){var d=i;i=[],d.forEach(s)},u=function(){return Promise.resolve().then(l)};u(),r={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),r}}}};return a}function EU(e){e===void 0&&(e={});var t=wU(null);return t.options=ga({async:!0,ssr:!1},e),t}var vA=function(e){var t=e.sideCar,r=lo(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return x.createElement(n,ga({},r))};vA.isSideCarExport=!0;function _U(e,t){return e.useMedium(t),vA}var xA=EU(),Np=function(){},sm=x.forwardRef(function(e,t){var r=x.useRef(null),n=x.useState({onScrollCapture:Np,onWheelCapture:Np,onTouchMoveCapture:Np}),a=n[0],s=n[1],i=e.forwardProps,o=e.children,l=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,v=e.noIsolation,p=e.inert,g=e.allowPinchZoom,y=e.as,E=y===void 0?"div":y,w=e.gapMode,_=lo(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=h,b=xU([r,t]),S=ga(ga({},_),a);return x.createElement(x.Fragment,null,d&&x.createElement(T,{sideCar:xA,removeScrollBar:u,shards:f,noRelative:m,noIsolation:v,inert:p,setCallbacks:s,allowPinchZoom:!!g,lockRef:r,gapMode:w}),i?x.cloneElement(x.Children.only(o),ga(ga({},S),{ref:b})):x.createElement(E,ga({},S,{className:l,ref:b}),o))});sm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};sm.classNames={fullWidth:kh,zeroRight:Th};var SU=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function bU(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=SU();return t&&e.setAttribute("nonce",t),e}function TU(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function kU(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var CU=function(){var e=0,t=null;return{add:function(r){e==0&&(t=bU())&&(TU(t,r),kU(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},AU=function(){var e=CU();return function(t,r){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},yA=function(){var e=AU(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},jU={left:0,top:0,right:0,gap:0},Ip=function(e){return parseInt(e||"",10)||0},NU=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Ip(r),Ip(n),Ip(a)]},IU=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return jU;var t=NU(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},RU=yA(),fl="data-scroll-locked",PU=function(e,t,r,n){var a=e.left,s=e.top,i=e.right,o=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(mU,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(o,"px ").concat(n,`;
  }
  body[`).concat(fl,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Th,` {
    right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(kh,` {
    margin-right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(Th," .").concat(Th,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(kh," .").concat(kh,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(fl,`] {
    `).concat(pU,": ").concat(o,`px;
  }
`)},L_=function(){var e=parseInt(document.body.getAttribute(fl)||"0",10);return isFinite(e)?e:0},OU=function(){x.useEffect(function(){return document.body.setAttribute(fl,(L_()+1).toString()),function(){var e=L_()-1;e<=0?document.body.removeAttribute(fl):document.body.setAttribute(fl,e.toString())}},[])},FU=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;OU();var s=x.useMemo(function(){return IU(a)},[a]);return x.createElement(RU,{styles:PU(s,!t,a,r?"":"!important")})},Xv=!1;if(typeof window<"u")try{var Xf=Object.defineProperty({},"passive",{get:function(){return Xv=!0,!0}});window.addEventListener("test",Xf,Xf),window.removeEventListener("test",Xf,Xf)}catch{Xv=!1}var Cc=Xv?{passive:!1}:!1,DU=function(e){return e.tagName==="TEXTAREA"},wA=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!DU(e)&&r[t]==="visible")},MU=function(e){return wA(e,"overflowY")},LU=function(e){return wA(e,"overflowX")},U_=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=EA(e,n);if(a){var s=_A(e,n),i=s[1],o=s[2];if(i>o)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},UU=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},BU=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},EA=function(e,t){return e==="v"?MU(t):LU(t)},_A=function(e,t){return e==="v"?UU(t):BU(t)},$U=function(e,t){return e==="h"&&t==="rtl"?-1:1},zU=function(e,t,r,n,a){var s=$U(e,window.getComputedStyle(t).direction),i=s*n,o=r.target,l=t.contains(o),u=!1,d=i>0,f=0,h=0;do{if(!o)break;var m=_A(e,o),v=m[0],p=m[1],g=m[2],y=p-g-s*v;(v||y)&&EA(e,o)&&(f+=y,h+=v);var E=o.parentNode;o=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!l&&o!==document.body||l&&(t.contains(o)||t===o));return(d&&(Math.abs(f)<1||!a)||!d&&(Math.abs(h)<1||!a))&&(u=!0),u},Yf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},B_=function(e){return[e.deltaX,e.deltaY]},$_=function(e){return e&&"current"in e?e.current:e},VU=function(e,t){return e[0]===t[0]&&e[1]===t[1]},WU=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},HU=0,Ac=[];function GU(e){var t=x.useRef([]),r=x.useRef([0,0]),n=x.useRef(),a=x.useState(HU++)[0],s=x.useState(yA)[0],i=x.useRef(e);x.useEffect(function(){i.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=V1([e.lockRef.current],(e.shards||[]).map($_),!0).filter(Boolean);return p.forEach(function(g){return g.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var o=x.useCallback(function(p,g){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!i.current.allowPinchZoom;var y=Yf(p),E=r.current,w="deltaX"in p?p.deltaX:E[0]-y[0],_="deltaY"in p?p.deltaY:E[1]-y[1],T,b=p.target,S=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in p&&S==="h"&&b.type==="range")return!1;var k=U_(S,b);if(!k)return!0;if(k?T=S:(T=S==="v"?"h":"v",k=U_(S,b)),!k)return!1;if(!n.current&&"changedTouches"in p&&(w||_)&&(n.current=T),!T)return!0;var A=n.current||T;return zU(A,g,p,A==="h"?w:_,!0)},[]),l=x.useCallback(function(p){var g=p;if(!(!Ac.length||Ac[Ac.length-1]!==s)){var y="deltaY"in g?B_(g):Yf(g),E=t.current.filter(function(T){return T.name===g.type&&(T.target===g.target||g.target===T.shadowParent)&&VU(T.delta,y)})[0];if(E&&E.should){g.cancelable&&g.preventDefault();return}if(!E){var w=(i.current.shards||[]).map($_).filter(Boolean).filter(function(T){return T.contains(g.target)}),_=w.length>0?o(g,w[0]):!i.current.noIsolation;_&&g.cancelable&&g.preventDefault()}}},[]),u=x.useCallback(function(p,g,y,E){var w={name:p,delta:g,target:y,should:E,shadowParent:qU(y)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),d=x.useCallback(function(p){r.current=Yf(p),n.current=void 0},[]),f=x.useCallback(function(p){u(p.type,B_(p),p.target,o(p,e.lockRef.current))},[]),h=x.useCallback(function(p){u(p.type,Yf(p),p.target,o(p,e.lockRef.current))},[]);x.useEffect(function(){return Ac.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Cc),document.addEventListener("touchmove",l,Cc),document.addEventListener("touchstart",d,Cc),function(){Ac=Ac.filter(function(p){return p!==s}),document.removeEventListener("wheel",l,Cc),document.removeEventListener("touchmove",l,Cc),document.removeEventListener("touchstart",d,Cc)}},[]);var m=e.removeScrollBar,v=e.inert;return x.createElement(x.Fragment,null,v?x.createElement(s,{styles:WU(a)}):null,m?x.createElement(FU,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function qU(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const JU=_U(xA,GU);var im=x.forwardRef(function(e,t){return x.createElement(sm,ga({},e,{ref:t,sideCar:JU}))});im.classNames=sm.classNames;var KU=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},jc=new WeakMap,Zf=new WeakMap,Qf={},Rp=0,SA=function(e){return e&&(e.host||SA(e.parentNode))},XU=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=SA(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},YU=function(e,t,r,n){var a=XU(t,Array.isArray(e)?e:[e]);Qf[r]||(Qf[r]=new WeakMap);var s=Qf[r],i=[],o=new Set,l=new Set(a),u=function(f){!f||o.has(f)||(o.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(o.has(h))d(h);else try{var m=h.getAttribute(n),v=m!==null&&m!=="false",p=(jc.get(h)||0)+1,g=(s.get(h)||0)+1;jc.set(h,p),s.set(h,g),i.push(h),p===1&&v&&Zf.set(h,!0),g===1&&h.setAttribute(r,"true"),v||h.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return d(t),o.clear(),Rp++,function(){i.forEach(function(f){var h=jc.get(f)-1,m=s.get(f)-1;jc.set(f,h),s.set(f,m),h||(Zf.has(f)||f.removeAttribute(n),Zf.delete(f)),m||f.removeAttribute(r)}),Rp--,Rp||(jc=new WeakMap,jc=new WeakMap,Zf=new WeakMap,Qf={})}},ny=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=KU(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),YU(n,a,r,"aria-hidden")):function(){return null}},om="Dialog",[bA,TA]=Vr(om),[ZU,es]=bA(om),kA=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:i=!0}=e,o=x.useRef(null),l=x.useRef(null),[u,d]=Ta({prop:n,defaultProp:a??!1,onChange:s,caller:om});return c.jsx(ZU,{scope:t,triggerRef:o,contentRef:l,contentId:kr(),titleId:kr(),descriptionId:kr(),open:u,onOpenChange:d,onOpenToggle:x.useCallback(()=>d(f=>!f),[d]),modal:i,children:r})};kA.displayName=om;var CA="DialogTrigger",AA=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=es(CA,r),s=Je(t,a.triggerRef);return c.jsx(Pe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":iy(a.open),...n,ref:s,onClick:Ie(e.onClick,a.onOpenToggle)})});AA.displayName=CA;var ay="DialogPortal",[QU,jA]=bA(ay,{forceMount:void 0}),NA=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,s=es(ay,t);return c.jsx(QU,{scope:t,forceMount:r,children:x.Children.map(n,i=>c.jsx(fn,{present:r||s.open,children:c.jsx(Qd,{asChild:!0,container:a,children:i})}))})};NA.displayName=ay;var d0="DialogOverlay",IA=x.forwardRef((e,t)=>{const r=jA(d0,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=es(d0,e.__scopeDialog);return s.modal?c.jsx(fn,{present:n||s.open,children:c.jsx(tB,{...a,ref:t})}):null});IA.displayName=d0;var eB=Zo("DialogOverlay.RemoveScroll"),tB=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=es(d0,r);return c.jsx(im,{as:eB,allowPinchZoom:!0,shards:[a.contentRef],children:c.jsx(Pe.div,{"data-state":iy(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),rc="DialogContent",RA=x.forwardRef((e,t)=>{const r=jA(rc,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=es(rc,e.__scopeDialog);return c.jsx(fn,{present:n||s.open,children:s.modal?c.jsx(rB,{...a,ref:t}):c.jsx(nB,{...a,ref:t})})});RA.displayName=rc;var rB=x.forwardRef((e,t)=>{const r=es(rc,e.__scopeDialog),n=x.useRef(null),a=Je(t,r.contentRef,n);return x.useEffect(()=>{const s=n.current;if(s)return ny(s)},[]),c.jsx(PA,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ie(e.onCloseAutoFocus,s=>{var i;s.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Ie(e.onPointerDownOutside,s=>{const i=s.detail.originalEvent,o=i.button===0&&i.ctrlKey===!0;(i.button===2||o)&&s.preventDefault()}),onFocusOutside:Ie(e.onFocusOutside,s=>s.preventDefault())})}),nB=x.forwardRef((e,t)=>{const r=es(rc,e.__scopeDialog),n=x.useRef(!1),a=x.useRef(!1);return c.jsx(PA,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i,o;(i=e.onCloseAutoFocus)==null||i.call(e,s),s.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),PA=x.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,...i}=e,o=es(rc,r),l=x.useRef(null),u=Je(t,l);return ry(),c.jsxs(c.Fragment,{children:[c.jsx(am,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:c.jsx(Xl,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":iy(o.open),...i,ref:u,onDismiss:()=>o.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(sB,{titleId:o.titleId}),c.jsx(oB,{contentRef:l,descriptionId:o.descriptionId})]})]})}),sy="DialogTitle",OA=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=es(sy,r);return c.jsx(Pe.h2,{id:a.titleId,...n,ref:t})});OA.displayName=sy;var FA="DialogDescription",DA=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=es(FA,r);return c.jsx(Pe.p,{id:a.descriptionId,...n,ref:t})});DA.displayName=FA;var MA="DialogClose",LA=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=es(MA,r);return c.jsx(Pe.button,{type:"button",...n,ref:t,onClick:Ie(e.onClick,()=>a.onOpenChange(!1))})});LA.displayName=MA;function iy(e){return e?"open":"closed"}var UA="DialogTitleWarning",[aB,BA]=nF(UA,{contentName:rc,titleName:sy,docsSlug:"dialog"}),sB=({titleId:e})=>{const t=BA(UA),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},iB="DialogDescriptionWarning",oB=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${BA(iB).contentName}}.`;return x.useEffect(()=>{var s;const a=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},oy=kA,$A=AA,cy=NA,cm=IA,lm=RA,ly=OA,uy=DA,dy=LA;const ka=oy,cB=$A,lB=cy,zA=x.forwardRef(({className:e,...t},r)=>c.jsx(cm,{ref:r,className:Te("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));zA.displayName=cm.displayName;const Zn=x.forwardRef(({className:e,children:t,...r},n)=>c.jsxs(lB,{children:[c.jsx(zA,{}),c.jsxs(lm,{ref:n,className:Te("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,c.jsxs(dy,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[c.jsx(lk,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Zn.displayName=lm.displayName;const Qn=({className:e,...t})=>c.jsx("div",{className:Te("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Qn.displayName="DialogHeader";const ts=({className:e,...t})=>c.jsx("div",{className:Te("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});ts.displayName="DialogFooter";const ea=x.forwardRef(({className:e,...t},r)=>c.jsx(ly,{ref:r,className:Te("text-lg font-semibold leading-none tracking-tight",e),...t}));ea.displayName=ly.displayName;const Yv=x.forwardRef(({className:e,...t},r)=>c.jsx(uy,{ref:r,className:Te("text-sm text-muted-foreground",e),...t}));Yv.displayName=uy.displayName;const we=x.forwardRef(({className:e,type:t,lang:r="pt-BR",...n},a)=>c.jsx("input",{lang:r,type:t,className:Te("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...n}));we.displayName="Input";var uB="Label",VA=x.forwardRef((e,t)=>c.jsx(Pe.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));VA.displayName=uB;var WA=VA;const dB=J0("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ue=x.forwardRef(({className:e,...t},r)=>c.jsx(WA,{ref:r,className:Te(dB(),e),...t}));ue.displayName=WA.displayName;function fy(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var um="Checkbox",[fB,LZ]=Vr(um),[hB,hy]=fB(um);function mB(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:s,form:i,name:o,onCheckedChange:l,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,m]=Ta({prop:r,defaultProp:a??!1,onChange:l,caller:um}),[v,p]=x.useState(null),[g,y]=x.useState(null),E=x.useRef(!1),w=v?!!i||!!v.closest("form"):!0,_={checked:h,disabled:s,setChecked:m,control:v,setControl:p,name:o,form:i,value:d,hasConsumerStoppedPropagationRef:E,required:u,defaultChecked:Ji(a)?!1:a,isFormControl:w,bubbleInput:g,setBubbleInput:y};return c.jsx(hB,{scope:t,..._,children:pB(f)?f(_):n})}var HA="CheckboxTrigger",GA=x.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:s,value:i,disabled:o,checked:l,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:m,bubbleInput:v}=hy(HA,e),p=Je(a,d),g=x.useRef(l);return x.useEffect(()=>{const y=s==null?void 0:s.form;if(y){const E=()=>f(g.current);return y.addEventListener("reset",E),()=>y.removeEventListener("reset",E)}},[s,f]),c.jsx(Pe.button,{type:"button",role:"checkbox","aria-checked":Ji(l)?"mixed":l,"aria-required":u,"data-state":YA(l),"data-disabled":o?"":void 0,disabled:o,value:i,...n,ref:p,onKeyDown:Ie(t,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:Ie(r,y=>{f(E=>Ji(E)?!0:!E),v&&m&&(h.current=y.isPropagationStopped(),h.current||y.stopPropagation())})})});GA.displayName=HA;var my=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:s,required:i,disabled:o,value:l,onCheckedChange:u,form:d,...f}=e;return c.jsx(mB,{__scopeCheckbox:r,checked:a,defaultChecked:s,disabled:o,required:i,onCheckedChange:u,name:n,form:d,value:l,internal_do_not_use_render:({isFormControl:h})=>c.jsxs(c.Fragment,{children:[c.jsx(GA,{...f,ref:t,__scopeCheckbox:r}),h&&c.jsx(XA,{__scopeCheckbox:r})]})})});my.displayName=um;var qA="CheckboxIndicator",JA=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,s=hy(qA,r);return c.jsx(fn,{present:n||Ji(s.checked)||s.checked===!0,children:c.jsx(Pe.span,{"data-state":YA(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});JA.displayName=qA;var KA="CheckboxBubbleInput",XA=x.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:s,defaultChecked:i,required:o,disabled:l,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:m}=hy(KA,e),v=Je(r,m),p=fy(s),g=A1(n);x.useEffect(()=>{const E=h;if(!E)return;const w=window.HTMLInputElement.prototype,T=Object.getOwnPropertyDescriptor(w,"checked").set,b=!a.current;if(p!==s&&T){const S=new Event("click",{bubbles:b});E.indeterminate=Ji(s),T.call(E,Ji(s)?!1:s),E.dispatchEvent(S)}},[h,p,s,a]);const y=x.useRef(Ji(s)?!1:s);return c.jsx(Pe.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??y.current,required:o,disabled:l,name:u,value:d,form:f,...t,tabIndex:-1,ref:v,style:{...t.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});XA.displayName=KA;function pB(e){return typeof e=="function"}function Ji(e){return e==="indeterminate"}function YA(e){return Ji(e)?"indeterminate":e?"checked":"unchecked"}const Ot=x.forwardRef(({className:e,...t},r)=>c.jsx(my,{ref:r,className:Te("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:c.jsx(JA,{className:Te("flex items-center justify-center text-current"),children:c.jsx(ya,{className:"h-4 w-4"})})}));Ot.displayName=my.displayName;const Pp={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},py=e=>Tt({queryKey:["talhoes",e],queryFn:async()=>{if(!e)return[];const t=Pp==null?void 0:Pp.VITE_API_URL,r=typeof window<"u"?window.location.hostname:"127.0.0.1",n=t||`http://${r}:5000`,a=await fetch(`${n}/talhoes?fazenda_id=${encodeURIComponent(e)}`);if(!a.ok){const i=await a.text();throw new Error(i)}const s=await a.json();return(s==null?void 0:s.items)||[]},enabled:!!e}),Nc={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"};function gy({fazendaId:e,fazendaNome:t,open:r,onOpenChange:n}){const{data:a=[],refetch:s}=py(e),[i,o]=x.useState(null),l=bt(),u=async()=>{if(!i)return;const h=parseFloat(i.area);if(isNaN(h)||h<=0){ce.error("rea deve ser um nmero positivo");return}try{const m=Nc==null?void 0:Nc.VITE_API_URL,v=typeof window<"u"?window.location.hostname:"127.0.0.1",p=m||`http://${v}:5000`;if(i.id){const g=await fetch(`${p}/talhoes/${i.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({nome:i.nome,area:h,arrendado:i.arrendado})});if(!g.ok){const y=await g.text();throw new Error(y)}ce.success("Talho atualizado")}else{const g=await fetch(`${p}/talhoes`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fazenda_id:e,nome:i.nome,area:h,arrendado:i.arrendado})});if(!g.ok){const y=await g.text();throw new Error(y)}ce.success("Talho criado")}o(null),s(),l.invalidateQueries({queryKey:["fazendas"]}),l.invalidateQueries({queryKey:["fazendas-multi"]})}catch(m){ce.error(m.message||"Erro ao salvar talho")}},d=async h=>{if(confirm("Deseja excluir este talho?"))try{const m=Nc==null?void 0:Nc.VITE_API_URL,v=typeof window<"u"?window.location.hostname:"127.0.0.1",p=m||`http://${v}:5000`,g=await fetch(`${p}/talhoes/${h}`,{method:"DELETE"});if(!g.ok){const y=await g.text();throw new Error(y)}ce.success("Talho excludo"),s(),l.invalidateQueries({queryKey:["fazendas"]}),l.invalidateQueries({queryKey:["fazendas-multi"]})}catch(m){ce.error(m.message||"Erro ao excluir talho")}},f=a.reduce((h,m)=>h+Number(m.area),0);return c.jsx(ka,{open:r,onOpenChange:n,children:c.jsxs(Zn,{className:"max-w-2xl",children:[c.jsx(Qn,{children:c.jsxs(ea,{children:["Gerenciar Talhes - ",t]})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("p",{className:"text-sm text-muted-foreground",children:["rea total: ",c.jsxs("span",{className:"font-semibold",children:[f.toFixed(2)," ha"]})]}),c.jsxs(ae,{onClick:()=>o({nome:"",area:"",arrendado:!1}),size:"sm",children:[c.jsx(Xa,{className:"h-4 w-4 mr-2"}),"Novo Talho"]})]}),i&&c.jsx(Ue,{className:"p-4 bg-muted/50",children:c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx(ue,{children:"Nome do Talho"}),c.jsx(we,{value:i.nome,onChange:h=>o({...i,nome:h.target.value}),placeholder:"Ex: Talho 1"})]}),c.jsxs("div",{children:[c.jsx(ue,{children:"rea (ha)"}),c.jsx(we,{type:"number",step:"0.01",value:i.area,onChange:h=>o({...i,area:h.target.value}),placeholder:"Ex: 50.5"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Ot,{id:"arrendado",checked:i.arrendado,onCheckedChange:h=>o({...i,arrendado:h})}),c.jsx(ue,{htmlFor:"arrendado",className:"cursor-pointer",children:"Talho Arrendado"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(ae,{onClick:u,size:"sm",children:"Salvar"}),c.jsx(ae,{onClick:()=>o(null),variant:"outline",size:"sm",children:"Cancelar"})]})]})}),c.jsx("div",{className:"space-y-2 max-h-[300px] overflow-y-auto",children:a.length===0?c.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Nenhum talho cadastrado"}):a.map(h=>c.jsxs(Ue,{className:"p-3 flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("p",{className:"font-medium",children:h.nome}),h.arrendado&&c.jsx("span",{className:"text-xs bg-muted px-2 py-0.5 rounded",children:"Arrendado"})]}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:[Number(h.area).toFixed(2)," ha"]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(ae,{variant:"outline",size:"icon",onClick:()=>o({id:h.id,nome:h.nome,area:h.area.toString(),arrendado:h.arrendado}),children:c.jsx(Qa,{className:"h-4 w-4"})}),c.jsx(ae,{variant:"outline",size:"icon",onClick:()=>d(h.id),children:c.jsx(vr,{className:"h-4 w-4"})})]})]},h.id))})]}),c.jsx(ts,{children:c.jsx(ae,{variant:"outline",onClick:()=>n(!1),children:"Fechar"})})]})})}const Op={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},gB=()=>{const{programacoes:e,isLoading:t,error:r}=af(),{programacoes:n,isLoading:a,error:s}=Q1(),{aplicacoes:i,isLoading:o,error:l}=ey(),u=e??[],d=n??[],f=i??[];x.useMemo(()=>new Date().toLocaleString(),[]);const h="false".toLowerCase()==="true",{profile:m,updateProfile:v}=pA(),{data:p=[]}=eo(),{data:g=[]}=mc(),{toast:y}=dn(),E=bt();x.useEffect(()=>{(async()=>{if(m&&!m.numerocm_consultor){const{data:{user:X}}=await Ce.auth.getUser();if(X!=null&&X.email){const B=Op==null?void 0:Op.VITE_API_URL,z=typeof window<"u"?window.location.hostname:"127.0.0.1",Y=B||`http://${z}:5000`,F=await fetch(`${Y}/consultores/by_email?email=${encodeURIComponent(X.email.toLowerCase())}`);if(F.ok){const ne=await F.json(),Z=ne==null?void 0:ne.item;Z&&(await Ce.from("profiles").update({numerocm_consultor:Z.numerocm_consultor,nome:Z.consultor}).eq("user_id",X.id),E.invalidateQueries({queryKey:["profile"]}))}}}})()},[m,E]);const[w,_]=x.useState(!1),[T,b]=x.useState(null),S=x.useMemo(()=>g,[g]),k=x.useMemo(()=>{const M={};return S.forEach(X=>{M[X.numerocm]=p.filter(B=>B.numerocm===X.numerocm)}),M},[S,p]),A=(M,X)=>M?"...":X.toString(),j=M=>M?c.jsx("p",{className:"text-sm text-destructive mt-2",children:"Erro ao carregar dados."}):null,I=rf(),N=async()=>{try{await Ce.auth.signOut(),E.clear(),I("/auth",{replace:!0})}catch(M){console.error("Erro ao fazer logout",M),y({title:"Erro ao sair",description:"Tente novamente.",variant:"destructive"})}},{data:W}=ty();return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx("header",{className:"border-b bg-card",children:c.jsx("div",{className:"container mx-auto px-4 py-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(mv,{className:"h-8 w-8 text-primary"}),c.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"AgroPlan"})]}),c.jsxs("div",{className:"flex gap-2",children:[(W==null?void 0:W.isAdmin)&&c.jsx(No,{to:"/admin",children:c.jsxs(ae,{variant:"outline",size:"sm",children:[c.jsx(Yh,{className:"h-4 w-4 mr-2"}),"Admin"]})}),c.jsx(ae,{variant:"outline",size:"sm",onClick:N,children:"Sair"})]})]})})}),c.jsxs("main",{className:"container mx-auto px-4 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:"Dashboard"}),c.jsx("p",{className:"text-muted-foreground",children:"Gerencie programacoes agricolas e cultivos"})]}),h&&c.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3 mb-8",children:[c.jsxs(Ue,{className:"p-6 hover:shadow-lg transition-shadow",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx(mv,{className:"h-10 w-10 text-primary"}),c.jsx("span",{className:"text-2xl font-bold text-primary",children:A(t,u.length)})]}),c.jsx("h3",{className:"font-semibold text-lg mb-1",children:"Cultivares ativos"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Programacoes de plantio cadastradas"}),j(r)]}),c.jsxs(Ue,{className:"p-6 hover:shadow-lg transition-shadow",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx(XF,{className:"h-10 w-10 text-primary"}),c.jsx("span",{className:"text-2xl font-bold text-primary",children:A(a,d.length)})]}),c.jsx("h3",{className:"font-semibold text-lg mb-1",children:"Adubacoes"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Programacoes de fertilizacao"}),j(s)]}),c.jsxs(Ue,{className:"p-6 hover:shadow-lg transition-shadow",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx(Zh,{className:"h-10 w-10 text-primary"}),c.jsx("span",{className:"text-2xl font-bold text-primary",children:A(o,f.length)})]}),c.jsx("h3",{className:"font-semibold text-lg mb-1",children:"Defensivos"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Aplicacoes defensivas planejadas"}),j(l)]})]}),c.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[c.jsx(No,{to:"/programacao",children:c.jsxs(Ue,{className:"p-6 hover:bg-primary hover:text-primary-foreground transition-all cursor-pointer group",children:[c.jsx(hv,{className:"h-8 w-8 mb-4 text-primary group-hover:text-primary-foreground"}),c.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Programao"}),c.jsx("p",{className:"text-sm text-muted-foreground group-hover:text-primary-foreground",children:"Planejamento completo de cultivares e adubao"})]})}),c.jsx(No,{to:"/defensivos",children:c.jsxs(Ue,{className:"p-6 hover:bg-primary hover:text-primary-foreground transition-all cursor-pointer group",children:[c.jsx(Zh,{className:"h-8 w-8 mb-4 text-primary group-hover:text-primary-foreground"}),c.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Defensivos"}),c.jsx("p",{className:"text-sm text-muted-foreground group-hover:text-primary-foreground",children:"Programar aplicacoes"})]})}),c.jsx(No,{to:"/relatorios",children:c.jsxs(Ue,{className:"p-6 hover:bg-primary hover:text-primary-foreground transition-all cursor-pointer group",children:[c.jsx(ik,{className:"h-8 w-8 mb-4 text-primary group-hover:text-primary-foreground"}),c.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Relatorios"}),c.jsx("p",{className:"text-sm text-muted-foreground group-hover:text-primary-foreground",children:"Visualizar dados consolidados"})]})})]}),c.jsxs(Ue,{className:"mt-6 p-6 bg-card",children:[c.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(YF,{className:"h-6 w-6 text-primary"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-lg",children:"Gerenciar Talhes"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Cadastre e edite os talhes das suas fazendas"})]})]})}),S.length===0?c.jsx("div",{className:"text-center py-4 text-muted-foreground",children:c.jsx("p",{children:"Nenhum produtor vinculado ao seu perfil."})}):c.jsx("div",{className:"space-y-4",children:S.map(M=>{const X=k[M.numerocm]||[];return X.length===0?null:c.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[c.jsx("div",{className:"font-medium text-sm text-muted-foreground",children:M.nome}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:X.map(B=>c.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md hover:bg-muted/50 transition-colors",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"font-medium text-sm truncate",children:B.nomefazenda}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:[Number(B.area_cultivavel||0).toFixed(2)," ha"]})]}),c.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>{b({id:B.id,nome:B.nomefazenda}),_(!0)},children:c.jsx(Yh,{className:"h-4 w-4"})})]},B.id))})]},M.numerocm)})})]})]}),T&&c.jsx(gy,{fazendaId:T.id,fazendaNome:T.nome,open:w,onOpenChange:_})]})};var vB=x.createContext(void 0);function sf(e){const t=x.useContext(vB);return e||t||"ltr"}var Fp="rovingFocusGroup.onEntryFocus",xB={bubbles:!1,cancelable:!0},of="RovingFocusGroup",[Zv,ZA,yB]=H0(of),[wB,QA]=Vr(of,[yB]),[EB,_B]=wB(of),ej=x.forwardRef((e,t)=>c.jsx(Zv.Provider,{scope:e.__scopeRovingFocusGroup,children:c.jsx(Zv.Slot,{scope:e.__scopeRovingFocusGroup,children:c.jsx(SB,{...e,ref:t})})}));ej.displayName=of;var SB=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:s,currentTabStopId:i,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=x.useRef(null),m=Je(t,h),v=sf(s),[p,g]=Ta({prop:i,defaultProp:o??null,onChange:l,caller:of}),[y,E]=x.useState(!1),w=dr(u),_=ZA(r),T=x.useRef(!1),[b,S]=x.useState(0);return x.useEffect(()=>{const k=h.current;if(k)return k.addEventListener(Fp,w),()=>k.removeEventListener(Fp,w)},[w]),c.jsx(EB,{scope:r,orientation:n,dir:v,loop:a,currentTabStopId:p,onItemFocus:x.useCallback(k=>g(k),[g]),onItemShiftTab:x.useCallback(()=>E(!0),[]),onFocusableItemAdd:x.useCallback(()=>S(k=>k+1),[]),onFocusableItemRemove:x.useCallback(()=>S(k=>k-1),[]),children:c.jsx(Pe.div,{tabIndex:y||b===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:Ie(e.onMouseDown,()=>{T.current=!0}),onFocus:Ie(e.onFocus,k=>{const A=!T.current;if(k.target===k.currentTarget&&A&&!y){const j=new CustomEvent(Fp,xB);if(k.currentTarget.dispatchEvent(j),!j.defaultPrevented){const I=_().filter(B=>B.focusable),N=I.find(B=>B.active),W=I.find(B=>B.id===p),X=[N,W,...I].filter(Boolean).map(B=>B.ref.current);nj(X,d)}}T.current=!1}),onBlur:Ie(e.onBlur,()=>E(!1))})})}),tj="RovingFocusGroupItem",rj=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:s,children:i,...o}=e,l=kr(),u=s||l,d=_B(tj,r),f=d.currentTabStopId===u,h=ZA(r),{onFocusableItemAdd:m,onFocusableItemRemove:v,currentTabStopId:p}=d;return x.useEffect(()=>{if(n)return m(),()=>v()},[n,m,v]),c.jsx(Zv.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:c.jsx(Pe.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...o,ref:t,onMouseDown:Ie(e.onMouseDown,g=>{n?d.onItemFocus(u):g.preventDefault()}),onFocus:Ie(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Ie(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){d.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const y=kB(g,d.orientation,d.dir);if(y!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let w=h().filter(_=>_.focusable).map(_=>_.ref.current);if(y==="last")w.reverse();else if(y==="prev"||y==="next"){y==="prev"&&w.reverse();const _=w.indexOf(g.currentTarget);w=d.loop?CB(w,_+1):w.slice(_+1)}setTimeout(()=>nj(w))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:p!=null}):i})})});rj.displayName=tj;var bB={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function TB(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function kB(e,t,r){const n=TB(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return bB[n]}function nj(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function CB(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var AB=ej,jB=rj,dm="Tabs",[NB,UZ]=Vr(dm,[QA]),aj=QA(),[IB,vy]=NB(dm),sj=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:s,orientation:i="horizontal",dir:o,activationMode:l="automatic",...u}=e,d=sf(o),[f,h]=Ta({prop:n,onChange:a,defaultProp:s??"",caller:dm});return c.jsx(IB,{scope:r,baseId:kr(),value:f,onValueChange:h,orientation:i,dir:d,activationMode:l,children:c.jsx(Pe.div,{dir:d,"data-orientation":i,...u,ref:t})})});sj.displayName=dm;var ij="TabsList",oj=x.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,s=vy(ij,r),i=aj(r);return c.jsx(AB,{asChild:!0,...i,orientation:s.orientation,dir:s.dir,loop:n,children:c.jsx(Pe.div,{role:"tablist","aria-orientation":s.orientation,...a,ref:t})})});oj.displayName=ij;var cj="TabsTrigger",lj=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...s}=e,i=vy(cj,r),o=aj(r),l=fj(i.baseId,n),u=hj(i.baseId,n),d=n===i.value;return c.jsx(jB,{asChild:!0,...o,focusable:!a,active:d,children:c.jsx(Pe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:l,...s,ref:t,onMouseDown:Ie(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?i.onValueChange(n):f.preventDefault()}),onKeyDown:Ie(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(n)}),onFocus:Ie(e.onFocus,()=>{const f=i.activationMode!=="manual";!d&&!a&&f&&i.onValueChange(n)})})})});lj.displayName=cj;var uj="TabsContent",dj=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:s,...i}=e,o=vy(uj,r),l=fj(o.baseId,n),u=hj(o.baseId,n),d=n===o.value,f=x.useRef(d);return x.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),c.jsx(fn,{present:a||d,children:({present:h})=>c.jsx(Pe.div,{"data-state":d?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&s})})});dj.displayName=uj;function fj(e,t){return`${e}-trigger-${t}`}function hj(e,t){return`${e}-content-${t}`}var RB=sj,mj=oj,pj=lj,gj=dj;const PB=RB,vj=x.forwardRef(({className:e,...t},r)=>c.jsx(mj,{ref:r,className:Te("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));vj.displayName=mj.displayName;const Qv=x.forwardRef(({className:e,...t},r)=>c.jsx(pj,{ref:r,className:Te("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Qv.displayName=pj.displayName;const ex=x.forwardRef(({className:e,...t},r)=>c.jsx(gj,{ref:r,className:Te("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));ex.displayName=gj.displayName;const Ic={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},OB=()=>{const[e,t]=x.useState(""),[r,n]=x.useState(""),[a,s]=x.useState(!1),i=rf(),{toast:o}=dn();x.useEffect(()=>{Ce.auth.getSession().then(({data:{session:d}})=>{d&&i("/",{replace:!0})})},[i]);const l=async d=>{d.preventDefault(),s(!0);const f=Ic==null?void 0:Ic.VITE_API_URL,h=typeof window<"u"?window.location.hostname:"127.0.0.1",m=f||`http://${h}:5000`;if(!(await fetch(`${m}/consultores/by_email?email=${encodeURIComponent(e.toLowerCase())}`)).ok){o({title:"Cadastro bloqueado",description:"Email no encontrado na base de consultores.",variant:"destructive"}),s(!1);return}const{error:p}=await Ce.auth.signUp({email:e,password:r,options:{emailRedirectTo:`${window.location.origin}/`}});o(p?{title:"Erro ao criar conta",description:p.message,variant:"destructive"}:{title:"Conta criada!",description:"Voc j pode fazer login."}),s(!1)},u=async d=>{d.preventDefault(),s(!0);const f=Ic==null?void 0:Ic.VITE_API_URL,h=typeof window<"u"?window.location.hostname:"127.0.0.1",m=f||`http://${h}:5000`;if(!(await fetch(`${m}/consultores/by_email?email=${encodeURIComponent(e.toLowerCase())}`)).ok){o({title:"Login bloqueado",description:"Email no encontrado na base de consultores.",variant:"destructive"}),s(!1);return}const{error:p}=await Ce.auth.signInWithPassword({email:e,password:r});p?o({title:"Erro ao fazer login",description:p.message,variant:"destructive"}):i("/"),s(!1)};return c.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:c.jsxs(Ue,{className:"w-full max-w-md p-8",children:[c.jsxs("div",{className:"flex flex-col items-center mb-8",children:[c.jsx(mv,{className:"h-16 w-16 text-primary mb-4"}),c.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"AgroPlan"}),c.jsx("p",{className:"text-muted-foreground text-center mt-2",children:"Sistema de Planejamento Agrcola"})]}),c.jsxs(PB,{defaultValue:"signin",className:"w-full",children:[c.jsxs(vj,{className:"grid w-full grid-cols-2",children:[c.jsx(Qv,{value:"signin",children:"Entrar"}),c.jsx(Qv,{value:"signup",children:"Criar Conta"})]}),c.jsx(ex,{value:"signin",children:c.jsxs("form",{onSubmit:u,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ue,{htmlFor:"signin-email",children:"Email"}),c.jsx(we,{id:"signin-email",type:"email",placeholder:"seu@email.com",value:e,onChange:d=>t(d.target.value),required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ue,{htmlFor:"signin-password",children:"Senha"}),c.jsx(we,{id:"signin-password",type:"password",value:r,onChange:d=>n(d.target.value),required:!0})]}),c.jsx(ae,{type:"submit",className:"w-full",disabled:a,children:a?"Entrando...":"Entrar"})]})}),c.jsx(ex,{value:"signup",children:c.jsxs("form",{onSubmit:l,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ue,{htmlFor:"signup-email",children:"Email"}),c.jsx(we,{id:"signup-email",type:"email",placeholder:"seu@email.com",value:e,onChange:d=>t(d.target.value),required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ue,{htmlFor:"signup-password",children:"Senha"}),c.jsx(we,{id:"signup-password",type:"password",value:r,onChange:d=>n(d.target.value),required:!0,minLength:6})]}),c.jsx(ae,{type:"submit",className:"w-full",disabled:a,children:a?"Criando conta...":"Criar Conta"})]})})]})]})})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var xj=1252,FB=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],xy={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},yy=function(e){FB.indexOf(e)!=-1&&(xj=xy[0]=e)};function DB(){yy(1252)}var Wa=function(e){yy(e)};function yj(){Wa(1200),DB()}function z_(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function MB(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function wj(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var Mu=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?MB(e.slice(2)):t==254&&r==255?wj(e.slice(2)):t==65279?e.slice(1):e},eh=function(t){return String.fromCharCode(t)},V_=function(t){return String.fromCharCode(t)},Ei,Di="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function W_(e){for(var t="",r=0,n=0,a=0,s=0,i=0,o=0,l=0,u=0;u<e.length;)r=e.charCodeAt(u++),s=r>>2,n=e.charCodeAt(u++),i=(r&3)<<4|n>>4,a=e.charCodeAt(u++),o=(n&15)<<2|a>>6,l=a&63,isNaN(n)?o=l=64:isNaN(a)&&(l=64),t+=Di.charAt(s)+Di.charAt(i)+Di.charAt(o)+Di.charAt(l);return t}function ta(e){var t="",r=0,n=0,a=0,s=0,i=0,o=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)s=Di.indexOf(e.charAt(u++)),i=Di.indexOf(e.charAt(u++)),r=s<<2|i>>4,t+=String.fromCharCode(r),o=Di.indexOf(e.charAt(u++)),n=(i&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),l=Di.indexOf(e.charAt(u++)),a=(o&3)<<6|l,l!==64&&(t+=String.fromCharCode(a));return t}var rt=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),pc=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function to(e){return rt?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function H_(e){return rt?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Va=function(t){return rt?pc(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function gc(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function wy(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return wy(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var _i=rt?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:pc(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function LB(e){for(var t=[],r=0,n=e.length+250,a=to(e.length+255),s=0;s<e.length;++s){var i=e.charCodeAt(s);if(i<128)a[r++]=i;else if(i<2048)a[r++]=192|i>>6&31,a[r++]=128|i&63;else if(i>=55296&&i<57344){i=(i&1023)+64;var o=e.charCodeAt(++s)&1023;a[r++]=240|i>>8&7,a[r++]=128|i>>2&63,a[r++]=128|o>>6&15|(i&3)<<4,a[r++]=128|o&63}else a[r++]=224|i>>12&15,a[r++]=128|i>>6&63,a[r++]=128|i&63;r>n&&(t.push(a.slice(0,r)),r=0,a=to(65535),n=65530)}return t.push(a.slice(0,r)),_i(t)}var on=/\u0000/g,Lu=/[\u0001-\u0006]/g;function hl(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Ha(e,t){var r=""+e;return r.length>=t?r:Wt("0",t-r.length)+r}function Ey(e,t){var r=""+e;return r.length>=t?r:Wt(" ",t-r.length)+r}function f0(e,t){var r=""+e;return r.length>=t?r:r+Wt(" ",t-r.length)}function UB(e,t){var r=""+Math.round(e);return r.length>=t?r:Wt("0",t-r.length)+r}function BB(e,t){var r=""+e;return r.length>=t?r:Wt("0",t-r.length)+r}var G_=Math.pow(2,32);function Rc(e,t){if(e>G_||e<-G_)return UB(e,t);var r=Math.round(e);return BB(r,t)}function h0(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var q_=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Dp=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function $B(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var qe={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},J_={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},zB={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function m0(e,t,r){for(var n=e<0?-1:1,a=e*n,s=0,i=1,o=0,l=1,u=0,d=0,f=Math.floor(a);u<t&&(f=Math.floor(a),o=f*i+s,d=f*u+l,!(a-f<5e-8));)a=1/(a-f),s=i,i=o,l=u,u=d;if(d>t&&(u>t?(d=l,o=s):(d=u,o=i)),!r)return[0,n*o,d];var h=Math.floor(n*o/d);return[h,n*o-h*d,d]}function Ro(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),s=0,i=[],o={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)i=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)i=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),i=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),n<60&&(s=(s+6)%7),r&&(s=JB(l,i))}return o.y=i[0],o.m=i[1],o.d=i[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=s,o}var Ej=new Date(1899,11,31,0,0,0),VB=Ej.getTime(),WB=new Date(1900,2,1,0,0,0);function _j(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=WB&&(r+=24*60*60*1e3),(r-(VB+(e.getTimezoneOffset()-Ej.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function _y(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function HB(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function GB(e){var t=e<0?12:11,r=_y(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function qB(e){var t=_y(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Fd(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=GB(e):t===10?r=e.toFixed(10).substr(0,12):r=qB(e),_y(HB(r.toUpperCase()))}function nc(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Fd(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Ca(14,_j(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function JB(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function KB(e,t,r,n){var a="",s=0,i=0,o=r.y,l,u=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:l=o%100,u=2;break;default:l=o%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:l=r.m,u=t.length;break;case 3:return Dp[r.m-1][1];case 5:return Dp[r.m-1][0];default:return Dp[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=r.d,u=t.length;break;case 3:return q_[r.q][0];default:return q_[r.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Ha(r.S,t.length):(n>=2?i=n===3?1e3:100:i=n===1?10:1,s=Math.round(i*(r.S+r.u)),s>=60*i&&(s=0),t==="s"?s===0?"0":""+s/i:(a=Ha(s,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:l=o,u=1;break}var d=u>0?Ha(l,u):"";return d}function Mi(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var Sj=/%/g;function XB(e,t,r){var n=t.replace(Sj,""),a=t.length-n.length;return Hs(e,n,r*Math.pow(10,2*a))+Wt("%",a)}function YB(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Hs(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function bj(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+bj(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),r.indexOf("e")===-1){var i=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+s):r+="E+"+(i-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,u,d){return l+u+d.substr(0,(a+s)%a)+"."+d.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var Tj=/# (\?+)( ?)\/( ?)(\d+)/;function ZB(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),s=Math.floor(a/n),i=a-s*n,o=n;return r+(s===0?"":""+s)+" "+(i===0?Wt(" ",e[1].length+1+e[4].length):Ey(i,e[1].length)+e[2]+"/"+e[3]+Ha(o,e[4].length))}function QB(e,t,r){return r+(t===0?"":""+t)+Wt(" ",e[1].length+2+e[4].length)}var kj=/^#*0*\.([0#]+)/,Cj=/\).*[0#]/,Aj=/\(###\) ###\\?-####/;function rn(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function K_(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function X_(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function e$(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function t$(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function ua(e,t,r){if(e.charCodeAt(0)===40&&!t.match(Cj)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ua("n",n,r):"("+ua("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return YB(e,t,r);if(t.indexOf("%")!==-1)return XB(e,t,r);if(t.indexOf("E")!==-1)return bj(t,r);if(t.charCodeAt(0)===36)return"$"+ua(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,i,o,l=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Rc(l,t.length);if(t.match(/^[#?]+$/))return a=Rc(r,0),a==="0"&&(a=""),a.length>t.length?a:rn(t.substr(0,t.length-a.length))+a;if(s=t.match(Tj))return ZB(s,l,u);if(t.match(/^#+0+$/))return u+Rc(l,t.length-t.indexOf("0"));if(s=t.match(kj))return a=K_(r,s[1].length).replace(/^([^\.]+)$/,"$1."+rn(s[1])).replace(/\.$/,"."+rn(s[1])).replace(/\.(\d*)$/,function(v,p){return"."+p+Wt("0",rn(s[1]).length-p.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+K_(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+Mi(Rc(l,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ua(e,t,-r):Mi(""+(Math.floor(r)+e$(r,s[1].length)))+"."+Ha(X_(r,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return ua(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=hl(ua(e,t.replace(/[\\-]/g,""),r)),i=0,hl(hl(t.replace(/\\/g,"")).replace(/[0#]/g,function(v){return i<a.length?a.charAt(i++):v==="0"?"0":""}));if(t.match(Aj))return a=ua(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(s[4].length,7),o=m0(l,Math.pow(10,i)-1,!1),a=""+u,d=Hs("n",s[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+s[2]+"/"+s[3],d=f0(o[2],i),d.length<s[4].length&&(d=rn(s[4].substr(s[4].length-d.length))+d),a+=d,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(s[1].length,s[4].length),7),o=m0(l,Math.pow(10,i)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?Ey(o[1],i)+s[2]+"/"+s[3]+f0(o[2],i):Wt(" ",2*i+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=Rc(r,0),t.length<=a.length?a:rn(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),i=a.indexOf(".");var f=t.indexOf(".")-i,h=t.length-a.length-f;return rn(t.substr(0,f)+a+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return i=X_(r,s[1].length),r<0?"-"+ua(e,t,-r):Mi(t$(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?Ha(0,3-v.length):"")+v})+"."+Ha(i,s[1].length);switch(t){case"###,##0.00":return ua(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var m=Mi(Rc(l,0));return m!=="0"?u+m:"";case"###,###.00":return ua(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return ua(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function r$(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Hs(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function n$(e,t,r){var n=t.replace(Sj,""),a=t.length-n.length;return Hs(e,n,r*Math.pow(10,2*a))+Wt("%",a)}function jj(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+jj(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),!r.match(/[Ee]/)){var i=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+s):r+="E+"+(i-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,u,d){return l+u+d.substr(0,(a+s)%a)+"."+d.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function cs(e,t,r){if(e.charCodeAt(0)===40&&!t.match(Cj)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?cs("n",n,r):"("+cs("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return r$(e,t,r);if(t.indexOf("%")!==-1)return n$(e,t,r);if(t.indexOf("E")!==-1)return jj(t,r);if(t.charCodeAt(0)===36)return"$"+cs(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,i,o,l=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Ha(l,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:rn(t.substr(0,t.length-a.length))+a;if(s=t.match(Tj))return QB(s,l,u);if(t.match(/^#+0+$/))return u+Ha(l,t.length-t.indexOf("0"));if(s=t.match(kj))return a=(""+r).replace(/^([^\.]+)$/,"$1."+rn(s[1])).replace(/\.$/,"."+rn(s[1])),a=a.replace(/\.(\d*)$/,function(v,p){return"."+p+Wt("0",rn(s[1]).length-p.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+Mi(""+l);if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+cs(e,t,-r):Mi(""+r)+"."+Wt("0",s[1].length);if(s=t.match(/^#,#*,#0/))return cs(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=hl(cs(e,t.replace(/[\\-]/g,""),r)),i=0,hl(hl(t.replace(/\\/g,"")).replace(/[0#]/g,function(v){return i<a.length?a.charAt(i++):v==="0"?"0":""}));if(t.match(Aj))return a=cs(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(s[4].length,7),o=m0(l,Math.pow(10,i)-1,!1),a=""+u,d=Hs("n",s[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+s[2]+"/"+s[3],d=f0(o[2],i),d.length<s[4].length&&(d=rn(s[4].substr(s[4].length-d.length))+d),a+=d,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(s[1].length,s[4].length),7),o=m0(l,Math.pow(10,i)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?Ey(o[1],i)+s[2]+"/"+s[3]+f0(o[2],i):Wt(" ",2*i+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:rn(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),i=a.indexOf(".");var f=t.indexOf(".")-i,h=t.length-a.length-f;return rn(t.substr(0,f)+a+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+cs(e,t,-r):Mi(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?Ha(0,3-v.length):"")+v})+"."+Ha(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var m=Mi(""+l);return m!=="0"?u+m:"";default:if(t.match(/\.[0#?]*$/))return cs(e,t.slice(0,t.lastIndexOf(".")),r)+rn(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Hs(e,t,r){return(r|0)===r?cs(e,t,r):ua(e,t,r)}function a$(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var Nj=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function cu(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":h0(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(Nj))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function s$(e,t,r,n){for(var a=[],s="",i=0,o="",l="t",u,d,f,h="H";i<e.length;)switch(o=e.charAt(i)){case"G":if(!h0(e,i))throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"G",v:"General"},i+=7;break;case'"':for(s="";(f=e.charCodeAt(++i))!==34&&i<e.length;)s+=String.fromCharCode(f);a[a.length]={t:"t",v:s},++i;break;case"\\":var m=e.charAt(++i),v=m==="("||m===")"?m:"t";a[a.length]={t:v,v:m},++i;break;case"_":a[a.length]={t:"t",v:" "},i+=2;break;case"@":a[a.length]={t:"T",v:t},++i;break;case"B":case"b":if(e.charAt(i+1)==="1"||e.charAt(i+1)==="2"){if(u==null&&(u=Ro(t,r,e.charAt(i+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(i,2)},l=o,i+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=Ro(t,r),u==null))return"";for(s=o;++i<e.length&&e.charAt(i).toLowerCase()===o;)s+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),a[a.length]={t:o,v:s},l=o;break;case"A":case"a":case"":var p={t:o,v:o};if(u==null&&(u=Ro(t,r)),e.substr(i,3).toUpperCase()==="A/P"?(u!=null&&(p.v=u.H>=12?"P":"A"),p.t="T",h="h",i+=3):e.substr(i,5).toUpperCase()==="AM/PM"?(u!=null&&(p.v=u.H>=12?"PM":"AM"),p.t="T",i+=5,h="h"):e.substr(i,5).toUpperCase()==="/"?(u!=null&&(p.v=u.H>=12?"":""),p.t="T",i+=5,h="h"):(p.t="t",++i),u==null&&p.t==="T")return"";a[a.length]=p,l=o;break;case"[":for(s=o;e.charAt(i++)!=="]"&&i<e.length;)s+=e.charAt(i);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(Nj)){if(u==null&&(u=Ro(t,r),u==null))return"";a[a.length]={t:"Z",v:s.toLowerCase()},l=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",cu(e)||(a[a.length]={t:"t",v:s}));break;case".":if(u!=null){for(s=o;++i<e.length&&(o=e.charAt(i))==="0";)s+=o;a[a.length]={t:"s",v:s};break}case"0":case"#":for(s=o;++i<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(i))>-1;)s+=o;a[a.length]={t:"n",v:s};break;case"?":for(s=o;e.charAt(++i)===o;)s+=o;a[a.length]={t:o,v:s},l=o;break;case"*":++i,(e.charAt(i)==" "||e.charAt(i)=="*")&&++i;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++i;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=o;i<e.length&&"0123456789".indexOf(e.charAt(++i))>-1;)s+=e.charAt(i);a[a.length]={t:"D",v:s};break;case" ":a[a.length]={t:o,v:o},++i;break;case"$":a[a.length]={t:"t",v:"$"},++i;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"t",v:o},++i;break}var g=0,y=0,E;for(i=a.length-1,l="t";i>=0;--i)switch(a[i].t){case"h":case"H":a[i].t=h,l="h",g<1&&(g=1);break;case"s":(E=a[i].v.match(/\.0+$/))&&(y=Math.max(y,E[0].length-1)),g<3&&(g=3);case"d":case"y":case"M":case"e":l=a[i].t;break;case"m":l==="s"&&(a[i].t="M",g<2&&(g=2));break;case"X":break;case"Z":g<1&&a[i].v.match(/[Hh]/)&&(g=1),g<2&&a[i].v.match(/[Mm]/)&&(g=2),g<3&&a[i].v.match(/[Ss]/)&&(g=3)}switch(g){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var w="",_;for(i=0;i<a.length;++i)switch(a[i].t){case"t":case"T":case" ":case"D":break;case"X":a[i].v="",a[i].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[i].v=KB(a[i].t.charCodeAt(0),a[i].v,u,y),a[i].t="t";break;case"n":case"?":for(_=i+1;a[_]!=null&&((o=a[_].t)==="?"||o==="D"||(o===" "||o==="t")&&a[_+1]!=null&&(a[_+1].t==="?"||a[_+1].t==="t"&&a[_+1].v==="/")||a[i].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[_].v==="/"||a[_].v===" "&&a[_+1]!=null&&a[_+1].t=="?"));)a[i].v+=a[_].v,a[_]={v:"",t:";"},++_;w+=a[i].v,i=_-1;break;case"G":a[i].t="t",a[i].v=nc(t,r);break}var T="",b,S;if(w.length>0){w.charCodeAt(0)==40?(b=t<0&&w.charCodeAt(0)===45?-t:t,S=Hs("n",w,b)):(b=t<0&&n>1?-t:t,S=Hs("n",w,b),b<0&&a[0]&&a[0].t=="t"&&(S=S.substr(1),a[0].v="-"+a[0].v)),_=S.length-1;var k=a.length;for(i=0;i<a.length;++i)if(a[i]!=null&&a[i].t!="t"&&a[i].v.indexOf(".")>-1){k=i;break}var A=a.length;if(k===a.length&&S.indexOf("E")===-1){for(i=a.length-1;i>=0;--i)a[i]==null||"n?".indexOf(a[i].t)===-1||(_>=a[i].v.length-1?(_-=a[i].v.length,a[i].v=S.substr(_+1,a[i].v.length)):_<0?a[i].v="":(a[i].v=S.substr(0,_+1),_=-1),a[i].t="t",A=i);_>=0&&A<a.length&&(a[A].v=S.substr(0,_+1)+a[A].v)}else if(k!==a.length&&S.indexOf("E")===-1){for(_=S.indexOf(".")-1,i=k;i>=0;--i)if(!(a[i]==null||"n?".indexOf(a[i].t)===-1)){for(d=a[i].v.indexOf(".")>-1&&i===k?a[i].v.indexOf(".")-1:a[i].v.length-1,T=a[i].v.substr(d+1);d>=0;--d)_>=0&&(a[i].v.charAt(d)==="0"||a[i].v.charAt(d)==="#")&&(T=S.charAt(_--)+T);a[i].v=T,a[i].t="t",A=i}for(_>=0&&A<a.length&&(a[A].v=S.substr(0,_+1)+a[A].v),_=S.indexOf(".")+1,i=k;i<a.length;++i)if(!(a[i]==null||"n?(".indexOf(a[i].t)===-1&&i!==k)){for(d=a[i].v.indexOf(".")>-1&&i===k?a[i].v.indexOf(".")+1:0,T=a[i].v.substr(0,d);d<a[i].v.length;++d)_<S.length&&(T+=S.charAt(_++));a[i].v=T,a[i].t="t",A=i}}}for(i=0;i<a.length;++i)a[i]!=null&&"n?".indexOf(a[i].t)>-1&&(b=n>1&&t<0&&i>0&&a[i-1].v==="-"?-t:t,a[i].v=Hs(a[i].t,a[i].v,b),a[i].t="t");var j="";for(i=0;i!==a.length;++i)a[i]!=null&&(j+=a[i].v);return j}var Y_=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Z_(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function i$(e,t){var r=a$(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var i=r[0].match(Y_),o=r[1].match(Y_);return Z_(t,i)?[n,r[0]]:Z_(t,o)?[n,r[1]]:[n,r[i!=null&&o!=null?2:1]]}return[n,s]}function Ca(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:qe)[e],n==null&&(n=r.table&&r.table[J_[e]]||qe[J_[e]]),n==null&&(n=zB[e]||"General");break}if(h0(n,0))return nc(t,r);t instanceof Date&&(t=_j(t,r.date1904));var a=i$(n,t);if(h0(a[1]))return nc(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return s$(a[1],t,r,a[0])}function Wo(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(qe[r]==null){t<0&&(t=r);continue}if(qe[r]==e){t=r;break}}t<0&&(t=391)}return qe[t]=e,t}function Ij(){qe=$B()}var o$={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},Rj=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function c$(e){var t=typeof e=="number"?qe[e]:e;return t=t.replace(Rj,"(\\d+)"),new RegExp("^"+t+"$")}function l$(e,t,r){var n=-1,a=-1,s=-1,i=-1,o=-1,l=-1;(t.match(Rj)||[]).forEach(function(f,h){var m=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=m;break;case"d":s=m;break;case"h":i=m;break;case"s":l=m;break;case"m":i>=0?o=m:a=m;break}}),l>=0&&o==-1&&a>=0&&(o=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(i>=0?i:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return i==-1&&o==-1&&l==-1?u:n==-1&&a==-1&&s==-1?d:u+"T"+d}var u$=function(){var e={};e.version="1.2.0";function t(){for(var S=0,k=new Array(256),A=0;A!=256;++A)S=A,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,k[A]=S;return typeof Int32Array<"u"?new Int32Array(k):k}var r=t();function n(S){var k=0,A=0,j=0,I=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(j=0;j!=256;++j)I[j]=S[j];for(j=0;j!=256;++j)for(A=S[j],k=256+j;k<4096;k+=256)A=I[k]=A>>>8^S[A&255];var N=[];for(j=1;j!=16;++j)N[j-1]=typeof Int32Array<"u"?I.subarray(j*256,j*256+256):I.slice(j*256,j*256+256);return N}var a=n(r),s=a[0],i=a[1],o=a[2],l=a[3],u=a[4],d=a[5],f=a[6],h=a[7],m=a[8],v=a[9],p=a[10],g=a[11],y=a[12],E=a[13],w=a[14];function _(S,k){for(var A=k^-1,j=0,I=S.length;j<I;)A=A>>>8^r[(A^S.charCodeAt(j++))&255];return~A}function T(S,k){for(var A=k^-1,j=S.length-15,I=0;I<j;)A=w[S[I++]^A&255]^E[S[I++]^A>>8&255]^y[S[I++]^A>>16&255]^g[S[I++]^A>>>24]^p[S[I++]]^v[S[I++]]^m[S[I++]]^h[S[I++]]^f[S[I++]]^d[S[I++]]^u[S[I++]]^l[S[I++]]^o[S[I++]]^i[S[I++]]^s[S[I++]]^r[S[I++]];for(j+=15;I<j;)A=A>>>8^r[(A^S[I++])&255];return~A}function b(S,k){for(var A=k^-1,j=0,I=S.length,N=0,W=0;j<I;)N=S.charCodeAt(j++),N<128?A=A>>>8^r[(A^N)&255]:N<2048?(A=A>>>8^r[(A^(192|N>>6&31))&255],A=A>>>8^r[(A^(128|N&63))&255]):N>=55296&&N<57344?(N=(N&1023)+64,W=S.charCodeAt(j++)&1023,A=A>>>8^r[(A^(240|N>>8&7))&255],A=A>>>8^r[(A^(128|N>>2&63))&255],A=A>>>8^r[(A^(128|W>>6&15|(N&3)<<4))&255],A=A>>>8^r[(A^(128|W&63))&255]):(A=A>>>8^r[(A^(224|N>>12&15))&255],A=A>>>8^r[(A^(128|N>>6&63))&255],A=A>>>8^r[(A^(128|N&63))&255]);return~A}return e.table=r,e.bstr=_,e.buf=T,e.str=b,e}(),nt=function(){var t={};t.version="1.2.1";function r(R,q){for(var U=R.split("/"),H=q.split("/"),J=0,K=0,ie=Math.min(U.length,H.length);J<ie;++J){if(K=U[J].length-H[J].length)return K;if(U[J]!=H[J])return U[J]<H[J]?-1:1}return U.length-H.length}function n(R){if(R.charAt(R.length-1)=="/")return R.slice(0,-1).indexOf("/")===-1?R:n(R.slice(0,-1));var q=R.lastIndexOf("/");return q===-1?R:R.slice(0,q+1)}function a(R){if(R.charAt(R.length-1)=="/")return a(R.slice(0,-1));var q=R.lastIndexOf("/");return q===-1?R:R.slice(q+1)}function s(R,q){typeof q=="string"&&(q=new Date(q));var U=q.getHours();U=U<<6|q.getMinutes(),U=U<<5|q.getSeconds()>>>1,R.write_shift(2,U);var H=q.getFullYear()-1980;H=H<<4|q.getMonth()+1,H=H<<5|q.getDate(),R.write_shift(2,H)}function i(R){var q=R.read_shift(2)&65535,U=R.read_shift(2)&65535,H=new Date,J=U&31;U>>>=5;var K=U&15;U>>>=4,H.setMilliseconds(0),H.setFullYear(U+1980),H.setMonth(K-1),H.setDate(J);var ie=q&31;q>>>=5;var de=q&63;return q>>>=6,H.setHours(q),H.setMinutes(de),H.setSeconds(ie<<1),H}function o(R){br(R,0);for(var q={},U=0;R.l<=R.length-4;){var H=R.read_shift(2),J=R.read_shift(2),K=R.l+J,ie={};switch(H){case 21589:U=R.read_shift(1),U&1&&(ie.mtime=R.read_shift(4)),J>5&&(U&2&&(ie.atime=R.read_shift(4)),U&4&&(ie.ctime=R.read_shift(4))),ie.mtime&&(ie.mt=new Date(ie.mtime*1e3));break}R.l=K,q[H]=ie}return q}var l;function u(){return l||(l={})}function d(R,q){if(R[0]==80&&R[1]==75)return mu(R,q);if((R[0]|32)==109&&(R[1]|32)==105)return Pn(R,q);if(R.length<512)throw new Error("CFB file size "+R.length+" < 512");var U=3,H=512,J=0,K=0,ie=0,de=0,se=0,oe=[],le=R.slice(0,512);br(le,0);var ge=f(le);switch(U=ge[0],U){case 3:H=512;break;case 4:H=4096;break;case 0:if(ge[1]==0)return mu(R,q);default:throw new Error("Major Version: Expected 3 or 4 saw "+U)}H!==512&&(le=R.slice(0,H),br(le,28));var _e=R.slice(0,H);h(le,U);var Re=le.read_shift(4,"i");if(U===3&&Re!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Re);le.l+=4,ie=le.read_shift(4,"i"),le.l+=4,le.chk("00100000","Mini Stream Cutoff Size: "),de=le.read_shift(4,"i"),J=le.read_shift(4,"i"),se=le.read_shift(4,"i"),K=le.read_shift(4,"i");for(var xe=-1,Ae=0;Ae<109&&(xe=le.read_shift(4,"i"),!(xe<0));++Ae)oe[Ae]=xe;var Ge=m(R,H);g(se,K,Ge,H,oe);var Dt=E(Ge,ie,oe,H);Dt[ie].name="!Directory",J>0&&de!==W&&(Dt[de].name="!MiniFAT"),Dt[oe[0]].name="!FAT",Dt.fat_addrs=oe,Dt.ssz=H;var Mt={},Ir=[],gu=[],vu=[];w(ie,Dt,Ge,Ir,J,Mt,gu,de),v(gu,vu,Ir),Ir.shift();var xu={FileIndex:gu,FullPaths:vu};return q&&q.raw&&(xu.raw={header:_e,sectors:Ge}),xu}function f(R){if(R[R.l]==80&&R[R.l+1]==75)return[0,0];R.chk(M,"Header Signature: "),R.l+=16;var q=R.read_shift(2,"u");return[R.read_shift(2,"u"),q]}function h(R,q){var U=9;switch(R.l+=2,U=R.read_shift(2)){case 9:if(q!=3)throw new Error("Sector Shift: Expected 9 saw "+U);break;case 12:if(q!=4)throw new Error("Sector Shift: Expected 12 saw "+U);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+U)}R.chk("0600","Mini Sector Shift: "),R.chk("000000000000","Reserved: ")}function m(R,q){for(var U=Math.ceil(R.length/q)-1,H=[],J=1;J<U;++J)H[J-1]=R.slice(J*q,(J+1)*q);return H[U-1]=R.slice(U*q),H}function v(R,q,U){for(var H=0,J=0,K=0,ie=0,de=0,se=U.length,oe=[],le=[];H<se;++H)oe[H]=le[H]=H,q[H]=U[H];for(;de<le.length;++de)H=le[de],J=R[H].L,K=R[H].R,ie=R[H].C,oe[H]===H&&(J!==-1&&oe[J]!==J&&(oe[H]=oe[J]),K!==-1&&oe[K]!==K&&(oe[H]=oe[K])),ie!==-1&&(oe[ie]=H),J!==-1&&H!=oe[H]&&(oe[J]=oe[H],le.lastIndexOf(J)<de&&le.push(J)),K!==-1&&H!=oe[H]&&(oe[K]=oe[H],le.lastIndexOf(K)<de&&le.push(K));for(H=1;H<se;++H)oe[H]===H&&(K!==-1&&oe[K]!==K?oe[H]=oe[K]:J!==-1&&oe[J]!==J&&(oe[H]=oe[J]));for(H=1;H<se;++H)if(R[H].type!==0){if(de=H,de!=oe[de])do de=oe[de],q[H]=q[de]+"/"+q[H];while(de!==0&&oe[de]!==-1&&de!=oe[de]);oe[H]=-1}for(q[0]+="/",H=1;H<se;++H)R[H].type!==2&&(q[H]+="/")}function p(R,q,U){for(var H=R.start,J=R.size,K=[],ie=H;U&&J>0&&ie>=0;)K.push(q.slice(ie*N,ie*N+N)),J-=N,ie=ko(U,ie*4);return K.length===0?cr(0):_i(K).slice(0,R.size)}function g(R,q,U,H,J){var K=W;if(R===W){if(q!==0)throw new Error("DIFAT chain shorter than expected")}else if(R!==-1){var ie=U[R],de=(H>>>2)-1;if(!ie)return;for(var se=0;se<de&&(K=ko(ie,se*4))!==W;++se)J.push(K);g(ko(ie,H-4),q-1,U,H,J)}}function y(R,q,U,H,J){var K=[],ie=[];J||(J=[]);var de=H-1,se=0,oe=0;for(se=q;se>=0;){J[se]=!0,K[K.length]=se,ie.push(R[se]);var le=U[Math.floor(se*4/H)];if(oe=se*4&de,H<4+oe)throw new Error("FAT boundary crossed: "+se+" 4 "+H);if(!R[le])break;se=ko(R[le],oe)}return{nodes:K,data:cS([ie])}}function E(R,q,U,H){var J=R.length,K=[],ie=[],de=[],se=[],oe=H-1,le=0,ge=0,_e=0,Re=0;for(le=0;le<J;++le)if(de=[],_e=le+q,_e>=J&&(_e-=J),!ie[_e]){se=[];var xe=[];for(ge=_e;ge>=0;){xe[ge]=!0,ie[ge]=!0,de[de.length]=ge,se.push(R[ge]);var Ae=U[Math.floor(ge*4/H)];if(Re=ge*4&oe,H<4+Re)throw new Error("FAT boundary crossed: "+ge+" 4 "+H);if(!R[Ae]||(ge=ko(R[Ae],Re),xe[ge]))break}K[_e]={nodes:de,data:cS([se])}}return K}function w(R,q,U,H,J,K,ie,de){for(var se=0,oe=H.length?2:0,le=q[R].data,ge=0,_e=0,Re;ge<le.length;ge+=128){var xe=le.slice(ge,ge+128);br(xe,64),_e=xe.read_shift(2),Re=Cy(xe,0,_e-oe),H.push(Re);var Ae={name:Re,type:xe.read_shift(1),color:xe.read_shift(1),L:xe.read_shift(4,"i"),R:xe.read_shift(4,"i"),C:xe.read_shift(4,"i"),clsid:xe.read_shift(16),state:xe.read_shift(4,"i"),start:0,size:0},Ge=xe.read_shift(2)+xe.read_shift(2)+xe.read_shift(2)+xe.read_shift(2);Ge!==0&&(Ae.ct=_(xe,xe.l-8));var Dt=xe.read_shift(2)+xe.read_shift(2)+xe.read_shift(2)+xe.read_shift(2);Dt!==0&&(Ae.mt=_(xe,xe.l-8)),Ae.start=xe.read_shift(4,"i"),Ae.size=xe.read_shift(4,"i"),Ae.size<0&&Ae.start<0&&(Ae.size=Ae.type=0,Ae.start=W,Ae.name=""),Ae.type===5?(se=Ae.start,J>0&&se!==W&&(q[se].name="!StreamData")):Ae.size>=4096?(Ae.storage="fat",q[Ae.start]===void 0&&(q[Ae.start]=y(U,Ae.start,q.fat_addrs,q.ssz)),q[Ae.start].name=Ae.name,Ae.content=q[Ae.start].data.slice(0,Ae.size)):(Ae.storage="minifat",Ae.size<0?Ae.size=0:se!==W&&Ae.start!==W&&q[se]&&(Ae.content=p(Ae,q[se].data,(q[de]||{}).data))),Ae.content&&br(Ae.content,0),K[Re]=Ae,ie.push(Ae)}}function _(R,q){return new Date((Mn(R,q+4)/1e7*Math.pow(2,32)+Mn(R,q)/1e7-11644473600)*1e3)}function T(R,q){return u(),d(l.readFileSync(R),q)}function b(R,q){var U=q&&q.type;switch(U||rt&&Buffer.isBuffer(R)&&(U="buffer"),U||"base64"){case"file":return T(R,q);case"base64":return d(Va(ta(R)),q);case"binary":return d(Va(R),q)}return d(R,q)}function S(R,q){var U=q||{},H=U.root||"Root Entry";if(R.FullPaths||(R.FullPaths=[]),R.FileIndex||(R.FileIndex=[]),R.FullPaths.length!==R.FileIndex.length)throw new Error("inconsistent CFB structure");R.FullPaths.length===0&&(R.FullPaths[0]=H+"/",R.FileIndex[0]={name:H,type:5}),U.CLSID&&(R.FileIndex[0].clsid=U.CLSID),k(R)}function k(R){var q="Sh33tJ5";if(!nt.find(R,"/"+q)){var U=cr(4);U[0]=55,U[1]=U[3]=50,U[2]=54,R.FileIndex.push({name:q,type:2,content:U,size:4,L:69,R:69,C:69}),R.FullPaths.push(R.FullPaths[0]+q),A(R)}}function A(R,q){S(R);for(var U=!1,H=!1,J=R.FullPaths.length-1;J>=0;--J){var K=R.FileIndex[J];switch(K.type){case 0:H?U=!0:(R.FileIndex.pop(),R.FullPaths.pop());break;case 1:case 2:case 5:H=!0,isNaN(K.R*K.L*K.C)&&(U=!0),K.R>-1&&K.L>-1&&K.R==K.L&&(U=!0);break;default:U=!0;break}}if(!(!U&&!q)){var ie=new Date(1987,1,19),de=0,se=Object.create?Object.create(null):{},oe=[];for(J=0;J<R.FullPaths.length;++J)se[R.FullPaths[J]]=!0,R.FileIndex[J].type!==0&&oe.push([R.FullPaths[J],R.FileIndex[J]]);for(J=0;J<oe.length;++J){var le=n(oe[J][0]);H=se[le],H||(oe.push([le,{name:a(le).replace("/",""),type:1,clsid:B,ct:ie,mt:ie,content:null}]),se[le]=!0)}for(oe.sort(function(Re,xe){return r(Re[0],xe[0])}),R.FullPaths=[],R.FileIndex=[],J=0;J<oe.length;++J)R.FullPaths[J]=oe[J][0],R.FileIndex[J]=oe[J][1];for(J=0;J<oe.length;++J){var ge=R.FileIndex[J],_e=R.FullPaths[J];if(ge.name=a(_e).replace("/",""),ge.L=ge.R=ge.C=-(ge.color=1),ge.size=ge.content?ge.content.length:0,ge.start=0,ge.clsid=ge.clsid||B,J===0)ge.C=oe.length>1?1:-1,ge.size=0,ge.type=5;else if(_e.slice(-1)=="/"){for(de=J+1;de<oe.length&&n(R.FullPaths[de])!=_e;++de);for(ge.C=de>=oe.length?-1:de,de=J+1;de<oe.length&&n(R.FullPaths[de])!=n(_e);++de);ge.R=de>=oe.length?-1:de,ge.type=1}else n(R.FullPaths[J+1]||"")==n(_e)&&(ge.R=J+1),ge.type=2}}}function j(R,q){var U=q||{};if(U.fileType=="mad")return as(R,U);switch(A(R),U.fileType){case"zip":return pu(R,U)}var H=function(Re){for(var xe=0,Ae=0,Ge=0;Ge<Re.FileIndex.length;++Ge){var Dt=Re.FileIndex[Ge];if(Dt.content){var Mt=Dt.content.length;Mt>0&&(Mt<4096?xe+=Mt+63>>6:Ae+=Mt+511>>9)}}for(var Ir=Re.FullPaths.length+3>>2,gu=xe+7>>3,vu=xe+127>>7,xu=gu+Ae+Ir+vu,vo=xu+127>>7,Rm=vo<=109?0:Math.ceil((vo-109)/127);xu+vo+Rm+127>>7>vo;)Rm=++vo<=109?0:Math.ceil((vo-109)/127);var js=[1,Rm,vo,vu,Ir,Ae,xe,0];return Re.FileIndex[0].size=xe<<6,js[7]=(Re.FileIndex[0].start=js[0]+js[1]+js[2]+js[3]+js[4]+js[5])+(js[6]+7>>3),js}(R),J=cr(H[7]<<9),K=0,ie=0;{for(K=0;K<8;++K)J.write_shift(1,X[K]);for(K=0;K<8;++K)J.write_shift(2,0);for(J.write_shift(2,62),J.write_shift(2,3),J.write_shift(2,65534),J.write_shift(2,9),J.write_shift(2,6),K=0;K<3;++K)J.write_shift(2,0);for(J.write_shift(4,0),J.write_shift(4,H[2]),J.write_shift(4,H[0]+H[1]+H[2]+H[3]-1),J.write_shift(4,0),J.write_shift(4,4096),J.write_shift(4,H[3]?H[0]+H[1]+H[2]-1:W),J.write_shift(4,H[3]),J.write_shift(-4,H[1]?H[0]-1:W),J.write_shift(4,H[1]),K=0;K<109;++K)J.write_shift(-4,K<H[2]?H[1]+K:-1)}if(H[1])for(ie=0;ie<H[1];++ie){for(;K<236+ie*127;++K)J.write_shift(-4,K<H[2]?H[1]+K:-1);J.write_shift(-4,ie===H[1]-1?W:ie+1)}var de=function(Re){for(ie+=Re;K<ie-1;++K)J.write_shift(-4,K+1);Re&&(++K,J.write_shift(-4,W))};for(ie=K=0,ie+=H[1];K<ie;++K)J.write_shift(-4,z.DIFSECT);for(ie+=H[2];K<ie;++K)J.write_shift(-4,z.FATSECT);de(H[3]),de(H[4]);for(var se=0,oe=0,le=R.FileIndex[0];se<R.FileIndex.length;++se)le=R.FileIndex[se],le.content&&(oe=le.content.length,!(oe<4096)&&(le.start=ie,de(oe+511>>9)));for(de(H[6]+7>>3);J.l&511;)J.write_shift(-4,z.ENDOFCHAIN);for(ie=K=0,se=0;se<R.FileIndex.length;++se)le=R.FileIndex[se],le.content&&(oe=le.content.length,!(!oe||oe>=4096)&&(le.start=ie,de(oe+63>>6)));for(;J.l&511;)J.write_shift(-4,z.ENDOFCHAIN);for(K=0;K<H[4]<<2;++K){var ge=R.FullPaths[K];if(!ge||ge.length===0){for(se=0;se<17;++se)J.write_shift(4,0);for(se=0;se<3;++se)J.write_shift(4,-1);for(se=0;se<12;++se)J.write_shift(4,0);continue}le=R.FileIndex[K],K===0&&(le.start=le.size?le.start-1:W);var _e=K===0&&U.root||le.name;if(oe=2*(_e.length+1),J.write_shift(64,_e,"utf16le"),J.write_shift(2,oe),J.write_shift(1,le.type),J.write_shift(1,le.color),J.write_shift(-4,le.L),J.write_shift(-4,le.R),J.write_shift(-4,le.C),le.clsid)J.write_shift(16,le.clsid,"hex");else for(se=0;se<4;++se)J.write_shift(4,0);J.write_shift(4,le.state||0),J.write_shift(4,0),J.write_shift(4,0),J.write_shift(4,0),J.write_shift(4,0),J.write_shift(4,le.start),J.write_shift(4,le.size),J.write_shift(4,0)}for(K=1;K<R.FileIndex.length;++K)if(le=R.FileIndex[K],le.size>=4096)if(J.l=le.start+1<<9,rt&&Buffer.isBuffer(le.content))le.content.copy(J,J.l,0,le.size),J.l+=le.size+511&-512;else{for(se=0;se<le.size;++se)J.write_shift(1,le.content[se]);for(;se&511;++se)J.write_shift(1,0)}for(K=1;K<R.FileIndex.length;++K)if(le=R.FileIndex[K],le.size>0&&le.size<4096)if(rt&&Buffer.isBuffer(le.content))le.content.copy(J,J.l,0,le.size),J.l+=le.size+63&-64;else{for(se=0;se<le.size;++se)J.write_shift(1,le.content[se]);for(;se&63;++se)J.write_shift(1,0)}if(rt)J.l=J.length;else for(;J.l<J.length;)J.write_shift(1,0);return J}function I(R,q){var U=R.FullPaths.map(function(se){return se.toUpperCase()}),H=U.map(function(se){var oe=se.split("/");return oe[oe.length-(se.slice(-1)=="/"?2:1)]}),J=!1;q.charCodeAt(0)===47?(J=!0,q=U[0].slice(0,-1)+q):J=q.indexOf("/")!==-1;var K=q.toUpperCase(),ie=J===!0?U.indexOf(K):H.indexOf(K);if(ie!==-1)return R.FileIndex[ie];var de=!K.match(Lu);for(K=K.replace(on,""),de&&(K=K.replace(Lu,"!")),ie=0;ie<U.length;++ie)if((de?U[ie].replace(Lu,"!"):U[ie]).replace(on,"")==K||(de?H[ie].replace(Lu,"!"):H[ie]).replace(on,"")==K)return R.FileIndex[ie];return null}var N=64,W=-2,M="d0cf11e0a1b11ae1",X=[208,207,17,224,161,177,26,225],B="00000000000000000000000000000000",z={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:W,FREESECT:-1,HEADER_SIGNATURE:M,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:B,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Y(R,q,U){u();var H=j(R,U);l.writeFileSync(q,H)}function F(R){for(var q=new Array(R.length),U=0;U<R.length;++U)q[U]=String.fromCharCode(R[U]);return q.join("")}function ne(R,q){var U=j(R,q);switch(q&&q.type||"buffer"){case"file":return u(),l.writeFileSync(q.filename,U),U;case"binary":return typeof U=="string"?U:F(U);case"base64":return W_(typeof U=="string"?U:F(U));case"buffer":if(rt)return Buffer.isBuffer(U)?U:pc(U);case"array":return typeof U=="string"?Va(U):U}return U}var Z;function C(R){try{var q=R.InflateRaw,U=new q;if(U._processChunk(new Uint8Array([3,0]),U._finishFlushFlag),U.bytesRead)Z=R;else throw new Error("zlib does not expose bytesRead")}catch(H){console.error("cannot use native zlib: "+(H.message||H))}}function G(R,q){if(!Z)return gf(R,q);var U=Z.InflateRaw,H=new U,J=H._processChunk(R.slice(R.l),H._finishFlushFlag);return R.l+=H.bytesRead,J}function L(R){return Z?Z.deflateRawSync(R):ze(R)}var D=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],O=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],P=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Q(R){var q=(R<<1|R<<11)&139536|(R<<5|R<<15)&558144;return(q>>16|q>>8|q)&255}for(var ee=typeof Uint8Array<"u",re=ee?new Uint8Array(256):[],fe=0;fe<256;++fe)re[fe]=Q(fe);function V(R,q){var U=re[R&255];return q<=8?U>>>8-q:(U=U<<8|re[R>>8&255],q<=16?U>>>16-q:(U=U<<8|re[R>>16&255],U>>>24-q))}function Ee(R,q){var U=q&7,H=q>>>3;return(R[H]|(U<=6?0:R[H+1]<<8))>>>U&3}function ye(R,q){var U=q&7,H=q>>>3;return(R[H]|(U<=5?0:R[H+1]<<8))>>>U&7}function Be(R,q){var U=q&7,H=q>>>3;return(R[H]|(U<=4?0:R[H+1]<<8))>>>U&15}function De(R,q){var U=q&7,H=q>>>3;return(R[H]|(U<=3?0:R[H+1]<<8))>>>U&31}function me(R,q){var U=q&7,H=q>>>3;return(R[H]|(U<=1?0:R[H+1]<<8))>>>U&127}function Ze(R,q,U){var H=q&7,J=q>>>3,K=(1<<U)-1,ie=R[J]>>>H;return U<8-H||(ie|=R[J+1]<<8-H,U<16-H)||(ie|=R[J+2]<<16-H,U<24-H)||(ie|=R[J+3]<<24-H),ie&K}function kt(R,q,U){var H=q&7,J=q>>>3;return H<=5?R[J]|=(U&7)<<H:(R[J]|=U<<H&255,R[J+1]=(U&7)>>8-H),q+3}function yt(R,q,U){var H=q&7,J=q>>>3;return U=(U&1)<<H,R[J]|=U,q+1}function Zt(R,q,U){var H=q&7,J=q>>>3;return U<<=H,R[J]|=U&255,U>>>=8,R[J+1]=U,q+8}function Gt(R,q,U){var H=q&7,J=q>>>3;return U<<=H,R[J]|=U&255,U>>>=8,R[J+1]=U&255,R[J+2]=U>>>8,q+16}function ir(R,q){var U=R.length,H=2*U>q?2*U:q+5,J=0;if(U>=q)return R;if(rt){var K=H_(H);if(R.copy)R.copy(K);else for(;J<R.length;++J)K[J]=R[J];return K}else if(ee){var ie=new Uint8Array(H);if(ie.set)ie.set(R);else for(;J<U;++J)ie[J]=R[J];return ie}return R.length=H,R}function he(R){for(var q=new Array(R),U=0;U<R;++U)q[U]=0;return q}function be(R,q,U){var H=1,J=0,K=0,ie=0,de=0,se=R.length,oe=ee?new Uint16Array(32):he(32);for(K=0;K<32;++K)oe[K]=0;for(K=se;K<U;++K)R[K]=0;se=R.length;var le=ee?new Uint16Array(se):he(se);for(K=0;K<se;++K)oe[J=R[K]]++,H<J&&(H=J),le[K]=0;for(oe[0]=0,K=1;K<=H;++K)oe[K+16]=de=de+oe[K-1]<<1;for(K=0;K<se;++K)de=R[K],de!=0&&(le[K]=oe[de+16]++);var ge=0;for(K=0;K<se;++K)if(ge=R[K],ge!=0)for(de=V(le[K],H)>>H-ge,ie=(1<<H+4-ge)-1;ie>=0;--ie)q[de|ie<<ge]=ge&15|K<<4;return H}var ke=ee?new Uint16Array(512):he(512),gt=ee?new Uint16Array(32):he(32);if(!ee){for(var Nt=0;Nt<512;++Nt)ke[Nt]=0;for(Nt=0;Nt<32;++Nt)gt[Nt]=0}(function(){for(var R=[],q=0;q<32;q++)R.push(5);be(R,gt,32);var U=[];for(q=0;q<=143;q++)U.push(8);for(;q<=255;q++)U.push(9);for(;q<=279;q++)U.push(7);for(;q<=287;q++)U.push(8);be(U,ke,288)})();var Jr=function(){for(var q=ee?new Uint8Array(32768):[],U=0,H=0;U<P.length-1;++U)for(;H<P[U+1];++H)q[H]=U;for(;H<32768;++H)q[H]=29;var J=ee?new Uint8Array(259):[];for(U=0,H=0;U<O.length-1;++U)for(;H<O[U+1];++H)J[H]=U;function K(de,se){for(var oe=0;oe<de.length;){var le=Math.min(65535,de.length-oe),ge=oe+le==de.length;for(se.write_shift(1,+ge),se.write_shift(2,le),se.write_shift(2,~le&65535);le-- >0;)se[se.l++]=de[oe++]}return se.l}function ie(de,se){for(var oe=0,le=0,ge=ee?new Uint16Array(32768):[];le<de.length;){var _e=Math.min(65535,de.length-le);if(_e<10){for(oe=kt(se,oe,+(le+_e==de.length)),oe&7&&(oe+=8-(oe&7)),se.l=oe/8|0,se.write_shift(2,_e),se.write_shift(2,~_e&65535);_e-- >0;)se[se.l++]=de[le++];oe=se.l*8;continue}oe=kt(se,oe,+(le+_e==de.length)+2);for(var Re=0;_e-- >0;){var xe=de[le];Re=(Re<<5^xe)&32767;var Ae=-1,Ge=0;if((Ae=ge[Re])&&(Ae|=le&-32768,Ae>le&&(Ae-=32768),Ae<le))for(;de[Ae+Ge]==de[le+Ge]&&Ge<250;)++Ge;if(Ge>2){xe=J[Ge],xe<=22?oe=Zt(se,oe,re[xe+1]>>1)-1:(Zt(se,oe,3),oe+=5,Zt(se,oe,re[xe-23]>>5),oe+=3);var Dt=xe<8?0:xe-4>>2;Dt>0&&(Gt(se,oe,Ge-O[xe]),oe+=Dt),xe=q[le-Ae],oe=Zt(se,oe,re[xe]>>3),oe-=3;var Mt=xe<4?0:xe-2>>1;Mt>0&&(Gt(se,oe,le-Ae-P[xe]),oe+=Mt);for(var Ir=0;Ir<Ge;++Ir)ge[Re]=le&32767,Re=(Re<<5^de[le])&32767,++le;_e-=Ge-1}else xe<=143?xe=xe+48:oe=yt(se,oe,1),oe=Zt(se,oe,re[xe]),ge[Re]=le&32767,++le}oe=Zt(se,oe,0)-1}return se.l=(oe+7)/8|0,se.l}return function(se,oe){return se.length<8?K(se,oe):ie(se,oe)}}();function ze(R){var q=cr(50+Math.floor(R.length*1.1)),U=Jr(R,q);return q.slice(0,U)}var et=ee?new Uint16Array(32768):he(32768),lt=ee?new Uint16Array(32768):he(32768),It=ee?new Uint16Array(128):he(128),Nr=1,ia=1;function Cs(R,q){var U=De(R,q)+257;q+=5;var H=De(R,q)+1;q+=5;var J=Be(R,q)+4;q+=4;for(var K=0,ie=ee?new Uint8Array(19):he(19),de=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],se=1,oe=ee?new Uint8Array(8):he(8),le=ee?new Uint8Array(8):he(8),ge=ie.length,_e=0;_e<J;++_e)ie[D[_e]]=K=ye(R,q),se<K&&(se=K),oe[K]++,q+=3;var Re=0;for(oe[0]=0,_e=1;_e<=se;++_e)le[_e]=Re=Re+oe[_e-1]<<1;for(_e=0;_e<ge;++_e)(Re=ie[_e])!=0&&(de[_e]=le[Re]++);var xe=0;for(_e=0;_e<ge;++_e)if(xe=ie[_e],xe!=0){Re=re[de[_e]]>>8-xe;for(var Ae=(1<<7-xe)-1;Ae>=0;--Ae)It[Re|Ae<<xe]=xe&7|_e<<3}var Ge=[];for(se=1;Ge.length<U+H;)switch(Re=It[me(R,q)],q+=Re&7,Re>>>=3){case 16:for(K=3+Ee(R,q),q+=2,Re=Ge[Ge.length-1];K-- >0;)Ge.push(Re);break;case 17:for(K=3+ye(R,q),q+=3;K-- >0;)Ge.push(0);break;case 18:for(K=11+me(R,q),q+=7;K-- >0;)Ge.push(0);break;default:Ge.push(Re),se<Re&&(se=Re);break}var Dt=Ge.slice(0,U),Mt=Ge.slice(U);for(_e=U;_e<286;++_e)Dt[_e]=0;for(_e=H;_e<30;++_e)Mt[_e]=0;return Nr=be(Dt,et,286),ia=be(Mt,lt,30),q}function fu(R,q){if(R[0]==3&&!(R[1]&3))return[to(q),2];for(var U=0,H=0,J=H_(q||1<<18),K=0,ie=J.length>>>0,de=0,se=0;!(H&1);){if(H=ye(R,U),U+=3,H>>>1)H>>1==1?(de=9,se=5):(U=Cs(R,U),de=Nr,se=ia);else{U&7&&(U+=8-(U&7));var oe=R[U>>>3]|R[(U>>>3)+1]<<8;if(U+=32,oe>0)for(!q&&ie<K+oe&&(J=ir(J,K+oe),ie=J.length);oe-- >0;)J[K++]=R[U>>>3],U+=8;continue}for(;;){!q&&ie<K+32767&&(J=ir(J,K+32767),ie=J.length);var le=Ze(R,U,de),ge=H>>>1==1?ke[le]:et[le];if(U+=ge&15,ge>>>=4,!(ge>>>8&255))J[K++]=ge;else{if(ge==256)break;ge-=257;var _e=ge<8?0:ge-4>>2;_e>5&&(_e=0);var Re=K+O[ge];_e>0&&(Re+=Ze(R,U,_e),U+=_e),le=Ze(R,U,se),ge=H>>>1==1?gt[le]:lt[le],U+=ge&15,ge>>>=4;var xe=ge<4?0:ge-2>>1,Ae=P[ge];for(xe>0&&(Ae+=Ze(R,U,xe),U+=xe),!q&&ie<Re&&(J=ir(J,Re+100),ie=J.length);K<Re;)J[K]=J[K-Ae],++K}}}return q?[J,U+7>>>3]:[J.slice(0,K),U+7>>>3]}function gf(R,q){var U=R.slice(R.l||0),H=fu(U,q);return R.l+=H[1],H[0]}function hu(R,q){if(R)typeof console<"u"&&console.error(q);else throw new Error(q)}function mu(R,q){var U=R;br(U,0);var H=[],J=[],K={FileIndex:H,FullPaths:J};S(K,{root:q.root});for(var ie=U.length-4;(U[ie]!=80||U[ie+1]!=75||U[ie+2]!=5||U[ie+3]!=6)&&ie>=0;)--ie;U.l=ie+4,U.l+=4;var de=U.read_shift(2);U.l+=6;var se=U.read_shift(4);for(U.l=se,ie=0;ie<de;++ie){U.l+=20;var oe=U.read_shift(4),le=U.read_shift(4),ge=U.read_shift(2),_e=U.read_shift(2),Re=U.read_shift(2);U.l+=8;var xe=U.read_shift(4),Ae=o(U.slice(U.l+ge,U.l+ge+_e));U.l+=ge+_e+Re;var Ge=U.l;U.l=xe+4,Nm(U,oe,le,K,Ae),U.l=Ge}return K}function Nm(R,q,U,H,J){R.l+=2;var K=R.read_shift(2),ie=R.read_shift(2),de=i(R);if(K&8257)throw new Error("Unsupported ZIP encryption");for(var se=R.read_shift(4),oe=R.read_shift(4),le=R.read_shift(4),ge=R.read_shift(2),_e=R.read_shift(2),Re="",xe=0;xe<ge;++xe)Re+=String.fromCharCode(R[R.l++]);if(_e){var Ae=o(R.slice(R.l,R.l+_e));(Ae[21589]||{}).mt&&(de=Ae[21589].mt),((J||{})[21589]||{}).mt&&(de=J[21589].mt)}R.l+=_e;var Ge=R.slice(R.l,R.l+oe);switch(ie){case 8:Ge=G(R,le);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ie)}var Dt=!1;K&8&&(se=R.read_shift(4),se==134695760&&(se=R.read_shift(4),Dt=!0),oe=R.read_shift(4),le=R.read_shift(4)),oe!=q&&hu(Dt,"Bad compressed size: "+q+" != "+oe),le!=U&&hu(Dt,"Bad uncompressed size: "+U+" != "+le),Kr(H,Re,Ge,{unsafe:!0,mt:de})}function pu(R,q){var U=q||{},H=[],J=[],K=cr(1),ie=U.compression?8:0,de=0,se=0,oe=0,le=0,ge=0,_e=R.FullPaths[0],Re=_e,xe=R.FileIndex[0],Ae=[],Ge=0;for(se=1;se<R.FullPaths.length;++se)if(Re=R.FullPaths[se].slice(_e.length),xe=R.FileIndex[se],!(!xe.size||!xe.content||Re=="Sh33tJ5")){var Dt=le,Mt=cr(Re.length);for(oe=0;oe<Re.length;++oe)Mt.write_shift(1,Re.charCodeAt(oe)&127);Mt=Mt.slice(0,Mt.l),Ae[ge]=u$.buf(xe.content,0);var Ir=xe.content;ie==8&&(Ir=L(Ir)),K=cr(30),K.write_shift(4,67324752),K.write_shift(2,20),K.write_shift(2,de),K.write_shift(2,ie),xe.mt?s(K,xe.mt):K.write_shift(4,0),K.write_shift(-4,Ae[ge]),K.write_shift(4,Ir.length),K.write_shift(4,xe.content.length),K.write_shift(2,Mt.length),K.write_shift(2,0),le+=K.length,H.push(K),le+=Mt.length,H.push(Mt),le+=Ir.length,H.push(Ir),K=cr(46),K.write_shift(4,33639248),K.write_shift(2,0),K.write_shift(2,20),K.write_shift(2,de),K.write_shift(2,ie),K.write_shift(4,0),K.write_shift(-4,Ae[ge]),K.write_shift(4,Ir.length),K.write_shift(4,xe.content.length),K.write_shift(2,Mt.length),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(4,0),K.write_shift(4,Dt),Ge+=K.l,J.push(K),Ge+=Mt.length,J.push(Mt),++ge}return K=cr(22),K.write_shift(4,101010256),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(2,ge),K.write_shift(2,ge),K.write_shift(4,Ge),K.write_shift(4,le),K.write_shift(2,0),_i([_i(H),_i(J),K])}var In={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Im(R,q){if(R.ctype)return R.ctype;var U=R.name||"",H=U.match(/\.([^\.]+)$/);return H&&In[H[1]]||q&&(H=(U=q).match(/[\.\\]([^\.\\])+$/),H&&In[H[1]])?In[H[1]]:"application/octet-stream"}function Ve(R){for(var q=W_(R),U=[],H=0;H<q.length;H+=76)U.push(q.slice(H,H+76));return U.join(`\r
`)+`\r
`}function ut(R){var q=R.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(oe){var le=oe.charCodeAt(0).toString(16).toUpperCase();return"="+(le.length==1?"0"+le:le)});q=q.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),q.charAt(0)==`
`&&(q="=0D"+q.slice(1)),q=q.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var U=[],H=q.split(`\r
`),J=0;J<H.length;++J){var K=H[J];if(K.length==0){U.push("");continue}for(var ie=0;ie<K.length;){var de=76,se=K.slice(ie,ie+de);se.charAt(de-1)=="="?de--:se.charAt(de-2)=="="?de-=2:se.charAt(de-3)=="="&&(de-=3),se=K.slice(ie,ie+de),ie+=de,ie<K.length&&(se+="="),U.push(se)}}return U.join(`\r
`)}function wt(R){for(var q=[],U=0;U<R.length;++U){for(var H=R[U];U<=R.length&&H.charAt(H.length-1)=="=";)H=H.slice(0,H.length-1)+R[++U];q.push(H)}for(var J=0;J<q.length;++J)q[J]=q[J].replace(/[=][0-9A-Fa-f]{2}/g,function(K){return String.fromCharCode(parseInt(K.slice(1),16))});return Va(q.join(`\r
`))}function Rn(R,q,U){for(var H="",J="",K="",ie,de=0;de<10;++de){var se=q[de];if(!se||se.match(/^\s*$/))break;var oe=se.match(/^(.*?):\s*([^\s].*)$/);if(oe)switch(oe[1].toLowerCase()){case"content-location":H=oe[2].trim();break;case"content-type":K=oe[2].trim();break;case"content-transfer-encoding":J=oe[2].trim();break}}switch(++de,J.toLowerCase()){case"base64":ie=Va(ta(q.slice(de).join("")));break;case"quoted-printable":ie=wt(q.slice(de));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+J)}var le=Kr(R,H.slice(U.length),ie,{unsafe:!0});K&&(le.ctype=K)}function Pn(R,q){if(F(R.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var U=q&&q.root||"",H=(rt&&Buffer.isBuffer(R)?R.toString("binary"):F(R)).split(`\r
`),J=0,K="";for(J=0;J<H.length;++J)if(K=H[J],!!/^Content-Location:/i.test(K)&&(K=K.slice(K.indexOf("file")),U||(U=K.slice(0,K.lastIndexOf("/")+1)),K.slice(0,U.length)!=U))for(;U.length>0&&(U=U.slice(0,U.length-1),U=U.slice(0,U.lastIndexOf("/")+1),K.slice(0,U.length)!=U););var ie=(H[1]||"").match(/boundary="(.*?)"/);if(!ie)throw new Error("MAD cannot find boundary");var de="--"+(ie[1]||""),se=[],oe=[],le={FileIndex:se,FullPaths:oe};S(le);var ge,_e=0;for(J=0;J<H.length;++J){var Re=H[J];Re!==de&&Re!==de+"--"||(_e++&&Rn(le,H.slice(ge,J),U),ge=J)}return le}function as(R,q){var U=q||{},H=U.boundary||"SheetJS";H="------="+H;for(var J=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+H.slice(2)+'"',"","",""],K=R.FullPaths[0],ie=K,de=R.FileIndex[0],se=1;se<R.FullPaths.length;++se)if(ie=R.FullPaths[se].slice(K.length),de=R.FileIndex[se],!(!de.size||!de.content||ie=="Sh33tJ5")){ie=ie.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ge){return"_x"+Ge.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ge){return"_u"+Ge.charCodeAt(0).toString(16)+"_"});for(var oe=de.content,le=rt&&Buffer.isBuffer(oe)?oe.toString("binary"):F(oe),ge=0,_e=Math.min(1024,le.length),Re=0,xe=0;xe<=_e;++xe)(Re=le.charCodeAt(xe))>=32&&Re<128&&++ge;var Ae=ge>=_e*4/5;J.push(H),J.push("Content-Location: "+(U.root||"file:///C:/SheetJS/")+ie),J.push("Content-Transfer-Encoding: "+(Ae?"quoted-printable":"base64")),J.push("Content-Type: "+Im(de,ie)),J.push(""),J.push(Ae?ut(le):Ve(le))}return J.push(H+`--\r
`),J.join(`\r
`)}function As(R){var q={};return S(q,R),q}function Kr(R,q,U,H){var J=H&&H.unsafe;J||S(R);var K=!J&&nt.find(R,q);if(!K){var ie=R.FullPaths[0];q.slice(0,ie.length)==ie?ie=q:(ie.slice(-1)!="/"&&(ie+="/"),ie=(ie+q).replace("//","/")),K={name:a(q),type:2},R.FileIndex.push(K),R.FullPaths.push(ie),J||nt.utils.cfb_gc(R)}return K.content=U,K.size=U?U.length:0,H&&(H.CLSID&&(K.clsid=H.CLSID),H.mt&&(K.mt=H.mt),H.ct&&(K.ct=H.ct)),K}function ss(R,q){S(R);var U=nt.find(R,q);if(U){for(var H=0;H<R.FileIndex.length;++H)if(R.FileIndex[H]==U)return R.FileIndex.splice(H,1),R.FullPaths.splice(H,1),!0}return!1}function bP(R,q,U){S(R);var H=nt.find(R,q);if(H){for(var J=0;J<R.FileIndex.length;++J)if(R.FileIndex[J]==H)return R.FileIndex[J].name=a(U),R.FullPaths[J]=U,!0}return!1}function TP(R){A(R,!0)}return t.find=I,t.read=b,t.parse=d,t.write=ne,t.writeFile=Y,t.utils={cfb_new:As,cfb_add:Kr,cfb_del:ss,cfb_mov:bP,cfb_gc:TP,ReadShift:td,CheckField:eN,prep_blob:br,bconcat:_i,use_zlib:C,_deflateRaw:ze,_inflateRaw:gf,consts:z},t}();function d$(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function Es(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function Sy(e){for(var t=[],r=Es(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}var p0=new Date(1899,11,30,0,0,0);function cn(e,t){var r=e.getTime(),n=p0.getTime()+(e.getTimezoneOffset()-p0.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var Pj=new Date,f$=p0.getTime()+(Pj.getTimezoneOffset()-p0.getTimezoneOffset())*6e4,Q_=Pj.getTimezoneOffset();function fm(e){var t=new Date;return t.setTime(e*24*60*60*1e3+f$),t.getTimezoneOffset()!==Q_&&t.setTime(t.getTime()+(t.getTimezoneOffset()-Q_)*6e4),t}function h$(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var s=1;s!=a.length;++s)if(a[s]){switch(r=1,s>3&&(n=!0),a[s].slice(a[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[s].slice(a[s].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[s],10)}return t}var eS=new Date("2017-02-19T19:06:09.000Z"),Oj=isNaN(eS.getFullYear())?new Date("2/19/17"):eS,m$=Oj.getFullYear()==2017;function _r(e,t){var r=new Date(e);if(m$)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(Oj.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function ac(e,t){if(rt&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Bu(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Bu(wj(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Bu(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Bu(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(s){return r[s]||s})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function Cr(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Cr(e[r]));return t}function Wt(e,t){for(var r="";r.length<t;)r+=e;return r}function Ja(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,s){return r=-r,s}),!isNaN(t=Number(n)))?t/r:t}var p$=["january","february","march","april","may","june","july","august","september","october","november","december"];function Vl(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),s=t.getDate();if(isNaN(s))return r;var i=e.toLowerCase();if(i.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(i=i.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),i.length>3&&p$.indexOf(i)==-1)return r}else if(i.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||s>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var g$=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var s=r.split(n),i=[s[0]],o=1;o<s.length;++o)i.push(a),i.push(s[o]);return i}}();function Fj(e){return e?e.content&&e.type?ac(e.content,!0):e.data?Mu(e.data):e.asNodeBuffer&&rt?Mu(e.asNodeBuffer().toString("binary")):e.asBinary?Mu(e.asBinary()):e._data&&e._data.getContent?Mu(ac(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function Dj(e){if(!e)return null;if(e.data)return z_(e.data);if(e.asNodeBuffer&&rt)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?z_(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function v$(e){return e&&e.name.slice(-4)===".bin"?Dj(e):Fj(e)}function da(e,t){for(var r=e.FullPaths||Es(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),s=0;s<r.length;++s){var i=r[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==i||a==i)return e.files?e.files[r[s]]:e.FileIndex[s]}return null}function by(e,t){var r=da(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function er(e,t,r){if(!r)return v$(by(e,t));if(!t)return null;try{return er(e,t)}catch{return null}}function Bn(e,t,r){if(!r)return Fj(by(e,t));if(!t)return null;try{return Bn(e,t)}catch{return null}}function x$(e,t,r){return Dj(by(e,t))}function tS(e){for(var t=e.FullPaths||Es(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function y$(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return rt?n=pc(r):n=LB(r),nt.utils.cfb_add(e,t,n)}nt.utils.cfb_add(e,t,r)}else e.file(t,r)}function Mj(e,t){switch(t.type){case"base64":return nt.read(e,{type:"base64"});case"binary":return nt.read(e,{type:"binary"});case"buffer":case"array":return nt.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function Uu(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var Lj=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,w$=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,rS=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,E$=/<[^>]*>/g,Wr=Lj.match(rS)?rS:E$,_$=/<\w*:/,S$=/<(\/?)\w+:/;function $e(e,t,r){for(var n={},a=0,s=0;a!==e.length&&!((s=e.charCodeAt(a))===32||s===10||s===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var i=e.match(w$),o=0,l="",u=0,d="",f="",h=1;if(i)for(u=0;u!=i.length;++u){for(f=i[u],s=0;s!=f.length&&f.charCodeAt(s)!==61;++s);for(d=f.slice(0,s).trim();f.charCodeAt(s+1)==32;)++s;for(h=(a=f.charCodeAt(s+1))==34||a==39?1:0,l=f.slice(s+1+h,f.length-h),o=0;o!=d.length&&d.charCodeAt(o)!==58;++o);if(o===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),n[d]=l,n[d.toLowerCase()]=l;else{var m=(o===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(o+1);if(n[m]&&d.slice(o-3,o)=="ext")continue;n[m]=l,n[m.toLowerCase()]=l}}return n}function bs(e){return e.replace(S$,"<$1")}var Uj={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},b$=Sy(Uj),ct=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",s=a.indexOf("<![CDATA[");if(s==-1)return a.replace(e,function(o,l){return Uj[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,l){return String.fromCharCode(parseInt(l,16))});var i=a.indexOf("]]>");return r(a.slice(0,s))+a.slice(s+9,i)+r(a.slice(i+3))}}(),T$=/[&<>'"]/g,k$=/[\u0000-\u001f]/g;function Ty(e){var t=e+"";return t.replace(T$,function(r){return b$[r]}).replace(/\n/g,"<br/>").replace(k$,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var nS=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function Rt(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Mp(e){for(var t="",r=0,n=0,a=0,s=0,i=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){i=(n&31)<<6,i|=a&63,t+=String.fromCharCode(i);continue}if(s=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|s&63);continue}i=e.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(s&63)<<6|i&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function aS(e){var t=to(2*e.length),r,n,a=1,s=0,i=0,o;for(n=0;n<e.length;n+=a)a=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,i=55296+(r>>>10&1023),r=56320+(r&1023)),i!==0&&(t[s++]=i&255,t[s++]=i>>>8,i=0),t[s++]=r%256,t[s++]=r>>>8;return t.slice(0,s).toString("ucs2")}function sS(e){return pc(e,"binary").toString("utf8")}var th="foo bar baz",St=rt&&(sS(th)==Mp(th)&&sS||aS(th)==Mp(th)&&aS)||Mp,Bu=rt?function(e){return pc(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},Dd=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),Bj=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),C$=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),A$=/<\/?(?:vt:)?variant>/g,j$=/<(?:vt:)([^>]*)>([\s\S]*)</;function iS(e,t){var r=$e(e),n=e.match(C$(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(s){var i=s.replace(A$,"").match(j$);i&&a.push({v:St(i[2]),t:i[1]})}),a}var N$=/(^\s|\s$|\n)/;function I$(e){return Es(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function R$(e,t,r){return"<"+e+(r!=null?I$(r):"")+(t!=null?(t.match(N$)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function ky(e){if(rt&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return St(gc(wy(e)));throw new Error("Bad input format: expected Buffer or string")}var Md=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,P$={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},O$=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function F$(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,s=5;s>=0;--s)a=a*256+e[t+s];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function D$(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,s=0,i=n?-t:t;isFinite(i)?i==0?a=s=0:(a=Math.floor(Math.log(i)/Math.LN2),s=i*Math.pow(2,52-a),a<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?a=-1022:(s-=Math.pow(2,52),a+=1023)):(a=2047,s=isNaN(t)?26985:0);for(var o=0;o<=5;++o,s/=256)e[r+o]=s&255;e[r+6]=(a&15)<<4|s&15,e[r+7]=a>>4|n}var oS=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,s=e[0][n].length;a<s;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},cS=rt?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:pc(t)})):oS(e)}:oS,lS=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(Vs(e,a)));return n.join("").replace(on,"")},Cy=rt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(on,""):lS(e,t,r)}:lS,uS=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},$j=rt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):uS(e,t,r)}:uS,dS=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(Bc(e,a)));return n.join("")},cf=rt?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):dS(t,r,n)}:dS,zj=function(e,t){var r=Mn(e,t);return r>0?cf(e,t+4,t+4+r-1):""},Vj=zj,Wj=function(e,t){var r=Mn(e,t);return r>0?cf(e,t+4,t+4+r-1):""},Hj=Wj,Gj=function(e,t){var r=2*Mn(e,t);return r>0?cf(e,t+4,t+4+r-1):""},qj=Gj,Jj=function(t,r){var n=Mn(t,r);return n>0?Cy(t,r+4,r+4+n):""},Kj=Jj,Xj=function(e,t){var r=Mn(e,t);return r>0?cf(e,t+4,t+4+r):""},Yj=Xj,Zj=function(e,t){return F$(e,t)},g0=Zj,Qj=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};rt&&(Vj=function(t,r){if(!Buffer.isBuffer(t))return zj(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},Hj=function(t,r){if(!Buffer.isBuffer(t))return Wj(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},qj=function(t,r){if(!Buffer.isBuffer(t))return Gj(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},Kj=function(t,r){if(!Buffer.isBuffer(t))return Jj(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},Yj=function(t,r){if(!Buffer.isBuffer(t))return Xj(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},g0=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):Zj(t,r)},Qj=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Bc=function(e,t){return e[t]},Vs=function(e,t){return e[t+1]*256+e[t]},M$=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Mn=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},ko=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},L$=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function td(e,t){var r="",n,a,s=[],i,o,l,u;switch(t){case"dbcs":if(u=this.l,rt&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)r+=String.fromCharCode(Vs(this,u)),u+=2;e*=2;break;case"utf8":r=cf(this,this.l,this.l+e);break;case"utf16le":e*=2,r=Cy(this,this.l,this.l+e);break;case"wstr":return td.call(this,e,"dbcs");case"lpstr-ansi":r=Vj(this,this.l),e=4+Mn(this,this.l);break;case"lpstr-cp":r=Hj(this,this.l),e=4+Mn(this,this.l);break;case"lpwstr":r=qj(this,this.l),e=4+2*Mn(this,this.l);break;case"lpp4":e=4+Mn(this,this.l),r=Kj(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Mn(this,this.l),r=Yj(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(i=Bc(this,this.l+e++))!==0;)s.push(eh(i));r=s.join("");break;case"_wstr":for(e=0,r="";(i=Vs(this,this.l+e))!==0;)s.push(eh(i)),e+=2;e+=2,r=s.join("");break;case"dbcs-cont":for(r="",u=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return i=Bc(this,u),this.l=u+1,o=td.call(this,e-l,i?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(eh(Vs(this,u))),u+=2}r=s.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return i=Bc(this,u),this.l=u+1,o=td.call(this,e-l,i?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(eh(Bc(this,u))),u+=1}r=s.join("");break;default:switch(e){case 1:return n=Bc(this,this.l),this.l++,n;case 2:return n=(t==="i"?M$:Vs)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?ko:L$)(this,this.l),this.l+=4,n):(a=Mn(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=g0(this,this.l):a=g0([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=$j(this,this.l,e);break}}return this.l+=e,r}var U$=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},B$=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},$$=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function z$(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)$$(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var i=t.charCodeAt(a);this[this.l++]=i&255,this[this.l++]=i>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,U$(this,t,this.l);break;case 8:if(n=8,r==="f"){D$(this,t,this.l);break}case 16:break;case-4:n=4,B$(this,t,this.l);break}return this.l+=n,this}function eN(e,t){var r=$j(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function br(e,t){e.l=t,e.read_shift=td,e.chk=eN,e.write_shift=z$}function zr(e,t){e.l+=t}function cr(e){var t=to(e);return br(t,0),t}function ri(e,t,r){if(e){var n,a,s;br(e,e.l||0);for(var i=e.length,o=0,l=0;e.l<i;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var u=_0[o]||_0[65535];for(n=e.read_shift(1),s=n&127,a=1;a<4&&n&128;++a)s+=((n=e.read_shift(1))&127)<<7*a;l=e.l+s;var d=u.f&&u.f(e,s,r);if(e.l=l,t(d,u,o))return}}}function tx(){var e=[],t=rt?256:2048,r=function(u){var d=cr(u);return br(d,0),d},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},s=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},i=function(){return a(),_i(e)},o=function(u){a(),n=u,n.l==null&&(n.l=n.length),s(t)};return{next:s,push:o,end:i,_bufs:e}}function rd(e,t,r){var n=Cr(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function fS(e,t,r){var n=Cr(e);return n.s=rd(n.s,t.s,r),n.e=rd(n.e,t.s,r),n}function nd(e,t){if(e.cRel&&e.c<0)for(e=Cr(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Cr(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=He(e);return!e.cRel&&e.cRel!=null&&(r=H$(r)),!e.rRel&&e.rRel!=null&&(r=V$(r)),r}function Lp(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+mr(e.s.c)+":"+(e.e.cRel?"":"$")+mr(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Ar(e.s.r)+":"+(e.e.rRel?"":"$")+Ar(e.e.r):nd(e.s,t.biff)+":"+nd(e.e,t.biff)}function Ay(e){return parseInt(W$(e),10)-1}function Ar(e){return""+(e+1)}function V$(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function W$(e){return e.replace(/\$(\d+)$/,"$1")}function jy(e){for(var t=G$(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function mr(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function H$(e){return e.replace(/^([A-Z])/,"$$$1")}function G$(e){return e.replace(/^\$([A-Z])/,"$1")}function q$(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function an(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function He(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function lu(e){var t=e.indexOf(":");return t==-1?{s:an(e),e:an(e)}:{s:an(e.slice(0,t)),e:an(e.slice(t+1))}}function at(e,t){return typeof t>"u"||typeof t=="number"?at(e.s,e.e):(typeof e!="string"&&(e=He(e)),typeof t!="string"&&(t=He(t)),e==t?e:e+":"+t)}function Ht(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,s=e.length;for(r=0;n<s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===s||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function hS(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Ca(e.z,r?cn(t):t)}catch{}try{return e.w=Ca((e.XF||{}).numFmtId||(r?14:0),r?cn(t):t)}catch{return""+t}}function ei(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?yc[e.v]||e.v:t==null?hS(e,e.v):hS(e,t))}function fo(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function tN(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,s=e||(a?[]:{}),i=0,o=0;if(s&&n.origin!=null){if(typeof n.origin=="number")i=n.origin;else{var l=typeof n.origin=="string"?an(n.origin):n.origin;i=l.r,o=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var d=Ht(s["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),i==-1&&(u.e.r=i=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var m={v:t[f][h]},v=i+f,p=o+h;if(u.s.r>v&&(u.s.r=v),u.s.c>p&&(u.s.c=p),u.e.r<v&&(u.e.r=v),u.e.c<p&&(u.e.c=p),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))m=t[f][h];else if(Array.isArray(m.v)&&(m.f=t[f][h][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(n.nullError)m.t="e",m.v=0;else if(n.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=n.dateNF||qe[14],n.cellDates?(m.t="d",m.w=Ca(m.z,cn(m.v))):(m.t="n",m.v=cn(m.v),m.w=Ca(m.z,m.v))):m.t="s";if(a)s[v]||(s[v]=[]),s[v][p]&&s[v][p].z&&(m.z=s[v][p].z),s[v][p]=m;else{var g=He({c:p,r:v});s[g]&&s[g].z&&(m.z=s[g].z),s[g]=m}}}return u.s.c<1e7&&(s["!ref"]=at(u)),s}function uu(e,t){return tN(null,e,t)}function J$(e){return e.read_shift(4,"i")}function Br(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function K$(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function Ny(e,t){var r=e.l,n=e.read_shift(1),a=Br(e),s=[],i={t:a,h:a};if(n&1){for(var o=e.read_shift(4),l=0;l!=o;++l)s.push(K$(e));i.r=s}else i.r=[{ich:0,ifnt:0}];return e.l=r+t,i}var X$=Ny;function Aa(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function vc(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var Y$=Br;function Iy(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var Z$=Br,rx=Iy;function Ry(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?g0([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):ko(t,0)>>2;return r?a/100:a}function rN(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var xc=rN;function Lr(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Q$(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),s=e.read_shift(2,"i"),i=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=Ho[a];u&&(t.rgb=Ud(u));break;case 2:t.rgb=Ud([i,o,l]);break;case 3:t.theme=a;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function ez(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function nN(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function tz(e){return nN(e,1)}function rz(e){return nN(e,2)}var Py=2,En=3,rh=11,mS=12,v0=19,nh=64,nz=65,az=71,sz=4108,iz=4126,yr=80,aN=81,oz=[yr,aN],cz={1:{n:"CodePage",t:Py},2:{n:"Category",t:yr},3:{n:"PresentationFormat",t:yr},4:{n:"ByteCount",t:En},5:{n:"LineCount",t:En},6:{n:"ParagraphCount",t:En},7:{n:"SlideCount",t:En},8:{n:"NoteCount",t:En},9:{n:"HiddenCount",t:En},10:{n:"MultimediaClipCount",t:En},11:{n:"ScaleCrop",t:rh},12:{n:"HeadingPairs",t:sz},13:{n:"TitlesOfParts",t:iz},14:{n:"Manager",t:yr},15:{n:"Company",t:yr},16:{n:"LinksUpToDate",t:rh},17:{n:"CharacterCount",t:En},19:{n:"SharedDoc",t:rh},22:{n:"HyperlinksChanged",t:rh},23:{n:"AppVersion",t:En,p:"version"},24:{n:"DigSig",t:nz},26:{n:"ContentType",t:yr},27:{n:"ContentStatus",t:yr},28:{n:"Language",t:yr},29:{n:"Version",t:yr},255:{},2147483648:{n:"Locale",t:v0},2147483651:{n:"Behavior",t:v0},1919054434:{}},lz={1:{n:"CodePage",t:Py},2:{n:"Title",t:yr},3:{n:"Subject",t:yr},4:{n:"Author",t:yr},5:{n:"Keywords",t:yr},6:{n:"Comments",t:yr},7:{n:"Template",t:yr},8:{n:"LastAuthor",t:yr},9:{n:"RevNumber",t:yr},10:{n:"EditTime",t:nh},11:{n:"LastPrinted",t:nh},12:{n:"CreatedDate",t:nh},13:{n:"ModifiedDate",t:nh},14:{n:"PageCount",t:En},15:{n:"WordCount",t:En},16:{n:"CharCount",t:En},17:{n:"Thumbnail",t:az},18:{n:"Application",t:yr},19:{n:"DocSecurity",t:En},255:{},2147483648:{n:"Locale",t:v0},2147483651:{n:"Behavior",t:v0},1919054434:{}},pS={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},uz=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function dz(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var fz=dz([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Ho=Cr(fz),yc={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},sN={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},gS={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function hz(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function mz(e){var t=hz();if(!e||!e.match)return t;var r={};if((e.match(Wr)||[]).forEach(function(n){var a=$e(n);switch(a[0].replace(_$,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[gS[a.ContentType]]!==void 0&&t[gS[a.ContentType]].push(a.PartName);break}}),t.xmlns!==P$.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var tl={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function nx(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function ad(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Wr)||[]).forEach(function(a){var s=$e(a);if(s[0]==="<Relationship"){var i={};i.Type=s.Type,i.Target=s.Target,i.Id=s.Id,s.TargetMode&&(i.TargetMode=s.TargetMode);var o=s.TargetMode==="External"?s.Target:Uu(s.Target,t);r[o]=i,n[s.Id]=i}}),r["!id"]=n,r}var pz="application/vnd.oasis.opendocument.spreadsheet";function gz(e,t){for(var r=ky(e),n,a;n=Md.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=$e(n[0],!1),a.path=="/"&&a.type!==pz)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var sd=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],vz=function(){for(var e=new Array(sd.length),t=0;t<sd.length;++t){var r=sd[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function iN(e){var t={};e=St(e);for(var r=0;r<sd.length;++r){var n=sd[r],a=e.match(vz[r]);a!=null&&a.length>0&&(t[n[1]]=ct(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=_r(t[n[1]]))}return t}var xz=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function oN(e,t,r,n){var a=[];if(typeof e=="string")a=iS(e,n);else for(var s=0;s<e.length;++s)a=a.concat(e[s].map(function(d){return{v:d}}));var i=typeof t=="string"?iS(t,n).map(function(d){return d.v}):t,o=0,l=0;if(i.length>0)for(var u=0;u!==a.length;u+=2){switch(l=+a[u+1].v,a[u].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=l,r.SheetNames=i.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=l,r.DefinedNames=i.slice(o,o+l);break;case"Charts":case"Diagramme":r.Chartsheets=l,r.ChartNames=i.slice(o,o+l);break}o+=l}}function yz(e,t,r){var n={};return t||(t={}),e=St(e),xz.forEach(function(a){var s=(e.match(Dd(a[0]))||[])[1];switch(a[2]){case"string":s&&(t[a[1]]=ct(s));break;case"bool":t[a[1]]=s==="true";break;case"raw":var i=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));i&&i.length>0&&(n[a[1]]=i[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&oN(n.HeadingPairs,n.TitlesOfParts,t,r),t}var wz=/<[^>]+>[^<]*/g;function Ez(e,t){var r={},n="",a=e.match(wz);if(a)for(var s=0;s!=a.length;++s){var i=a[s],o=$e(i);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=ct(o.name);break;case"</property>":n=null;break;default:if(i.indexOf("<vt:")===0){var l=i.split(">"),u=l[0].slice(4),d=l[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[n]=ct(d);break;case"bool":r[n]=Rt(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(d);break;case"filetime":case"date":r[n]=_r(d);break;case"cy":case"error":r[n]=ct(d);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",i,u,l)}}else if(i.slice(0,2)!=="</"){if(t.WTF)throw new Error(i)}}}return r}var _z={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},Up;function Sz(e,t,r){Up||(Up=Sy(_z)),t=Up[t]||t,e[t]=r}function Oy(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function cN(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function lN(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function uN(e,t,r){return t===31?lN(e):cN(e,t,r)}function ax(e,t,r){return uN(e,t,r===!1?0:4)}function bz(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return uN(e,t,0)}function Tz(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(on,""),e.l-a&2&&(e.l+=2)}return r}function kz(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(on,"");return r}function Cz(e){var t=e.l,r=x0(e,aN);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=x0(e,En);return[r,n]}function Az(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(Cz(e));return r}function vS(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var s=e.read_shift(4),i=e.read_shift(4);n[s]=e.read_shift(i,t===1200?"utf16le":"utf8").replace(on,"").replace(Lu,"!"),t===1200&&i%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function dN(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function jz(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function x0(e,t,r){var n=e.read_shift(2),a,s=r||{};if(e.l+=2,t!==mS&&n!==t&&oz.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===mS?n:t){case 2:return a=e.read_shift(2,"i"),s.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return cN(e,n,4).replace(on,"");case 31:return lN(e);case 64:return Oy(e);case 65:return dN(e);case 71:return jz(e);case 80:return ax(e,n,!s.raw).replace(on,"");case 81:return bz(e,n).replace(on,"");case 4108:return Az(e);case 4126:case 4127:return n==4127?Tz(e):kz(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function xS(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),s=[],i=0,o=0,l=-1,u={};for(i=0;i!=a;++i){var d=e.read_shift(4),f=e.read_shift(4);s[i]=[d,f+r]}s.sort(function(E,w){return E[1]-w[1]});var h={};for(i=0;i!=a;++i){if(e.l!==s[i][1]){var m=!0;if(i>0&&t)switch(t[s[i-1][0]].t){case 2:e.l+2===s[i][1]&&(e.l+=2,m=!1);break;case 80:e.l<=s[i][1]&&(e.l=s[i][1],m=!1);break;case 4108:e.l<=s[i][1]&&(e.l=s[i][1],m=!1);break}if((!t||i==0)&&e.l<=s[i][1]&&(m=!1,e.l=s[i][1]),m)throw new Error("Read Error: Expected address "+s[i][1]+" at "+e.l+" :"+i)}if(t){var v=t[s[i][0]];if(h[v.n]=x0(e,v.t,{raw:!0}),v.p==="version"&&(h[v.n]=String(h[v.n]>>16)+"."+("0000"+String(h[v.n]&65535)).slice(-4)),v.n=="CodePage")switch(h[v.n]){case 0:h[v.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Wa(o=h[v.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[v.n])}}else if(s[i][0]===1){if(o=h.CodePage=x0(e,Py),Wa(o),l!==-1){var p=e.l;e.l=s[l][1],u=vS(e,o),e.l=p}}else if(s[i][0]===0){if(o===0){l=i,e.l=s[i+1][1];continue}u=vS(e,o)}else{var g=u[s[i][0]],y;switch(e[e.l]){case 65:e.l+=4,y=dN(e);break;case 30:e.l+=4,y=ax(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,y=ax(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,y=e.read_shift(4,"i");break;case 19:e.l+=4,y=e.read_shift(4);break;case 5:e.l+=4,y=e.read_shift(8,"f");break;case 11:e.l+=4,y=qt(e,4);break;case 64:e.l+=4,y=_r(Oy(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[g]=y}}return e.l=r+n,h}function yS(e,t,r){var n=e.content;if(!n)return{};br(n,0);var a,s,i,o,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),d=n.read_shift(16);if(d!==nt.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(s=n.read_shift(16),o=n.read_shift(4),a===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);a===2&&(i=n.read_shift(16),l=n.read_shift(4));var f=xS(n,t),h={SystemIdentifier:u};for(var m in f)h[m]=f[m];if(h.FMTID=s,a===1)return h;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);var v;try{v=xS(n,null)}catch{}for(m in v)h[m]=v[m];return h.FMTID=[s,i],h}function ui(e,t){return e.read_shift(t),null}function Nz(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function qt(e,t){return e.read_shift(t)===1}function tr(e){return e.read_shift(2,"u")}function fN(e,t){return Nz(e,t,tr)}function Iz(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function lf(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=e.read_shift(1);s&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var i=n?e.read_shift(n,a):"";return i}function Rz(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,s=1+(r&1),i=0,o,l={};a&&(i=e.read_shift(2)),n&&(o=e.read_shift(4));var u=s==2?"dbcs-cont":"sbcs-cont",d=t===0?"":e.read_shift(t,u);return a&&(e.l+=4*i),n&&(e.l+=o),l.t=d,a||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function sc(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function uf(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):sc(e,n,r)}function wc(e,t,r){if(r.biff>5)return uf(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function Pz(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function Oz(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(on,"");return n&&(e.l+=24),a}function Fz(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var s=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var i=e.read_shift(s>>1,"utf16le").replace(on,"");return r+i}function Dz(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return Oz(e);case"0303000000000000c000000000000046":return Fz(e);default:throw new Error("Unsupported Moniker "+r)}}function ah(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(on,""):"";return r}function Mz(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var s,i,o,l,u="",d,f;a&16&&(s=ah(e,r-e.l)),a&128&&(i=ah(e,r-e.l)),(a&257)===257&&(o=ah(e,r-e.l)),(a&257)===1&&(l=Dz(e,r-e.l)),a&8&&(u=ah(e,r-e.l)),a&32&&(d=e.read_shift(16)),a&64&&(f=Oy(e)),e.l=r;var h=i||o||l||"";h&&u&&(h+="#"+u),h||(h="#"+u),a&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var m={Target:h};return d&&(m.guid=d),f&&(m.time=f),s&&(m.Tooltip=s),m}function hN(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function mN(e,t){var r=hN(e);return r[3]=0,r}function Ts(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function Lz(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function Uz(e,t,r){return t===0?"":wc(e,t,r)}function Bz(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),s=e.read_shift(n,"i"),i=e.read_shift(n,"i");return[a,s,i]}function pN(e){var t=e.read_shift(2),r=Ry(e);return[t,r]}function $z(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=lf(e,t,r),s=e.read_shift(2);if(n-=e.l,s!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+s);return e.l+=s,a}function hm(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function gN(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var zz=gN;function vN(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function Vz(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function Wz(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Or(e){e.l+=2,e.l+=e.read_shift(2)}var Hz={0:Or,4:Or,5:Or,6:Or,7:Wz,8:Or,9:Or,10:Or,11:Or,12:Or,13:Vz,14:Or,15:Or,16:Or,17:Or,18:Or,19:Or,20:Or,21:vN};function Gz(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(Hz[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function sh(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function qz(e,t){return t===0||e.read_shift(2),1200}function Jz(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=wc(e,0,r);return e.read_shift(t+n-e.l),a}function Kz(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function Xz(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,s=e.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var i=lf(e,0,r);return i.length===0&&(i="Sheet1"),{pos:n,hs:a,dt:s,name:i}}function Yz(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),s=[],i=0;i!=a&&e.l<r;++i)s.push(Rz(e));return s.Count=n,s.Unique=a,s}function Zz(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function Qz(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function e7(e){var t=Lz(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function t7(e){return e.read_shift(2),e.read_shift(4)}function wS(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var s={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[s,a]}function r7(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:s,CurTab:i,FirstTab:o,Selected:l,TabRatio:u}}function n7(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function a7(){}function s7(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=lf(e,0,r),n}function i7(e){var t=Ts(e);return t.isst=e.read_shift(4),t}function o7(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=Ts(e);r.biff==2&&e.l++;var s=uf(e,n-e.l,r);return a.val=s,a}function c7(e,t,r){var n=e.read_shift(2),a=wc(e,0,r);return[n,a]}var l7=wc;function ES(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,s=e.read_shift(a),i=e.read_shift(a),o=e.read_shift(2),l=e.read_shift(2);return e.l=n,{s:{r:s,c:o},e:{r:i,c:l}}}function u7(e){var t=e.read_shift(2),r=e.read_shift(2),n=pN(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function d7(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(pN(e));if(e.l!==r)throw new Error("MulRK read error");var i=e.read_shift(2);if(s.length!=i-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:i,rkrec:s}}function f7(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var i=e.read_shift(2);if(s.length!=i-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:i,ixfe:s}}function h7(e,t,r,n){var a={},s=e.read_shift(4),i=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(2);return a.patternType=uz[o>>26],n.cellStyles&&(a.alc=s&7,a.fWrap=s>>3&1,a.alcV=s>>4&7,a.fJustLast=s>>7&1,a.trot=s>>8&255,a.cIndent=s>>16&15,a.fShrinkToFit=s>>20&1,a.iReadOrder=s>>22&2,a.fAtrNum=s>>26&1,a.fAtrFnt=s>>27&1,a.fAtrAlc=s>>28&1,a.fAtrBdr=s>>29&1,a.fAtrPat=s>>30&1,a.fAtrProt=s>>31&1,a.dgLeft=i&15,a.dgRight=i>>4&15,a.dgTop=i>>8&15,a.dgBottom=i>>12&15,a.icvLeft=i>>16&127,a.icvRight=i>>23&127,a.grbitDiag=i>>30&3,a.icvTop=o&127,a.icvBottom=o>>7&127,a.icvDiag=o>>14&127,a.dgDiag=o>>21&15,a.icvFore=l&127,a.icvBack=l>>7&127,a.fsxButton=l>>14&1),a}function m7(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=h7(e,t,n.fStyle,r),n}function p7(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function _S(e,t,r){var n=Ts(e);(r.biff==2||t==9)&&++e.l;var a=Iz(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function g7(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=Ts(e),a=Lr(e);return n.val=a,n}var SS=Uz;function v7(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(2);if(r.sbcch=s,s==1025||s==14849)return[s,a];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var i=sc(e,s),o=[];n>e.l;)o.push(uf(e));return[s,a,i,o]}function bS(e,t,r){var n=e.read_shift(2),a,s={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=$z(e,t-2,r)),s.body=a||e.read_shift(t-2),typeof a=="string"&&(s.Name=a),s}var x7=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function TS(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(1),i=e.read_shift(1),o=e.read_shift(r&&r.biff==2?1:2),l=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),l=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var u=sc(e,i,r);a&32&&(u=x7[u.charCodeAt(0)]);var d=n-e.l;r&&r.biff==2&&--d;var f=n==e.l||o===0||!(d>0)?[]:QW(e,d,r,o);return{chKey:s,Name:u,itab:l,rgce:f}}function xN(e,t,r){if(r.biff<8)return y7(e,t,r);for(var n=[],a=e.l+t,s=e.read_shift(r.biff>8?4:2);s--!==0;)n.push(Bz(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function y7(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=lf(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function w7(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),s=sc(e,n,r),i=sc(e,a,r);return[s,i]}function E7(e,t,r){var n=gN(e);e.l++;var a=e.read_shift(1);return t-=8,[eH(e,t,r),a,n]}function kS(e,t,r){var n=zz(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,YW(e,t,r)]}function _7(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function S7(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),o=wc(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},o,i,s]}}function b7(e,t,r){return S7(e,t,r)}function T7(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(hm(e));return r}function k7(e,t,r){if(r&&r.biff<8)return A7(e,t,r);var n=vN(e),a=Gz(e,t-22,n[1]);return{cmo:n,ft:a}}var C7={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function A7(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var i=[];return i.push((C7[n]||zr)(e,t,r)),{cmo:[a,n,s],ft:i}}function j7(e,t,r){var n=e.l,a="";try{e.l+=4;var s=(r.lastobj||{cmo:[0,0]}).cmo[1],i;[0,5,7,11,12,14].indexOf(s)==-1?e.l+=6:i=Pz(e,6,r);var o=e.read_shift(2);e.read_shift(2),tr(e,2);var l=e.read_shift(2);e.l+=l;for(var u=1;u<e.lens.length-1;++u){if(e.l-n!=e.lens[u])throw new Error("TxO: bad continue record");var d=e[e.l],f=sc(e,e.lens[u+1]-e.lens[u]-1);if(a+=f,a.length>=(d?o:2*o))break}if(a.length!==o&&a.length!==o*2)throw new Error("cchText: "+o+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function N7(e,t){var r=hm(e);e.l+=16;var n=Mz(e,t-24);return[r,n]}function I7(e,t){e.read_shift(2);var r=hm(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(on,""),[r,n]}function R7(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=pS[r]||r,r=e.read_shift(2),t[1]=pS[r]||r,t}function P7(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(mN(e));return r}function O7(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(mN(e));return r}function F7(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function yN(e,t,r){if(!r.cellStyles)return zr(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),s=e.read_shift(n),i=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:s,w:i,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(u.level=l>>8&7),u}function D7(e,t){var r={};return t<32||(e.l+=16,r.header=Lr(e),r.footer=Lr(e),e.l+=2),r}function M7(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}var L7=Ts,U7=fN,B7=uf;function $7(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function z7(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=Ts(e);++e.l;var a=wc(e,t-7,r);return n.t="str",n.val=a,n}function V7(e){var t=Ts(e);++e.l;var r=Lr(e);return t.t="n",t.val=r,t}function W7(e){var t=Ts(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function H7(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function G7(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function q7(e,t,r){var n=e.l+t,a=Ts(e),s=e.read_shift(2),i=sc(e,s,r);return e.l=n,a.t="str",a.val=i,a}var J7=[2,3,48,49,131,139,140,245],CS=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=Sy({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var u=[],d=to(1);switch(l.type){case"base64":d=Va(ta(o));break;case"binary":d=Va(o);break;case"buffer":case"array":d=o;break}br(d,0);var f=d.read_shift(1),h=!!(f&136),m=!1,v=!1;switch(f){case 2:break;case 3:break;case 48:m=!0,h=!0;break;case 49:m=!0,h=!0;break;case 131:break;case 139:break;case 140:v=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var p=0,g=521;f==2&&(p=d.read_shift(2)),d.l+=3,f!=2&&(p=d.read_shift(4)),p>1048576&&(p=1e6),f!=2&&(g=d.read_shift(2));var y=d.read_shift(2),E=l.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(E=e[d[d.l]]),d.l+=1,d.l+=2),v&&(d.l+=36);for(var w=[],_={},T=Math.min(d.length,f==2?521:g-10-(m?264:0)),b=v?32:11;d.l<T&&d[d.l]!=13;)switch(_={},_.name=Ei.utils.decode(E,d.slice(d.l,d.l+b)).replace(/[\u0000\r\n].*$/g,""),d.l+=b,_.type=String.fromCharCode(d.read_shift(1)),f!=2&&!v&&(_.offset=d.read_shift(4)),_.len=d.read_shift(1),f==2&&(_.offset=d.read_shift(2)),_.dec=d.read_shift(1),_.name.length&&w.push(_),f!=2&&(d.l+=v?13:14),_.type){case"B":(!m||_.len!=8)&&l.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+_.type)}if(d[d.l]!==13&&(d.l=g-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=g;var S=0,k=0;for(u[0]=[],k=0;k!=w.length;++k)u[0][k]=w[k].name;for(;p-- >0;){if(d[d.l]===42){d.l+=y;continue}for(++d.l,u[++S]=[],k=0,k=0;k!=w.length;++k){var A=d.slice(d.l,d.l+w[k].len);d.l+=w[k].len,br(A,0);var j=Ei.utils.decode(E,A);switch(w[k].type){case"C":j.trim().length&&(u[S][k]=j.replace(/\s+$/,""));break;case"D":j.length===8?u[S][k]=new Date(+j.slice(0,4),+j.slice(4,6)-1,+j.slice(6,8)):u[S][k]=j;break;case"F":u[S][k]=parseFloat(j.trim());break;case"+":case"I":u[S][k]=v?A.read_shift(-4,"i")^2147483648:A.read_shift(4,"i");break;case"L":switch(j.trim().toUpperCase()){case"Y":case"T":u[S][k]=!0;break;case"N":case"F":u[S][k]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+j+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[S][k]="##MEMO##"+(v?parseInt(j.trim(),10):A.read_shift(4));break;case"N":j=j.replace(/\u0000/g,"").trim(),j&&j!="."&&(u[S][k]=+j||0);break;case"@":u[S][k]=new Date(A.read_shift(-8,"f")-621356832e5);break;case"T":u[S][k]=new Date((A.read_shift(4)-2440588)*864e5+A.read_shift(4));break;case"Y":u[S][k]=A.read_shift(4,"i")/1e4+A.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[S][k]=-A.read_shift(-8,"f");break;case"B":if(m&&w[k].len==8){u[S][k]=A.read_shift(8,"f");break}case"G":case"P":A.l+=w[k].len;break;case"0":if(w[k].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+w[k].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return l&&l.sheetRows&&(u=u.slice(0,l.sheetRows)),l.DBF=w,u}function n(o,l){var u=l||{};u.dateNF||(u.dateNF="yyyymmdd");var d=uu(r(o,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function a(o,l){try{return fo(n(o,l),l)}catch(u){if(l&&l.WTF)throw u}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function i(o,l){var u=l||{};if(+u.codepage>=0&&Wa(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=tx(),f=ux(o,{header:1,raw:!0,cellDates:!0}),h=f[0],m=f.slice(1),v=o["!cols"]||[],p=0,g=0,y=0,E=1;for(p=0;p<h.length;++p){if(((v[p]||{}).DBF||{}).name){h[p]=v[p].DBF.name,++y;continue}if(h[p]!=null){if(++y,typeof h[p]=="number"&&(h[p]=h[p].toString(10)),typeof h[p]!="string")throw new Error("DBF Invalid column name "+h[p]+" |"+typeof h[p]+"|");if(h.indexOf(h[p])!==p){for(g=0;g<1024;++g)if(h.indexOf(h[p]+"_"+g)==-1){h[p]+="_"+g;break}}}}var w=Ht(o["!ref"]),_=[],T=[],b=[];for(p=0;p<=w.e.c-w.s.c;++p){var S="",k="",A=0,j=[];for(g=0;g<m.length;++g)m[g][p]!=null&&j.push(m[g][p]);if(j.length==0||h[p]==null){_[p]="?";continue}for(g=0;g<j.length;++g){switch(typeof j[g]){case"number":k="B";break;case"string":k="C";break;case"boolean":k="L";break;case"object":k=j[g]instanceof Date?"D":"C";break;default:k="C"}A=Math.max(A,String(j[g]).length),S=S&&S!=k?"C":k}A>250&&(A=250),k=((v[p]||{}).DBF||{}).type,k=="C"&&v[p].DBF.len>A&&(A=v[p].DBF.len),S=="B"&&k=="N"&&(S="N",b[p]=v[p].DBF.dec,A=v[p].DBF.len),T[p]=S=="C"||k=="N"?A:s[S]||0,E+=T[p],_[p]=S}var I=d.next(32);for(I.write_shift(4,318902576),I.write_shift(4,m.length),I.write_shift(2,296+32*y),I.write_shift(2,E),p=0;p<4;++p)I.write_shift(4,0);for(I.write_shift(4,0|(+t[xj]||3)<<8),p=0,g=0;p<h.length;++p)if(h[p]!=null){var N=d.next(32),W=(h[p].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);N.write_shift(1,W,"sbcs"),N.write_shift(1,_[p]=="?"?"C":_[p],"sbcs"),N.write_shift(4,g),N.write_shift(1,T[p]||s[_[p]]||0),N.write_shift(1,b[p]||0),N.write_shift(1,2),N.write_shift(4,0),N.write_shift(1,0),N.write_shift(4,0),N.write_shift(4,0),g+=T[p]||s[_[p]]||0}var M=d.next(264);for(M.write_shift(4,13),p=0;p<65;++p)M.write_shift(4,0);for(p=0;p<m.length;++p){var X=d.next(E);for(X.write_shift(1,0),g=0;g<h.length;++g)if(h[g]!=null)switch(_[g]){case"L":X.write_shift(1,m[p][g]==null?63:m[p][g]?84:70);break;case"B":X.write_shift(8,m[p][g]||0,"f");break;case"N":var B="0";for(typeof m[p][g]=="number"&&(B=m[p][g].toFixed(b[g]||0)),y=0;y<T[g]-B.length;++y)X.write_shift(1,32);X.write_shift(1,B,"sbcs");break;case"D":m[p][g]?(X.write_shift(4,("0000"+m[p][g].getFullYear()).slice(-4),"sbcs"),X.write_shift(2,("00"+(m[p][g].getMonth()+1)).slice(-2),"sbcs"),X.write_shift(2,("00"+m[p][g].getDate()).slice(-2),"sbcs")):X.write_shift(8,"00000000","sbcs");break;case"C":var z=String(m[p][g]!=null?m[p][g]:"").slice(0,T[g]);for(X.write_shift(1,z,"sbcs"),y=0;y<T[g]-z.length;++y)X.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:i}}(),K7=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Es(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,m){var v=e[m];return typeof v=="number"?V_(v):v},n=function(h,m,v){var p=m.charCodeAt(0)-32<<4|v.charCodeAt(0)-48;return p==59?h:V_(p)};e["|"]=254;function a(h,m){switch(m.type){case"base64":return s(ta(h),m);case"binary":return s(h,m);case"buffer":return s(rt&&Buffer.isBuffer(h)?h.toString("binary"):gc(h),m);case"array":return s(ac(h),m)}throw new Error("Unrecognized type "+m.type)}function s(h,m){var v=h.split(/[\n\r]+/),p=-1,g=-1,y=0,E=0,w=[],_=[],T=null,b={},S=[],k=[],A=[],j=0,I;for(+m.codepage>=0&&Wa(+m.codepage);y!==v.length;++y){j=0;var N=v[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),W=N.replace(/;;/g,"\0").split(";").map(function(D){return D.replace(/\u0000/g,";")}),M=W[0],X;if(N.length>0)switch(M){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":W[1].charAt(0)=="P"&&_.push(N.slice(3).replace(/;;/g,";"));break;case"C":var B=!1,z=!1,Y=!1,F=!1,ne=-1,Z=-1;for(E=1;E<W.length;++E)switch(W[E].charAt(0)){case"A":break;case"X":g=parseInt(W[E].slice(1))-1,z=!0;break;case"Y":for(p=parseInt(W[E].slice(1))-1,z||(g=0),I=w.length;I<=p;++I)w[I]=[];break;case"K":X=W[E].slice(1),X.charAt(0)==='"'?X=X.slice(1,X.length-1):X==="TRUE"?X=!0:X==="FALSE"?X=!1:isNaN(Ja(X))?isNaN(Vl(X).getDate())||(X=_r(X)):(X=Ja(X),T!==null&&cu(T)&&(X=fm(X))),B=!0;break;case"E":F=!0;var C=ml(W[E].slice(1),{r:p,c:g});w[p][g]=[w[p][g],C];break;case"S":Y=!0,w[p][g]=[w[p][g],"S5S"];break;case"G":break;case"R":ne=parseInt(W[E].slice(1))-1;break;case"C":Z=parseInt(W[E].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+N)}if(B&&(w[p][g]&&w[p][g].length==2?w[p][g][0]=X:w[p][g]=X,T=null),Y){if(F)throw new Error("SYLK shared formula cannot have own formula");var G=ne>-1&&w[ne][Z];if(!G||!G[1])throw new Error("SYLK shared formula cannot find base");w[p][g][1]=jN(G[1],{r:p-ne,c:g-Z})}break;case"F":var L=0;for(E=1;E<W.length;++E)switch(W[E].charAt(0)){case"X":g=parseInt(W[E].slice(1))-1,++L;break;case"Y":for(p=parseInt(W[E].slice(1))-1,I=w.length;I<=p;++I)w[I]=[];break;case"M":j=parseInt(W[E].slice(1))/20;break;case"F":break;case"G":break;case"P":T=_[parseInt(W[E].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(A=W[E].slice(1).split(" "),I=parseInt(A[0],10);I<=parseInt(A[1],10);++I)j=parseInt(A[2],10),k[I-1]=j===0?{hidden:!0}:{wch:j},Wl(k[I-1]);break;case"C":g=parseInt(W[E].slice(1))-1,k[g]||(k[g]={});break;case"R":p=parseInt(W[E].slice(1))-1,S[p]||(S[p]={}),j>0?(S[p].hpt=j,S[p].hpx=Bd(j)):j===0&&(S[p].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+N)}L<1&&(T=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+N)}}return S.length>0&&(b["!rows"]=S),k.length>0&&(b["!cols"]=k),m&&m.sheetRows&&(w=w.slice(0,m.sheetRows)),[w,b]}function i(h,m){var v=a(h,m),p=v[0],g=v[1],y=uu(p,m);return Es(g).forEach(function(E){y[E]=g[E]}),y}function o(h,m){return fo(i(h,m),m)}function l(h,m,v,p){var g="C;Y"+(v+1)+";X"+(p+1)+";K";switch(h.t){case"n":g+=h.v||0,h.f&&!h.F&&(g+=";E"+FV(h.f,{r:v,c:p}));break;case"b":g+=h.v?"TRUE":"FALSE";break;case"e":g+=h.w||h.v;break;case"d":g+='"'+(h.w||h.v)+'"';break;case"s":g+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return g}function u(h,m){m.forEach(function(v,p){var g="F;W"+(p+1)+" "+(p+1)+" ";v.hidden?g+="0":(typeof v.width=="number"&&!v.wpx&&(v.wpx=w0(v.width)),typeof v.wpx=="number"&&!v.wch&&(v.wch=E0(v.wpx)),typeof v.wch=="number"&&(g+=Math.round(v.wch))),g.charAt(g.length-1)!=" "&&h.push(g)})}function d(h,m){m.forEach(function(v,p){var g="F;";v.hidden?g+="M0;":v.hpt?g+="M"+20*v.hpt+";":v.hpx&&(g+="M"+20*kN(v.hpx)+";"),g.length>2&&h.push(g+"R"+(p+1))})}function f(h,m){var v=["ID;PWXL;N;E"],p=[],g=Ht(h["!ref"]),y,E=Array.isArray(h),w=`\r
`;v.push("P;PGeneral"),v.push("F;P0;DG0G8;M255"),h["!cols"]&&u(v,h["!cols"]),h["!rows"]&&d(v,h["!rows"]),v.push("B;Y"+(g.e.r-g.s.r+1)+";X"+(g.e.c-g.s.c+1)+";D"+[g.s.c,g.s.r,g.e.c,g.e.r].join(" "));for(var _=g.s.r;_<=g.e.r;++_)for(var T=g.s.c;T<=g.e.c;++T){var b=He({r:_,c:T});y=E?(h[_]||[])[T]:h[b],!(!y||y.v==null&&(!y.f||y.F))&&p.push(l(y,h,_,T))}return v.join(w)+w+p.join(w)+w+"E"+w}return{to_workbook:o,to_sheet:i,from_sheet:f}}(),X7=function(){function e(s,i){switch(i.type){case"base64":return t(ta(s),i);case"binary":return t(s,i);case"buffer":return t(rt&&Buffer.isBuffer(s)?s.toString("binary"):gc(s),i);case"array":return t(ac(s),i)}throw new Error("Unrecognized type "+i.type)}function t(s,i){for(var o=s.split(`
`),l=-1,u=-1,d=0,f=[];d!==o.length;++d){if(o[d].trim()==="BOT"){f[++l]=[],u=0;continue}if(!(l<0)){var h=o[d].trim().split(","),m=h[0],v=h[1];++d;for(var p=o[d]||"";(p.match(/["]/g)||[]).length&1&&d<o.length-1;)p+=`
`+o[++d];switch(p=p.trim(),+m){case-1:if(p==="BOT"){f[++l]=[],u=0;continue}else if(p!=="EOD")throw new Error("Unrecognized DIF special command "+p);break;case 0:p==="TRUE"?f[l][u]=!0:p==="FALSE"?f[l][u]=!1:isNaN(Ja(v))?isNaN(Vl(v).getDate())?f[l][u]=v:f[l][u]=_r(v):f[l][u]=Ja(v),++u;break;case 1:p=p.slice(1,p.length-1),p=p.replace(/""/g,'"'),p&&p.match(/^=".*"$/)&&(p=p.slice(2,-1)),f[l][u++]=p!==""?p:null;break}if(p==="EOD")break}}return i&&i.sheetRows&&(f=f.slice(0,i.sheetRows)),f}function r(s,i){return uu(e(s,i),i)}function n(s,i){return fo(r(s,i),i)}var a=function(){var s=function(l,u,d,f,h){l.push(u),l.push(d+","+f),l.push('"'+h.replace(/"/g,'""')+'"')},i=function(l,u,d,f){l.push(u+","+d),l.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var u=[],d=Ht(l["!ref"]),f,h=Array.isArray(l);s(u,"TABLE",0,1,"sheetjs"),s(u,"VECTORS",0,d.e.r-d.s.r+1,""),s(u,"TUPLES",0,d.e.c-d.s.c+1,""),s(u,"DATA",0,0,"");for(var m=d.s.r;m<=d.e.r;++m){i(u,-1,0,"BOT");for(var v=d.s.c;v<=d.e.c;++v){var p=He({r:m,c:v});if(f=h?(l[m]||[])[v]:l[p],!f){i(u,1,0,"");continue}switch(f.t){case"n":var g=f.w;!g&&f.v!=null&&(g=f.v),g==null?f.f&&!f.F?i(u,1,0,"="+f.f):i(u,1,0,""):i(u,0,g,"V");break;case"b":i(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":i(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Ca(f.z||qe[14],cn(_r(f.v)))),i(u,0,f.w,"V");break;default:i(u,1,0,"")}}}i(u,-1,0,"EOD");var y=`\r
`,E=u.join(y);return E}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),Y7=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var m=f.split(`
`),v=-1,p=-1,g=0,y=[];g!==m.length;++g){var E=m[g].trim().split(":");if(E[0]==="cell"){var w=an(E[1]);if(y.length<=w.r)for(v=y.length;v<=w.r;++v)y[v]||(y[v]=[]);switch(v=w.r,p=w.c,E[2]){case"t":y[v][p]=e(E[3]);break;case"v":y[v][p]=+E[3];break;case"vtf":var _=E[E.length-1];case"vtc":switch(E[3]){case"nl":y[v][p]=!!+E[4];break;default:y[v][p]=+E[4];break}E[2]=="vtf"&&(y[v][p]=[y[v][p],_])}}}return h&&h.sheetRows&&(y=y.slice(0,h.sheetRows)),y}function n(f,h){return uu(r(f,h),h)}function a(f,h){return fo(n(f,h),h)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),i=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var h=[],m=[],v,p="",g=lu(f["!ref"]),y=Array.isArray(f),E=g.s.r;E<=g.e.r;++E)for(var w=g.s.c;w<=g.e.c;++w)if(p=He({r:E,c:w}),v=y?(f[E]||[])[w]:f[p],!(!v||v.v==null||v.t==="z")){switch(m=["cell",p,"t"],v.t){case"s":case"str":m.push(t(v.v));break;case"n":v.f?(m[2]="vtf",m[3]="n",m[4]=v.v,m[5]=t(v.f)):(m[2]="v",m[3]=v.v);break;case"b":m[2]="vt"+(v.f?"f":"c"),m[3]="nl",m[4]=v.v?"1":"0",m[5]=t(v.f||(v.v?"TRUE":"FALSE"));break;case"d":var _=cn(_r(v.v));m[2]="vtc",m[3]="nd",m[4]=""+_,m[5]=v.w||Ca(v.z||qe[14],_);break;case"e":continue}h.push(m.join(":"))}return h.push("sheet:c:"+(g.e.c-g.s.c+1)+":r:"+(g.e.r-g.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function d(f){return[s,i,o,i,u(f),l].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}}(),Ld=function(){function e(d,f,h,m,v){v.raw?f[h][m]=d:d===""||(d==="TRUE"?f[h][m]=!0:d==="FALSE"?f[h][m]=!1:isNaN(Ja(d))?isNaN(Vl(d).getDate())?f[h][m]=d:f[h][m]=_r(d):f[h][m]=Ja(d))}function t(d,f){var h=f||{},m=[];if(!d||d.length===0)return m;for(var v=d.split(/[\r\n]/),p=v.length-1;p>=0&&v[p].length===0;)--p;for(var g=10,y=0,E=0;E<=p;++E)y=v[E].indexOf(" "),y==-1?y=v[E].length:y++,g=Math.max(g,y);for(E=0;E<=p;++E){m[E]=[];var w=0;for(e(v[E].slice(0,g).trim(),m,E,w,h),w=1;w<=(v[E].length-g)/10+1;++w)e(v[E].slice(g+(w-1)*10,g+w*10).trim(),m,E,w,h)}return h.sheetRows&&(m=m.slice(0,h.sheetRows)),m}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var f={},h=!1,m=0,v=0;m<d.length;++m)(v=d.charCodeAt(m))==34?h=!h:!h&&v in r&&(f[v]=(f[v]||0)+1);v=[];for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&v.push([f[m],m]);if(!v.length){f=n;for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&v.push([f[m],m])}return v.sort(function(p,g){return p[0]-g[0]||n[p[1]]-n[g[1]]}),r[v.pop()[1]]||44}function s(d,f){var h=f||{},m="",v=h.dense?[]:{},p={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(m=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(m=d.charAt(4),d=d.slice(6)):m=a(d.slice(0,1024)):h&&h.FS?m=h.FS:m=a(d.slice(0,1024));var g=0,y=0,E=0,w=0,_=0,T=m.charCodeAt(0),b=!1,S=0,k=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var A=h.dateNF!=null?c$(h.dateNF):null;function j(){var I=d.slice(w,_),N={};if(I.charAt(0)=='"'&&I.charAt(I.length-1)=='"'&&(I=I.slice(1,-1).replace(/""/g,'"')),I.length===0)N.t="z";else if(h.raw)N.t="s",N.v=I;else if(I.trim().length===0)N.t="s",N.v=I;else if(I.charCodeAt(0)==61)I.charCodeAt(1)==34&&I.charCodeAt(I.length-1)==34?(N.t="s",N.v=I.slice(2,-1).replace(/""/g,'"')):MV(I)?(N.t="n",N.f=I.slice(1)):(N.t="s",N.v=I);else if(I=="TRUE")N.t="b",N.v=!0;else if(I=="FALSE")N.t="b",N.v=!1;else if(!isNaN(E=Ja(I)))N.t="n",h.cellText!==!1&&(N.w=I),N.v=E;else if(!isNaN(Vl(I).getDate())||A&&I.match(A)){N.z=h.dateNF||qe[14];var W=0;A&&I.match(A)&&(I=l$(I,h.dateNF,I.match(A)||[]),W=1),h.cellDates?(N.t="d",N.v=_r(I,W)):(N.t="n",N.v=cn(_r(I,W))),h.cellText!==!1&&(N.w=Ca(N.z,N.v instanceof Date?cn(N.v):N.v)),h.cellNF||delete N.z}else N.t="s",N.v=I;if(N.t=="z"||(h.dense?(v[g]||(v[g]=[]),v[g][y]=N):v[He({c:y,r:g})]=N),w=_+1,k=d.charCodeAt(w),p.e.c<y&&(p.e.c=y),p.e.r<g&&(p.e.r=g),S==T)++y;else if(y=0,++g,h.sheetRows&&h.sheetRows<=g)return!0}e:for(;_<d.length;++_)switch(S=d.charCodeAt(_)){case 34:k===34&&(b=!b);break;case T:case 10:case 13:if(!b&&j())break e;break}return _-w>0&&j(),v["!ref"]=at(p),v}function i(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?s(d,f):uu(t(d,f),f)}function o(d,f){var h="",m=f.type=="string"?[0,0,0,0]:zy(d,f);switch(f.type){case"base64":h=ta(d);break;case"binary":h=d;break;case"buffer":f.codepage==65001?h=d.toString("utf8"):f.codepage&&typeof Ei<"u"?h=Ei.utils.decode(f.codepage,d):h=rt&&Buffer.isBuffer(d)?d.toString("binary"):gc(d);break;case"array":h=ac(d);break;case"string":h=d;break;default:throw new Error("Unrecognized type "+f.type)}return m[0]==239&&m[1]==187&&m[2]==191?h=St(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=St(h):f.type=="binary"&&typeof Ei<"u"&&f.codepage&&(h=Ei.utils.decode(f.codepage,Ei.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?Y7.to_sheet(f.type=="string"?h:St(h),f):i(h,f)}function l(d,f){return fo(o(d,f),f)}function u(d){for(var f=[],h=Ht(d["!ref"]),m,v=Array.isArray(d),p=h.s.r;p<=h.e.r;++p){for(var g=[],y=h.s.c;y<=h.e.c;++y){var E=He({r:p,c:y});if(m=v?(d[p]||[])[y]:d[E],!m||m.v==null){g.push("          ");continue}for(var w=(m.w||(ei(m),m.w)||"").slice(0,10);w.length<10;)w+=" ";g.push(w+(y===0?" ":""))}f.push(g.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:u}}();function Z7(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=K7.to_workbook(e,r);return r.WTF=n,a}catch(s){if(r.WTF=n,!s.message.match(/SYLK bad record ID/)&&n)throw s;return Ld.to_workbook(e,t)}}var id=function(){function e(C,G,L){if(C){br(C,C.l||0);for(var D=L.Enum||ne;C.l<C.length;){var O=C.read_shift(2),P=D[O]||D[65535],Q=C.read_shift(2),ee=C.l+Q,re=P.f&&P.f(C,Q,L);if(C.l=ee,G(re,P,O))return}}}function t(C,G){switch(G.type){case"base64":return r(Va(ta(C)),G);case"binary":return r(Va(C),G);case"buffer":case"array":return r(C,G)}throw"Unsupported type "+G.type}function r(C,G){if(!C)return C;var L=G||{},D=L.dense?[]:{},O="Sheet1",P="",Q=0,ee={},re=[],fe=[],V={s:{r:0,c:0},e:{r:0,c:0}},Ee=L.sheetRows||0;if(C[2]==0&&(C[3]==8||C[3]==9)&&C.length>=16&&C[14]==5&&C[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(C[2]==2)L.Enum=ne,e(C,function(me,Ze,kt){switch(kt){case 0:L.vers=me,me>=4096&&(L.qpro=!0);break;case 6:V=me;break;case 204:me&&(P=me);break;case 222:P=me;break;case 15:case 51:L.qpro||(me[1].v=me[1].v.slice(1));case 13:case 14:case 16:kt==14&&(me[2]&112)==112&&(me[2]&15)>1&&(me[2]&15)<15&&(me[1].z=L.dateNF||qe[14],L.cellDates&&(me[1].t="d",me[1].v=fm(me[1].v))),L.qpro&&me[3]>Q&&(D["!ref"]=at(V),ee[O]=D,re.push(O),D=L.dense?[]:{},V={s:{r:0,c:0},e:{r:0,c:0}},Q=me[3],O=P||"Sheet"+(Q+1),P="");var yt=L.dense?(D[me[0].r]||[])[me[0].c]:D[He(me[0])];if(yt){yt.t=me[1].t,yt.v=me[1].v,me[1].z!=null&&(yt.z=me[1].z),me[1].f!=null&&(yt.f=me[1].f);break}L.dense?(D[me[0].r]||(D[me[0].r]=[]),D[me[0].r][me[0].c]=me[1]):D[He(me[0])]=me[1];break}},L);else if(C[2]==26||C[2]==14)L.Enum=Z,C[2]==14&&(L.qpro=!0,C.l=0),e(C,function(me,Ze,kt){switch(kt){case 204:O=me;break;case 22:me[1].v=me[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(me[3]>Q&&(D["!ref"]=at(V),ee[O]=D,re.push(O),D=L.dense?[]:{},V={s:{r:0,c:0},e:{r:0,c:0}},Q=me[3],O="Sheet"+(Q+1)),Ee>0&&me[0].r>=Ee)break;L.dense?(D[me[0].r]||(D[me[0].r]=[]),D[me[0].r][me[0].c]=me[1]):D[He(me[0])]=me[1],V.e.c<me[0].c&&(V.e.c=me[0].c),V.e.r<me[0].r&&(V.e.r=me[0].r);break;case 27:me[14e3]&&(fe[me[14e3][0]]=me[14e3][1]);break;case 1537:fe[me[0]]=me[1],me[0]==Q&&(O=me[1]);break}},L);else throw new Error("Unrecognized LOTUS BOF "+C[2]);if(D["!ref"]=at(V),ee[P||O]=D,re.push(P||O),!fe.length)return{SheetNames:re,Sheets:ee};for(var ye={},Be=[],De=0;De<fe.length;++De)ee[re[De]]?(Be.push(fe[De]||re[De]),ye[fe[De]]=ee[fe[De]]||ee[re[De]]):(Be.push(fe[De]),ye[fe[De]]={"!ref":"A1"});return{SheetNames:Be,Sheets:ye}}function n(C,G){var L=G||{};if(+L.codepage>=0&&Wa(+L.codepage),L.type=="string")throw new Error("Cannot write WK1 to JS string");var D=tx(),O=Ht(C["!ref"]),P=Array.isArray(C),Q=[];Pa(D,0,s(1030)),Pa(D,6,l(O));for(var ee=Math.min(O.e.r,8191),re=O.s.r;re<=ee;++re)for(var fe=Ar(re),V=O.s.c;V<=O.e.c;++V){re===O.s.r&&(Q[V]=mr(V));var Ee=Q[V]+fe,ye=P?(C[re]||[])[V]:C[Ee];if(!(!ye||ye.t=="z"))if(ye.t=="n")(ye.v|0)==ye.v&&ye.v>=-32768&&ye.v<=32767?Pa(D,13,m(re,V,ye.v)):Pa(D,14,p(re,V,ye.v));else{var Be=ei(ye);Pa(D,15,f(re,V,Be.slice(0,239)))}}return Pa(D,1),D.end()}function a(C,G){var L=G||{};if(+L.codepage>=0&&Wa(+L.codepage),L.type=="string")throw new Error("Cannot write WK3 to JS string");var D=tx();Pa(D,0,i(C));for(var O=0,P=0;O<C.SheetNames.length;++O)(C.Sheets[C.SheetNames[O]]||{})["!ref"]&&Pa(D,27,F(C.SheetNames[O],P++));var Q=0;for(O=0;O<C.SheetNames.length;++O){var ee=C.Sheets[C.SheetNames[O]];if(!(!ee||!ee["!ref"])){for(var re=Ht(ee["!ref"]),fe=Array.isArray(ee),V=[],Ee=Math.min(re.e.r,8191),ye=re.s.r;ye<=Ee;++ye)for(var Be=Ar(ye),De=re.s.c;De<=re.e.c;++De){ye===re.s.r&&(V[De]=mr(De));var me=V[De]+Be,Ze=fe?(ee[ye]||[])[De]:ee[me];if(!(!Ze||Ze.t=="z"))if(Ze.t=="n")Pa(D,23,j(ye,De,Q,Ze.v));else{var kt=ei(Ze);Pa(D,22,S(ye,De,Q,kt.slice(0,239)))}}++Q}}return Pa(D,1),D.end()}function s(C){var G=cr(2);return G.write_shift(2,C),G}function i(C){var G=cr(26);G.write_shift(2,4096),G.write_shift(2,4),G.write_shift(4,0);for(var L=0,D=0,O=0,P=0;P<C.SheetNames.length;++P){var Q=C.SheetNames[P],ee=C.Sheets[Q];if(!(!ee||!ee["!ref"])){++O;var re=lu(ee["!ref"]);L<re.e.r&&(L=re.e.r),D<re.e.c&&(D=re.e.c)}}return L>8191&&(L=8191),G.write_shift(2,L),G.write_shift(1,O),G.write_shift(1,D),G.write_shift(2,0),G.write_shift(2,0),G.write_shift(1,1),G.write_shift(1,2),G.write_shift(4,0),G.write_shift(4,0),G}function o(C,G,L){var D={s:{c:0,r:0},e:{c:0,r:0}};return G==8&&L.qpro?(D.s.c=C.read_shift(1),C.l++,D.s.r=C.read_shift(2),D.e.c=C.read_shift(1),C.l++,D.e.r=C.read_shift(2),D):(D.s.c=C.read_shift(2),D.s.r=C.read_shift(2),G==12&&L.qpro&&(C.l+=2),D.e.c=C.read_shift(2),D.e.r=C.read_shift(2),G==12&&L.qpro&&(C.l+=2),D.s.c==65535&&(D.s.c=D.e.c=D.s.r=D.e.r=0),D)}function l(C){var G=cr(8);return G.write_shift(2,C.s.c),G.write_shift(2,C.s.r),G.write_shift(2,C.e.c),G.write_shift(2,C.e.r),G}function u(C,G,L){var D=[{c:0,r:0},{t:"n",v:0},0,0];return L.qpro&&L.vers!=20768?(D[0].c=C.read_shift(1),D[3]=C.read_shift(1),D[0].r=C.read_shift(2),C.l+=2):(D[2]=C.read_shift(1),D[0].c=C.read_shift(2),D[0].r=C.read_shift(2)),D}function d(C,G,L){var D=C.l+G,O=u(C,G,L);if(O[1].t="s",L.vers==20768){C.l++;var P=C.read_shift(1);return O[1].v=C.read_shift(P,"utf8"),O}return L.qpro&&C.l++,O[1].v=C.read_shift(D-C.l,"cstr"),O}function f(C,G,L){var D=cr(7+L.length);D.write_shift(1,255),D.write_shift(2,G),D.write_shift(2,C),D.write_shift(1,39);for(var O=0;O<D.length;++O){var P=L.charCodeAt(O);D.write_shift(1,P>=128?95:P)}return D.write_shift(1,0),D}function h(C,G,L){var D=u(C,G,L);return D[1].v=C.read_shift(2,"i"),D}function m(C,G,L){var D=cr(7);return D.write_shift(1,255),D.write_shift(2,G),D.write_shift(2,C),D.write_shift(2,L,"i"),D}function v(C,G,L){var D=u(C,G,L);return D[1].v=C.read_shift(8,"f"),D}function p(C,G,L){var D=cr(13);return D.write_shift(1,255),D.write_shift(2,G),D.write_shift(2,C),D.write_shift(8,L,"f"),D}function g(C,G,L){var D=C.l+G,O=u(C,G,L);if(O[1].v=C.read_shift(8,"f"),L.qpro)C.l=D;else{var P=C.read_shift(2);_(C.slice(C.l,C.l+P),O),C.l+=P}return O}function y(C,G,L){var D=G&32768;return G&=-32769,G=(D?C:0)+(G>=8192?G-16384:G),(D?"":"$")+(L?mr(G):Ar(G))}var E={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function _(C,G){br(C,0);for(var L=[],D=0,O="",P="",Q="",ee="";C.l<C.length;){var re=C[C.l++];switch(re){case 0:L.push(C.read_shift(8,"f"));break;case 1:P=y(G[0].c,C.read_shift(2),!0),O=y(G[0].r,C.read_shift(2),!1),L.push(P+O);break;case 2:{var fe=y(G[0].c,C.read_shift(2),!0),V=y(G[0].r,C.read_shift(2),!1);P=y(G[0].c,C.read_shift(2),!0),O=y(G[0].r,C.read_shift(2),!1),L.push(fe+V+":"+P+O)}break;case 3:if(C.l<C.length){console.error("WK1 premature formula end");return}break;case 4:L.push("("+L.pop()+")");break;case 5:L.push(C.read_shift(2));break;case 6:{for(var Ee="";re=C[C.l++];)Ee+=String.fromCharCode(re);L.push('"'+Ee.replace(/"/g,'""')+'"')}break;case 8:L.push("-"+L.pop());break;case 23:L.push("+"+L.pop());break;case 22:L.push("NOT("+L.pop()+")");break;case 20:case 21:ee=L.pop(),Q=L.pop(),L.push(["AND","OR"][re-20]+"("+Q+","+ee+")");break;default:if(re<32&&w[re])ee=L.pop(),Q=L.pop(),L.push(Q+w[re]+ee);else if(E[re]){if(D=E[re][1],D==69&&(D=C[C.l++]),D>L.length){console.error("WK1 bad formula parse 0x"+re.toString(16)+":|"+L.join("|")+"|");return}var ye=L.slice(-D);L.length-=D,L.push(E[re][0]+"("+ye.join(",")+")")}else return re<=7?console.error("WK1 invalid opcode "+re.toString(16)):re<=24?console.error("WK1 unsupported op "+re.toString(16)):re<=30?console.error("WK1 invalid opcode "+re.toString(16)):re<=115?console.error("WK1 unsupported function opcode "+re.toString(16)):console.error("WK1 unrecognized opcode "+re.toString(16))}}L.length==1?G[1].f=""+L[0]:console.error("WK1 bad formula parse |"+L.join("|")+"|")}function T(C){var G=[{c:0,r:0},{t:"n",v:0},0];return G[0].r=C.read_shift(2),G[3]=C[C.l++],G[0].c=C[C.l++],G}function b(C,G){var L=T(C);return L[1].t="s",L[1].v=C.read_shift(G-4,"cstr"),L}function S(C,G,L,D){var O=cr(6+D.length);O.write_shift(2,C),O.write_shift(1,L),O.write_shift(1,G),O.write_shift(1,39);for(var P=0;P<D.length;++P){var Q=D.charCodeAt(P);O.write_shift(1,Q>=128?95:Q)}return O.write_shift(1,0),O}function k(C,G){var L=T(C);L[1].v=C.read_shift(2);var D=L[1].v>>1;if(L[1].v&1)switch(D&7){case 0:D=(D>>3)*5e3;break;case 1:D=(D>>3)*500;break;case 2:D=(D>>3)/20;break;case 3:D=(D>>3)/200;break;case 4:D=(D>>3)/2e3;break;case 5:D=(D>>3)/2e4;break;case 6:D=(D>>3)/16;break;case 7:D=(D>>3)/64;break}return L[1].v=D,L}function A(C,G){var L=T(C),D=C.read_shift(4),O=C.read_shift(4),P=C.read_shift(2);if(P==65535)return D===0&&O===3221225472?(L[1].t="e",L[1].v=15):D===0&&O===3489660928?(L[1].t="e",L[1].v=42):L[1].v=0,L;var Q=P&32768;return P=(P&32767)-16446,L[1].v=(1-Q*2)*(O*Math.pow(2,P+32)+D*Math.pow(2,P)),L}function j(C,G,L,D){var O=cr(14);if(O.write_shift(2,C),O.write_shift(1,L),O.write_shift(1,G),D==0)return O.write_shift(4,0),O.write_shift(4,0),O.write_shift(2,65535),O;var P=0,Q=0,ee=0,re=0;return D<0&&(P=1,D=-D),Q=Math.log2(D)|0,D/=Math.pow(2,Q-31),re=D>>>0,re&2147483648||(D/=2,++Q,re=D>>>0),D-=re,re|=2147483648,re>>>=0,D*=Math.pow(2,32),ee=D>>>0,O.write_shift(4,ee),O.write_shift(4,re),Q+=16383+(P?32768:0),O.write_shift(2,Q),O}function I(C,G){var L=A(C);return C.l+=G-14,L}function N(C,G){var L=T(C),D=C.read_shift(4);return L[1].v=D>>6,L}function W(C,G){var L=T(C),D=C.read_shift(8,"f");return L[1].v=D,L}function M(C,G){var L=W(C);return C.l+=G-10,L}function X(C,G){return C[C.l+G-1]==0?C.read_shift(G,"cstr"):""}function B(C,G){var L=C[C.l++];L>G-1&&(L=G-1);for(var D="";D.length<L;)D+=String.fromCharCode(C[C.l++]);return D}function z(C,G,L){if(!(!L.qpro||G<21)){var D=C.read_shift(1);C.l+=17,C.l+=1,C.l+=2;var O=C.read_shift(G-21,"cstr");return[D,O]}}function Y(C,G){for(var L={},D=C.l+G;C.l<D;){var O=C.read_shift(2);if(O==14e3){for(L[O]=[0,""],L[O][0]=C.read_shift(2);C[C.l];)L[O][1]+=String.fromCharCode(C[C.l]),C.l++;C.l++}}return L}function F(C,G){var L=cr(5+C.length);L.write_shift(2,14e3),L.write_shift(2,G);for(var D=0;D<C.length;++D){var O=C.charCodeAt(D);L[L.l++]=O>127?95:O}return L[L.l++]=0,L}var ne={0:{n:"BOF",f:tr},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:v},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:g},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:X},222:{n:"SHEETNAMELP",f:B},65535:{n:""}},Z={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:b},23:{n:"NUMBER17",f:A},24:{n:"NUMBER18",f:k},25:{n:"FORMULA19",f:I},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Y},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:N},38:{n:"??"},39:{n:"NUMBER27",f:W},40:{n:"FORMULA28",f:M},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:X},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:z},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function Q7(e){var t={},r=e.match(Wr),n=0,a=!1;if(r)for(;n!=r.length;++n){var s=$e(r[n]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;t.cp=xy[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=s.val;break;case"<sz":t.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":s.rgb&&(t.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(s[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+s[0])}}return t}var e9=function(){var e=Dd("t"),t=Dd("rPr");function r(s){var i=s.match(e);if(!i)return{t:"s",v:""};var o={t:"s",v:ct(i[1])},l=s.match(t);return l&&(o.s=Q7(l[1])),o}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(i){return i.replace(n,"").split(a).map(r).filter(function(o){return o.v})}}(),t9=function(){var t=/(\r\n|\n)/g;function r(a,s,i){var o=[];a.u&&o.push("text-decoration: underline;"),a.uval&&o.push("text-underline-style:"+a.uval+";"),a.sz&&o.push("font-size:"+a.sz+"pt;"),a.outline&&o.push("text-effect: outline;"),a.shadow&&o.push("text-shadow: auto;"),s.push('<span style="'+o.join("")+'">'),a.b&&(s.push("<b>"),i.push("</b>")),a.i&&(s.push("<i>"),i.push("</i>")),a.strike&&(s.push("<s>"),i.push("</s>"));var l=a.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(s.push("<"+l+">"),i.push("</"+l+">")),i.push("</span>"),a}function n(a){var s=[[],a.v,[]];return a.v?(a.s&&r(a.s,s[0],s[2]),s[0].join("")+s[1].replace(t,"<br/>")+s[2].join("")):""}return function(s){return s.map(n).join("")}}(),r9=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,n9=/<(?:\w+:)?r>/,a9=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function Fy(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=ct(St(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=St(e),r&&(n.h=Ty(n.t))):e.match(n9)&&(n.r=St(e),n.t=ct(St((e.replace(a9,"").match(r9)||[]).join("").replace(Wr,""))),r&&(n.h=t9(e9(n.r)))),n):{t:""}}var s9=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,i9=/<(?:\w+:)?(?:si|sstItem)>/g,o9=/<\/(?:\w+:)?(?:si|sstItem)>/;function c9(e,t){var r=[],n="";if(!e)return r;var a=e.match(s9);if(a){n=a[2].replace(i9,"").split(o9);for(var s=0;s!=n.length;++s){var i=Fy(n[s].trim(),t);i!=null&&(r[r.length]=i)}a=$e(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}function l9(e){return[e.read_shift(4),e.read_shift(4)]}function u9(e,t){var r=[],n=!1;return ri(e,function(s,i,o){switch(o){case 159:r.Count=s[0],r.Unique=s[1];break;case 19:r.push(s);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(i.T,!n||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function wN(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function Gs(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function d9(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=Gs(e,4),t.U=Gs(e,4),t.W=Gs(e,4),t}function f9(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),s=[];a-- >0;)s.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=s,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function h9(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(f9(e));return t}function m9(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function p9(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Gs(e,4),t.U=Gs(e,4),t.W=Gs(e,4),t}function g9(e){var t=p9(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function EN(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function _N(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function v9(e){var t=Gs(e);switch(t.Minor){case 2:return[t.Minor,x9(e)];case 3:return[t.Minor,y9()];case 4:return[t.Minor,w9(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function x9(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=EN(e,r),a=_N(e,e.length-e.l);return{t:"Std",h:n,v:a}}function y9(){throw new Error("File is password-protected: ECMA-376 Extensible")}function w9(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Wr,function(s){var i=$e(s);switch(bs(i[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){n[o]=i[o]});break;case"<dataIntegrity":n.encryptedHmacKey=i.encryptedHmacKey,n.encryptedHmacValue=i.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=i.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(i);break;default:throw i[0]}}),n}function E9(e,t){var r={},n=r.EncryptionVersionInfo=Gs(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=EN(e,a),t-=a,r.EncryptionVerifier=_N(e,t),r}function _9(e){var t={},r=t.EncryptionVersionInfo=Gs(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function S9(e){var t=0,r,n=wN(e),a=n.length+1,s,i,o,l,u;for(r=to(a),r[0]=n.length,s=1;s!=a;++s)r[s]=n[s-1];for(s=a-1;s>=0;--s)i=r[s],o=t&16384?1:0,l=t<<1&32767,u=o|l,t=u^i;return t^52811}var SN=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(i){return(i/2|i*128)&255},a=function(i,o){return n(i^o)},s=function(i){for(var o=t[i.length-1],l=104,u=i.length-1;u>=0;--u)for(var d=i[u],f=0;f!=7;++f)d&64&&(o^=r[l]),d*=2,--l;return o};return function(i){for(var o=wN(i),l=s(o),u=o.length,d=to(16),f=0;f!=16;++f)d[f]=0;var h,m,v;for((u&1)===1&&(h=l>>8,d[u]=a(e[0],h),--u,h=l&255,m=o[o.length-1],d[u]=a(m,h));u>0;)--u,h=l>>8,d[u]=a(o[u],h),--u,h=l&255,d[u]=a(o[u],h);for(u=15,v=15-o.length;v>0;)h=l>>8,d[u]=a(e[v],h),--u,--v,h=l&255,d[u]=a(o[u],h),--u,--v;return d}}(),b9=function(e,t,r,n,a){a||(a=t),n||(n=SN(e));var s,i;for(s=0;s!=t.length;++s)i=t[s],i^=n[r],i=(i>>5|i<<3)&255,a[s]=i,++r;return[a,r,n]},T9=function(e){var t=0,r=SN(e);return function(n){var a=b9("",n,t,r);return t=a[1],a[0]}};function k9(e,t,r,n){var a={key:tr(e),verificationBytes:tr(e)};return r.password&&(a.verifier=S9(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=T9(r.password)),a}function C9(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=_9(e):n.Data=E9(e,t),n}function A9(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?C9(e,t-2,n):k9(e,r.biff>=8?t:t-2,r,n),n}var j9=function(){function e(a,s){switch(s.type){case"base64":return t(ta(a),s);case"binary":return t(a,s);case"buffer":return t(rt&&Buffer.isBuffer(a)?a.toString("binary"):gc(a),s);case"array":return t(ac(a),s)}throw new Error("Unrecognized type "+s.type)}function t(a,s){var i=s||{},o=i.dense?[]:{},l=a.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(d,f){Array.isArray(o)&&(o[f]=[]);for(var h=/\\\w+\b/g,m=0,v,p=-1;v=h.exec(d);){switch(v[0]){case"\\cell":var g=d.slice(m,h.lastIndex-v[0].length);if(g[0]==" "&&(g=g.slice(1)),++p,g.length){var y={v:g,t:"s"};Array.isArray(o)?o[f][p]=y:o[He({r:f,c:p})]=y}break}m=h.lastIndex}p>u.e.c&&(u.e.c=p)}),o["!ref"]=at(u),o}function r(a,s){return fo(e(a,s),s)}function n(a){for(var s=["{\\rtf1\\ansi"],i=Ht(a["!ref"]),o,l=Array.isArray(a),u=i.s.r;u<=i.e.r;++u){s.push("\\trowd\\trautofit1");for(var d=i.s.c;d<=i.e.c;++d)s.push("\\cellx"+(d+1));for(s.push("\\pard\\intbl"),d=i.s.c;d<=i.e.c;++d){var f=He({r:u,c:d});o=l?(a[u]||[])[d]:a[f],!(!o||o.v==null&&(!o.f||o.F))&&(s.push(" "+(o.w||(ei(o),o.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function N9(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Ud(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function I9(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),s=Math.min(t,r,n),i=a-s;if(i===0)return[0,0,t];var o=0,l=0,u=a+s;switch(l=i/(u>1?2-u:u),a){case t:o=((r-n)/i+6)%6;break;case r:o=(n-t)/i+2;break;case n:o=(t-r)/i+4;break}return[o/6,l,u/2]}function R9(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),s=n-a/2,i=[s,s,s],o=6*t,l;if(r!==0)switch(o|0){case 0:case 6:l=a*o,i[0]+=a,i[1]+=l;break;case 1:l=a*(2-o),i[0]+=l,i[1]+=a;break;case 2:l=a*(o-2),i[1]+=a,i[2]+=l;break;case 3:l=a*(4-o),i[1]+=l,i[2]+=a;break;case 4:l=a*(o-4),i[2]+=a,i[0]+=l;break;case 5:l=a*(6-o),i[2]+=l,i[0]+=a;break}for(var u=0;u!=3;++u)i[u]=Math.round(i[u]*255);return i}function y0(e,t){if(t===0)return e;var r=I9(N9(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),Ud(R9(r))}var bN=6,P9=15,O9=1,nn=bN;function w0(e){return Math.floor((e+Math.round(128/nn)/256)*nn)}function E0(e){return Math.floor((e-5)/nn*100+.5)/100}function sx(e){return Math.round((e*nn+5)/nn*256)/256}function Bp(e){return sx(E0(w0(e)))}function Dy(e){var t=Math.abs(e-Bp(e)),r=nn;if(t>.005)for(nn=O9;nn<P9;++nn)Math.abs(e-Bp(e))<=t&&(t=Math.abs(e-Bp(e)),r=nn);nn=r}function Wl(e){e.width?(e.wpx=w0(e.width),e.wch=E0(e.wpx),e.MDW=nn):e.wpx?(e.wch=E0(e.wpx),e.width=sx(e.wch),e.MDW=nn):typeof e.wch=="number"&&(e.width=sx(e.wch),e.wpx=w0(e.width),e.MDW=nn),e.customWidth&&delete e.customWidth}var F9=96,TN=F9;function kN(e){return e*96/TN}function Bd(e){return e*TN/96}var D9={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function M9(e,t,r,n){t.Borders=[];var a={},s=!1;(e[0].match(Wr)||[]).forEach(function(i){var o=$e(i);switch(bs(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},o.diagonalUp&&(a.diagonalUp=Rt(o.diagonalUp)),o.diagonalDown&&(a.diagonalDown=Rt(o.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in borders")}})}function L9(e,t,r,n){t.Fills=[];var a={},s=!1;(e[0].match(Wr)||[]).forEach(function(i){var o=$e(i);switch(bs(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":o.patternType&&(a.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),o.indexed&&(a.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(a.bgColor.theme=parseInt(o.theme,10)),o.tint&&(a.bgColor.tint=parseFloat(o.tint)),o.rgb&&(a.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),o.theme&&(a.fgColor.theme=parseInt(o.theme,10)),o.tint&&(a.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(a.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fills")}})}function U9(e,t,r,n){t.Fonts=[];var a={},s=!1;(e[0].match(Wr)||[]).forEach(function(i){var o=$e(i);switch(bs(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":o.val&&(a.name=St(o.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=o.val?Rt(o.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=o.val?Rt(o.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(o.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=o.val?Rt(o.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=o.val?Rt(o.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=o.val?Rt(o.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=o.val?Rt(o.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=o.val?Rt(o.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":o.val&&(a.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(a.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(a.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(a.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=xy[parseInt(o.val,10)];break;case"<color":if(a.color||(a.color={}),o.auto&&(a.color.auto=Rt(o.auto)),o.rgb)a.color.rgb=o.rgb.slice(-6);else if(o.indexed){a.color.index=parseInt(o.indexed,10);var l=Ho[a.color.index];a.color.index==81&&(l=Ho[1]),l||(l=Ho[1]),a.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(a.color.theme=parseInt(o.theme,10),o.tint&&(a.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=y0(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fonts")}})}function B9(e,t,r){t.NumberFmt=[];for(var n=Es(qe),a=0;a<n.length;++a)t.NumberFmt[n[a]]=qe[n[a]];var s=e[0].match(Wr);if(s)for(a=0;a<s.length;++a){var i=$e(s[a]);switch(bs(i[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=ct(St(i.formatCode)),l=parseInt(i.numFmtId,10);if(t.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&t.NumberFmt[l]!=null;--l);t.NumberFmt[l]=o}Wo(o,l)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+i[0]+" in numFmts")}}}var ih=["numFmtId","fillId","fontId","borderId","xfId"],oh=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function $9(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(Wr)||[]).forEach(function(s){var i=$e(s),o=0;switch(bs(i[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=i,delete n[0],o=0;o<ih.length;++o)n[ih[o]]&&(n[ih[o]]=parseInt(n[ih[o]],10));for(o=0;o<oh.length;++o)n[oh[o]]&&(n[oh[o]]=Rt(n[oh[o]]));if(t.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[o]){n.numFmtId=o;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};i.vertical&&(l.vertical=i.vertical),i.horizontal&&(l.horizontal=i.horizontal),i.textRotation!=null&&(l.textRotation=i.textRotation),i.indent&&(l.indent=i.indent),i.wrapText&&(l.wrapText=Rt(i.wrapText)),n.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+i[0]+" in cellXfs")}})}var z9=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,u){var d={};if(!o)return d;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=o.match(t))&&B9(f,d,u),(f=o.match(a))&&U9(f,d,l,u),(f=o.match(n))&&L9(f,d,l,u),(f=o.match(s))&&M9(f,d,l,u),(f=o.match(r))&&$9(f,d,u),d}}();function V9(e,t){var r=e.read_shift(2),n=Br(e);return[r,n]}function W9(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=ez(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var s=e.read_shift(2);switch(s===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var i=e.read_shift(1);i!=0&&(n.underline=i);var o=e.read_shift(1);o>0&&(n.family=o);var l=e.read_shift(1);switch(l>0&&(n.charset=l),e.l++,n.color=Q$(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Br(e),n}var H9=zr;function G9(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}var q9=zr;function J9(e,t,r){var n={};n.NumberFmt=[];for(var a in qe)n.NumberFmt[a]=qe[a];n.CellXf=[],n.Fonts=[];var s=[],i=!1;return ri(e,function(l,u,d){switch(d){case 44:n.NumberFmt[l[0]]=l[1],Wo(l[1],l[0]);break;case 43:n.Fonts.push(l),l.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(l.color.rgb=y0(t.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&n.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:s.push(d),i=!0;break;case 38:s.pop(),i=!1;break;default:if(u.T>0)s.push(d);else if(u.T<0)s.pop();else if(!i||r.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),n}var K9=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function X9(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Wr)||[]).forEach(function(a){var s=$e(a);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=s.val;break;case"<a:sysClr":n.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(t.themeElements.clrScheme[K9.indexOf(s[0])]=n,n={}):n.name=s[0].slice(3,s[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function Y9(){}function Z9(){}var Q9=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,eV=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,tV=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function rV(e,t,r){t.themeElements={};var n;[["clrScheme",Q9,X9],["fontScheme",eV,Y9],["fmtScheme",tV,Z9]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var nV=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function CN(e,t){(!e||e.length===0)&&(e=aV());var r,n={};if(!(r=e.match(nV)))throw new Error("themeElements not found in theme");return rV(r[0],n,t),n.raw=e,n}function aV(e,t){var r=[Lj];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function sV(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var s=e.slice(e.l);e.l=n;var i;try{i=Mj(s,{type:"array"})}catch{return}var o=Bn(i,"theme/theme/theme1.xml",!0);if(o)return CN(o,r)}}function iV(e){return e.read_shift(4)}function oV(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=cV(e,4);break;case 2:t.xclrValue=hN(e);break;case 3:t.xclrValue=iV(e);break;case 4:e.l+=4;break}return e.l+=8,t}function cV(e,t){return zr(e,t)}function lV(e,t){return zr(e,t)}function uV(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=oV(e);break;case 6:n[1]=lV(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function dV(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),s=[];a-- >0;)s.push(uV(e,r-e.l));return{ixfe:n,ext:s}}function fV(e,t){t.forEach(function(r){switch(r[0]){}})}function hV(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Br(e)}}function mV(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function pV(e){return e.l+=4,e.read_shift(4)!=0}function gV(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},s=[],i=!1,o=2;return ri(e,function(l,u,d){switch(d){case 335:n.Types.push({name:l.name});break;case 51:l.forEach(function(f){o==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):o==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:s.push(d),i=!0;break;case 36:s.pop(),i=!1;break;default:if(!u.T){if(!i||a.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}function vV(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,s=2,i;return e.replace(Wr,function(o){var l=$e(o);switch(bs(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==l.name&&(i=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?n.Cell.push({type:n.Types[l.t-1].name,index:+l.v}):s==0&&n.Value.push({type:n.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!i)break;i.offsets||(i.offsets=[]),i.offsets.push(+l.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),n}function xV(e){var t=[];if(!e)return t;var r=1;return(e.match(Wr)||[]).forEach(function(n){var a=$e(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function yV(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=He(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function wV(e,t,r){var n=[];return ri(e,function(s,i,o){switch(o){case 63:n.push(s);break;default:if(!i.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function EV(e,t,r,n){if(!e)return e;var a=n||{},s=!1;ri(e,function(o,l,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!l.T){if(!s||a.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},a)}function _V(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}function AS(e,t,r,n){var a=Array.isArray(e),s;t.forEach(function(i){var o=an(i.ref);if(a?(e[o.r]||(e[o.r]=[]),s=e[o.r][o.c]):s=e[i.ref],!s){s={t:"z"},a?e[o.r][o.c]=s:e[i.ref]=s;var l=Ht(e["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var u=at(l);u!==e["!ref"]&&(e["!ref"]=u)}s.c||(s.c=[]);var d={a:i.author,t:i.t,r:i.r,T:r};i.h&&(d.h=i.h);for(var f=s.c.length-1;f>=0;--f){if(!r&&s.c[f].T)return;r&&!s.c[f].T&&s.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(d.a==n[f].id){d.a=n[f].name||d.a;break}}s.c.push(d)})}function SV(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(i){if(!(i===""||i.trim()==="")){var o=i.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var s=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(i){if(!(i===""||i.trim()==="")){var o=i.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=$e(o[0]),u={author:l.authorId&&r[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},d=an(l.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var f=i.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&Fy(f[1])||{r:"",t:"",h:""};u.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),u.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=h.h),n.push(u)}}}}),n}function bV(e,t){var r=[],n=!1,a={},s=0;return e.replace(Wr,function(o,l){var u=$e(o);switch(bs(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":s=l+o.length;break;case"</text>":a.t=e.slice(s,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return o}),r}function TV(e,t){var r=[],n=!1;return e.replace(Wr,function(s){var i=$e(s);switch(bs(i[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:i.displayname,id:i.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+i[0]+" in threaded comments")}return s}),r}function kV(e){var t={};t.iauthor=e.read_shift(4);var r=xc(e);return t.rfx=r.s,t.ref=He(r.s),e.l+=16,t}var CV=Br;function AV(e,t){var r=[],n=[],a={},s=!1;return ri(e,function(o,l,u){switch(u){case 632:n.push(o);break;case 635:a=o;break;case 637:a.t=o.t,a.h=o.h,a.r=o.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!s||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}var jV="application/vnd.ms-office.vbaProject";function NV(e){var t=nt.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");nt.utils.cfb_add(t,a,e.FileIndex[n].content)}}),nt.write(t)}function IV(){return{"!type":"dialog"}}function RV(){return{"!type":"dialog"}}function PV(){return{"!type":"macro"}}function OV(){return{"!type":"macro"}}var ml=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,s,i){var o=!1,l=!1;s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1)),i.length==0?o=!0:i.charAt(0)=="["&&(o=!0,i=i.slice(1,-1));var u=s.length>0?parseInt(s,10)|0:0,d=i.length>0?parseInt(i,10)|0:0;return o?d+=t.c:--d,l?u+=t.r:--u,a+(o?"":"$")+mr(d)+(l?"":"$")+Ar(u)}return function(a,s){return t=s,a.replace(e,r)}}(),AN=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,FV=function(){return function(t,r){return t.replace(AN,function(n,a,s,i,o,l){var u=jy(i)-(s?0:r.c),d=Ay(l)-(o?0:r.r),f=d==0?"":o?d+1:"["+d+"]",h=u==0?"":s?u+1:"["+u+"]";return a+"R"+f+"C"+h})}}();function jN(e,t){return e.replace(AN,function(r,n,a,s,i,o){return n+(a=="$"?a+s:mr(jy(s)+t.c))+(i=="$"?i+o:Ar(Ay(o)+t.r))})}function DV(e,t,r){var n=lu(t),a=n.s,s=an(r),i={r:s.r-a.r,c:s.c-a.c};return jN(e,i)}function MV(e){return e.length!=1}function jS(e){return e.replace(/_xlfn\./g,"")}function Qt(e){e.l+=1}function ro(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function NN(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return IN(e);r.biff==12&&(n=4)}var a=e.read_shift(n),s=e.read_shift(n),i=ro(e),o=ro(e);return{s:{r:a,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function IN(e){var t=ro(e),r=ro(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function LV(e,t,r){if(r.biff<8)return IN(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),s=ro(e),i=ro(e);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:i[0],cRel:i[1],rRel:i[2]}}}function RN(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return UV(e);var n=e.read_shift(r&&r.biff==12?4:2),a=ro(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function UV(e){var t=ro(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function BV(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function $V(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return zV(e);var a=e.read_shift(n>=12?4:2),s=e.read_shift(2),i=(s&16384)>>14,o=(s&32768)>>15;if(s&=16383,o==1)for(;a>524287;)a-=1048576;if(i==1)for(;s>8191;)s=s-16384;return{r:a,c:s,cRel:i,rRel:o}}function zV(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function VV(e,t,r){var n=(e[e.l++]&96)>>5,a=NN(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function WV(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var i=NN(e,s,r);return[n,a,i]}function HV(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function GV(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[n,a]}function qV(e,t,r){var n=(e[e.l++]&96)>>5,a=LV(e,t-1,r);return[n,a]}function JV(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function NS(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function KV(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],s=0;s<=n;++s)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function XV(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function YV(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function ZV(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function QV(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function PN(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function eW(e){return e.read_shift(2),PN(e)}function tW(e){return e.read_shift(2),PN(e)}function rW(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=RN(e,0,r);return[n,a]}function nW(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=$V(e,0,r);return[n,a]}function aW(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var s=RN(e,0,r);return[n,a,s]}function sW(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[iH[a],DN[a],n]}function iW(e,t,r){var n=e[e.l++],a=e.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:oW(e);return[a,(s[0]===0?DN:sH)[s[1]]]}function oW(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function cW(e,t,r){e.l+=r&&r.biff==2?3:4}function lW(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function uW(e){return e.l++,yc[e.read_shift(1)]}function dW(e){return e.l++,e.read_shift(2)}function fW(e){return e.l++,e.read_shift(1)!==0}function hW(e){return e.l++,Lr(e)}function mW(e,t,r){return e.l++,lf(e,t-1,r)}function pW(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=qt(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=yc[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Lr(e);break;case 2:r[1]=wc(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function gW(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],s=0;s!=n;++s)a.push((r.biff==12?xc:hm)(e));return a}function vW(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var s=0,i=[];s!=n&&(i[s]=[]);++s)for(var o=0;o!=a;++o)i[s][o]=pW(e,r.biff);return i}function xW(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,s=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,s]}function yW(e,t,r){if(r.biff==5)return wW(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),s=e.read_shift(4);return[n,a,s]}function wW(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function EW(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function _W(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function SW(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function bW(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[n,a]}var TW=zr,kW=zr,CW=zr;function df(e,t,r){return e.l+=2,[BV(e)]}function My(e){return e.l+=6,[]}var AW=df,jW=My,NW=My,IW=df;function ON(e){return e.l+=2,[tr(e),e.read_shift(2)&1]}var RW=df,PW=ON,OW=My,FW=df,DW=df,MW=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function LW(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),s=e.read_shift(2),i=MW[r>>2&31];return{ixti:t,coltype:r&3,rt:i,idx:n,c:a,C:s}}function UW(e){return e.l+=2,[e.read_shift(4)]}function BW(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function $W(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function zW(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function VW(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function WW(e){return e.l+=4,[0,0]}var IS={1:{n:"PtgExp",f:lW},2:{n:"PtgTbl",f:CW},3:{n:"PtgAdd",f:Qt},4:{n:"PtgSub",f:Qt},5:{n:"PtgMul",f:Qt},6:{n:"PtgDiv",f:Qt},7:{n:"PtgPower",f:Qt},8:{n:"PtgConcat",f:Qt},9:{n:"PtgLt",f:Qt},10:{n:"PtgLe",f:Qt},11:{n:"PtgEq",f:Qt},12:{n:"PtgGe",f:Qt},13:{n:"PtgGt",f:Qt},14:{n:"PtgNe",f:Qt},15:{n:"PtgIsect",f:Qt},16:{n:"PtgUnion",f:Qt},17:{n:"PtgRange",f:Qt},18:{n:"PtgUplus",f:Qt},19:{n:"PtgUminus",f:Qt},20:{n:"PtgPercent",f:Qt},21:{n:"PtgParen",f:Qt},22:{n:"PtgMissArg",f:Qt},23:{n:"PtgStr",f:mW},26:{n:"PtgSheet",f:BW},27:{n:"PtgEndSheet",f:$W},28:{n:"PtgErr",f:uW},29:{n:"PtgBool",f:fW},30:{n:"PtgInt",f:dW},31:{n:"PtgNum",f:hW},32:{n:"PtgArray",f:JV},33:{n:"PtgFunc",f:sW},34:{n:"PtgFuncVar",f:iW},35:{n:"PtgName",f:xW},36:{n:"PtgRef",f:rW},37:{n:"PtgArea",f:VV},38:{n:"PtgMemArea",f:EW},39:{n:"PtgMemErr",f:TW},40:{n:"PtgMemNoMem",f:kW},41:{n:"PtgMemFunc",f:_W},42:{n:"PtgRefErr",f:SW},43:{n:"PtgAreaErr",f:HV},44:{n:"PtgRefN",f:nW},45:{n:"PtgAreaN",f:qV},46:{n:"PtgMemAreaN",f:zW},47:{n:"PtgMemNoMemN",f:VW},57:{n:"PtgNameX",f:yW},58:{n:"PtgRef3d",f:aW},59:{n:"PtgArea3d",f:WV},60:{n:"PtgRefErr3d",f:bW},61:{n:"PtgAreaErr3d",f:GV},255:{}},HW={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},GW={1:{n:"PtgElfLel",f:ON},2:{n:"PtgElfRw",f:FW},3:{n:"PtgElfCol",f:AW},6:{n:"PtgElfRwV",f:DW},7:{n:"PtgElfColV",f:IW},10:{n:"PtgElfRadical",f:RW},11:{n:"PtgElfRadicalS",f:OW},13:{n:"PtgElfColS",f:jW},15:{n:"PtgElfColSV",f:NW},16:{n:"PtgElfRadicalLel",f:PW},25:{n:"PtgList",f:LW},29:{n:"PtgSxName",f:UW},255:{}},qW={0:{n:"PtgAttrNoop",f:WW},1:{n:"PtgAttrSemi",f:QV},2:{n:"PtgAttrIf",f:YV},4:{n:"PtgAttrChoose",f:KV},8:{n:"PtgAttrGoto",f:XV},16:{n:"PtgAttrSum",f:cW},32:{n:"PtgAttrBaxcel",f:NS},33:{n:"PtgAttrBaxcel",f:NS},64:{n:"PtgAttrSpace",f:eW},65:{n:"PtgAttrSpaceSemi",f:tW},128:{n:"PtgAttrIfError",f:ZV},255:{}};function ff(e,t,r,n){if(n.biff<8)return zr(e,t);for(var a=e.l+t,s=[],i=0;i!==r.length;++i)switch(r[i][0]){case"PtgArray":r[i][1]=vW(e,0,n),s.push(r[i][1]);break;case"PtgMemArea":r[i][2]=gW(e,r[i][1],n),s.push(r[i][2]);break;case"PtgExp":n&&n.biff==12&&(r[i][1][1]=e.read_shift(4),s.push(r[i][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[i][0]}return t=a-e.l,t!==0&&s.push(zr(e,t)),s}function hf(e,t,r){for(var n=e.l+t,a,s,i=[];n!=e.l;)t=n-e.l,s=e[e.l],a=IS[s]||IS[HW[s]],(s===24||s===25)&&(a=(s===24?GW:qW)[e[e.l+1]]),!a||!a.f?zr(e,t):i.push([a.n,a.f(e,t,r)]);return i}function JW(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],s=0;s<n.length;++s){var i=n[s];if(i)switch(i[0]){case 2:a.push('"'+i[1].replace(/"/g,'""')+'"');break;default:a.push(i[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var KW={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function XW(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function FN(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function RS(e,t,r){var n=FN(e,t,r);return n=="#REF"?n:XW(n,r)}function Dr(e,t,r,n,a){var s=a&&a.biff||8,i={s:{c:0,r:0},e:{c:0,r:0}},o=[],l,u,d,f=0,h=0,m,v="";if(!e[0]||!e[0][0])return"";for(var p=-1,g="",y=0,E=e[0].length;y<E;++y){var w=e[0][y];switch(w[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),u=o.pop(),p>=0){switch(e[0][p][1][0]){case 0:g=Wt(" ",e[0][p][1][1]);break;case 1:g=Wt("\r",e[0][p][1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}u=u+g,p=-1}o.push(u+KW[w[0]]+l);break;case"PtgIsect":l=o.pop(),u=o.pop(),o.push(u+" "+l);break;case"PtgUnion":l=o.pop(),u=o.pop(),o.push(u+","+l);break;case"PtgRange":l=o.pop(),u=o.pop(),o.push(u+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=rd(w[1][1],i,a),o.push(nd(d,s));break;case"PtgRefN":d=r?rd(w[1][1],r,a):w[1][1],o.push(nd(d,s));break;case"PtgRef3d":f=w[1][1],d=rd(w[1][2],i,a),v=RS(n,f,a),o.push(v+"!"+nd(d,s));break;case"PtgFunc":case"PtgFuncVar":var _=w[1][0],T=w[1][1];_||(_=0),_&=127;var b=_==0?[]:o.slice(-_);o.length-=_,T==="User"&&(T=b.shift()),o.push(T+"("+b.join(",")+")");break;case"PtgBool":o.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(w[1]);break;case"PtgNum":o.push(String(w[1]));break;case"PtgStr":o.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(w[1]);break;case"PtgAreaN":m=fS(w[1][1],r?{s:r}:i,a),o.push(Lp(m,a));break;case"PtgArea":m=fS(w[1][1],i,a),o.push(Lp(m,a));break;case"PtgArea3d":f=w[1][1],m=w[1][2],v=RS(n,f,a),o.push(v+"!"+Lp(m,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=w[1][2];var S=(n.names||[])[h-1]||(n[0]||[])[h],k=S?S.Name:"SH33TJSNAME"+String(h);k&&k.slice(0,6)=="_xlfn."&&!a.xlfn&&(k=k.slice(6)),o.push(k);break;case"PtgNameX":var A=w[1][1];h=w[1][2];var j;if(a.biff<=5)A<0&&(A=-A),n[A]&&(j=n[A][h]);else{var I="";if(((n[A]||[])[0]||[])[0]==14849||(((n[A]||[])[0]||[])[0]==1025?n[A][h]&&n[A][h].itab>0&&(I=n.SheetNames[n[A][h].itab-1]+"!"):I=n.SheetNames[h-1]+"!"),n[A]&&n[A][h])I+=n[A][h].Name;else if(n[0]&&n[0][h])I+=n[0][h].Name;else{var N=(FN(n,A,a)||"").split(";;");N[h-1]?I=N[h-1]:I+="SH33TJSERRX"}o.push(I);break}j||(j={Name:"SH33TJSERRY"}),o.push(j.Name);break;case"PtgParen":var W="(",M=")";if(p>=0){switch(g="",e[0][p][1][0]){case 2:W=Wt(" ",e[0][p][1][1])+W;break;case 3:W=Wt("\r",e[0][p][1][1])+W;break;case 4:M=Wt(" ",e[0][p][1][1])+M;break;case 5:M=Wt("\r",e[0][p][1][1])+M;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}p=-1}o.push(W+o.pop()+M);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":d={c:w[1][1],r:w[1][0]};var X={c:r.c,r:r.r};if(n.sharedf[He(d)]){var B=n.sharedf[He(d)];o.push(Dr(B,i,X,n,a))}else{var z=!1;for(l=0;l!=n.arrayf.length;++l)if(u=n.arrayf[l],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){o.push(Dr(u[1],i,X,n,a)),z=!0;break}z||o.push(w[1])}break;case"PtgArray":o.push("{"+JW(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":p=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w))}var Y=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&p>=0&&Y.indexOf(e[0][y][0])==-1){w=e[0][p];var F=!0;switch(w[1][0]){case 4:F=!1;case 0:g=Wt(" ",w[1][1]);break;case 5:F=!1;case 1:g=Wt("\r",w[1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}o.push((F?g:"")+o.pop()+(F?"":g)),p=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function YW(e,t,r){var n=e.l+t,a=r.biff==2?1:2,s,i=e.read_shift(a);if(i==65535)return[[],zr(e,t-2)];var o=hf(e,i,r);return t!==i+a&&(s=ff(e,t-i-a,o,r)),e.l=n,[o,s]}function ZW(e,t,r){var n=e.l+t,a=r.biff==2?1:2,s,i=e.read_shift(a);if(i==65535)return[[],zr(e,t-2)];var o=hf(e,i,r);return t!==i+a&&(s=ff(e,t-i-a,o,r)),e.l=n,[o,s]}function QW(e,t,r,n){var a=e.l+t,s=hf(e,n,r),i;return a!==e.l&&(i=ff(e,a-e.l,s,r)),[s,i]}function eH(e,t,r){var n=e.l+t,a,s=e.read_shift(2),i=hf(e,s,r);return s==65535?[[],zr(e,t-2)]:(t!==s+2&&(a=ff(e,n-s-2,i,r)),[i,a])}function tH(e){var t;if(Vs(e,e.l+6)!==65535)return[Lr(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function $p(e,t,r){var n=e.l+t,a=Ts(e);r.biff==2&&++e.l;var s=tH(e),i=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=ZW(e,n-e.l,r);return{cell:a,val:s[0],formula:o,shared:i>>3&1,tt:s[1]}}function mm(e,t,r){var n=e.read_shift(4),a=hf(e,n,r),s=e.read_shift(4),i=s>0?ff(e,s,a,r):null;return[a,i]}var rH=mm,pm=mm,nH=mm,aH=mm,sH={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},DN={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},iH={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function PS(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function zp(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var od={},pl={};function cd(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function MN(e,t,r,n,a,s){try{n.cellNF&&(e.z=qe[t])}catch(o){if(n.WTF)throw o}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=_r(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(qe[t]==null&&Wo(o$[t]||"General",t),e.t==="e")e.w=e.w||yc[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Fd(e.v);else if(e.t==="d"){var i=cn(e.v);(i|0)===i?e.w=i.toString(10):e.w=Fd(i)}else{if(e.v===void 0)return"";e.w=nc(e.v,pl)}else e.t==="d"?e.w=Ca(t,cn(e.v),pl):e.w=Ca(t,e.v,pl)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{e.s=s.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=y0(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=y0(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&s.Fills)throw o}}}function oH(e,t){var r=Ht(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=at(r))}var cH=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,lH=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,uH=/<(?:\w:)?hyperlink [^>]*>/mg,dH=/"(\w*:\w*)"/,fH=/<(?:\w:)?col\b[^>]*[\/]?>/g,hH=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,mH=/<(?:\w:)?pageMargins[^>]*\/>/g,LN=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,pH=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,gH=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function vH(e,t,r,n,a,s,i){if(!e)return e;n||(n={"!id":{}});var o=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",d="",f=e.match(lH);f?(u=e.slice(0,f.index),d=e.slice(f.index+f[0].length)):u=d=e;var h=u.match(LN);h?Ly(h[0],o,a,r):(h=u.match(pH))&&xH(h[0],h[1]||"",o,a,r);var m=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(m>0){var v=u.slice(m,m+50).match(dH);v&&oH(o,v[1])}var p=u.match(gH);p&&p[1]&&bH(p[1],a);var g=[];if(t.cellStyles){var y=u.match(fH);y&&EH(g,y)}f&&TH(f[1],o,t,l,s,i);var E=d.match(hH);E&&(o["!autofilter"]=_H(E[0]));var w=[],_=d.match(cH);if(_)for(m=0;m!=_.length;++m)w[m]=Ht(_[m].slice(_[m].indexOf('"')+1));var T=d.match(uH);T&&yH(o,T,n);var b=d.match(mH);if(b&&(o["!margins"]=wH($e(b[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=at(l)),t.sheetRows>0&&o["!ref"]){var S=Ht(o["!ref"]);t.sheetRows<=+S.e.r&&(S.e.r=t.sheetRows-1,S.e.r>l.e.r&&(S.e.r=l.e.r),S.e.r<S.s.r&&(S.s.r=S.e.r),S.e.c>l.e.c&&(S.e.c=l.e.c),S.e.c<S.s.c&&(S.s.c=S.e.c),o["!fullref"]=o["!ref"],o["!ref"]=at(S))}return g.length>0&&(o["!cols"]=g),w.length>0&&(o["!merges"]=w),o}function Ly(e,t,r,n){var a=$e(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=ct(St(a.codeName)))}function xH(e,t,r,n,a){Ly(e.slice(0,e.indexOf(">")),r,n,a)}function yH(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var s=$e(St(t[a]),!0);if(!s.ref)return;var i=((r||{})["!id"]||[])[s.id];i?(s.Target=i.Target,s.location&&(s.Target+="#"+ct(s.location))):(s.Target="#"+ct(s.location),i={Target:s.Target,TargetMode:"Internal"}),s.Rel=i,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var o=Ht(s.ref),l=o.s.r;l<=o.e.r;++l)for(var u=o.s.c;u<=o.e.c;++u){var d=He({c:u,r:l});n?(e[l]||(e[l]=[]),e[l][u]||(e[l][u]={t:"z",v:void 0}),e[l][u].l=s):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=s)}}}function wH(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function EH(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=$e(t[n],!0);a.hidden&&(a.hidden=Rt(a.hidden));var s=parseInt(a.min,10)-1,i=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,Dy(a.width)),Wl(a);s<=i;)e[s++]=Cr(a)}}function _H(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var SH=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function bH(e,t){t.Views||(t.Views=[{}]),(e.match(SH)||[]).forEach(function(r,n){var a=$e(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),Rt(a.rightToLeft)&&(t.Views[n].RTL=!0)})}var TH=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,s=Dd("v"),i=Dd("f");return function(l,u,d,f,h,m){for(var v=0,p="",g=[],y=[],E=0,w=0,_=0,T="",b,S,k=0,A=0,j,I,N=0,W=0,M=Array.isArray(m.CellXf),X,B=[],z=[],Y=Array.isArray(u),F=[],ne={},Z=!1,C=!!d.sheetStubs,G=l.split(t),L=0,D=G.length;L!=D;++L){p=G[L].trim();var O=p.length;if(O!==0){var P=0;e:for(v=0;v<O;++v)switch(p[v]){case">":if(p[v-1]!="/"){++v;break e}if(d&&d.cellStyles){if(S=$e(p.slice(P,v),!0),k=S.r!=null?parseInt(S.r,10):k+1,A=-1,d.sheetRows&&d.sheetRows<k)continue;ne={},Z=!1,S.ht&&(Z=!0,ne.hpt=parseFloat(S.ht),ne.hpx=Bd(ne.hpt)),S.hidden=="1"&&(Z=!0,ne.hidden=!0),S.outlineLevel!=null&&(Z=!0,ne.level=+S.outlineLevel),Z&&(F[k-1]=ne)}break;case"<":P=v;break}if(P>=v)break;if(S=$e(p.slice(P,v),!0),k=S.r!=null?parseInt(S.r,10):k+1,A=-1,!(d.sheetRows&&d.sheetRows<k)){f.s.r>k-1&&(f.s.r=k-1),f.e.r<k-1&&(f.e.r=k-1),d&&d.cellStyles&&(ne={},Z=!1,S.ht&&(Z=!0,ne.hpt=parseFloat(S.ht),ne.hpx=Bd(ne.hpt)),S.hidden=="1"&&(Z=!0,ne.hidden=!0),S.outlineLevel!=null&&(Z=!0,ne.level=+S.outlineLevel),Z&&(F[k-1]=ne)),g=p.slice(v).split(e);for(var Q=0;Q!=g.length&&g[Q].trim().charAt(0)=="<";++Q);for(g=g.slice(Q),v=0;v!=g.length;++v)if(p=g[v].trim(),p.length!==0){if(y=p.match(r),E=v,w=0,_=0,p="<c "+(p.slice(0,1)=="<"?">":"")+p,y!=null&&y.length===2){for(E=0,T=y[1],w=0;w!=T.length&&!((_=T.charCodeAt(w)-64)<1||_>26);++w)E=26*E+_;--E,A=E}else++A;for(w=0;w!=p.length&&p.charCodeAt(w)!==62;++w);if(++w,S=$e(p.slice(0,w),!0),S.r||(S.r=He({r:k-1,c:A})),T=p.slice(w),b={t:""},(y=T.match(s))!=null&&y[1]!==""&&(b.v=ct(y[1])),d.cellFormula){if((y=T.match(i))!=null&&y[1]!==""){if(b.f=ct(St(y[1])).replace(/\r\n/g,`
`),d.xlfn||(b.f=jS(b.f)),y[0].indexOf('t="array"')>-1)b.F=(T.match(a)||[])[1],b.F.indexOf(":")>-1&&B.push([Ht(b.F),b.F]);else if(y[0].indexOf('t="shared"')>-1){I=$e(y[0]);var ee=ct(St(y[1]));d.xlfn||(ee=jS(ee)),z[parseInt(I.si,10)]=[I,ee,S.r]}}else(y=T.match(/<f[^>]*\/>/))&&(I=$e(y[0]),z[I.si]&&(b.f=DV(z[I.si][1],z[I.si][2],S.r)));var re=an(S.r);for(w=0;w<B.length;++w)re.r>=B[w][0].s.r&&re.r<=B[w][0].e.r&&re.c>=B[w][0].s.c&&re.c<=B[w][0].e.c&&(b.F=B[w][1])}if(S.t==null&&b.v===void 0)if(b.f||b.F)b.v=0,b.t="n";else if(C)b.t="z";else continue;else b.t=S.t||"n";switch(f.s.c>A&&(f.s.c=A),f.e.c<A&&(f.e.c=A),b.t){case"n":if(b.v==""||b.v==null){if(!C)continue;b.t="z"}else b.v=parseFloat(b.v);break;case"s":if(typeof b.v>"u"){if(!C)continue;b.t="z"}else j=od[parseInt(b.v,10)],b.v=j.t,b.r=j.r,d.cellHTML&&(b.h=j.h);break;case"str":b.t="s",b.v=b.v!=null?St(b.v):"",d.cellHTML&&(b.h=Ty(b.v));break;case"inlineStr":y=T.match(n),b.t="s",y!=null&&(j=Fy(y[1]))?(b.v=j.t,d.cellHTML&&(b.h=j.h)):b.v="";break;case"b":b.v=Rt(b.v);break;case"d":d.cellDates?b.v=_r(b.v,1):(b.v=cn(_r(b.v,1)),b.t="n");break;case"e":(!d||d.cellText!==!1)&&(b.w=b.v),b.v=sN[b.v];break}if(N=W=0,X=null,M&&S.s!==void 0&&(X=m.CellXf[S.s],X!=null&&(X.numFmtId!=null&&(N=X.numFmtId),d.cellStyles&&X.fillId!=null&&(W=X.fillId))),MN(b,N,W,d,h,m),d.cellDates&&M&&b.t=="n"&&cu(qe[N])&&(b.t="d",b.v=fm(b.v)),S.cm&&d.xlmeta){var fe=(d.xlmeta.Cell||[])[+S.cm-1];fe&&fe.type=="XLDAPR"&&(b.D=!0)}if(Y){var V=an(S.r);u[V.r]||(u[V.r]=[]),u[V.r][V.c]=b}else u[S.r]=b}}}}F.length>0&&(u["!rows"]=F)}}();function kH(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=a/20),r}var CH=xc;function AH(){}function jH(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=Y$(e),r}function NH(e){var t=Aa(e);return[t]}function IH(e){var t=vc(e);return[t]}function RH(e){var t=Aa(e),r=e.read_shift(1);return[t,r,"b"]}function PH(e){var t=vc(e),r=e.read_shift(1);return[t,r,"b"]}function OH(e){var t=Aa(e),r=e.read_shift(1);return[t,r,"e"]}function FH(e){var t=vc(e),r=e.read_shift(1);return[t,r,"e"]}function DH(e){var t=Aa(e),r=e.read_shift(4);return[t,r,"s"]}function MH(e){var t=vc(e),r=e.read_shift(4);return[t,r,"s"]}function LH(e){var t=Aa(e),r=Lr(e);return[t,r,"n"]}function UN(e){var t=vc(e),r=Lr(e);return[t,r,"n"]}function UH(e){var t=Aa(e),r=Ry(e);return[t,r,"n"]}function BH(e){var t=vc(e),r=Ry(e);return[t,r,"n"]}function $H(e){var t=Aa(e),r=Ny(e);return[t,r,"is"]}function zH(e){var t=Aa(e),r=Br(e);return[t,r,"str"]}function VH(e){var t=vc(e),r=Br(e);return[t,r,"str"]}function WH(e,t,r){var n=e.l+t,a=Aa(e);a.r=r["!row"];var s=e.read_shift(1),i=[a,s,"b"];if(r.cellFormula){e.l+=2;var o=pm(e,n-e.l,r);i[3]=Dr(o,null,a,r.supbooks,r)}else e.l=n;return i}function HH(e,t,r){var n=e.l+t,a=Aa(e);a.r=r["!row"];var s=e.read_shift(1),i=[a,s,"e"];if(r.cellFormula){e.l+=2;var o=pm(e,n-e.l,r);i[3]=Dr(o,null,a,r.supbooks,r)}else e.l=n;return i}function GH(e,t,r){var n=e.l+t,a=Aa(e);a.r=r["!row"];var s=Lr(e),i=[a,s,"n"];if(r.cellFormula){e.l+=2;var o=pm(e,n-e.l,r);i[3]=Dr(o,null,a,r.supbooks,r)}else e.l=n;return i}function qH(e,t,r){var n=e.l+t,a=Aa(e);a.r=r["!row"];var s=Br(e),i=[a,s,"str"];if(r.cellFormula){e.l+=2;var o=pm(e,n-e.l,r);i[3]=Dr(o,null,a,r.supbooks,r)}else e.l=n;return i}var JH=xc;function KH(e,t){var r=e.l+t,n=xc(e),a=Iy(e),s=Br(e),i=Br(e),o=Br(e);e.l=r;var l={rfx:n,relId:a,loc:s,display:o};return i&&(l.Tooltip=i),l}function XH(){}function YH(e,t,r){var n=e.l+t,a=rN(e),s=e.read_shift(1),i=[a];if(i[2]=s,r.cellFormula){var o=rH(e,n-e.l,r);i[1]=o}else e.l=n;return i}function ZH(e,t,r){var n=e.l+t,a=xc(e),s=[a];if(r.cellFormula){var i=aH(e,n-e.l,r);s[1]=i,e.l=n}else e.l=n;return s}var QH=["left","right","top","bottom","header","footer"];function eG(e){var t={};return QH.forEach(function(r){t[r]=Lr(e)}),t}function tG(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function rG(){}function nG(){}function aG(e,t,r,n,a,s,i){if(!e)return e;var o=t||{};n||(n={"!id":{}});var l=o.dense?[]:{},u,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,m,v,p,g,y,E,w,_,T,b=[];o.biff=12,o["!row"]=0;var S=0,k=!1,A=[],j={},I=o.supbooks||a.supbooks||[[]];if(I.sharedf=j,I.arrayf=A,I.SheetNames=a.SheetNames||a.Sheets.map(function(Y){return Y.name}),!o.supbooks&&(o.supbooks=I,a.Names))for(var N=0;N<a.Names.length;++N)I[0][N+1]=a.Names[N];var W=[],M=[],X=!1;_0[16]={n:"BrtShortReal",f:UN};var B;if(ri(e,function(F,ne,Z){if(!h)switch(Z){case 148:u=F;break;case 0:m=F,o.sheetRows&&o.sheetRows<=m.r&&(h=!0),_=Ar(g=m.r),o["!row"]=m.r,(F.hidden||F.hpt||F.level!=null)&&(F.hpt&&(F.hpx=Bd(F.hpt)),M[F.r]=F);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(v={t:F[2]},F[2]){case"n":v.v=F[1];break;case"s":w=od[F[1]],v.v=w.t,v.r=w.r;break;case"b":v.v=!!F[1];break;case"e":v.v=F[1],o.cellText!==!1&&(v.w=yc[v.v]);break;case"str":v.t="s",v.v=F[1];break;case"is":v.t="s",v.v=F[1].t;break}if((p=i.CellXf[F[0].iStyleRef])&&MN(v,p.numFmtId,null,o,s,i),y=F[0].c==-1?y+1:F[0].c,o.dense?(l[g]||(l[g]=[]),l[g][y]=v):l[mr(y)+_]=v,o.cellFormula){for(k=!1,S=0;S<A.length;++S){var C=A[S];m.r>=C[0].s.r&&m.r<=C[0].e.r&&y>=C[0].s.c&&y<=C[0].e.c&&(v.F=at(C[0]),k=!0)}!k&&F.length>3&&(v.f=F[3])}if(d.s.r>m.r&&(d.s.r=m.r),d.s.c>y&&(d.s.c=y),d.e.r<m.r&&(d.e.r=m.r),d.e.c<y&&(d.e.c=y),o.cellDates&&p&&v.t=="n"&&cu(qe[p.numFmtId])){var G=Ro(v.v);G&&(v.t="d",v.v=new Date(G.y,G.m-1,G.d,G.H,G.M,G.S,G.u))}B&&(B.type=="XLDAPR"&&(v.D=!0),B=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;v={t:"z",v:void 0},y=F[0].c==-1?y+1:F[0].c,o.dense?(l[g]||(l[g]=[]),l[g][y]=v):l[mr(y)+_]=v,d.s.r>m.r&&(d.s.r=m.r),d.s.c>y&&(d.s.c=y),d.e.r<m.r&&(d.e.r=m.r),d.e.c<y&&(d.e.c=y),B&&(B.type=="XLDAPR"&&(v.D=!0),B=void 0);break;case 176:b.push(F);break;case 49:B=((o.xlmeta||{}).Cell||[])[F-1];break;case 494:var L=n["!id"][F.relId];for(L?(F.Target=L.Target,F.loc&&(F.Target+="#"+F.loc),F.Rel=L):F.relId==""&&(F.Target="#"+F.loc),g=F.rfx.s.r;g<=F.rfx.e.r;++g)for(y=F.rfx.s.c;y<=F.rfx.e.c;++y)o.dense?(l[g]||(l[g]=[]),l[g][y]||(l[g][y]={t:"z",v:void 0}),l[g][y].l=F):(E=He({c:y,r:g}),l[E]||(l[E]={t:"z",v:void 0}),l[E].l=F);break;case 426:if(!o.cellFormula)break;A.push(F),T=o.dense?l[g][y]:l[mr(y)+_],T.f=Dr(F[1],d,{r:m.r,c:y},I,o),T.F=at(F[0]);break;case 427:if(!o.cellFormula)break;j[He(F[0].s)]=F[1],T=o.dense?l[g][y]:l[mr(y)+_],T.f=Dr(F[1],d,{r:m.r,c:y},I,o);break;case 60:if(!o.cellStyles)break;for(;F.e>=F.s;)W[F.e--]={width:F.w/256,hidden:!!(F.flags&1),level:F.level},X||(X=!0,Dy(F.w/256)),Wl(W[F.e+1]);break;case 161:l["!autofilter"]={ref:at(F)};break;case 476:l["!margins"]=F;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),F.name&&(a.Sheets[r].CodeName=F.name),(F.above||F.left)&&(l["!outline"]={above:F.above,left:F.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),F.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!ne.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+Z.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(d.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(l["!ref"]=at(u||d)),o.sheetRows&&l["!ref"]){var z=Ht(l["!ref"]);o.sheetRows<=+z.e.r&&(z.e.r=o.sheetRows-1,z.e.r>d.e.r&&(z.e.r=d.e.r),z.e.r<z.s.r&&(z.s.r=z.e.r),z.e.c>d.e.c&&(z.e.c=d.e.c),z.e.c<z.s.c&&(z.s.c=z.e.c),l["!fullref"]=l["!ref"],l["!ref"]=at(z))}return b.length>0&&(l["!merges"]=b),W.length>0&&(l["!cols"]=W),M.length>0&&(l["!rows"]=M),l}function sG(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var i=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);i&&(t[+i[1]]=r?+i[2]:i[2])});var a=ct((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){n=s.replace(/<.*?>/g,"")}),[t,a,n]}function iG(e,t,r,n,a,s){var i=s||{"!type":"chart"};if(!e)return s;var o=0,l=0,u="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=sG(f);d.s.r=d.s.c=0,d.e.c=o,u=mr(o),h[0].forEach(function(m,v){i[u+Ar(v)]={t:"n",v:m,z:h[1]},l=v}),d.e.r<l&&(d.e.r=l),++o}),o>0&&(i["!ref"]=at(d)),i}function oG(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},i,o=e.match(LN);return o&&Ly(o[0],s,a,r),(i=e.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=i[1]),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}function cG(e,t){e.l+=10;var r=Br(e);return{name:r}}function lG(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},i=!1;return ri(e,function(l,u,d){switch(d){case 550:s["!rel"]=l;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),l.name&&(a.Sheets[r].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!i||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},t),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}var BN=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],uG=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],dG=[],fG=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function OS(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var s=t[a];if(n[s[0]]==null)n[s[0]]=s[1];else switch(s[2]){case"bool":typeof n[s[0]]=="string"&&(n[s[0]]=Rt(n[s[0]]));break;case"int":typeof n[s[0]]=="string"&&(n[s[0]]=parseInt(n[s[0]],10));break}}}function FS(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=Rt(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function $N(e){FS(e.WBProps,BN),FS(e.CalcPr,fG),OS(e.WBView,uG),OS(e.Sheets,dG),pl.date1904=Rt(e.WBProps.date1904)}var hG="][*?/\\".split("");function mG(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return hG.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var pG=/<\w+:workbook/;function gG(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",s={},i=0;if(e.replace(Wr,function(l,u){var d=$e(l);switch(bs(d[0])){case"<?xml":break;case"<workbook":l.match(pG)&&(a="xmlns"+l.match(/<(\w+):/)[1]),r.xmlns=d[a];break;case"</workbook>":break;case"<fileVersion":delete d[0],r.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":BN.forEach(function(f){if(d[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=Rt(d[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(d[f[0]],10);break;default:r.WBProps[f[0]]=d[f[0]]}}),d.codeName&&(r.WBProps.CodeName=St(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],r.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=ct(St(d.name)),delete d[0],r.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":s={},s.Name=St(d.name),d.comment&&(s.Comment=d.comment),d.localSheetId&&(s.Sheet=+d.localSheetId),Rt(d.hidden||"0")&&(s.Hidden=!0),i=u+l.length;break;case"</definedName>":s.Ref=ct(St(e.slice(i,u))),r.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete d[0],r.CalcPr=d;break;case"<calcPr/>":delete d[0],r.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return l}),O$.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return $N(r),r}function vG(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=rx(e),r.name=Br(e),r}function xG(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Br(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function yG(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function wG(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),s=Z$(e),i=nH(e,0,r),o=Iy(e);e.l=n;var l={Name:s,Ptg:i};return a<268435455&&(l.Sheet=a),o&&(l.Comment=o),l}function EG(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var s=[],i=[[]];return i.SheetNames=[],i.XTI=[],_0[16]={n:"BrtFRTArchID$",f:yG},ri(e,function(l,u,d){switch(d){case 156:i.SheetNames.push(l.name),r.Sheets.push(l);break;case 153:r.WBProps=l;break;case 39:l.Sheet!=null&&(t.SID=l.Sheet),l.Ref=Dr(l.Ptg,null,null,i,t),delete t.SID,delete l.Ptg,s.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:i[0].length?i.push([d,l]):i[0]=[d,l],i[i.length-1].XTI=[];break;case 362:i.length===0&&(i[0]=[],i[0].XTI=[]),i[i.length-1].XTI=i[i.length-1].XTI.concat(l),i.XTI=i.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(d),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(d),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!u.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),$N(r),r.Names=s,r.supbooks=i,r}function _G(e,t,r){return t.slice(-4)===".bin"?EG(e,r):gG(e,r)}function SG(e,t,r,n,a,s,i,o){return t.slice(-4)===".bin"?aG(e,n,r,a,s,i,o):vH(e,n,r,a,s,i,o)}function bG(e,t,r,n,a,s,i,o){return t.slice(-4)===".bin"?lG(e,n,r,a,s):oG(e,n,r,a,s)}function TG(e,t,r,n,a,s,i,o){return t.slice(-4)===".bin"?PV():OV()}function kG(e,t,r,n,a,s,i,o){return t.slice(-4)===".bin"?IV():RV()}function CG(e,t,r,n){return t.slice(-4)===".bin"?J9(e,r,n):z9(e,r,n)}function AG(e,t,r){return CN(e,r)}function jG(e,t,r){return t.slice(-4)===".bin"?u9(e,r):c9(e,r)}function NG(e,t,r){return t.slice(-4)===".bin"?AV(e,r):SV(e,r)}function IG(e,t,r){return t.slice(-4)===".bin"?wV(e):xV(e)}function RG(e,t,r,n){return r.slice(-4)===".bin"?EV(e,t,r,n):void 0}function PG(e,t,r){return t.slice(-4)===".bin"?gV(e,t,r):vV(e,t,r)}var zN=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,VN=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Ra(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(zN),s,i,o,l;if(a)for(l=0;l!=a.length;++l)s=a[l].match(VN),(i=s[1].indexOf(":"))===-1?n[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?o="xmlns"+s[1].slice(6):o=s[1].slice(i+1),n[o]=s[2].slice(1,s[2].length-1));return n}function OG(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(zN),a,s,i,o;if(n)for(o=0;o!=n.length;++o)a=n[o].match(VN),(s=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?i="xmlns"+a[1].slice(6):i=a[1].slice(s+1),r[i]=a[2].slice(1,a[2].length-1));return r}var ld;function FG(e,t){var r=ld[e]||ct(e);return r==="General"?nc(t):Ca(r,t)}function DG(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=Rt(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=_r(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[ct(t)]=a}function MG(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||yc[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Fd(e.v):e.w=nc(e.v):e.w=FG(t||"General",e.v)}catch(s){if(r.WTF)throw s}try{var n=ld[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&cu(n)){var a=Ro(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(s){if(r.WTF)throw s}}}function LG(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=D9[n.Pattern]||n.Pattern)}e[t.ID]=t}function UG(e,t,r,n,a,s,i,o,l,u){var d="General",f=n.StyleID,h={};u=u||{};var m=[],v=0;for(f===void 0&&o&&(f=o.StyleID),f===void 0&&i&&(f=i.StyleID);s[f]!==void 0&&(s[f].nf&&(d=s[f].nf),s[f].Interior&&m.push(s[f].Interior),!!s[f].Parent);)f=s[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Rt(e);break;case"String":n.t="s",n.r=nS(ct(e)),n.v=e.indexOf("<")>-1?ct(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(_r(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=ct(e):n.v<60&&(n.v=n.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=sN[e],u.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=nS(t||e));break}if(MG(n,d,u),u.cellFormula!==!1)if(n.Formula){var p=ct(n.Formula);p.charCodeAt(0)==61&&(p=p.slice(1)),n.f=ml(p,a),delete n.Formula,n.ArrayRange=="RC"?n.F=ml("RC:RC",a):n.ArrayRange&&(n.F=ml(n.ArrayRange,a),l.push([Ht(n.F),n.F]))}else for(v=0;v<l.length;++v)a.r>=l[v][0].s.r&&a.r<=l[v][0].e.r&&a.c>=l[v][0].s.c&&a.c<=l[v][0].e.c&&(n.F=l[v][1]);u.cellStyles&&(m.forEach(function(g){!h.patternType&&g.patternType&&(h.patternType=g.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function BG(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function Vp(e,t){var r=t||{};Ij();var n=Mu(ky(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=St(n));var a=n.slice(0,1024).toLowerCase(),s=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var i=Cr(r);return i.type="string",Ld.to_workbook(n,i)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Ze){a.indexOf("<"+Ze)>=0&&(s=!0)}),s)return KG(n,r);ld={"General Number":"General","General Date":qe[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":qe[15],"Short Date":qe[14],"Long Time":qe[19],"Medium Time":qe[18],"Short Time":qe[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:qe[2],Standard:qe[4],Percent:qe[10],Scientific:qe[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],u,d={},f=[],h=r.dense?[]:{},m="",v={},p={},g=Ra('<Data ss:Type="String">'),y=0,E=0,w=0,_={s:{r:2e6,c:2e6},e:{r:0,c:0}},T={},b={},S="",k=0,A=[],j={},I={},N=0,W=[],M=[],X={},B=[],z,Y=!1,F=[],ne=[],Z={},C=0,G=0,L={Sheets:[],WBProps:{date1904:!1}},D={};Md.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var O="";o=Md.exec(n);)switch(o[3]=(O=o[3]).toLowerCase()){case"data":if(O=="data"){if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?UG(n.slice(y,o.index),S,g,l[l.length-1][0]=="comment"?X:v,{c:E,r:w},T,B[E],p,F,r):(S="",g=Ra(o[0]),y=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(M.length>0&&(v.c=M),(!r.sheetRows||r.sheetRows>w)&&v.v!==void 0&&(r.dense?(h[w]||(h[w]=[]),h[w][E]=v):h[mr(E)+Ar(w)]=v),v.HRef&&(v.l={Target:ct(v.HRef)},v.HRefScreenTip&&(v.l.Tooltip=v.HRefScreenTip),delete v.HRef,delete v.HRefScreenTip),(v.MergeAcross||v.MergeDown)&&(C=E+(parseInt(v.MergeAcross,10)|0),G=w+(parseInt(v.MergeDown,10)|0),A.push({s:{c:E,r:w},e:{c:C,r:G}})),!r.sheetStubs)v.MergeAcross?E=C+1:++E;else if(v.MergeAcross||v.MergeDown){for(var P=E;P<=C;++P)for(var Q=w;Q<=G;++Q)(P>E||Q>w)&&(r.dense?(h[Q]||(h[Q]=[]),h[Q][P]={t:"z"}):h[mr(P)+Ar(Q)]={t:"z"});E=C+1}else++E;else v=OG(o[0]),v.Index&&(E=+v.Index-1),E<_.s.c&&(_.s.c=E),E>_.e.c&&(_.e.c=E),o[0].slice(-2)==="/>"&&++E,M=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(w<_.s.r&&(_.s.r=w),w>_.e.r&&(_.e.r=w),o[0].slice(-2)==="/>"&&(p=Ra(o[0]),p.Index&&(w=+p.Index-1)),E=0,++w):(p=Ra(o[0]),p.Index&&(w=+p.Index-1),Z={},(p.AutoFitHeight=="0"||p.Height)&&(Z.hpx=parseInt(p.Height,10),Z.hpt=kN(Z.hpx),ne[w]=Z),p.Hidden=="1"&&(Z.hidden=!0,ne[w]=Z));break;case"worksheet":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));f.push(m),_.s.r<=_.e.r&&_.s.c<=_.e.c&&(h["!ref"]=at(_),r.sheetRows&&r.sheetRows<=_.e.r&&(h["!fullref"]=h["!ref"],_.e.r=r.sheetRows-1,h["!ref"]=at(_))),A.length&&(h["!merges"]=A),B.length>0&&(h["!cols"]=B),ne.length>0&&(h["!rows"]=ne),d[m]=h}else _={s:{r:2e6,c:2e6},e:{r:0,c:0}},w=E=0,l.push([o[3],!1]),u=Ra(o[0]),m=ct(u.Name),h=r.dense?[]:{},A=[],F=[],ne=[],D={name:m,Hidden:0},L.Sheets.push(D);break;case"table":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),B=[],Y=!1}break;case"style":o[1]==="/"?LG(T,b,r):b=Ra(o[0]);break;case"numberformat":b.nf=ct(Ra(o[0]).Format||"General"),ld[b.nf]&&(b.nf=ld[b.nf]);for(var ee=0;ee!=392&&qe[ee]!=b.nf;++ee);if(ee==392){for(ee=57;ee!=392;++ee)if(qe[ee]==null){Wo(b.nf,ee);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(z=Ra(o[0]),z.Hidden&&(z.hidden=!0,delete z.Hidden),z.Width&&(z.wpx=parseInt(z.Width,10)),!Y&&z.wpx>10){Y=!0,nn=bN;for(var re=0;re<B.length;++re)B[re]&&Wl(B[re])}Y&&Wl(z),B[z.Index-1||B.length]=z;for(var fe=0;fe<+z.Span;++fe)B[B.length]=Cr(z);break;case"namedrange":if(o[1]==="/")break;L.Names||(L.Names=[]);var V=$e(o[0]),Ee={Name:V.Name,Ref:ml(V.RefersTo.slice(1),{r:0,c:0})};L.Sheets.length>0&&(Ee.Sheet=L.Sheets.length-1),L.Names.push(Ee);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?S+=n.slice(k,o.index):k=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;b.Interior=Ra(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?Sz(j,O,n.slice(N,o.index)):N=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));BG(X),M.push(X)}else l.push([o[3],!1]),u=Ra(o[0]),X={a:u.Author};break;case"autofilter":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var ye=Ra(o[0]);h["!autofilter"]={ref:ml(ye.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return $S(n,r);var Be=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Be=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Be=!1}break;case"excelworkbook":switch(o[3]){case"date1904":L.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Be=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:Be=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(N,o.index)){case"SheetHidden":D.Hidden=1;break;case"SheetVeryHidden":D.Hidden=2;break}else N=o.index+o[0].length;break;case"header":h["!margins"]||cd(h["!margins"]={},"xlml"),isNaN(+$e(o[0]).Margin)||(h["!margins"].header=+$e(o[0]).Margin);break;case"footer":h["!margins"]||cd(h["!margins"]={},"xlml"),isNaN(+$e(o[0]).Margin)||(h["!margins"].footer=+$e(o[0]).Margin);break;case"pagemargins":var De=$e(o[0]);h["!margins"]||cd(h["!margins"]={},"xlml"),isNaN(+De.Top)||(h["!margins"].top=+De.Top),isNaN(+De.Left)||(h["!margins"].left=+De.Left),isNaN(+De.Right)||(h["!margins"].right=+De.Right),isNaN(+De.Bottom)||(h["!margins"].bottom=+De.Bottom);break;case"displayrighttoleft":L.Views||(L.Views=[]),L.Views[0]||(L.Views[0]={}),L.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Be=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Be=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Be=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Be=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Be=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Be=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Be=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Be=!1}break;case"smarttags":break;default:Be=!1;break}if(Be||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?DG(I,O,W,n.slice(N,o.index)):(W=o,N=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var me={};return!r.bookSheets&&!r.bookProps&&(me.Sheets=d),me.SheetNames=f,me.Workbook=L,me.SSF=Cr(qe),me.Props=j,me.Custprops=I,me}function ix(e,t){switch($y(t=t||{}),t.type||"base64"){case"base64":return Vp(ta(e),t);case"binary":case"buffer":case"file":return Vp(e,t);case"array":return Vp(gc(e),t)}}function $G(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=tz(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=rz(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var zG=[60,1084,2066,2165,2175];function VG(e,t,r,n,a){var s=n,i=[],o=r.slice(r.l,r.l+s);if(a&&a.enc&&a.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(o)}i.push(o),r.l+=s;for(var l=Vs(r,r.l),u=ox[l],d=0;u!=null&&zG.indexOf(l)>-1;)s=Vs(r,r.l+2),d=r.l+4,l==2066?d+=4:(l==2165||l==2175)&&(d+=12),o=r.slice(d,r.l+4+s),i.push(o),r.l+=4+s,u=ox[l=Vs(r,r.l)];var f=_i(i);br(f,0);var h=0;f.lens=[];for(var m=0;m<i.length;++m)f.lens.push(h),h+=i[m].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,a)}function os(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=qe[n])}catch(s){if(t.WTF)throw s}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||yc[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Fd(e.v):e.w=nc(e.v):e.w=Ca(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(s){if(t.WTF)throw s}if(t.cellDates&&n&&e.t=="n"&&cu(qe[n]||String(n))){var a=Ro(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function ch(e,t,r){return{v:e,ixfe:t,t:r}}function WG(e,t){var r={opts:{}},n={},a=t.dense?[]:{},s={},i={},o=null,l=[],u="",d={},f,h="",m,v,p,g,y={},E=[],w,_,T=[],b=[],S={Sheets:[],WBProps:{date1904:!1},Views:[{}]},k={},A=function(ze){return ze<8?Ho[ze]:ze<64&&b[ze-8]||Ho[ze]},j=function(ze,et,lt){var It=et.XF.data;if(!(!It||!It.patternType||!lt||!lt.cellStyles)){et.s={},et.s.patternType=It.patternType;var Nr;(Nr=Ud(A(It.icvFore)))&&(et.s.fgColor={rgb:Nr}),(Nr=Ud(A(It.icvBack)))&&(et.s.bgColor={rgb:Nr})}},I=function(ze,et,lt){if(!(Z>1)&&!(lt.sheetRows&&ze.r>=lt.sheetRows)){if(lt.cellStyles&&et.XF&&et.XF.data&&j(ze,et,lt),delete et.ixfe,delete et.XF,f=ze,h=He(ze),(!i||!i.s||!i.e)&&(i={s:{r:0,c:0},e:{r:0,c:0}}),ze.r<i.s.r&&(i.s.r=ze.r),ze.c<i.s.c&&(i.s.c=ze.c),ze.r+1>i.e.r&&(i.e.r=ze.r+1),ze.c+1>i.e.c&&(i.e.c=ze.c+1),lt.cellFormula&&et.f){for(var It=0;It<E.length;++It)if(!(E[It][0].s.c>ze.c||E[It][0].s.r>ze.r)&&!(E[It][0].e.c<ze.c||E[It][0].e.r<ze.r)){et.F=at(E[It][0]),(E[It][0].s.c!=ze.c||E[It][0].s.r!=ze.r)&&delete et.f,et.f&&(et.f=""+Dr(E[It][1],i,ze,F,N));break}}lt.dense?(a[ze.r]||(a[ze.r]=[]),a[ze.r][ze.c]=et):a[h]=et}},N={enc:!1,sbcch:0,snames:[],sharedf:y,arrayf:E,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(N.password=t.password);var W,M=[],X=[],B=[],z=[],Y=!1,F=[];F.SheetNames=N.snames,F.sharedf=N.sharedf,F.arrayf=N.arrayf,F.names=[],F.XTI=[];var ne=0,Z=0,C=0,G=[],L=[],D;N.codepage=1200,Wa(1200);for(var O=!1;e.l<e.length-1;){var P=e.l,Q=e.read_shift(2);if(Q===0&&ne===10)break;var ee=e.l===e.length?0:e.read_shift(2),re=ox[Q];if(re&&re.f){if(t.bookSheets&&ne===133&&Q!==133)break;if(ne=Q,re.r===2||re.r==12){var fe=e.read_shift(2);if(ee-=2,!N.enc&&fe!==Q&&((fe&255)<<8|fe>>8)!==Q)throw new Error("rt mismatch: "+fe+"!="+Q);re.r==12&&(e.l+=10,ee-=10)}var V={};if(Q===10?V=re.f(e,ee,N):V=VG(Q,re,e,ee,N),Z==0&&[9,521,1033,2057].indexOf(ne)===-1)continue;switch(Q){case 34:r.opts.Date1904=S.WBProps.date1904=V;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(N.enc||(e.l=0),N.enc=V,!t.password)throw new Error("File is password-protected");if(V.valid==null)throw new Error("Encryption scheme unsupported");if(!V.valid)throw new Error("Password is incorrect");break;case 92:N.lastuser=V;break;case 66:var Ee=Number(V);switch(Ee){case 21010:Ee=1200;break;case 32768:Ee=1e4;break;case 32769:Ee=1252;break}Wa(N.codepage=Ee),O=!0;break;case 317:N.rrtabid=V;break;case 25:N.winlocked=V;break;case 439:r.opts.RefreshAll=V;break;case 12:r.opts.CalcCount=V;break;case 16:r.opts.CalcDelta=V;break;case 17:r.opts.CalcIter=V;break;case 13:r.opts.CalcMode=V;break;case 14:r.opts.CalcPrecision=V;break;case 95:r.opts.CalcSaveRecalc=V;break;case 15:N.CalcRefMode=V;break;case 2211:r.opts.FullCalc=V;break;case 129:V.fDialog&&(a["!type"]="dialog"),V.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),V.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:T.push(V);break;case 430:F.push([V]),F[F.length-1].XTI=[];break;case 35:case 547:F[F.length-1].push(V);break;case 24:case 536:D={Name:V.Name,Ref:Dr(V.rgce,i,null,F,N)},V.itab>0&&(D.Sheet=V.itab-1),F.names.push(D),F[0]||(F[0]=[],F[0].XTI=[]),F[F.length-1].push(V),V.Name=="_xlnm._FilterDatabase"&&V.itab>0&&V.rgce&&V.rgce[0]&&V.rgce[0][0]&&V.rgce[0][0][0]=="PtgArea3d"&&(L[V.itab-1]={ref:at(V.rgce[0][0][1][2])});break;case 22:N.ExternCount=V;break;case 23:F.length==0&&(F[0]=[],F[0].XTI=[]),F[F.length-1].XTI=F[F.length-1].XTI.concat(V),F.XTI=F.XTI.concat(V);break;case 2196:if(N.biff<8)break;D!=null&&(D.Comment=V[1]);break;case 18:a["!protect"]=V;break;case 19:V!==0&&N.WTF&&console.error("Password verifier: "+V);break;case 133:s[V.pos]=V,N.snames.push(V.name);break;case 10:{if(--Z)break;if(i.e){if(i.e.r>0&&i.e.c>0){if(i.e.r--,i.e.c--,a["!ref"]=at(i),t.sheetRows&&t.sheetRows<=i.e.r){var ye=i.e.r;i.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=at(i),i.e.r=ye}i.e.r++,i.e.c++}M.length>0&&(a["!merges"]=M),X.length>0&&(a["!objects"]=X),B.length>0&&(a["!cols"]=B),z.length>0&&(a["!rows"]=z),S.Sheets.push(k)}u===""?d=a:n[u]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(N.biff===8&&(N.biff={9:2,521:3,1033:4}[Q]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[V.BIFFVer]||8),N.biffguess=V.BIFFVer==0,V.BIFFVer==0&&V.dt==4096&&(N.biff=5,O=!0,Wa(N.codepage=28591)),N.biff==8&&V.BIFFVer==0&&V.dt==16&&(N.biff=2),Z++)break;if(a=t.dense?[]:{},N.biff<8&&!O&&(O=!0,Wa(N.codepage=t.codepage||1252)),N.biff<5||V.BIFFVer==0&&V.dt==4096){u===""&&(u="Sheet1"),i={s:{r:0,c:0},e:{r:0,c:0}};var Be={pos:e.l-ee,name:u};s[Be.pos]=Be,N.snames.push(u)}else u=(s[P]||{name:""}).name;V.dt==32&&(a["!type"]="chart"),V.dt==64&&(a["!type"]="macro"),M=[],X=[],N.arrayf=E=[],B=[],z=[],Y=!1,k={Hidden:(s[P]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[V.r]||[])[V.c]:a[He({c:V.c,r:V.r})])&&++V.c,w={ixfe:V.ixfe,XF:T[V.ixfe]||{},v:V.val,t:"n"},C>0&&(w.z=G[w.ixfe>>8&63]),os(w,t,r.opts.Date1904),I({c:V.c,r:V.r},w,t);break;case 5:case 517:w={ixfe:V.ixfe,XF:T[V.ixfe],v:V.val,t:V.t},C>0&&(w.z=G[w.ixfe>>8&63]),os(w,t,r.opts.Date1904),I({c:V.c,r:V.r},w,t);break;case 638:w={ixfe:V.ixfe,XF:T[V.ixfe],v:V.rknum,t:"n"},C>0&&(w.z=G[w.ixfe>>8&63]),os(w,t,r.opts.Date1904),I({c:V.c,r:V.r},w,t);break;case 189:for(var De=V.c;De<=V.C;++De){var me=V.rkrec[De-V.c][0];w={ixfe:me,XF:T[me],v:V.rkrec[De-V.c][1],t:"n"},C>0&&(w.z=G[w.ixfe>>8&63]),os(w,t,r.opts.Date1904),I({c:De,r:V.r},w,t)}break;case 6:case 518:case 1030:{if(V.val=="String"){o=V;break}if(w=ch(V.val,V.cell.ixfe,V.tt),w.XF=T[w.ixfe],t.cellFormula){var Ze=V.formula;if(Ze&&Ze[0]&&Ze[0][0]&&Ze[0][0][0]=="PtgExp"){var kt=Ze[0][0][1][0],yt=Ze[0][0][1][1],Zt=He({r:kt,c:yt});y[Zt]?w.f=""+Dr(V.formula,i,V.cell,F,N):w.F=((t.dense?(a[kt]||[])[yt]:a[Zt])||{}).F}else w.f=""+Dr(V.formula,i,V.cell,F,N)}C>0&&(w.z=G[w.ixfe>>8&63]),os(w,t,r.opts.Date1904),I(V.cell,w,t),o=V}break;case 7:case 519:if(o)o.val=V,w=ch(V,o.cell.ixfe,"s"),w.XF=T[w.ixfe],t.cellFormula&&(w.f=""+Dr(o.formula,i,o.cell,F,N)),C>0&&(w.z=G[w.ixfe>>8&63]),os(w,t,r.opts.Date1904),I(o.cell,w,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{E.push(V);var Gt=He(V[0].s);if(m=t.dense?(a[V[0].s.r]||[])[V[0].s.c]:a[Gt],t.cellFormula&&m){if(!o||!Gt||!m)break;m.f=""+Dr(V[1],i,V[0],F,N),m.F=at(V[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!o)break;y[He(o.cell)]=V[0],m=t.dense?(a[o.cell.r]||[])[o.cell.c]:a[He(o.cell)],(m||{}).f=""+Dr(V[0],i,f,F,N)}}break;case 253:w=ch(l[V.isst].t,V.ixfe,"s"),l[V.isst].h&&(w.h=l[V.isst].h),w.XF=T[w.ixfe],C>0&&(w.z=G[w.ixfe>>8&63]),os(w,t,r.opts.Date1904),I({c:V.c,r:V.r},w,t);break;case 513:t.sheetStubs&&(w={ixfe:V.ixfe,XF:T[V.ixfe],t:"z"},C>0&&(w.z=G[w.ixfe>>8&63]),os(w,t,r.opts.Date1904),I({c:V.c,r:V.r},w,t));break;case 190:if(t.sheetStubs)for(var ir=V.c;ir<=V.C;++ir){var he=V.ixfe[ir-V.c];w={ixfe:he,XF:T[he],t:"z"},C>0&&(w.z=G[w.ixfe>>8&63]),os(w,t,r.opts.Date1904),I({c:ir,r:V.r},w,t)}break;case 214:case 516:case 4:w=ch(V.val,V.ixfe,"s"),w.XF=T[w.ixfe],C>0&&(w.z=G[w.ixfe>>8&63]),os(w,t,r.opts.Date1904),I({c:V.c,r:V.r},w,t);break;case 0:case 512:Z===1&&(i=V);break;case 252:l=V;break;case 1054:if(N.biff==4){G[C++]=V[1];for(var be=0;be<C+163&&qe[be]!=V[1];++be);be>=163&&Wo(V[1],C+163)}else Wo(V[1],V[0]);break;case 30:{G[C++]=V;for(var ke=0;ke<C+163&&qe[ke]!=V;++ke);ke>=163&&Wo(V,C+163)}break;case 229:M=M.concat(V);break;case 93:X[V.cmo[0]]=N.lastobj=V;break;case 438:N.lastobj.TxO=V;break;case 127:N.lastobj.ImData=V;break;case 440:for(g=V[0].s.r;g<=V[0].e.r;++g)for(p=V[0].s.c;p<=V[0].e.c;++p)m=t.dense?(a[g]||[])[p]:a[He({c:p,r:g})],m&&(m.l=V[1]);break;case 2048:for(g=V[0].s.r;g<=V[0].e.r;++g)for(p=V[0].s.c;p<=V[0].e.c;++p)m=t.dense?(a[g]||[])[p]:a[He({c:p,r:g})],m&&m.l&&(m.l.Tooltip=V[1]);break;case 28:{if(N.biff<=5&&N.biff>=2)break;m=t.dense?(a[V[0].r]||[])[V[0].c]:a[He(V[0])];var gt=X[V[2]];m||(t.dense?(a[V[0].r]||(a[V[0].r]=[]),m=a[V[0].r][V[0].c]={t:"z"}):m=a[He(V[0])]={t:"z"},i.e.r=Math.max(i.e.r,V[0].r),i.s.r=Math.min(i.s.r,V[0].r),i.e.c=Math.max(i.e.c,V[0].c),i.s.c=Math.min(i.s.c,V[0].c)),m.c||(m.c=[]),v={a:V[1],t:gt.TxO.t},m.c.push(v)}break;case 2173:fV(T[V.ixfe],V.ext);break;case 125:{if(!N.cellStyles)break;for(;V.e>=V.s;)B[V.e--]={width:V.w/256,level:V.level||0,hidden:!!(V.flags&1)},Y||(Y=!0,Dy(V.w/256)),Wl(B[V.e+1])}break;case 520:{var Nt={};V.level!=null&&(z[V.r]=Nt,Nt.level=V.level),V.hidden&&(z[V.r]=Nt,Nt.hidden=!0),V.hpt&&(z[V.r]=Nt,Nt.hpt=V.hpt,Nt.hpx=Bd(V.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||cd(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[Q]]=V;break;case 161:a["!margins"]||cd(a["!margins"]={}),a["!margins"].header=V.header,a["!margins"].footer=V.footer;break;case 574:V.RTL&&(S.Views[0].RTL=!0);break;case 146:b=V;break;case 2198:W=V;break;case 140:_=V;break;case 442:u?k.CodeName=V||k.name:S.WBProps.CodeName=V||"ThisWorkbook";break}}else re||console.error("Missing Info for XLS Record 0x"+Q.toString(16)),e.l+=ee}return r.SheetNames=Es(s).sort(function(Jr,ze){return Number(Jr)-Number(ze)}).map(function(Jr){return s[Jr].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&d["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=d)):r.Preamble=d,r.Sheets&&L.forEach(function(Jr,ze){r.Sheets[r.SheetNames[ze]]["!autofilter"]=Jr}),r.Strings=l,r.SSF=Cr(qe),N.enc&&(r.Encryption=N.enc),W&&(r.Themes=W),r.Metadata={},_!==void 0&&(r.Metadata.Country=_),F.names.length>0&&(S.Names=F.names),r.Workbook=S,r}var DS={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function HG(e,t,r){var n=nt.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=yS(n,cz,DS.DSI);for(var s in a)t[s]=a[s]}catch(u){if(r.WTF)throw u}var i=nt.find(e,"/!SummaryInformation");if(i&&i.size>0)try{var o=yS(i,lz,DS.SI);for(var l in o)t[l]==null&&(t[l]=o[l])}catch(u){if(r.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(oN(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function WN(e,t){t||(t={}),$y(t),yj(),t.codepage&&yy(t.codepage);var r,n;if(e.FullPaths){if(nt.find(e,"/encryption"))throw new Error("File is password-protected");r=nt.find(e,"!CompObj"),n=nt.find(e,"/Workbook")||nt.find(e,"/Book")}else{switch(t.type){case"base64":e=Va(ta(e));break;case"binary":e=Va(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}br(e,0),n={content:e}}var a,s;if(r&&$G(r),t.bookProps&&!t.bookSheets)a={};else{var i=rt?"buffer":"array";if(n&&n.content)a=WG(n.content,t);else if((s=nt.find(e,"PerfectOffice_MAIN"))&&s.content)a=id.to_workbook(s.content,(t.type=i,t));else if((s=nt.find(e,"NativeContent_MAIN"))&&s.content)a=id.to_workbook(s.content,(t.type=i,t));else throw(s=nt.find(e,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&nt.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=NV(e))}var o={};return e.FullPaths&&HG(e,o,t),a.Props=a.Custprops=o,t.bookFiles&&(a.cfb=e),a}var _0={0:{f:kH},1:{f:NH},2:{f:UH},3:{f:OH},4:{f:RH},5:{f:LH},6:{f:zH},7:{f:DH},8:{f:qH},9:{f:GH},10:{f:WH},11:{f:HH},12:{f:IH},13:{f:BH},14:{f:FH},15:{f:PH},16:{f:UN},17:{f:VH},18:{f:MH},19:{f:Ny},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:wG},40:{},42:{},43:{f:W9},44:{f:V9},45:{f:H9},46:{f:q9},47:{f:G9},48:{},49:{f:J$},50:{},51:{f:mV},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:yN},62:{f:$H},63:{f:yV},64:{f:rG},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:zr,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:tG},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:jH},148:{f:CH,p:16},151:{f:XH},152:{},153:{f:xG},154:{},155:{},156:{f:vG},157:{},158:{},159:{T:1,f:l9},160:{T:-1},161:{T:1,f:xc},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:JH},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:hV},336:{T:-1},337:{f:pV,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:rx},357:{},358:{},359:{},360:{T:1},361:{},362:{f:xN},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:YH},427:{f:ZH},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:eG},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:AH},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:KH},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:rx},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:CV},633:{T:1},634:{T:-1},635:{T:1,f:kV},636:{T:-1},637:{f:X$},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:cG},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:nG},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},ox={6:{f:$p},10:{f:ui},12:{f:tr},13:{f:tr},14:{f:qt},15:{f:qt},16:{f:Lr},17:{f:qt},18:{f:qt},19:{f:tr},20:{f:SS},21:{f:SS},23:{f:xN},24:{f:TS},25:{f:qt},26:{},27:{},28:{f:b7},29:{},34:{f:qt},35:{f:bS},38:{f:Lr},39:{f:Lr},40:{f:Lr},41:{f:Lr},42:{f:qt},43:{f:qt},47:{f:A9},49:{f:s7},51:{f:tr},60:{},61:{f:r7},64:{f:qt},65:{f:a7},66:{f:tr},77:{},80:{},81:{},82:{},85:{f:tr},89:{},90:{},91:{},92:{f:Jz},93:{f:k7},94:{},95:{f:qt},96:{},97:{},99:{f:qt},125:{f:yN},128:{f:p7},129:{f:Kz},130:{f:tr},131:{f:qt},132:{f:qt},133:{f:Xz},134:{},140:{f:R7},141:{f:tr},144:{},146:{f:O7},151:{},152:{},153:{},154:{},155:{},156:{f:tr},157:{},158:{},160:{f:U7},161:{f:D7},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:d7},190:{f:f7},193:{f:ui},197:{},198:{},199:{},200:{},201:{},202:{f:qt},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:tr},220:{},221:{f:qt},222:{},224:{f:m7},225:{f:qz},226:{f:ui},227:{},229:{f:T7},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:Yz},253:{f:i7},255:{f:Zz},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:fN},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:qt},353:{f:ui},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:v7},431:{f:qt},432:{},433:{},434:{},437:{},438:{f:j7},439:{f:qt},440:{f:N7},441:{},442:{f:uf},443:{},444:{f:tr},445:{},446:{},448:{f:ui},449:{f:t7,r:2},450:{f:ui},512:{f:ES},513:{f:L7},515:{f:g7},516:{f:o7},517:{f:_S},519:{f:B7},520:{f:Qz},523:{},545:{f:kS},549:{f:wS},566:{},574:{f:n7},638:{f:u7},659:{},1048:{},1054:{f:c7},1084:{},1212:{f:E7},2048:{f:I7},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:sh},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:ui},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:F7,r:12},2173:{f:dV,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:qt,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:w7,r:12},2197:{},2198:{f:sV,r:12},2199:{},2200:{},2201:{},2202:{f:_7,r:12},2203:{f:ui},2204:{},2205:{},2206:{},2207:{},2211:{f:e7},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:tr},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:M7},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:P7},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:ES},1:{},2:{f:W7},3:{f:V7},4:{f:z7},5:{f:_S},7:{f:H7},8:{},9:{f:sh},11:{},22:{f:tr},30:{f:l7},31:{},32:{},33:{f:kS},36:{},37:{f:wS},50:{f:G7},62:{},52:{},67:{},68:{f:tr},69:{},86:{},126:{},127:{f:$7},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:q7},223:{},234:{},354:{},421:{},518:{f:$p},521:{f:sh},536:{f:TS},547:{f:bS},561:{},579:{},1030:{f:$p},1033:{f:sh},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Pa(e,t,r,n){var a=t;if(!isNaN(a)){var s=(r||[]).length||0,i=e.next(4);i.write_shift(2,a),i.write_shift(2,s),s>0&&Qj(r)&&e.push(r)}}function MS(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var s=e.match(/<\/table/i),i=a.index,o=s&&s.index||e.length,l=g$(e.slice(i,o),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,d=0,f=0,h=0,m={s:{r:1e7,c:1e7},e:{r:0,c:0}},v=[];for(i=0;i<l.length;++i){var p=l[i].trim(),g=p.slice(0,3).toLowerCase();if(g=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}d=0;continue}if(!(g!="<td"&&g!="<th")){var y=p.split(/<\/t[dh]>/i);for(o=0;o<y.length;++o){var E=y[o].trim();if(E.match(/<t[dh]/i)){for(var w=E,_=0;w.charAt(0)=="<"&&(_=w.indexOf(">"))>-1;)w=w.slice(_+1);for(var T=0;T<v.length;++T){var b=v[T];b.s.c==d&&b.s.r<u&&u<=b.e.r&&(d=b.e.c+1,T=-1)}var S=$e(E.slice(0,E.indexOf(">")));h=S.colspan?+S.colspan:1,((f=+S.rowspan)>1||h>1)&&v.push({s:{r:u,c:d},e:{r:u+(f||1)-1,c:d+h-1}});var k=S.t||S["data-t"]||"";if(!w.length){d+=h;continue}if(w=Bj(w),m.s.r>u&&(m.s.r=u),m.e.r<u&&(m.e.r=u),m.s.c>d&&(m.s.c=d),m.e.c<d&&(m.e.c=d),!w.length){d+=h;continue}var A={t:"s",v:w};r.raw||!w.trim().length||k=="s"||(w==="TRUE"?A={t:"b",v:!0}:w==="FALSE"?A={t:"b",v:!1}:isNaN(Ja(w))?isNaN(Vl(w).getDate())||(A={t:"d",v:_r(w)},r.cellDates||(A={t:"n",v:cn(A.v)}),A.z=r.dateNF||qe[14]):A={t:"n",v:Ja(w)}),r.dense?(n[u]||(n[u]=[]),n[u][d]=A):n[He({r:u,c:d})]=A,d+=h}}}}return n["!ref"]=at(m),v.length&&(n["!merges"]=v),n}function GG(e,t,r,n){for(var a=e["!merges"]||[],s=[],i=t.s.c;i<=t.e.c;++i){for(var o=0,l=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>i)&&!(a[u].e.r<r||a[u].e.c<i)){if(a[u].s.r<r||a[u].s.c<i){o=-1;break}o=a[u].e.r-a[u].s.r+1,l=a[u].e.c-a[u].s.c+1;break}if(!(o<0)){var d=He({r,c:i}),f=n.dense?(e[r]||[])[i]:e[d],h=f&&f.v!=null&&(f.h||Ty(f.w||(ei(f),f.w)||""))||"",m={};o>1&&(m.rowspan=o),l>1&&(m.colspan=l),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(m["data-t"]=f&&f.t||"z",f.v!=null&&(m["data-v"]=f.v),f.z!=null&&(m["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),m.id=(n.id||"sjs")+"-"+d,s.push(R$("td",h,m))}}var v="<tr>";return v+s.join("")+"</tr>"}var qG='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',JG="</body></html>";function KG(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return fo(MS(r[0],t),t);var n=Vy();return r.forEach(function(a,s){Wy(n,MS(a,t),"Sheet"+(s+1))}),n}function XG(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function YG(e,t){var r=t||{},n=r.header!=null?r.header:qG,a=r.footer!=null?r.footer:JG,s=[n],i=lu(e["!ref"]);r.dense=Array.isArray(e),s.push(XG(e,i,r));for(var o=i.s.r;o<=i.e.r;++o)s.push(GG(e,i,o,r));return s.push("</table>"+a),s.join("")}function HN(e,t,r){var n=r||{},a=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var i=typeof n.origin=="string"?an(n.origin):n.origin;a=i.r,s=i.c}var o=t.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),u={s:{r:0,c:0},e:{r:a,c:s}};if(e["!ref"]){var d=lu(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var f=[],h=0,m=e["!rows"]||(e["!rows"]=[]),v=0,p=0,g=0,y=0,E=0,w=0;for(e["!cols"]||(e["!cols"]=[]);v<o.length&&p<l;++v){var _=o[v];if(LS(_)){if(n.display)continue;m[p]={hidden:!0}}var T=_.children;for(g=y=0;g<T.length;++g){var b=T[g];if(!(n.display&&LS(b))){var S=b.hasAttribute("data-v")?b.getAttribute("data-v"):b.hasAttribute("v")?b.getAttribute("v"):Bj(b.innerHTML),k=b.getAttribute("data-z")||b.getAttribute("z");for(h=0;h<f.length;++h){var A=f[h];A.s.c==y+s&&A.s.r<p+a&&p+a<=A.e.r&&(y=A.e.c+1-s,h=-1)}w=+b.getAttribute("colspan")||1,((E=+b.getAttribute("rowspan")||1)>1||w>1)&&f.push({s:{r:p+a,c:y+s},e:{r:p+a+(E||1)-1,c:y+s+(w||1)-1}});var j={t:"s",v:S},I=b.getAttribute("data-t")||b.getAttribute("t")||"";S!=null&&(S.length==0?j.t=I||"z":n.raw||S.trim().length==0||I=="s"||(S==="TRUE"?j={t:"b",v:!0}:S==="FALSE"?j={t:"b",v:!1}:isNaN(Ja(S))?isNaN(Vl(S).getDate())||(j={t:"d",v:_r(S)},n.cellDates||(j={t:"n",v:cn(j.v)}),j.z=n.dateNF||qe[14]):j={t:"n",v:Ja(S)})),j.z===void 0&&k!=null&&(j.z=k);var N="",W=b.getElementsByTagName("A");if(W&&W.length)for(var M=0;M<W.length&&!(W[M].hasAttribute("href")&&(N=W[M].getAttribute("href"),N.charAt(0)!="#"));++M);N&&N.charAt(0)!="#"&&(j.l={Target:N}),n.dense?(e[p+a]||(e[p+a]=[]),e[p+a][y+s]=j):e[He({c:y+s,r:p+a})]=j,u.e.c<y+s&&(u.e.c=y+s),y+=w}}++p}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,p-1+a),e["!ref"]=at(u),p>=l&&(e["!fullref"]=at((u.e.r=o.length-v+p-1+a,u))),e}function GN(e,t){var r=t||{},n=r.dense?[]:{};return HN(n,e,t)}function ZG(e,t){return fo(GN(e,t),t)}function LS(e){var t="",r=QG(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function QG(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function eq(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=ct(t.replace(/<[^>]*>/g,""));return[r]}var US={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function qN(e,t){var r=t||{},n=ky(e),a=[],s,i,o={name:""},l="",u=0,d,f,h={},m=[],v=r.dense?[]:{},p,g,y={value:""},E="",w=0,_=[],T=-1,b=-1,S={s:{r:1e6,c:1e7},e:{r:0,c:0}},k=0,A={},j=[],I={},N=0,W=0,M=[],X=1,B=1,z=[],Y={Names:[]},F={},ne=["",""],Z=[],C={},G="",L=0,D=!1,O=!1,P=0;for(Md.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");p=Md.exec(n);)switch(p[3]=p[3].replace(/_.*$/,"")){case"table":case"":p[1]==="/"?(S.e.c>=S.s.c&&S.e.r>=S.s.r?v["!ref"]=at(S):v["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=S.e.r&&(v["!fullref"]=v["!ref"],S.e.r=r.sheetRows-1,v["!ref"]=at(S)),j.length&&(v["!merges"]=j),M.length&&(v["!rows"]=M),d.name=d.||d.name,typeof JSON<"u"&&JSON.stringify(d),m.push(d.name),h[d.name]=v,O=!1):p[0].charAt(p[0].length-2)!=="/"&&(d=$e(p[0],!1),T=b=-1,S.s.r=S.s.c=1e7,S.e.r=S.e.c=0,v=r.dense?[]:{},j=[],M=[],O=!0);break;case"table-row-group":p[1]==="/"?--k:++k;break;case"table-row":case"":if(p[1]==="/"){T+=X,X=1;break}if(f=$e(p[0],!1),f.?T=f.-1:T==-1&&(T=0),X=+f["number-rows-repeated"]||1,X<10)for(P=0;P<X;++P)k>0&&(M[T+P]={level:k});b=-1;break;case"covered-table-cell":p[1]!=="/"&&++b,r.sheetStubs&&(r.dense?(v[T]||(v[T]=[]),v[T][b]={t:"z"}):v[He({r:T,c:b})]={t:"z"}),E="",_=[];break;case"table-cell":case"":if(p[0].charAt(p[0].length-2)==="/")++b,y=$e(p[0],!1),B=parseInt(y["number-columns-repeated"]||"1",10),g={t:"z",v:null},y.formula&&r.cellFormula!=!1&&(g.f=PS(ct(y.formula))),(y.||y["value-type"])=="string"&&(g.t="s",g.v=ct(y["string-value"]||""),r.dense?(v[T]||(v[T]=[]),v[T][b]=g):v[He({r:T,c:b})]=g),b+=B-1;else if(p[1]!=="/"){++b,E="",w=0,_=[],B=1;var Q=X?T+X-1:T;if(b>S.e.c&&(S.e.c=b),b<S.s.c&&(S.s.c=b),T<S.s.r&&(S.s.r=T),Q>S.e.r&&(S.e.r=Q),y=$e(p[0],!1),Z=[],C={},g={t:y.||y["value-type"],v:null},r.cellFormula)if(y.formula&&(y.formula=ct(y.formula)),y["number-matrix-columns-spanned"]&&y["number-matrix-rows-spanned"]&&(N=parseInt(y["number-matrix-rows-spanned"],10)||0,W=parseInt(y["number-matrix-columns-spanned"],10)||0,I={s:{r:T,c:b},e:{r:T+N-1,c:b+W-1}},g.F=at(I),z.push([I,g.F])),y.formula)g.f=PS(y.formula);else for(P=0;P<z.length;++P)T>=z[P][0].s.r&&T<=z[P][0].e.r&&b>=z[P][0].s.c&&b<=z[P][0].e.c&&(g.F=z[P][1]);switch((y["number-columns-spanned"]||y["number-rows-spanned"])&&(N=parseInt(y["number-rows-spanned"],10)||0,W=parseInt(y["number-columns-spanned"],10)||0,I={s:{r:T,c:b},e:{r:T+N-1,c:b+W-1}},j.push(I)),y["number-columns-repeated"]&&(B=parseInt(y["number-columns-repeated"],10)),g.t){case"boolean":g.t="b",g.v=Rt(y["boolean-value"]);break;case"float":g.t="n",g.v=parseFloat(y.value);break;case"percentage":g.t="n",g.v=parseFloat(y.value);break;case"currency":g.t="n",g.v=parseFloat(y.value);break;case"date":g.t="d",g.v=_r(y["date-value"]),r.cellDates||(g.t="n",g.v=cn(g.v)),g.z="m/d/yy";break;case"time":g.t="n",g.v=h$(y["time-value"])/86400,r.cellDates&&(g.t="d",g.v=fm(g.v)),g.z="HH:MM:SS";break;case"number":g.t="n",g.v=parseFloat(y.);break;default:if(g.t==="string"||g.t==="text"||!g.t)g.t="s",y["string-value"]!=null&&(E=ct(y["string-value"]),_=[]);else throw new Error("Unsupported value type "+g.t)}}else{if(D=!1,g.t==="s"&&(g.v=E||"",_.length&&(g.R=_),D=w==0),F.Target&&(g.l=F),Z.length>0&&(g.c=Z,Z=[]),E&&r.cellText!==!1&&(g.w=E),D&&(g.t="z",delete g.v),(!D||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=T))for(var ee=0;ee<X;++ee){if(B=parseInt(y["number-columns-repeated"]||"1",10),r.dense)for(v[T+ee]||(v[T+ee]=[]),v[T+ee][b]=ee==0?g:Cr(g);--B>0;)v[T+ee][b+B]=Cr(g);else for(v[He({r:T+ee,c:b})]=g;--B>0;)v[He({r:T+ee,c:b+B})]=Cr(g);S.e.c<=b&&(S.e.c=b)}B=parseInt(y["number-columns-repeated"]||"1",10),b+=B-1,B=0,g={},E="",_=[]}F={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(p[1]==="/"){if((s=a.pop())[0]!==p[3])throw"Bad state: "+s}else p[0].charAt(p[0].length-2)!=="/"&&a.push([p[3],!0]);break;case"annotation":if(p[1]==="/"){if((s=a.pop())[0]!==p[3])throw"Bad state: "+s;C.t=E,_.length&&(C.R=_),C.a=G,Z.push(C)}else p[0].charAt(p[0].length-2)!=="/"&&a.push([p[3],!1]);G="",L=0,E="",w=0,_=[];break;case"creator":p[1]==="/"?G=n.slice(L,p.index):L=p.index+p[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(p[1]==="/"){if((s=a.pop())[0]!==p[3])throw"Bad state: "+s}else p[0].charAt(p[0].length-2)!=="/"&&a.push([p[3],!1]);E="",w=0,_=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(p[1]==="/"){if(A[o.name]=l,(s=a.pop())[0]!==p[3])throw"Bad state: "+s}else p[0].charAt(p[0].length-2)!=="/"&&(l="",o=$e(p[0],!1),a.push([p[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":i=$e(p[0],!1),l+=US[p[3]][i.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":i=$e(p[0],!1),l+=US[p[3]][i.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(p[0].slice(-2)==="/>")break;if(p[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":l+=n.slice(u,p.index);break}else u=p.index+p[0].length;break;case"named-range":i=$e(p[0],!1),ne=zp(i["cell-range-address"]);var re={Name:i.name,Ref:ne[0]+"!"+ne[1]};O&&(re.Sheet=m.length),Y.Names.push(re);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(p[1]==="/"&&(!y||!y["string-value"])){var fe=eq(n.slice(w,p.index));E=(E.length>0?E+`
`:"")+fe[0]}else $e(p[0],!1),w=p.index+p[0].length;break;case"s":break;case"database-range":if(p[1]==="/")break;try{ne=zp($e(p[0])["target-range-address"]),h[ne[0]]["!autofilter"]={ref:ne[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(p[1]!=="/"){if(F=$e(p[0],!1),!F.href)break;F.Target=ct(F.href),delete F.href,F.Target.charAt(0)=="#"&&F.Target.indexOf(".")>-1?(ne=zp(F.Target.slice(1)),F.Target="#"+ne[0]+"!"+ne[1]):F.Target.match(/^\.\.[\\\/]/)&&(F.Target=F.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(p[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(p)}}var V={Sheets:h,SheetNames:m,Workbook:Y};return r.bookSheets&&delete V.Sheets,V}function BS(e,t){t=t||{},da(e,"META-INF/manifest.xml")&&gz(er(e,"META-INF/manifest.xml"),t);var r=Bn(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=qN(St(r),t);return da(e,"meta.xml")&&(n.Props=iN(er(e,"meta.xml"))),n}function $S(e,t){return qN(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Uy(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function cx(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):St(gc(e))}function lx(e){var t=e.reduce(function(a,s){return a+s.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function zS(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function tq(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function $d(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function pr(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Ur(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=$d(e,r),s=a&7;a=Math.floor(a/8);var i=0,o;if(a==0)break;switch(s){case 0:{for(var l=r[0];e[r[0]++]>=128;);o=e.slice(l,r[0])}break;case 5:i=4,o=e.slice(r[0],r[0]+i),r[0]+=i;break;case 1:i=8,o=e.slice(r[0],r[0]+i),r[0]+=i;break;case 2:i=$d(e,r),o=e.slice(r[0],r[0]+i),r[0]+=i;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(a," at offset ").concat(n))}var u={data:o,type:s};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function By(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function rq(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=$d(e,n),s=Ur(e.slice(n[0],n[0]+a));n[0]+=a;var i={id:pr(s[1][0].data),messages:[]};s[2].forEach(function(o){var l=Ur(o.data),u=pr(l[3][0].data);i.messages.push({meta:l,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=s[3])!=null&&t[0]&&(i.merge=pr(s[3][0].data)>>>0>0),r.push(i)}return r}function nq(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=$d(t,r),a=[];r[0]<t.length;){var s=t[r[0]]&3;if(s==0){var i=t[r[0]++]>>2;if(i<60)++i;else{var o=i-59;i=t[r[0]],o>1&&(i|=t[r[0]+1]<<8),o>2&&(i|=t[r[0]+2]<<16),o>3&&(i|=t[r[0]+3]<<24),i>>>=0,i++,r[0]+=o}a.push(t.slice(r[0],r[0]+i)),r[0]+=i;continue}else{var l=0,u=0;if(s==1?(u=(t[r[0]]>>2&7)+4,l=(t[r[0]++]&224)<<3,l|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,s==2?(l=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(l=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[lx(a)],l==0)throw new Error("Invalid offset 0");if(l>a[0].length)throw new Error("Invalid offset beyond length");if(u>=l)for(a.push(a[0].slice(-l)),u-=l;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-l,-l+u))}}var d=lx(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function aq(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(nq(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return lx(t)}function sq(e,t,r,n){var a=Uy(e),s=a.getUint32(4,!0),i=(n>1?12:8)+zS(s&(n>1?3470:398))*4,o=-1,l=-1,u=NaN,d=new Date(2001,0,1);s&512&&(o=a.getUint32(i,!0),i+=4),i+=zS(s&(n>1?12288:4096))*4,s&16&&(l=a.getUint32(i,!0),i+=4),s&32&&(u=a.getFloat64(i,!0),i+=8),s&64&&(d.setTime(d.getTime()+a.getFloat64(i,!0)*1e3),i+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:u};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else if(l>-1)f={t:"s",v:t[l]};else if(!isNaN(u))f={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function iq(e,t,r){var n=Uy(e),a=n.getUint32(8,!0),s=12,i=-1,o=-1,l=NaN,u=NaN,d=new Date(2001,0,1);a&1&&(l=tq(e,s),s+=16),a&2&&(u=n.getFloat64(s,!0),s+=8),a&4&&(d.setTime(d.getTime()+n.getFloat64(s,!0)*1e3),s+=8),a&8&&(o=n.getUint32(s,!0),s+=4),a&16&&(i=n.getUint32(s,!0),s+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:t[o]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(i>-1)f={t:"s",v:r[i]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function oq(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return sq(e,t,r,e[0]);case 5:return iq(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Ki(e){var t=Ur(e);return $d(t[1][0].data)}function VS(e,t){var r=Ur(t.data),n=pr(r[1][0].data),a=r[3],s=[];return(a||[]).forEach(function(i){var o=Ur(i.data),l=pr(o[1][0].data)>>>0;switch(n){case 1:s[l]=cx(o[3][0].data);break;case 8:{var u=e[Ki(o[9][0].data)][0],d=Ur(u.data),f=e[Ki(d[1][0].data)][0],h=pr(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var m=Ur(f.data);s[l]=m[3].map(function(v){return cx(v.data)}).join("")}break}}),s}function cq(e,t){var r,n,a,s,i,o,l,u,d,f,h,m,v,p,g=Ur(e),y=pr(g[1][0].data)>>>0,E=pr(g[2][0].data)>>>0,w=((n=(r=g[8])==null?void 0:r[0])==null?void 0:n.data)&&pr(g[8][0].data)>0||!1,_,T;if((s=(a=g[7])==null?void 0:a[0])!=null&&s.data&&t!=0)_=(o=(i=g[7])==null?void 0:i[0])==null?void 0:o.data,T=(u=(l=g[6])==null?void 0:l[0])==null?void 0:u.data;else if((f=(d=g[4])==null?void 0:d[0])!=null&&f.data&&t!=1)_=(m=(h=g[4])==null?void 0:h[0])==null?void 0:m.data,T=(p=(v=g[3])==null?void 0:v[0])==null?void 0:p.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var b=w?4:1,S=Uy(_),k=[],A=0;A<_.length/2;++A){var j=S.getUint16(A*2,!0);j<65535&&k.push([A,j])}if(k.length!=E)throw"Expected ".concat(E," cells, found ").concat(k.length);var I=[];for(A=0;A<k.length-1;++A)I[k[A][0]]=T.subarray(k[A][1]*b,k[A+1][1]*b);return k.length>=1&&(I[k[k.length-1][0]]=T.subarray(k[k.length-1][1]*b)),{R:y,cells:I}}function lq(e,t){var r,n=Ur(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?pr(n[7][0].data)>>>0>0?1:0:-1,s=By(n[5],function(i){return cq(i,a)});return{nrows:pr(n[4][0].data)>>>0,data:s.reduce(function(i,o){return i[o.R]||(i[o.R]=[]),o.cells.forEach(function(l,u){if(i[o.R][u])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(u));i[o.R][u]=l}),i},[])}}function uq(e,t,r){var n,a=Ur(t.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(pr(a[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(s.e.c=(pr(a[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=at(s);var i=Ur(a[4][0].data),o=VS(e,e[Ki(i[4][0].data)][0]),l=(n=i[17])!=null&&n[0]?VS(e,e[Ki(i[17][0].data)][0]):[],u=Ur(i[3][0].data),d=0;u[1].forEach(function(f){var h=Ur(f.data),m=e[Ki(h[2][0].data)][0],v=pr(m.meta[1][0].data);if(v!=6002)throw new Error("6001 unexpected reference to ".concat(v));var p=lq(e,m);p.data.forEach(function(g,y){g.forEach(function(E,w){var _=He({r:d+y,c:w}),T=oq(E,o,l);T&&(r[_]=T)})}),d+=p.nrows})}function dq(e,t){var r=Ur(t.data),n={"!ref":"A1"},a=e[Ki(r[2][0].data)],s=pr(a[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return uq(e,a[0],n),n}function fq(e,t){var r,n=Ur(t.data),a={name:(r=n[1])!=null&&r[0]?cx(n[1][0].data):"",sheets:[]},s=By(n[2],Ki);return s.forEach(function(i){e[i].forEach(function(o){var l=pr(o.meta[1][0].data);l==6e3&&a.sheets.push(dq(e,o))})}),a}function hq(e,t){var r=Vy(),n=Ur(t.data),a=By(n[1],Ki);if(a.forEach(function(s){e[s].forEach(function(i){var o=pr(i.meta[1][0].data);if(o==2){var l=fq(e,i);l.sheets.forEach(function(u,d){Wy(r,u,d==0?l.name:l.name+"_"+d,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function Wp(e){var t,r,n,a,s={},i=[];if(e.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var u;try{u=aq(l.content)}catch(f){return console.log("?? "+l.content.length+" "+(f.message||f))}var d;try{d=rq(u)}catch(f){return console.log("## "+(f.message||f))}d.forEach(function(f){s[f.id]=f.messages,i.push(f.id)})}}),!i.length)throw new Error("File has no messages");var o=((a=(n=(r=(t=s==null?void 0:s[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&pr(s[1][0].meta[1][0].data)==1&&s[1][0];if(o||i.forEach(function(l){s[l].forEach(function(u){var d=pr(u.meta[1][0].data)>>>0;if(d==1)if(!o)o=u;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return hq(s,o)}function mq(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function $y(e){mq([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function pq(e){return tl.WS.indexOf(e)>-1?"sheet":e==tl.CS?"chart":e==tl.DS?"dialog":e==tl.MS?"macro":e&&e.length?e:"sheet"}function gq(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,pq(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function vq(e,t,r,n,a,s,i,o,l,u,d,f){try{s[n]=ad(Bn(e,r,!0),t);var h=er(e,t),m;switch(o){case"sheet":m=SG(h,t,a,l,s[n],u,d,f);break;case"chart":if(m=bG(h,t,a,l,s[n],u,d,f),!m||!m["!drawel"])break;var v=Uu(m["!drawel"].Target,t),p=nx(v),g=_V(Bn(e,v,!0),ad(Bn(e,p,!0),v)),y=Uu(g,v),E=nx(y);m=iG(Bn(e,y,!0),y,l,ad(Bn(e,E,!0),y),u,m);break;case"macro":m=TG(h,t,a,l,s[n],u,d,f);break;case"dialog":m=kG(h,t,a,l,s[n],u,d,f);break;default:throw new Error("Unrecognized sheet type "+o)}i[n]=m;var w=[];s&&s[n]&&Es(s[n]).forEach(function(_){var T="";if(s[n][_].Type==tl.CMNT){T=Uu(s[n][_].Target,t);var b=NG(er(e,T,!0),T,l);if(!b||!b.length)return;AS(m,b,!1)}s[n][_].Type==tl.TCMNT&&(T=Uu(s[n][_].Target,t),w=w.concat(bV(er(e,T,!0),l)))}),w&&w.length&&AS(m,w,!0,l.people||[])}catch(_){if(l.WTF)throw _}}function oa(e){return e.charAt(0)=="/"?e.slice(1):e}function xq(e,t){if(Ij(),t=t||{},$y(t),da(e,"META-INF/manifest.xml")||da(e,"objectdata.xml"))return BS(e,t);if(da(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof Wp<"u"){if(e.FileIndex)return Wp(e);var r=nt.utils.cfb_new();return tS(e).forEach(function(M){y$(r,M,x$(e,M))}),Wp(r)}throw new Error("Unsupported NUMBERS file")}if(!da(e,"[Content_Types].xml"))throw da(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):da(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=tS(e),a=mz(Bn(e,"[Content_Types].xml")),s=!1,i,o;if(a.workbooks.length===0&&(o="xl/workbook.xml",er(e,o,!0)&&a.workbooks.push(o)),a.workbooks.length===0){if(o="xl/workbook.bin",!er(e,o,!0))throw new Error("Could not find workbook");a.workbooks.push(o),s=!0}a.workbooks[0].slice(-3)=="bin"&&(s=!0);var l={},u={};if(!t.bookSheets&&!t.bookProps){if(od=[],a.sst)try{od=jG(er(e,oa(a.sst)),a.sst,t)}catch(M){if(t.WTF)throw M}t.cellStyles&&a.themes.length&&(l=AG(Bn(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(u=CG(er(e,oa(a.style)),a.style,l,t))}a.links.map(function(M){try{var X=ad(Bn(e,nx(oa(M))),M);return RG(er(e,oa(M)),X,M,t)}catch{}});var d=_G(er(e,oa(a.workbooks[0])),a.workbooks[0],t),f={},h="";a.coreprops.length&&(h=er(e,oa(a.coreprops[0]),!0),h&&(f=iN(h)),a.extprops.length!==0&&(h=er(e,oa(a.extprops[0]),!0),h&&yz(h,f,t)));var m={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(h=Bn(e,oa(a.custprops[0]),!0),h&&(m=Ez(h,t)));var v={};if((t.bookSheets||t.bookProps)&&(d.Sheets?i=d.Sheets.map(function(X){return X.name}):f.Worksheets&&f.SheetNames.length>0&&(i=f.SheetNames),t.bookProps&&(v.Props=f,v.Custprops=m),t.bookSheets&&typeof i<"u"&&(v.SheetNames=i),t.bookSheets?v.SheetNames:t.bookProps))return v;i={};var p={};t.bookDeps&&a.calcchain&&(p=IG(er(e,oa(a.calcchain)),a.calcchain));var g=0,y={},E,w;{var _=d.Sheets;f.Worksheets=_.length,f.SheetNames=[];for(var T=0;T!=_.length;++T)f.SheetNames[T]=_[T].name}var b=s?"bin":"xml",S=a.workbooks[0].lastIndexOf("/"),k=(a.workbooks[0].slice(0,S+1)+"_rels/"+a.workbooks[0].slice(S+1)+".rels").replace(/^\//,"");da(e,k)||(k="xl/_rels/workbook."+b+".rels");var A=ad(Bn(e,k,!0),k.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=PG(er(e,oa(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=TV(er(e,oa(a.people[0])),t)),A&&(A=gq(A,d.Sheets));var j=er(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(g=0;g!=f.Worksheets;++g){var I="sheet";if(A&&A[g]?(E="xl/"+A[g][1].replace(/[\/]?xl\//,""),da(e,E)||(E=A[g][1]),da(e,E)||(E=k.replace(/_rels\/.*$/,"")+A[g][1]),I=A[g][2]):(E="xl/worksheets/sheet"+(g+1-j)+"."+b,E=E.replace(/sheet0\./,"sheet.")),w=E.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(g!=t.sheets)continue e;break;case"string":if(f.SheetNames[g].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var N=!1,W=0;W!=t.sheets.length;++W)typeof t.sheets[W]=="number"&&t.sheets[W]==g&&(N=1),typeof t.sheets[W]=="string"&&t.sheets[W].toLowerCase()==f.SheetNames[g].toLowerCase()&&(N=1);if(!N)continue e}}vq(e,E,w,f.SheetNames[g],g,y,i,I,t,d,l,u)}return v={Directory:a,Workbook:d,Props:f,Custprops:m,Deps:p,Sheets:i,SheetNames:f.SheetNames,Strings:od,Styles:u,Themes:l,SSF:Cr(qe)},t&&t.bookFiles&&(e.files?(v.keys=n,v.files=e.files):(v.keys=[],v.files={},e.FullPaths.forEach(function(M,X){M=M.replace(/^Root Entry[\/]/,""),v.keys.push(M),v.files[M]=e.FileIndex[X]}))),t&&t.bookVBA&&(a.vba.length>0?v.vbaraw=er(e,oa(a.vba[0]),!0):a.defaults&&a.defaults.bin===jV&&(v.vbaraw=er(e,"xl/vbaProject.bin",!0))),v}function yq(e,t){var r=t||{},n="Workbook",a=nt.find(e,n);try{if(n="/!DataSpaces/Version",a=nt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(d9(a.content),n="/!DataSpaces/DataSpaceMap",a=nt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=h9(a.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=nt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=m9(a.content);if(i.length!=1||i[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=nt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);g9(a.content)}catch{}if(n="/EncryptionInfo",a=nt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=v9(a.content);if(n="/EncryptedPackage",a=nt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],a.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function zy(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=ta(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function wq(e,t){return nt.find(e,"EncryptedPackage")?yq(e,t):WN(e,t)}function Eq(e,t){var r,n=e,a=t||{};return a.type||(a.type=rt&&Buffer.isBuffer(e)?"buffer":"base64"),r=Mj(n,a),xq(r,a)}function JN(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return ix(e.slice(r),t);default:break e}return Ld.to_workbook(e,t)}function _q(e,t){var r="",n=zy(e,t);switch(t.type){case"base64":r=ta(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=ac(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=St(r)),t.type="binary",JN(r,t)}function Sq(e,t){var r=e;return t.type=="base64"&&(r=ta(r)),r=Ei.utils.decode(1200,r.slice(2),"str"),t.type="binary",JN(r,t)}function bq(e){return e.match(/[^\x00-\x7F]/)?Bu(e):e}function Hp(e,t,r,n){return n?(r.type="string",Ld.to_workbook(e,r)):Ld.to_workbook(t,r)}function _s(e,t){yj();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return _s(new Uint8Array(e),(r=Cr(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],s=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),pl={},r.dateNF&&(pl.dateNF=r.dateNF),r.type||(r.type=rt&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=rt?"buffer":"binary",n=d$(e),typeof Uint8Array<"u"&&!rt&&(r.type="array")),r.type=="string"&&(s=!0,r.type="binary",r.codepage=65001,n=bq(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var i=new ArrayBuffer(3),o=new Uint8Array(i);if(o.foo="bar",!o.foo)return r=Cr(r),r.type="array",_s(wy(n),r)}switch((a=zy(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return wq(nt.read(n,r),r);break;case 9:if(a[1]<=8)return WN(n,r);break;case 60:return ix(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return Z7(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return X7.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?Eq(n,r):Hp(e,n,r,s);case 239:return a[3]===60?ix(n,r):Hp(e,n,r,s);case 255:if(a[1]===254)return Sq(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return id.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return id.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return CS.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return j9.to_workbook(n,r);break;case 10:case 13:case 32:return _q(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return J7.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?CS.to_workbook(n,r):Hp(e,n,r,s)}function Tq(e,t,r,n,a,s,i,o){var l=Ar(r),u=o.defval,d=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!i||e[r])for(var m=t.s.c;m<=t.e.c;++m){var v=i?e[r][m]:e[n[m]+l];if(v===void 0||v.t===void 0){if(u===void 0)continue;s[m]!=null&&(h[s[m]]=u);continue}var p=v.v;switch(v.t){case"z":if(p==null)break;continue;case"e":p=p==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+v.t)}if(s[m]!=null){if(p==null)if(v.t=="e"&&p===null)h[s[m]]=null;else if(u!==void 0)h[s[m]]=u;else if(d&&p===null)h[s[m]]=null;else continue;else h[s[m]]=d&&(v.t!=="n"||v.t==="n"&&o.rawNumbers!==!1)?p:ei(v,p,o);p!=null&&(f=!1)}}return{row:h,isempty:f}}function ux(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,s=[],i=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":l=Ht(d);break;case"number":l=Ht(e["!ref"]),l.s.r=d;break;default:l=d}n>0&&(a=0);var f=Ar(l.s.r),h=[],m=[],v=0,p=0,g=Array.isArray(e),y=l.s.r,E=0,w={};g&&!e[y]&&(e[y]=[]);var _=u.skipHidden&&e["!cols"]||[],T=u.skipHidden&&e["!rows"]||[];for(E=l.s.c;E<=l.e.c;++E)if(!(_[E]||{}).hidden)switch(h[E]=mr(E),r=g?e[y][E]:e[h[E]+f],n){case 1:s[E]=E-l.s.c;break;case 2:s[E]=h[E];break;case 3:s[E]=u.header[E-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=i=ei(r,null,u),p=w[i]||0,!p)w[i]=1;else{do o=i+"_"+p++;while(w[o]);w[i]=p,w[o]=1}s[E]=o}for(y=l.s.r+a;y<=l.e.r;++y)if(!(T[y]||{}).hidden){var b=Tq(e,l,y,h,n,s,g,u);(b.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(m[v++]=b.row)}return m.length=v,m}var WS=/"/g;function kq(e,t,r,n,a,s,i,o){for(var l=!0,u=[],d="",f=Ar(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var m=o.dense?(e[r]||[])[h]:e[n[h]+f];if(m==null)d="";else if(m.v!=null){l=!1,d=""+(o.rawNumbers&&m.t=="n"?m.v:ei(m,null,o));for(var v=0,p=0;v!==d.length;++v)if((p=d.charCodeAt(v))===a||p===s||p===34||o.forceQuotes){d='"'+d.replace(WS,'""')+'"';break}d=="ID"&&(d='"ID"')}else m.f!=null&&!m.F?(l=!1,d="="+m.f,d.indexOf(",")>=0&&(d='"'+d.replace(WS,'""')+'"')):d="";u.push(d)}return o.blankrows===!1&&l?null:u.join(i)}function KN(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=Ht(e["!ref"]),s=n.FS!==void 0?n.FS:",",i=s.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),u=new RegExp((s=="|"?"\\|":s)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],m=n.skipHidden&&e["!rows"]||[],v=a.s.c;v<=a.e.c;++v)(h[v]||{}).hidden||(f[v]=mr(v));for(var p=0,g=a.s.r;g<=a.e.r;++g)(m[g]||{}).hidden||(d=kq(e,a,g,f,i,l,s,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((p++?o:"")+d)));return delete n.dense,r.join("")}function Cq(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=KN(e,t);return r}function Aq(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=Ht(e["!ref"]),s="",i=[],o,l=[],u=Array.isArray(e);for(o=a.s.c;o<=a.e.c;++o)i[o]=mr(o);for(var d=a.s.r;d<=a.e.r;++d)for(s=Ar(d),o=a.s.c;o<=a.e.c;++o)if(t=i[o]+s,r=u?(e[d]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=t+"="+n}return l}function XN(e,t,r){var n=r||{},a=+!n.skipHeader,s=e||{},i=0,o=0;if(s&&n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var l=typeof n.origin=="string"?an(n.origin):n.origin;i=l.r,o=l.c}var u,d={s:{c:0,r:0},e:{c:o,r:i+t.length-1+a}};if(s["!ref"]){var f=Ht(s["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),i==-1&&(i=f.e.r+1,d.e.r=i+t.length-1+a)}else i==-1&&(i=0,d.e.r=t.length-1+a);var h=n.header||[],m=0;t.forEach(function(p,g){Es(p).forEach(function(y){(m=h.indexOf(y))==-1&&(h[m=h.length]=y);var E=p[y],w="z",_="",T=He({c:o+m,r:i+g+a});u=zd(s,T),E&&typeof E=="object"&&!(E instanceof Date)?s[T]=E:(typeof E=="number"?w="n":typeof E=="boolean"?w="b":typeof E=="string"?w="s":E instanceof Date?(w="d",n.cellDates||(w="n",E=cn(E)),_=n.dateNF||qe[14]):E===null&&n.nullError&&(w="e",E=0),u?(u.t=w,u.v=E,delete u.w,delete u.R,_&&(u.z=_)):s[T]=u={t:w,v:E},_&&(u.z=_))})}),d.e.c=Math.max(d.e.c,o+h.length-1);var v=Ar(i);if(a)for(m=0;m<h.length;++m)s[mr(m+o)+v]={t:"s",v:h[m]};return s["!ref"]=at(d),s}function jq(e,t){return XN(null,e,t)}function zd(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=an(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?zd(e,He(t)):zd(e,He({r:t,c:r||0}))}function Nq(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function Vy(){return{SheetNames:[],Sheets:{}}}function Wy(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);a=s&&+s[2]||0;var i=s&&s[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=i+a)!=-1;++a);}if(mG(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function Iq(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=Nq(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function Rq(e,t){return e.z=t,e}function YN(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function Pq(e,t,r){return YN(e,"#"+t,r)}function Oq(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function Fq(e,t,r,n){for(var a=typeof t!="string"?t:Ht(t),s=typeof t=="string"?t:at(t),i=a.s.r;i<=a.e.r;++i)for(var o=a.s.c;o<=a.e.c;++o){var l=zd(e,i,o);l.t="n",l.F=s,delete l.v,i==a.s.r&&o==a.s.c&&(l.f=r,n&&(l.D=!0))}return e}var ho={encode_col:mr,encode_row:Ar,encode_cell:He,encode_range:at,decode_col:jy,decode_row:Ay,split_cell:q$,decode_cell:an,decode_range:lu,format_cell:ei,sheet_add_aoa:tN,sheet_add_json:XN,sheet_add_dom:HN,aoa_to_sheet:uu,json_to_sheet:jq,table_to_sheet:GN,table_to_book:ZG,sheet_to_csv:KN,sheet_to_txt:Cq,sheet_to_json:ux,sheet_to_html:YG,sheet_to_formulae:Aq,sheet_to_row_object_array:ux,sheet_get_cell:zd,book_new:Vy,book_append_sheet:Wy,book_set_sheet_visibility:Iq,cell_set_number_format:Rq,cell_set_hyperlink:YN,cell_set_internal_link:Pq,cell_add_comment:Oq,sheet_set_array_formula:Fq,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},Hy="Progress",Gy=100,[Dq,BZ]=Vr(Hy),[Mq,Lq]=Dq(Hy),ZN=x.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:s=Uq,...i}=e;(a||a===0)&&!HS(a)&&console.error(Bq(`${a}`,"Progress"));const o=HS(a)?a:Gy;n!==null&&!GS(n,o)&&console.error($q(`${n}`,"Progress"));const l=GS(n,o)?n:null,u=S0(l)?s(l,o):void 0;return c.jsx(Mq,{scope:r,value:l,max:o,children:c.jsx(Pe.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":S0(l)?l:void 0,"aria-valuetext":u,role:"progressbar","data-state":tI(l,o),"data-value":l??void 0,"data-max":o,...i,ref:t})})});ZN.displayName=Hy;var QN="ProgressIndicator",eI=x.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=Lq(QN,r);return c.jsx(Pe.div,{"data-state":tI(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});eI.displayName=QN;function Uq(e,t){return`${Math.round(e/t*100)}%`}function tI(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function S0(e){return typeof e=="number"}function HS(e){return S0(e)&&!isNaN(e)&&e>0}function GS(e,t){return S0(e)&&!isNaN(e)&&e<=t&&e>=0}function Bq(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Gy}\`.`}function $q(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Gy} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var rI=ZN,zq=eI;const ni=x.forwardRef(({className:e,value:t,...r},n)=>c.jsx(rI,{ref:n,className:Te("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:c.jsx(zq,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));ni.displayName=rI.displayName;var nI="AlertDialog",[Vq,$Z]=Vr(nI,[TA]),ai=TA(),aI=e=>{const{__scopeAlertDialog:t,...r}=e,n=ai(t);return c.jsx(oy,{...n,...r,modal:!0})};aI.displayName=nI;var Wq="AlertDialogTrigger",Hq=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ai(r);return c.jsx($A,{...a,...n,ref:t})});Hq.displayName=Wq;var Gq="AlertDialogPortal",sI=e=>{const{__scopeAlertDialog:t,...r}=e,n=ai(t);return c.jsx(cy,{...n,...r})};sI.displayName=Gq;var qq="AlertDialogOverlay",iI=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ai(r);return c.jsx(cm,{...a,...n,ref:t})});iI.displayName=qq;var gl="AlertDialogContent",[Jq,Kq]=Vq(gl),Xq=RT("AlertDialogContent"),oI=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,s=ai(r),i=x.useRef(null),o=Je(t,i),l=x.useRef(null);return c.jsx(aB,{contentName:gl,titleName:cI,docsSlug:"alert-dialog",children:c.jsx(Jq,{scope:r,cancelRef:l,children:c.jsxs(lm,{role:"alertdialog",...s,...a,ref:o,onOpenAutoFocus:Ie(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[c.jsx(Xq,{children:n}),c.jsx(Zq,{contentRef:i})]})})})});oI.displayName=gl;var cI="AlertDialogTitle",lI=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ai(r);return c.jsx(ly,{...a,...n,ref:t})});lI.displayName=cI;var uI="AlertDialogDescription",dI=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ai(r);return c.jsx(uy,{...a,...n,ref:t})});dI.displayName=uI;var Yq="AlertDialogAction",fI=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ai(r);return c.jsx(dy,{...a,...n,ref:t})});fI.displayName=Yq;var hI="AlertDialogCancel",mI=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=Kq(hI,r),s=ai(r),i=Je(t,a);return c.jsx(dy,{...s,...n,ref:i})});mI.displayName=hI;var Zq=({contentRef:e})=>{const t=`\`${gl}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${gl}\` by passing a \`${uI}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${gl}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Qq=aI,eJ=sI,pI=iI,gI=oI,vI=fI,xI=mI,yI=lI,wI=dI;const jn=Qq,tJ=eJ,EI=x.forwardRef(({className:e,...t},r)=>c.jsx(pI,{className:Te("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));EI.displayName=pI.displayName;const hn=x.forwardRef(({className:e,...t},r)=>c.jsxs(tJ,{children:[c.jsx(EI,{}),c.jsx(gI,{ref:r,className:Te("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));hn.displayName=gI.displayName;const mn=({className:e,...t})=>c.jsx("div",{className:Te("flex flex-col space-y-2 text-center sm:text-left",e),...t});mn.displayName="AlertDialogHeader";const pn=({className:e,...t})=>c.jsx("div",{className:Te("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});pn.displayName="AlertDialogFooter";const gn=x.forwardRef(({className:e,...t},r)=>c.jsx(yI,{ref:r,className:Te("text-lg font-semibold",e),...t}));gn.displayName=yI.displayName;const vn=x.forwardRef(({className:e,...t},r)=>c.jsx(wI,{ref:r,className:Te("text-sm text-muted-foreground",e),...t}));vn.displayName=wI.displayName;const si=x.forwardRef(({className:e,...t},r)=>c.jsx(vI,{ref:r,className:Te(Z1(),e),...t}));si.displayName=vI.displayName;const sa=x.forwardRef(({className:e,...t},r)=>c.jsx(xI,{ref:r,className:Te(Z1({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));sa.displayName=xI.displayName;const rJ=J0("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ht({className:e,variant:t,...r}){return c.jsx("div",{className:Te(rJ({variant:t}),e),...r})}const Pc={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},nJ=()=>{const[e,t]=x.useState(!1),[r,n]=x.useState(0),[a,s]=x.useState(0),[i,o]=x.useState(!1),[l,u]=x.useState(!1),[d,f]=x.useState(0),[h,m]=x.useState(0),[v,p]=x.useState(null),[g,y]=x.useState(0),[E,w]=x.useState({}),[_,T]=x.useState(0),[b,S]=x.useState([]),k=async()=>{try{const I=Pc==null?void 0:Pc.VITE_API_URL,N=typeof window<"u"?window.location.hostname:"127.0.0.1",W=I||`http://${N}:5000`,M=await fetch(`${W}/cultivares_catalog`);if(!M.ok){y(0),w({}),T(0);return}const X=await M.json(),B=(X==null?void 0:X.items)||[],z=new Map;let Y=0;for(const ne of B){const Z=ne.cultura;if(!Z){Y++;continue}const C=Z.toString().toUpperCase().trim();z.set(C,(z.get(C)||0)+1)}const F=Array.from(z.entries()).sort(([ne],[Z])=>ne.localeCompare(Z));w(Object.fromEntries(F)),T(Y),y(B.length)}catch{y(0),w({}),T(0)}};x.useEffect(()=>{k()},[]);const A=async I=>{var W;const N=(W=I.target.files)==null?void 0:W[0];N&&p(N)},j=async()=>{var I,N,W;if(!v){ce.error("Selecione um arquivo primeiro");return}t(!0),s(0),f(0),m(0),o(!1);try{const{data:{user:M}}=await Ce.auth.getUser();if(!M)throw new Error("Usurio no autenticado");const{data:X,error:B}=await Ce.from("user_roles").select("role").eq("user_id",M.id);if(B&&console.warn("No foi possvel verificar papel do usurio:",B.message),!(Array.isArray(X)&&X.some(ye=>ye.role==="admin"))){ce.error("Apenas administradores podem importar cultivares. Solicite acesso ao perfil admin."),t(!1);return}let Y=0;if(l){const{count:ye}=await Ce.from("cultivares_catalog").select("*",{count:"exact",head:!0});Y=ye||0;const{error:Be}=await Ce.from("cultivares_catalog").delete().neq("id","00000000-0000-0000-0000-000000000000");if(Be){console.error("Erro ao limpar tabela:",Be),ce.error("Erro ao limpar tabela"),t(!1);return}f(Y),ce.info(`${Y} registros removidos`)}const F=await v.arrayBuffer(),ne=_s(F),Z=ne.Sheets[ne.SheetNames[0]],C=ho.sheet_to_json(Z);console.log("Total de linhas no Excel:",C.length),console.log("Primeira linha:",C[0]),console.log("Colunas detectadas:",C[0]?Object.keys(C[0]):[]),n(C.length);const G=new Map;let L=0,D=0;for(const ye of C){const Be=((I=ye.CULTIVAR||ye.Cultivar||ye.cultivar||ye["CULTIVAR "]||ye[" CULTIVAR"]||"")==null?void 0:I.toString().toUpperCase().trim())||null;if(!Be){L++,console.log("Linha sem cultivar ignorada:",ye);continue}const De=(N=ye.CULTURA||ye.Cultura||ye.cultura||ye["CULTURA "]||ye[" CULTURA"]||"")==null?void 0:N.toString().toUpperCase().trim();let me=null;De&&(me=De.replace(/\s+/g," ").trim(),["ZEA MAYS","MILHO HBRIDO","MILHO HIDRIDO"].includes(me)?me="MILHO":["GLYCINE MAX","SOJA RR","SOJA CONVENCIONAL"].includes(me)?me="SOJA":["AVEIA BRANCA","AVEIA PRETA"].includes(me)&&(me="AVEIA"));const Ze=((W=ye.NOME_CIENTIFICO||ye.Nome_Cientifico||ye.nome_cientifico||ye["NOME CIENTIFICO"]||ye["NOME_CIENTIFICO "]||ye[" NOME_CIENTIFICO"]||"")==null?void 0:W.toString().trim())||null,kt={cultivar:Be,cultura:me,nome_cientifico:Ze},yt=`${Be}||${me??""}`;if(G.has(yt)){D++,console.log("Par cultivar+cultura duplicado ignorado:",yt);continue}G.set(yt,kt)}console.log(`Processamento: ${C.length} linhas lidas, ${G.size} vlidas, ${L} vazias, ${D} duplicadas`),m(L+D);const O=Array.from(G.values());let P=0,Q=0;S([]);const ee=Pc==null?void 0:Pc.VITE_API_URL,re=typeof window<"u"?window.location.hostname:"127.0.0.1",fe=ee||`http://${re}:5000`,V=await fetch(`${fe}/cultivares_catalog/bulk`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:O,limparAntes:l,user_id:M.id,arquivo_nome:v.name})});if(V.ok){const ye=await V.json();P=Number((ye==null?void 0:ye.imported)||O.length),Y=Number((ye==null?void 0:ye.deleted)||0),s(P),f(Y)}else{const ye=await V.text();S(Be=>[...Be,ye])}const Ee=r-O.length;if(console.log(`Importao concluda: ${P} importados, ${Ee} ignorados, ${Q} lotes com erro`),P>0)ce.success(`Importao concluda! ${P} registros processados${Ee>0?` (${Ee} linhas ignoradas)`:""}${Q>0?`, ${Q} lotes com erro`:""}`);else{const ye=b.length>0?`
Detalhes: ${b.join(" | ")}`:"";ce.error(`Nenhum registro foi importado.${ye}`)}o(!0),p(null),u(!1),await k()}catch(M){console.error("Erro ao processar arquivo:",M),ce.error(`Erro ao processar arquivo: ${(M==null?void 0:M.message)||M}`)}finally{t(!1)}};return c.jsxs(Ue,{children:[c.jsxs(vt,{children:[c.jsx(xt,{children:"Importar Cultivares"}),c.jsx(aa,{children:"Faa upload de uma planilha Excel (.xlsx ou .xls) com as colunas: CULTIVAR, CULTURA, NOME_CIENTIFICO (opcional)"})]}),c.jsxs(pt,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ue,{htmlFor:"cultivares-file",children:"Selecione o arquivo"}),c.jsx("div",{className:"flex items-center gap-4",children:c.jsx(we,{id:"cultivares-file",type:"file",accept:".xlsx,.xls",onChange:A,disabled:e})})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Ot,{id:"limpar-antes",checked:l,onCheckedChange:I=>u(I),disabled:e}),c.jsx(ue,{htmlFor:"limpar-antes",className:"cursor-pointer text-sm",children:"Limpar todos os registros antes de importar"})]}),c.jsx(ae,{onClick:j,disabled:e||!v,children:e?"Importando...":"Importar"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted rounded",children:[c.jsx("span",{className:"text-sm font-medium",children:"Total no catlogo:"}),c.jsx(ht,{variant:"outline",children:g})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[Object.entries(E).map(([I,N])=>c.jsxs("div",{className:"flex justify-between items-center p-2 bg-primary/10 rounded",children:[c.jsxs("span",{className:"text-sm font-medium",children:[I,":"]}),c.jsx(ht,{variant:"default",children:N})]},I)),c.jsxs("div",{className:"flex justify-between items-center p-2 bg-warning/10 rounded",children:[c.jsx("span",{className:"text-sm font-medium",children:"Sem cultura:"}),c.jsx(ht,{variant:"outline",children:_})]})]})]}),e&&c.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-muted/50",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ll,{className:"h-4 w-4 animate-spin text-primary"}),c.jsx("p",{className:"text-sm font-medium",children:"Importando arquivo..."})]}),r>0&&c.jsxs(c.Fragment,{children:[c.jsxs("p",{className:"text-sm text-muted-foreground",children:[a," de ",r," linhas processadas"]}),c.jsx(ni,{value:Math.round(a/r*100)})]})]})]}),c.jsx(jn,{open:i,onOpenChange:o,children:c.jsxs(hn,{children:[c.jsxs(mn,{children:[c.jsxs(gn,{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-2xl",children:""}),"Importao Concluda"]}),c.jsx(vn,{asChild:!0,children:c.jsxs("div",{className:"space-y-3 pt-2",children:[c.jsxs("div",{className:"grid gap-2",children:[d>0&&c.jsxs("div",{className:"flex justify-between items-center p-2 bg-destructive/10 rounded",children:[c.jsx("span",{className:"text-sm font-medium",children:"Registros removidos:"}),c.jsx(ht,{variant:"destructive",children:d})]}),c.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted rounded",children:[c.jsx("span",{className:"text-sm font-medium",children:"Total processado:"}),c.jsx(ht,{variant:"outline",children:r})]}),h>0&&c.jsxs("div",{className:"flex justify-between items-center p-2 bg-warning/10 rounded",children:[c.jsx("span",{className:"text-sm font-medium",children:"Linhas ignoradas:"}),c.jsx(ht,{variant:"outline",children:h})]}),c.jsxs("div",{className:"flex justify-between items-center p-2 bg-primary/10 rounded",children:[c.jsx("span",{className:"text-sm font-medium",children:"Registros importados:"}),c.jsx(ht,{variant:"default",children:a})]}),b.length>0&&c.jsxs("div",{className:"p-2 bg-destructive/10 rounded",children:[c.jsx("span",{className:"text-sm font-medium",children:"Erros:"}),c.jsx("div",{className:"text-xs text-destructive-foreground break-words",children:b.map((I,N)=>c.jsxs("div",{children:[" ",I]},N))})]})]}),c.jsx("p",{className:"text-xs text-muted-foreground pt-2",children:"A importao foi registrada no histrico de importaes."})]})})]}),c.jsx(pn,{children:c.jsx(sa,{children:"Fechar"})})]})})]})},Hr=x.forwardRef(({className:e,...t},r)=>c.jsx("div",{className:"relative w-full overflow-auto",children:c.jsx("table",{ref:r,className:Te("w-full caption-bottom text-sm",e),...t})}));Hr.displayName="Table";const Gr=x.forwardRef(({className:e,...t},r)=>c.jsx("thead",{ref:r,className:Te("[&_tr]:border-b",e),...t}));Gr.displayName="TableHeader";const qr=x.forwardRef(({className:e,...t},r)=>c.jsx("tbody",{ref:r,className:Te("[&_tr:last-child]:border-0",e),...t}));qr.displayName="TableBody";const aJ=x.forwardRef(({className:e,...t},r)=>c.jsx("tfoot",{ref:r,className:Te("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));aJ.displayName="TableFooter";const Ye=x.forwardRef(({className:e,...t},r)=>c.jsx("tr",{ref:r,className:Te("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));Ye.displayName="TableRow";const Ne=x.forwardRef(({className:e,...t},r)=>c.jsx("th",{ref:r,className:Te("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Ne.displayName="TableHead";const Se=x.forwardRef(({className:e,...t},r)=>c.jsx("td",{ref:r,className:Te("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Se.displayName="TableCell";const sJ=x.forwardRef(({className:e,...t},r)=>c.jsx("caption",{ref:r,className:Te("mt-4 text-sm text-muted-foreground",e),...t}));sJ.displayName="TableCaption";const Gp={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},gm=()=>Tt({queryKey:["cultivares-catalog"],queryFn:async()=>{const e=Gp==null?void 0:Gp.VITE_API_URL,t=typeof window<"u"?window.location.hostname:"127.0.0.1",r=e||`http://${t}:5000`,n=await fetch(`${r}/cultivares_catalog`);if(!n.ok){const s=await n.text();throw new Error(s)}const a=await n.json();return(a==null?void 0:a.items)||[]}}),qp={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},iJ=()=>{const{data:e=[],isLoading:t,error:r}=gm(),[n,a]=x.useState(""),[s,i]=x.useState(1),[o,l]=x.useState(10),u=bt(),[d,f]=x.useState(!1),[h,m]=x.useState(null),[v,p]=x.useState(""),[g,y]=x.useState(""),[E,w]=x.useState(""),_=x.useMemo(()=>{const k=n.trim().toLowerCase(),A=e||[];return k?A.filter(I=>`${I.cultivar??""} ${I.cultura??""} ${I.nome_cientifico??""}`.toLowerCase().includes(k)):A},[e,n]),T=Math.max(1,Math.ceil(_.length/o)),b=x.useMemo(()=>{const k=(s-1)*o;return _.slice(k,k+o)},[_,s,o]),S=async()=>{if(!h)return;const k=h.cultivar,A=h.cultura;try{const j=qp==null?void 0:qp.VITE_API_URL,I=typeof window<"u"?window.location.hostname:"127.0.0.1",N=j||`http://${I}:5000`,W=await fetch(`${N}/cultivares_catalog/by_key`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({cultivar:k,cultura:A,set_cultura:g||null,set_nome_cientifico:E||null})});if(!W.ok){const M=await W.text();throw new Error(M)}if(r){ce.error(r.message);return}ce.success("Cultivar atualizado"),f(!1),m(null),await u.invalidateQueries({queryKey:["cultivares-catalog"]})}catch(j){ce.error((j==null?void 0:j.message)||String(j))}};return c.jsxs(c.Fragment,{children:[c.jsxs(Ue,{children:[c.jsx(vt,{children:c.jsx(xt,{children:"Catlogo de Cultivares"})}),c.jsxs(pt,{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(we,{placeholder:"Buscar por cultivar, cultura ou nome cientfico...",value:n,onChange:k=>a(k.target.value)}),c.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[c.jsx(ue,{htmlFor:"pageSize",className:"text-xs",children:"Itens/pgina"}),c.jsxs("select",{id:"pageSize",className:"border rounded h-8 px-2 text-sm",value:o,onChange:k=>{l(Number(k.target.value)),i(1)},children:[c.jsx("option",{value:10,children:"10"}),c.jsx("option",{value:20,children:"20"}),c.jsx("option",{value:50,children:"50"})]})]})]}),t?c.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando cultivares..."}):r?c.jsx("p",{className:"text-sm text-destructive",children:"Erro ao carregar cultivares."}):c.jsxs(Hr,{children:[c.jsx(Gr,{children:c.jsxs(Ye,{children:[c.jsx(Ne,{children:"Cultivar"}),c.jsx(Ne,{children:"Cultura"}),c.jsx(Ne,{children:"Nome cientfico"}),c.jsx(Ne,{className:"w-[140px]",children:"Aes"})]})}),c.jsxs(qr,{children:[b.map((k,A)=>c.jsxs(Ye,{children:[c.jsx(Se,{children:k.cultivar}),c.jsx(Se,{children:k.cultura}),c.jsx(Se,{children:k.nome_cientifico}),c.jsx(Se,{children:c.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>{m({cultivar:k.cultivar,cultura:k.cultura??null}),p(String(k.cultivar||"")),y(String(k.cultura||"")),w(String(k.nome_cientifico||"")),f(!0)},children:[c.jsx(Qa,{className:"h-3.5 w-3.5 mr-1"})," Editar"]})})]},`${String(k.cultivar)}-${String(k.cultura??"")}-${A}`)),_.length===0&&c.jsx(Ye,{children:c.jsx(Se,{colSpan:4,className:"text-muted-foreground",children:"Nenhum resultado encontrado."})})]})]}),c.jsxs("div",{className:"flex items-center justify-between mt-3",children:[c.jsxs("div",{className:"text-xs text-muted-foreground",children:["Pgina ",s," de ",T]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ae,{variant:"outline",size:"sm",disabled:s<=1,onClick:()=>i(k=>Math.max(1,k-1)),children:"Anterior"}),c.jsx(ae,{variant:"outline",size:"sm",disabled:s>=T,onClick:()=>i(k=>Math.min(T,k+1)),children:"Prxima"})]})]})]})]}),c.jsx(oJ,{open:d,onOpenChange:k=>f(k),original:h,cultivar:v,cultura:g,nomeCientifico:E,setCultivar:p,setCultura:y,setNomeCientifico:w,onSave:S})]})};function oJ({open:e,onOpenChange:t,original:r,cultivar:n,cultura:a,nomeCientifico:s,setCultivar:i,setCultura:o,setNomeCientifico:l,onSave:u}){return c.jsx(ka,{open:e,onOpenChange:t,children:c.jsxs(Zn,{children:[c.jsx(Qn,{children:c.jsx(ea,{children:"Editar Cultivar"})}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx(ue,{children:"Cultivar"}),c.jsx(we,{value:n,onChange:d=>i(d.target.value),disabled:!0})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(ue,{children:"Cultura"}),c.jsx(we,{value:a,onChange:d=>o(d.target.value),placeholder:"Ex: MILHO, SOJA, AVEIA"})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(ue,{children:"Nome cientfico"}),c.jsx(we,{value:s,onChange:d=>l(d.target.value)})]})]}),c.jsxs(ts,{children:[c.jsx(ae,{variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),c.jsx(ae,{onClick:u,children:"Salvar"})]})]})})}function _I(e){if(!e)return"";let t=e.toUpperCase().trim().replace(/\s+/g," ");return t=t.replace(/\s*-?\s*\d+\s*(LT|L|KG|G|ML|SACA|SACAS|BIG\s*BAG|LITRO|LITROS|KILO|KILOS|GRAMAS?)\s*-?\s*/gi," "),t=t.replace(/\s*-?\s*(BIG\s*BAG|SACA|SACAS|LITRO|LITROS|KILO|KILOS|GRAMAS?)\s*-?\s*/gi," "),t=t.replace(/\s*-\s*-\s*/g," - "),t=t.replace(/\s+/g," "),t=t.replace(/^\s*-\s*|\s*-\s*$/g,""),t.trim()}const Is={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},cJ=()=>{const[e,t]=x.useState(!1),[r,n]=x.useState(0),[a,s]=x.useState(0),[i,o]=x.useState(!1),[l,u]=x.useState(!1),[d,f]=x.useState(0),[h,m]=x.useState(null),[v,p]=x.useState(!1),[g,y]=x.useState("idle"),E=async b=>{var k;const S=(k=b.target.files)==null?void 0:k[0];S&&m(S)},w=async()=>{var b,S,k,A,j;if(!h){ce.error("Selecione um arquivo primeiro");return}t(!0),o(!1),s(0),f(0);try{let I=0;const N=await h.arrayBuffer(),W=_s(N),M=W.Sheets[W.SheetNames[0]],X=ho.sheet_to_json(M);n(X.length);const B=new Map;for(const L of X){const D=L.ITEM||null,O=_I(D);if(B.has(O))continue;const P={cod_item:L["COD.ITEM"]||L["COD. ITEM"]||null,item:O||D,grupo:((b=L.GRUPO)==null?void 0:b.toString().toUpperCase().trim())||null,marca:((S=L.MARCA)==null?void 0:S.toString().toUpperCase().trim())||null,principio_ativo:((k=L.PRINCIPIO_ATIVO)==null?void 0:k.toString().toUpperCase().trim())||((A=L["PRINCIPIO ATIVO"])==null?void 0:A.toString().toUpperCase().trim())||((j=L["PRINCPIO ATIVO"])==null?void 0:j.toString().toUpperCase().trim())||null};B.set(O,P)}const z=Is==null?void 0:Is.VITE_API_URL,Y=typeof window<"u"?window.location.hostname:"127.0.0.1",F=z||`http://${Y}:5000`,ne=Array.from(B.values()),Z=await fetch(`${F}/fertilizantes/bulk`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:ne,limparAntes:l})});if(!Z.ok){const L=await Z.text();throw new Error(L||`Erro ${Z.status}`)}const C=await Z.json(),G=Number((C==null?void 0:C.imported)||ne.length);s(G),ce.success(`Importao concluda! ${a} registros nicos de ${r} linhas processadas`),o(!0),m(null),u(!1)}catch(I){console.error("Erro ao processar arquivo:",I),ce.error("Erro ao processar arquivo. Verifique o formato.")}finally{t(!1)}},_=async()=>{y("checking");try{const b=Is==null?void 0:Is.VITE_API_URL,S=typeof window<"u"?window.location.hostname:"127.0.0.1",k=b||`http://${S}:5000`;return(await fetch(`${k}/fertilizantes/sync/test`)).ok?(y("online"),ce.success("API est acessvel!"),!0):(y("offline"),ce.error("API Flask no est acessvel. Verifique /fertilizantes/sync/test e system_config."),!1)}catch{return y("offline"),ce.error("No foi possvel conectar  API externa."),!1}},T=async()=>{if(await _()){p(!0),t(!0),o(!1),s(0),f(0),ce.info(" Iniciando sincronizao com API externa...",{description:l?"Os dados existentes sero removidos antes da importao.":"Novos dados sero mesclados com os existentes."});try{ce.loading(" Conectando  API externa e processando dados...",{description:"Este processo pode levar alguns minutos."});const S=Is==null?void 0:Is.VITE_API_URL,k=typeof window<"u"?window.location.hostname:"127.0.0.1",A=S||`http://${k}:5000`,j=await fetch(`${A}/fertilizantes/sync`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({limparAntes:l})});if(ce.dismiss(),!j.ok){const X=await j.text();ce.error(" Erro ao sincronizar via API",{description:X});return}const I=await j.json(),N=Number((I==null?void 0:I.imported)||0),W=Number((I==null?void 0:I.deleted)||0),M=Number((I==null?void 0:I.ignored)||0);s(N),f(W),n(N),ce.success(" Sincronizao concluda com sucesso!",{description:`${N} registros importados${W?`, ${W} removidos`:""}${M?`, ${M} ignorados`:""}`}),o(!0),m(null),u(!1)}catch(S){ce.dismiss(),ce.error(" Erro inesperado ao sincronizar",{description:S instanceof Error?S.message:"Erro desconhecido"})}finally{p(!1),t(!1)}}};return c.jsxs(Ue,{children:[c.jsxs(vt,{children:[c.jsx(xt,{children:"Importar Fertilizantes"}),c.jsx(aa,{children:"Faa upload de uma planilha Excel (.xlsx ou .xls) com as colunas: COD. ITEM, ITEM, GRUPO, MARCA, PRINCIPIO_ATIVO"})]}),c.jsxs(pt,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ue,{htmlFor:"fertilizantes-file",children:"Selecione o arquivo"}),c.jsx("div",{className:"flex items-center gap-4",children:c.jsx(we,{id:"fertilizantes-file",type:"file",accept:".xlsx,.xls",onChange:E,disabled:e})})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Ot,{id:"limpar-antes",checked:l,onCheckedChange:b=>u(b),disabled:e}),c.jsx(ue,{htmlFor:"limpar-antes",className:"cursor-pointer text-sm",children:"Limpar todos os registros antes de importar"})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ue,{className:"text-sm",children:"Status da API:"}),g==="idle"&&c.jsx(ht,{variant:"outline",children:"No verificado"}),g==="checking"&&c.jsxs(ht,{variant:"outline",children:[c.jsx(Ll,{className:"mr-1 h-3 w-3 animate-spin"}),"Verificando..."]}),g==="online"&&c.jsxs(ht,{variant:"default",className:"bg-green-600",children:[c.jsx(ck,{className:"mr-1 h-3 w-3"}),"Online"]}),g==="offline"&&c.jsxs(ht,{variant:"destructive",children:[c.jsx(ok,{className:"mr-1 h-3 w-3"}),"Offline"]}),c.jsx(ae,{variant:"ghost",size:"sm",onClick:_,disabled:g==="checking",children:"Verificar Conexo"})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx(ae,{onClick:w,disabled:e||v||!h,children:e&&!v?"Importando...":"Importar"}),c.jsx(ae,{variant:"secondary",onClick:T,disabled:e||v,children:v?"Sincronizando...":"Sincronizar via API"})]})]}),(e||v)&&c.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-muted/50",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ll,{className:"h-4 w-4 animate-spin text-primary"}),c.jsx("p",{className:"text-sm font-medium",children:v?"Sincronizando com API externa...":"Importando arquivo..."})]}),!v&&r>0&&c.jsxs(c.Fragment,{children:[c.jsxs("p",{className:"text-sm text-muted-foreground",children:[a," de ",r," linhas processadas"]}),c.jsx(ni,{value:Math.round(a/r*100)})]}),v&&c.jsx("p",{className:"text-sm text-muted-foreground",children:"Aguarde enquanto os dados so importados da API externa. Este processo pode levar alguns minutos."})]})]}),c.jsx(jn,{open:i,onOpenChange:o,children:c.jsxs(hn,{children:[c.jsxs(mn,{children:[c.jsx(gn,{children:"Resumo da Importao"}),c.jsxs(vn,{children:[d>0&&c.jsxs(c.Fragment,{children:["Registros removidos: ",d,c.jsx("br",{})]}),"Total na planilha: ",r,c.jsx("br",{}),"Linhas importadas: ",a]})]}),c.jsx(pn,{children:c.jsx(sa,{children:"Fechar"})})]})})]})},Jp={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},SI=()=>Tt({queryKey:["fertilizantes-catalog"],queryFn:async()=>{const e=Jp==null?void 0:Jp.VITE_API_URL,t=typeof window<"u"?window.location.hostname:"127.0.0.1",r=e||`http://${t}:5000`,n=await fetch(`${r}/fertilizantes`,{credentials:"omit"});if(!n.ok)throw new Error(`Erro ao carregar fertilizantes: ${n.status}`);const a=await n.json();return(a==null?void 0:a.items)??[]}}),lJ=()=>{const{data:e=[],isLoading:t,error:r}=SI(),[n,a]=x.useState(""),[s,i]=x.useState(1),[o,l]=x.useState(10),u=bt(),[d,f]=x.useState(!1),[h,m]=x.useState(null),[v,p]=x.useState(""),[g,y]=x.useState(""),[E,w]=x.useState(""),[_,T]=x.useState(""),b=x.useMemo(()=>{const j=n.trim().toLowerCase(),I=e||[];return j?I.filter(W=>`${W.cod_item??""} ${W.item??""} ${W.marca??""} ${W.principio_ativo??""}`.toLowerCase().includes(j)):I},[e,n]),S=Math.max(1,Math.ceil(b.length/o)),k=x.useMemo(()=>{const j=(s-1)*o;return b.slice(j,j+o)},[b,s,o]),A=async()=>{if(!h)return;const{cod_item:j}=h;try{const{error:I}=await Ce.from("fertilizantes_catalog").update({item:g||null,marca:E||null,principio_ativo:_||null}).eq("cod_item",j);if(I){ce.error(I.message);return}ce.success("Fertilizante atualizado"),f(!1),m(null),await u.invalidateQueries({queryKey:["fertilizantes-catalog"]})}catch(I){ce.error((I==null?void 0:I.message)||String(I))}};return c.jsxs(c.Fragment,{children:[c.jsxs(Ue,{children:[c.jsx(vt,{children:c.jsx(xt,{children:"Catlogo de Fertilizantes"})}),c.jsxs(pt,{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(we,{placeholder:"Buscar por item, marca, princpio ativo...",value:n,onChange:j=>a(j.target.value)}),c.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[c.jsx(ue,{htmlFor:"pageSize",className:"text-xs",children:"Itens/pgina"}),c.jsxs("select",{id:"pageSize",className:"border rounded h-8 px-2 text-sm",value:o,onChange:j=>{l(Number(j.target.value)),i(1)},children:[c.jsx("option",{value:10,children:"10"}),c.jsx("option",{value:20,children:"20"}),c.jsx("option",{value:50,children:"50"})]})]})]}),t?c.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando fertilizantes..."}):r?c.jsx("p",{className:"text-sm text-destructive",children:"Erro ao carregar fertilizantes."}):c.jsxs(Hr,{children:[c.jsx(Gr,{children:c.jsxs(Ye,{children:[c.jsx(Ne,{children:"Cdigo"}),c.jsx(Ne,{children:"Item"}),c.jsx(Ne,{children:"Marca"}),c.jsx(Ne,{children:"Princpio ativo"}),c.jsx(Ne,{children:"Saldo"}),c.jsx(Ne,{className:"w-[140px]",children:"Aes"})]})}),c.jsxs(qr,{children:[k.map((j,I)=>c.jsxs(Ye,{children:[c.jsx(Se,{children:j.cod_item}),c.jsx(Se,{children:j.item}),c.jsx(Se,{children:j.marca}),c.jsx(Se,{children:j.principio_ativo}),c.jsx(Se,{children:typeof j.saldo=="number"?j.saldo:""}),c.jsx(Se,{children:c.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>{m({cod_item:String(j.cod_item)}),p(String(j.cod_item||"")),y(String(j.item||"")),w(String(j.marca||"")),T(String(j.principio_ativo||"")),f(!0)},children:[c.jsx(Qa,{className:"h-3.5 w-3.5 mr-1"})," Editar"]})})]},`${j.cod_item}-${I}`)),b.length===0&&c.jsx(Ye,{children:c.jsx(Se,{colSpan:5,className:"text-muted-foreground",children:"Nenhum resultado encontrado."})})]})]}),c.jsxs("div",{className:"flex items-center justify-between mt-3",children:[c.jsxs("div",{className:"text-xs text-muted-foreground",children:["Pgina ",s," de ",S]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ae,{variant:"outline",size:"sm",disabled:s<=1,onClick:()=>i(j=>Math.max(1,j-1)),children:"Anterior"}),c.jsx(ae,{variant:"outline",size:"sm",disabled:s>=S,onClick:()=>i(j=>Math.min(S,j+1)),children:"Prxima"})]})]})]})]}),c.jsx(ka,{open:d,onOpenChange:f,children:c.jsxs(Zn,{children:[c.jsx(Qn,{children:c.jsx(ea,{children:"Editar Fertilizante"})}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx(ue,{children:"Cdigo"}),c.jsx(we,{value:v,onChange:j=>p(j.target.value),disabled:!0})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(ue,{children:"Item"}),c.jsx(we,{value:g,onChange:j=>y(j.target.value)})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(ue,{children:"Marca"}),c.jsx(we,{value:E,onChange:j=>w(j.target.value)})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(ue,{children:"Princpio ativo"}),c.jsx(we,{value:_,onChange:j=>T(j.target.value)})]})]}),c.jsxs(ts,{children:[c.jsx(ae,{variant:"outline",onClick:()=>f(!1),children:"Cancelar"}),c.jsx(ae,{onClick:A,children:"Salvar"})]})]})})]})},Kp={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},uJ=()=>{const[e,t]=x.useState(!1),[r,n]=x.useState(0),[a,s]=x.useState(0),[i,o]=x.useState(!1),[l,u]=x.useState(!1),[d,f]=x.useState(0),[h,m]=x.useState(null),[v,p]=x.useState(!1),[g,y]=x.useState("idle"),E=(Kp==null?void 0:Kp.VITE_API_URL)||"",[w,_]=x.useState(E),T=async A=>{var I;const j=(I=A.target.files)==null?void 0:I[0];j&&m(j)},b=async()=>{y("checking");try{const A=typeof window<"u"?window.location.hostname:"127.0.0.1",j=w||`http://${A}:5000`;if(!(await fetch(`${j}/health`)).ok)throw new Error("offline");return y("online"),ce.success("API est acessvel!"),!0}catch{return y("offline"),ce.error("No foi possvel conectar  API Flask."),!1}},S=async()=>{var A,j,I,N,W;if(!h){ce.error("Selecione um arquivo primeiro");return}t(!0),o(!1),s(0),f(0);try{const{data:{user:M}}=await Ce.auth.getUser();if(!M)throw new Error("Usurio no autenticado");let X=0;const B=typeof window<"u"?window.location.hostname:"127.0.0.1",z=w||`http://${B}:5000`,Y=await h.arrayBuffer(),F=_s(Y),ne=F.Sheets[F.SheetNames[0]],Z=ho.sheet_to_json(ne);n(Z.length);const C=new Map;for(const P of Z){const Q=P.ITEM||null,ee=_I(Q);if(C.has(ee))continue;const re={cod_item:P["COD.ITEM"]||P["COD. ITEM"]||null,item:ee||Q,grupo:((A=P.GRUPO)==null?void 0:A.toString().toUpperCase().trim())||null,marca:((j=P.MARCA)==null?void 0:j.toString().toUpperCase().trim())||null,principio_ativo:((I=P.PRINCIPIO_ATIVO)==null?void 0:I.toString().toUpperCase().trim())||((N=P["PRINCIPIO ATIVO"])==null?void 0:N.toString().toUpperCase().trim())||((W=P["PRINCPIO ATIVO"])==null?void 0:W.toString().toUpperCase().trim())||null};C.set(ee,re)}const G=Array.from(C.values()),L=await fetch(`${z}/defensivos/bulk`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:G,limparAntes:l})});if(!L.ok){const P=await L.json().catch(()=>null);throw new Error((P==null?void 0:P.error)||"Falha ao importar via API")}const D=await L.json(),O=Number((D==null?void 0:D.imported)||0);s(O),await Ce.from("import_history").insert({user_id:M.id,tabela_nome:"defensivos_catalog",registros_importados:a,registros_deletados:X,arquivo_nome:h.name,limpar_antes:l}),ce.success(`Importao concluda! ${a} registros nicos de ${r} linhas processadas`),o(!0),m(null),u(!1)}catch(M){console.error("Erro ao processar arquivo:",M),ce.error("Erro ao processar arquivo. Verifique o formato.")}finally{t(!1)}},k=async()=>{if(await b()){p(!0),t(!0),o(!1),s(0),f(0),ce.info(" Iniciando sincronizao com API externa...",{description:l?"Os dados existentes sero removidos antes da importao.":"Novos dados sero mesclados com os existentes."});try{const j=typeof window<"u"?window.location.hostname:"127.0.0.1",I=w||`http://${j}:5000`;ce.loading(" Conectando  API externa e processando dados...",{description:"Este processo pode levar alguns minutos."});const N=await fetch(`${I}/defensivos/sync`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({limparAntes:l})});if(ce.dismiss(),!N.ok){const X=await N.json().catch(()=>null);ce.error((X==null?void 0:X.error)||"Erro ao sincronizar via API externa");return}const W=await N.json(),M=Number((W==null?void 0:W.imported)||0);s(M),n(M),ce.success(" Sincronizao concluda com sucesso!"),o(!0),m(null),u(!1)}catch(j){ce.dismiss(),console.error("Erro ao sincronizar API:",j),ce.error(" Erro inesperado ao sincronizar",{description:j instanceof Error?j.message:"Erro desconhecido"})}finally{p(!1),t(!1)}}};return c.jsxs(Ue,{children:[c.jsxs(vt,{children:[c.jsx(xt,{children:"Importar Defensivos"}),c.jsx(aa,{children:"Faa upload de uma planilha Excel (.xlsx ou .xls) com as colunas: COD. ITEM, ITEM, GRUPO, MARCA, PRINCIPIO_ATIVO"})]}),c.jsxs(pt,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ue,{htmlFor:"defensivos-file",children:"Selecione o arquivo"}),c.jsx("div",{className:"flex items-center gap-4",children:c.jsx(we,{id:"defensivos-file",type:"file",accept:".xlsx,.xls",onChange:T,disabled:e||v})})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Ot,{id:"limpar-antes",checked:l,onCheckedChange:A=>u(A),disabled:e}),c.jsx(ue,{htmlFor:"limpar-antes",className:"cursor-pointer text-sm",children:"Limpar todos os registros antes de importar"})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ue,{className:"text-sm",children:"Status da API:"}),g==="idle"&&c.jsx(ht,{variant:"outline",children:"No verificado"}),g==="checking"&&c.jsxs(ht,{variant:"outline",children:[c.jsx(Ll,{className:"mr-1 h-3 w-3 animate-spin"}),"Verificando..."]}),g==="online"&&c.jsxs(ht,{variant:"default",className:"bg-green-600",children:[c.jsx(ck,{className:"mr-1 h-3 w-3"}),"Online"]}),g==="offline"&&c.jsxs(ht,{variant:"destructive",children:[c.jsx(ok,{className:"mr-1 h-3 w-3"}),"Offline"]}),c.jsx(ae,{variant:"ghost",size:"sm",onClick:b,disabled:g==="checking",children:"Verificar Conexo"})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx(ae,{onClick:S,disabled:e||v||!h,children:e&&!v?"Importando...":"Importar"}),c.jsx(ae,{variant:"secondary",onClick:k,disabled:e||v,children:v?"Sincronizando...":"Sincronizar via API"})]})]}),e&&c.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-muted/50",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ll,{className:"h-4 w-4 animate-spin text-primary"}),c.jsx("p",{className:"text-sm font-medium",children:v?"Sincronizando com API externa...":"Importando arquivo..."})]}),!v&&r>0&&c.jsxs(c.Fragment,{children:[c.jsxs("p",{className:"text-sm text-muted-foreground",children:[a," de ",r," linhas processadas"]}),c.jsx(ni,{value:Math.round(a/r*100)})]}),v&&c.jsx("p",{className:"text-sm text-muted-foreground",children:"Aguarde enquanto os dados so importados da API externa. Este processo pode levar alguns minutos."})]})]}),c.jsx(jn,{open:i,onOpenChange:o,children:c.jsxs(hn,{children:[c.jsxs(mn,{children:[c.jsxs(gn,{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-2xl",children:""}),"Importao Concluda"]}),c.jsx(vn,{asChild:!0,children:c.jsxs("div",{className:"space-y-3 pt-2",children:[c.jsxs("div",{className:"grid gap-2",children:[d>0&&c.jsxs("div",{className:"flex justify-between items-center p-2 bg-destructive/10 rounded",children:[c.jsx("span",{className:"text-sm font-medium",children:"Registros removidos:"}),c.jsx(ht,{variant:"destructive",children:d})]}),c.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted rounded",children:[c.jsx("span",{className:"text-sm font-medium",children:"Total processado:"}),c.jsx(ht,{variant:"outline",children:r})]}),c.jsxs("div",{className:"flex justify-between items-center p-2 bg-primary/10 rounded",children:[c.jsx("span",{className:"text-sm font-medium",children:"Registros importados:"}),c.jsx(ht,{variant:"default",children:a})]})]}),c.jsx("p",{className:"text-xs text-muted-foreground pt-2",children:"A importao foi registrada no histrico de importaes."})]})})]}),c.jsx(pn,{children:c.jsx(sa,{children:"Fechar"})})]})})]})},Xp={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},qy=()=>Tt({queryKey:["defensivos-catalog"],queryFn:async()=>{const e=Xp==null?void 0:Xp.VITE_API_URL,t=typeof window<"u"?window.location.hostname:"127.0.0.1",r=e||`http://${t}:5000`,n=await fetch(`${r}/defensivos`,{credentials:"omit"});if(!n.ok)throw new Error(`Erro ao carregar defensivos: ${n.status}`);const a=await n.json();return(a==null?void 0:a.items)??[]}}),Yp={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},dJ=()=>{const{data:e=[],isLoading:t,error:r}=qy(),[n,a]=x.useState(""),[s,i]=x.useState(1),[o,l]=x.useState(10),u=bt(),[d,f]=x.useState(!1),[h,m]=x.useState(null),[v,p]=x.useState(""),[g,y]=x.useState(""),[E,w]=x.useState(""),[_,T]=x.useState(""),[b,S]=x.useState(""),k=x.useMemo(()=>{const W=n.trim().toLowerCase(),M=e||[];return W?M.filter(B=>`${B.cod_item??""} ${B.item??""} ${B.marca??""} ${B.principio_ativo??""} ${B.grupo??""} ${B.saldo??""}`.toLowerCase().includes(W)):M},[e,n]),A=Math.max(1,Math.ceil(k.length/o)),j=x.useMemo(()=>{const W=(s-1)*o;return k.slice(W,W+o)},[k,s,o]),I=x.useMemo(()=>{const W={};return k.forEach(M=>{const X=M.grupo||"Sem grupo";W[X]=(W[X]||0)+1}),W},[k]),N=async()=>{if(!h)return;const{cod_item:W}=h;try{const M=(Yp==null?void 0:Yp.VITE_API_URL)||"http://127.0.0.1:5000",X=await fetch(`${M}/defensivos/${encodeURIComponent(W)}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"omit",body:JSON.stringify({item:g||null,grupo:E||null,marca:_||null,principio_ativo:b||null})});if(!X.ok){const B=await X.json().catch(()=>null);throw new Error((B==null?void 0:B.error)||`Erro ao atualizar defensivo: ${X.status}`)}ce.success("Defensivo atualizado"),f(!1),m(null),await u.invalidateQueries({queryKey:["defensivos-catalog"]})}catch(M){ce.error((M==null?void 0:M.message)||String(M))}};return c.jsxs(c.Fragment,{children:[c.jsxs(Ue,{children:[c.jsx(vt,{children:c.jsx(xt,{children:"Catlogo de Defensivos"})}),c.jsxs(pt,{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(we,{placeholder:"Buscar por item, grupo, marca, princpio ativo...",value:n,onChange:W=>a(W.target.value)}),c.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[c.jsx(ue,{htmlFor:"pageSize",className:"text-xs",children:"Itens/pgina"}),c.jsxs("select",{id:"pageSize",className:"border rounded h-8 px-2 text-sm",value:o,onChange:W=>{l(Number(W.target.value)),i(1)},children:[c.jsx("option",{value:10,children:"10"}),c.jsx("option",{value:20,children:"20"}),c.jsx("option",{value:50,children:"50"})]})]})]}),t?c.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando defensivos..."}):r?c.jsx("p",{className:"text-sm text-destructive",children:"Erro ao carregar defensivos."}):c.jsxs(Hr,{className:"w-full",children:[c.jsx(Gr,{children:c.jsxs(Ye,{children:[c.jsx(Ne,{className:"w-[120px]",children:"Cdigo"}),c.jsx(Ne,{className:"min-w-[280px]",children:"Item"}),c.jsx(Ne,{children:"Grupo"}),c.jsx(Ne,{children:"Marca"}),c.jsx(Ne,{children:"Princpio ativo"}),c.jsx(Ne,{className:"text-right",children:"Saldo"}),c.jsx(Ne,{className:"w-[140px]",children:"Aes"})]})}),c.jsxs(qr,{children:[j.map((W,M)=>c.jsxs(Ye,{children:[c.jsx(Se,{children:W.cod_item}),c.jsx(Se,{children:c.jsx("span",{className:"block whitespace-normal break-words",title:W.item||"",children:W.item})}),c.jsx(Se,{children:W.grupo}),c.jsx(Se,{children:W.marca}),c.jsx(Se,{children:W.principio_ativo}),c.jsx(Se,{className:"text-right",children:Number(W.saldo??0).toFixed(2)}),c.jsx(Se,{children:c.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>{m({cod_item:String(W.cod_item)}),p(String(W.cod_item||"")),y(String(W.item||"")),w(String(W.grupo||"")),T(String(W.marca||"")),S(String(W.principio_ativo||"")),f(!0)},children:[c.jsx(Qa,{className:"h-3.5 w-3.5 mr-1"})," Editar"]})})]},`${W.cod_item}-${M}`)),k.length===0&&c.jsx(Ye,{children:c.jsx(Se,{colSpan:7,className:"text-muted-foreground",children:"Nenhum resultado encontrado."})})]})]}),c.jsxs("div",{className:"flex items-center justify-between mt-3",children:[c.jsxs("div",{className:"text-xs text-muted-foreground",children:["Pgina ",s," de ",A]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ae,{variant:"outline",size:"sm",disabled:s<=1,onClick:()=>i(W=>Math.max(1,W-1)),children:"Anterior"}),c.jsx(ae,{variant:"outline",size:"sm",disabled:s>=A,onClick:()=>i(W=>Math.min(A,W+1)),children:"Prxima"})]})]}),c.jsx("div",{className:"mt-4 pt-4 border-t",children:c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:[c.jsxs("div",{className:"bg-primary/5 rounded-lg p-3",children:[c.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Total de Itens"}),c.jsx("div",{className:"text-2xl font-bold text-primary",children:k.length})]}),Object.entries(I).sort(([,W],[,M])=>M-W).map(([W,M])=>c.jsxs("div",{className:"bg-secondary/5 rounded-lg p-3",children:[c.jsx("div",{className:"text-xs text-muted-foreground mb-1 truncate",title:W,children:W}),c.jsx("div",{className:"text-2xl font-bold",children:M})]},W))]})})]})]}),c.jsx(ka,{open:d,onOpenChange:f,children:c.jsxs(Zn,{children:[c.jsx(Qn,{children:c.jsx(ea,{children:"Editar Defensivo"})}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx(ue,{children:"Cdigo"}),c.jsx(we,{value:v,onChange:W=>p(W.target.value),disabled:!0})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(ue,{children:"Item"}),c.jsx(we,{value:g,onChange:W=>y(W.target.value)})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(ue,{children:"Grupo"}),c.jsx(we,{value:E,onChange:W=>w(W.target.value)})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(ue,{children:"Marca"}),c.jsx(we,{value:_,onChange:W=>T(W.target.value)})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(ue,{children:"Princpio ativo"}),c.jsx(we,{value:b,onChange:W=>S(W.target.value)})]})]}),c.jsxs(ts,{children:[c.jsx(ae,{variant:"outline",onClick:()=>f(!1),children:"Cancelar"}),c.jsx(ae,{onClick:N,children:"Salvar"})]})]})})]})},Zp={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"};function fJ(){const[e,t]=x.useState(null),[r,n]=x.useState(!1),[a,s]=x.useState(0),[i,o]=x.useState(0),[l,u]=x.useState(!1),[d,f]=x.useState(!1),[h,m]=x.useState(0),v=g=>{var E;const y=((E=g.target.files)==null?void 0:E[0])||null;t(y)},p=async()=>{if(!e){ce.error("Selecione um arquivo XLSX primeiro");return}try{n(!0),o(0),m(0),u(!1);const g=null;let y=0;const E=await e.arrayBuffer(),w=_s(E,{type:"array"}),_=w.SheetNames[0],T=w.Sheets[_],S=ho.sheet_to_json(T).map(B=>({numerocm_consultor:String(B.NUMEROCMCONSULTOR??B.numerocm_consultor??"").trim(),consultor:String(B.CONSULTOR??B.consultor??"").trim(),email:String(B.EMAIL??B.email??"").trim().toLowerCase()})).filter(B=>B.numerocm_consultor&&B.consultor&&B.email);if(S.length===0){ce.error("Nenhuma linha vlida encontrada (precisa de NUMEROCMCONSULTOR, CONSULTOR, EMAIL)"),n(!1);return}const k=new Map;for(const B of S)k.set(B.email,B);const A=Array.from(k.values()),j=S.length-A.length;j>0&&ce.info(`${j} registros duplicados de email foram ignorados`),s(A.length);const I=Zp==null?void 0:Zp.VITE_API_URL,N=typeof window<"u"?window.location.hostname:"127.0.0.1",W=I||`http://${N}:5000`,M=await fetch(`${W}/consultores/import`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({limpar_antes:d,items:A,user_id:null,arquivo_nome:e.name})});if(!M.ok){const B=await M.text();throw new Error(B)}const X=await M.json();m((X==null?void 0:X.deleted)??0),o((X==null?void 0:X.imported)??A.length),ce.success(`Importao de consultores concluda (${(X==null?void 0:X.imported)??A.length} de ${A.length})`),u(!0),f(!1)}catch(g){console.error(g),ce.error(`Erro ao importar consultores: ${g.message}`)}finally{n(!1)}};return c.jsxs(Ue,{children:[c.jsxs(vt,{children:[c.jsx(xt,{children:"Importar Consultores"}),c.jsx(aa,{children:"Planilha com colunas: NUMEROCMCONSULTOR, CONSULTOR, EMAIL"})]}),c.jsxs(pt,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ue,{children:"Arquivo XLSX"}),c.jsx(we,{type:"file",accept:".xlsx,.xls",onChange:v})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Ot,{id:"limpar-antes",checked:d,onCheckedChange:g=>f(g),disabled:r}),c.jsx(ue,{htmlFor:"limpar-antes",className:"cursor-pointer text-sm",children:"Limpar todos os registros antes de importar"})]}),c.jsx(ae,{onClick:p,disabled:r||!e,children:r?"Importando...":"Importar"}),r&&c.jsxs("div",{className:"space-y-2",children:[c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Importando ",i," de ",a," linhas..."]}),c.jsx(ni,{value:a?Math.round(i/a*100):0})]})]}),c.jsx(jn,{open:l,onOpenChange:u,children:c.jsxs(hn,{children:[c.jsxs(mn,{children:[c.jsx(gn,{children:"Resumo da Importao"}),c.jsxs(vn,{children:[h>0&&c.jsxs(c.Fragment,{children:["Registros removidos: ",h,c.jsx("br",{})]}),"Total na planilha: ",a,c.jsx("br",{}),"Linhas importadas: ",i]})]}),c.jsx(pn,{children:c.jsx(sa,{children:"Fechar"})})]})})]})}const Qp={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"};function hJ(){const[e,t]=x.useState(null),[r,n]=x.useState(!1),[a,s]=x.useState(0),[i,o]=x.useState(0),[l,u]=x.useState(!1),[d,f]=x.useState(!1),[h,m]=x.useState(0),v=g=>{var E;const y=((E=g.target.files)==null?void 0:E[0])||null;t(y)},p=async()=>{if(!e){ce.error("Selecione um arquivo XLSX primeiro");return}try{n(!0),o(0),m(0),u(!1);const{data:{user:g}}=await Ce.auth.getUser();if(!g)throw new Error("Usurio no autenticado");let y=0;const E=await e.arrayBuffer(),w=_s(E,{type:"array"}),_=w.SheetNames[0],T=w.Sheets[_],S=ho.sheet_to_json(T).map(z=>({numerocm:String(z.NUMEROCM??z.numerocm??"").trim(),nome:String(z.NOME??z.nome??"").trim(),numerocm_consultor:String(z.NUMEROCMCONSULTOR??z.numerocm_consultor??"").trim(),consultor:z.CONSULTOR?String(z.CONSULTOR).trim():z.consultor?String(z.consultor).trim():null})).filter(z=>z.numerocm&&z.nome&&z.numerocm_consultor);if(S.length===0){ce.error("Nenhuma linha vlida encontrada (precisa de NUMEROCM, NOME, NUMEROCMCONSULTOR)"),n(!1);return}const k=new Map;for(const z of S)k.set(z.numerocm,z);const A=Array.from(k.values()),j=S.length-A.length;j>0&&ce.info(`${j} registros duplicados de numerocm foram ignorados`),s(A.length);const I=Qp==null?void 0:Qp.VITE_API_URL,N=typeof window<"u"?window.location.hostname:"127.0.0.1",W=I||`http://${N}:5000`,M=await fetch(`${W}/produtores/bulk`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:A,limparAntes:d,user_id:g.id,arquivo_nome:e.name})});if(!M.ok){const z=await M.text();throw new Error(z)}const X=await M.json(),B=Number((X==null?void 0:X.imported)||A.length);y=Number((X==null?void 0:X.deleted)||0),o(B),m(y),ce.success(`Importao de produtores concluda (${B} de ${A.length})`),u(!0),f(!1)}catch(g){console.error(g),ce.error(`Erro ao importar produtores: ${g.message}`)}finally{n(!1)}};return c.jsxs(Ue,{children:[c.jsxs(vt,{children:[c.jsx(xt,{children:"Importar Produtores"}),c.jsx(aa,{children:"Planilha com colunas: NUMEROCM, NOME, NUMEROCMCONSULTOR, CONSULTOR"})]}),c.jsxs(pt,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ue,{children:"Arquivo XLSX"}),c.jsx(we,{type:"file",accept:".xlsx,.xls",onChange:v})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Ot,{id:"limpar-antes",checked:d,onCheckedChange:g=>f(g),disabled:r}),c.jsx(ue,{htmlFor:"limpar-antes",className:"cursor-pointer text-sm",children:"Limpar todos os registros antes de importar"})]}),c.jsx(ae,{onClick:p,disabled:r||!e,children:r?"Importando...":"Importar"}),r&&c.jsxs("div",{className:"space-y-2",children:[c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Importando ",i," de ",a," linhas..."]}),c.jsx(ni,{value:a?Math.round(i/a*100):0})]})]}),c.jsx(jn,{open:l,onOpenChange:u,children:c.jsxs(hn,{children:[c.jsxs(mn,{children:[c.jsx(gn,{children:"Resumo da Importao"}),c.jsxs(vn,{children:[h>0&&c.jsxs(c.Fragment,{children:["Registros removidos: ",h,c.jsx("br",{})]}),"Total na planilha: ",a,c.jsx("br",{}),"Linhas importadas: ",i]})]}),c.jsx(pn,{children:c.jsx(sa,{children:"Fechar"})})]})})]})}const eg={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"};function mJ(){const[e,t]=x.useState(null),[r,n]=x.useState(!1),[a,s]=x.useState(0),[i,o]=x.useState(0),[l,u]=x.useState(!1),[d,f]=x.useState(!1),[h,m]=x.useState(0),v=g=>{var E;const y=((E=g.target.files)==null?void 0:E[0])||null;t(y)},p=async()=>{if(!e){ce.error("Selecione um arquivo XLSX primeiro");return}try{n(!0),o(0),m(0),u(!1);const{data:{user:g}}=await Ce.auth.getUser();if(!g)throw new Error("Usurio no autenticado");let y=0;const E=await e.arrayBuffer(),w=_s(E,{type:"array"}),_=w.SheetNames[0],T=w.Sheets[_],S=ho.sheet_to_json(T).map(z=>({numerocm:String(z.NUMEROCM??z.numerocm??"").trim(),idfazenda:String(z.IDFAZENDA??z.idfazenda??"").trim(),nomefazenda:String(z.NOMEFAZENDA??z.nomefazenda??"").trim(),numerocm_consultor:String(z.NUMEROCMCONSULTOR??z.numerocm_consultor??"").trim()})).filter(z=>z.numerocm&&z.idfazenda&&z.nomefazenda&&z.numerocm_consultor);if(S.length===0){ce.error("Nenhuma linha vlida encontrada (precisa de NUMEROCM, IDFAZENDA, NOMEFAZENDA, NUMEROCMCONSULTOR)"),n(!1);return}const k=new Map;for(const z of S){const Y=`${z.numerocm}|${z.idfazenda}`;k.set(Y,z)}const A=Array.from(k.values()),j=S.length-A.length;j>0&&ce.info(`${j} registros duplicados foram ignorados`),s(A.length);const I=eg==null?void 0:eg.VITE_API_URL,N=typeof window<"u"?window.location.hostname:"127.0.0.1",W=I||`http://${N}:5000`,M=await fetch(`${W}/fazendas/bulk`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:A,limparAntes:d,user_id:g.id,arquivo_nome:e.name})});if(!M.ok){const z=await M.text();throw new Error(z)}const X=await M.json(),B=Number((X==null?void 0:X.imported)||A.length);y=Number((X==null?void 0:X.deleted)||0),o(B),m(y),ce.success(`Importao de fazendas concluda (${B} de ${A.length})`),u(!0),f(!1)}catch(g){console.error(g),ce.error(`Erro ao importar fazendas: ${g.message}`)}finally{n(!1)}};return c.jsxs(Ue,{children:[c.jsxs(vt,{children:[c.jsx(xt,{children:"Importar Fazendas"}),c.jsx(aa,{children:"Planilha com colunas: NUMEROCM, IDFAZENDA, NOMEFAZENDA, NUMEROCMCONSULTOR"})]}),c.jsxs(pt,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ue,{children:"Arquivo XLSX"}),c.jsx(we,{type:"file",accept:".xlsx,.xls",onChange:v})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Ot,{id:"limpar-antes",checked:d,onCheckedChange:g=>f(g),disabled:r}),c.jsx(ue,{htmlFor:"limpar-antes",className:"cursor-pointer text-sm",children:"Limpar todos os registros antes de importar"})]}),c.jsx(ae,{onClick:p,disabled:r||!e,children:r?"Importando...":"Importar"}),r&&c.jsxs("div",{className:"space-y-2",children:[c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Importando ",i," de ",a," linhas..."]}),c.jsx(ni,{value:a?Math.round(i/a*100):0})]})]}),c.jsx(jn,{open:l,onOpenChange:u,children:c.jsxs(hn,{children:[c.jsxs(mn,{children:[c.jsx(gn,{children:"Resumo da Importao"}),c.jsxs(vn,{children:[h>0&&c.jsxs(c.Fragment,{children:["Registros removidos: ",h,c.jsx("br",{})]}),"Total na planilha: ",a,c.jsx("br",{}),"Linhas importadas: ",i]})]}),c.jsx(pn,{children:c.jsx(sa,{children:"Fechar"})})]})})]})}const ca={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},vm=()=>{const e=bt(),{data:t,isLoading:r,error:n}=Tt({queryKey:["safras"],queryFn:async()=>{const l=ca==null?void 0:ca.VITE_API_URL,u=typeof window<"u"?window.location.hostname:"127.0.0.1",d=l||`http://${u}:5000`,f=await fetch(`${d}/safras`);if(!f.ok){const m=await f.text();throw new Error(m)}const h=await f.json();return(h==null?void 0:h.items)||[]}}),a=ot({mutationFn:async l=>{const u=ca==null?void 0:ca.VITE_API_URL,d=typeof window<"u"?window.location.hostname:"127.0.0.1",f=u||`http://${d}:5000`,h=await fetch(`${f}/safras`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});if(!h.ok){const v=await h.text();throw new Error(v)}return await h.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["safras"]}),ce.success("Safra criada com sucesso")},onError:l=>{ce.error(`Erro ao criar safra: ${l.message}`)}}),s=ot({mutationFn:async({id:l,...u})=>{const d=ca==null?void 0:ca.VITE_API_URL,f=typeof window<"u"?window.location.hostname:"127.0.0.1",h=d||`http://${f}:5000`,m=await fetch(`${h}/safras/${encodeURIComponent(l)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)});if(!m.ok){const p=await m.text();throw new Error(p)}return await m.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["safras"]}),ce.success("Safra atualizada com sucesso")},onError:l=>{ce.error(`Erro ao atualizar safra: ${l.message}`)}}),i=ot({mutationFn:async l=>{const u=ca==null?void 0:ca.VITE_API_URL,d=typeof window<"u"?window.location.hostname:"127.0.0.1",f=u||`http://${d}:5000`,h=await fetch(`${f}/safras/${encodeURIComponent(l)}`,{method:"DELETE"});if(!h.ok){const m=await h.text();throw new Error(m)}},onSuccess:()=>{e.invalidateQueries({queryKey:["safras"]}),ce.success("Safra excluda com sucesso")},onError:l=>{ce.error(`Erro ao excluir safra: ${l.message}`)}}),o=t==null?void 0:t.find(l=>l.is_default);return{safras:t??[],isLoading:r,error:n,create:a.mutate,update:s.mutate,remove:i.mutate,isCreating:a.isPending,isUpdating:s.isPending,isDeleting:i.isPending,defaultSafra:o}},pJ=()=>{const{safras:e,create:t,update:r,remove:n,isCreating:a,isDeleting:s}=vm(),[i,o]=x.useState(""),[l,u]=x.useState(""),[d,f]=x.useState(""),[h,m]=x.useState(!1),[v,p]=x.useState(null),g=_=>{_.preventDefault(),i.trim()&&(t({nome:i.trim(),is_default:h,ativa:!0,ano_inicio:l?parseInt(l):null,ano_fim:d?parseInt(d):null}),o(""),u(""),f(""),m(!1))},y=(_,T)=>{r({id:_,is_default:!T})},E=(_,T)=>{r({id:_,ativa:!T})},w=()=>{v&&(n(v),p(null))};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs(Ue,{children:[c.jsx(vt,{children:c.jsx(xt,{children:"Cadastrar Nova Safra"})}),c.jsx(pt,{children:c.jsxs("form",{onSubmit:g,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx(ue,{htmlFor:"nome",children:"Nome da Safra *"}),c.jsx(we,{id:"nome",value:i,onChange:_=>o(_.target.value),placeholder:"Ex: 2024/2025",required:!0})]}),c.jsxs("div",{children:[c.jsx(ue,{htmlFor:"anoInicio",children:"Ano Incio"}),c.jsx(we,{id:"anoInicio",type:"number",value:l,onChange:_=>u(_.target.value),placeholder:"2024"})]}),c.jsxs("div",{children:[c.jsx(ue,{htmlFor:"anoFim",children:"Ano Fim"}),c.jsx(we,{id:"anoFim",type:"number",value:d,onChange:_=>f(_.target.value),placeholder:"2025"})]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Ot,{id:"isDefault",checked:h,onCheckedChange:_=>m(_)}),c.jsx(ue,{htmlFor:"isDefault",className:"cursor-pointer",children:"Definir como safra padro"})]}),c.jsxs(ae,{type:"submit",disabled:a,children:[c.jsx(Xa,{className:"h-4 w-4 mr-2"}),"Adicionar Safra"]})]})})]}),c.jsxs(Ue,{children:[c.jsx(vt,{children:c.jsx(xt,{children:"Safras Cadastradas"})}),c.jsx(pt,{children:c.jsxs(Hr,{children:[c.jsx(Gr,{children:c.jsxs(Ye,{children:[c.jsx(Ne,{children:"Nome"}),c.jsx(Ne,{children:"Perodo"}),c.jsx(Ne,{className:"text-center",children:"Padro"}),c.jsx(Ne,{className:"text-center",children:"Ativa"}),c.jsx(Ne,{className:"text-right",children:"Aes"})]})}),c.jsxs(qr,{children:[e.map(_=>c.jsxs(Ye,{children:[c.jsx(Se,{className:"font-medium",children:_.nome}),c.jsx(Se,{children:_.ano_inicio&&_.ano_fim?`${_.ano_inicio} - ${_.ano_fim}`:"-"}),c.jsx(Se,{className:"text-center",children:c.jsx(Ot,{checked:_.is_default,onCheckedChange:()=>y(_.id,_.is_default)})}),c.jsx(Se,{className:"text-center",children:c.jsx(Ot,{checked:_.ativa,onCheckedChange:()=>E(_.id,_.ativa)})}),c.jsx(Se,{className:"text-right",children:c.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>p(_.id),disabled:s,children:c.jsx(vr,{className:"h-4 w-4"})})})]},_.id)),e.length===0&&c.jsx(Ye,{children:c.jsx(Se,{colSpan:5,className:"text-center text-muted-foreground",children:"Nenhuma safra cadastrada"})})]})]})})]}),c.jsx(jn,{open:!!v,onOpenChange:()=>p(null),children:c.jsxs(hn,{children:[c.jsxs(mn,{children:[c.jsx(gn,{children:"Confirmar excluso"}),c.jsx(vn,{children:"Tem certeza que deseja excluir esta safra? Esta ao no pode ser desfeita."})]}),c.jsxs(pn,{children:[c.jsx(sa,{children:"Cancelar"}),c.jsx(si,{onClick:w,children:"Excluir"})]})]})})]})};function dx(e,[t,r]){return Math.min(r,Math.max(t,e))}var gJ=[" ","Enter","ArrowUp","ArrowDown"],vJ=[" ","Enter"],ic="Select",[xm,ym,xJ]=H0(ic),[du,zZ]=Vr(ic,[xJ,eu]),wm=eu(),[yJ,mo]=du(ic),[wJ,EJ]=du(ic),bI=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:s,value:i,defaultValue:o,onValueChange:l,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:v}=e,p=wm(t),[g,y]=x.useState(null),[E,w]=x.useState(null),[_,T]=x.useState(!1),b=sf(u),[S,k]=Ta({prop:n,defaultProp:a??!1,onChange:s,caller:ic}),[A,j]=Ta({prop:i,defaultProp:o,onChange:l,caller:ic}),I=x.useRef(null),N=g?v||!!g.closest("form"):!0,[W,M]=x.useState(new Set),X=Array.from(W).map(B=>B.props.value).join(";");return c.jsx($k,{...p,children:c.jsxs(yJ,{required:m,scope:t,trigger:g,onTriggerChange:y,valueNode:E,onValueNodeChange:w,valueNodeHasChildren:_,onValueNodeHasChildrenChange:T,contentId:kr(),value:A,onValueChange:j,open:S,onOpenChange:k,dir:b,triggerPointerDownPosRef:I,disabled:h,children:[c.jsx(xm.Provider,{scope:t,children:c.jsx(wJ,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(B=>{M(z=>new Set(z).add(B))},[]),onNativeOptionRemove:x.useCallback(B=>{M(z=>{const Y=new Set(z);return Y.delete(B),Y})},[]),children:r})}),N?c.jsxs(JI,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:A,onChange:B=>j(B.target.value),disabled:h,form:v,children:[A===void 0?c.jsx("option",{value:""}):null,Array.from(W)]},X):null]})})};bI.displayName=ic;var TI="SelectTrigger",kI=x.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,s=wm(r),i=mo(TI,r),o=i.disabled||n,l=Je(t,i.onTriggerChange),u=ym(r),d=x.useRef("touch"),[f,h,m]=XI(p=>{const g=u().filter(w=>!w.disabled),y=g.find(w=>w.value===i.value),E=YI(g,p,y);E!==void 0&&i.onValueChange(E.value)}),v=p=>{o||(i.onOpenChange(!0),m()),p&&(i.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return c.jsx(Z0,{asChild:!0,...s,children:c.jsx(Pe.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":KI(i.value)?"":void 0,...a,ref:l,onClick:Ie(a.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&v(p)}),onPointerDown:Ie(a.onPointerDown,p=>{d.current=p.pointerType;const g=p.target;g.hasPointerCapture(p.pointerId)&&g.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(v(p),p.preventDefault())}),onKeyDown:Ie(a.onKeyDown,p=>{const g=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(g&&p.key===" ")&&gJ.includes(p.key)&&(v(),p.preventDefault())})})})});kI.displayName=TI;var CI="SelectValue",AI=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:s,placeholder:i="",...o}=e,l=mo(CI,r),{onValueNodeHasChildrenChange:u}=l,d=s!==void 0,f=Je(t,l.onValueNodeChange);return gr(()=>{u(d)},[u,d]),c.jsx(Pe.span,{...o,ref:f,style:{pointerEvents:"none"},children:KI(l.value)?c.jsx(c.Fragment,{children:i}):s})});AI.displayName=CI;var _J="SelectIcon",jI=x.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return c.jsx(Pe.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});jI.displayName=_J;var SJ="SelectPortal",NI=e=>c.jsx(Qd,{asChild:!0,...e});NI.displayName=SJ;var oc="SelectContent",II=x.forwardRef((e,t)=>{const r=mo(oc,e.__scopeSelect),[n,a]=x.useState();if(gr(()=>{a(new DocumentFragment)},[]),!r.open){const s=n;return s?fc.createPortal(c.jsx(RI,{scope:e.__scopeSelect,children:c.jsx(xm.Slot,{scope:e.__scopeSelect,children:c.jsx("div",{children:e.children})})}),s):null}return c.jsx(PI,{...e,ref:t})});II.displayName=oc;var Fa=10,[RI,po]=du(oc),bJ="SelectContentImpl",TJ=Zo("SelectContent.RemoveScroll"),PI=x.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:s,onPointerDownOutside:i,side:o,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:p,avoidCollisions:g,...y}=e,E=mo(oc,r),[w,_]=x.useState(null),[T,b]=x.useState(null),S=Je(t,P=>_(P)),[k,A]=x.useState(null),[j,I]=x.useState(null),N=ym(r),[W,M]=x.useState(!1),X=x.useRef(!1);x.useEffect(()=>{if(w)return ny(w)},[w]),ry();const B=x.useCallback(P=>{const[Q,...ee]=N().map(V=>V.ref.current),[re]=ee.slice(-1),fe=document.activeElement;for(const V of P)if(V===fe||(V==null||V.scrollIntoView({block:"nearest"}),V===Q&&T&&(T.scrollTop=0),V===re&&T&&(T.scrollTop=T.scrollHeight),V==null||V.focus(),document.activeElement!==fe))return},[N,T]),z=x.useCallback(()=>B([k,w]),[B,k,w]);x.useEffect(()=>{W&&z()},[W,z]);const{onOpenChange:Y,triggerPointerDownPosRef:F}=E;x.useEffect(()=>{if(w){let P={x:0,y:0};const Q=re=>{var fe,V;P={x:Math.abs(Math.round(re.pageX)-(((fe=F.current)==null?void 0:fe.x)??0)),y:Math.abs(Math.round(re.pageY)-(((V=F.current)==null?void 0:V.y)??0))}},ee=re=>{P.x<=10&&P.y<=10?re.preventDefault():w.contains(re.target)||Y(!1),document.removeEventListener("pointermove",Q),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",Q),document.addEventListener("pointerup",ee,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Q),document.removeEventListener("pointerup",ee,{capture:!0})}}},[w,Y,F]),x.useEffect(()=>{const P=()=>Y(!1);return window.addEventListener("blur",P),window.addEventListener("resize",P),()=>{window.removeEventListener("blur",P),window.removeEventListener("resize",P)}},[Y]);const[ne,Z]=XI(P=>{const Q=N().filter(fe=>!fe.disabled),ee=Q.find(fe=>fe.ref.current===document.activeElement),re=YI(Q,P,ee);re&&setTimeout(()=>re.ref.current.focus())}),C=x.useCallback((P,Q,ee)=>{const re=!X.current&&!ee;(E.value!==void 0&&E.value===Q||re)&&(A(P),re&&(X.current=!0))},[E.value]),G=x.useCallback(()=>w==null?void 0:w.focus(),[w]),L=x.useCallback((P,Q,ee)=>{const re=!X.current&&!ee;(E.value!==void 0&&E.value===Q||re)&&I(P)},[E.value]),D=n==="popper"?fx:OI,O=D===fx?{side:o,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:p,avoidCollisions:g}:{};return c.jsx(RI,{scope:r,content:w,viewport:T,onViewportChange:b,itemRefCallback:C,selectedItem:k,onItemLeave:G,itemTextRefCallback:L,focusSelectedItem:z,selectedItemText:j,position:n,isPositioned:W,searchRef:ne,children:c.jsx(im,{as:TJ,allowPinchZoom:!0,children:c.jsx(am,{asChild:!0,trapped:E.open,onMountAutoFocus:P=>{P.preventDefault()},onUnmountAutoFocus:Ie(a,P=>{var Q;(Q=E.trigger)==null||Q.focus({preventScroll:!0}),P.preventDefault()}),children:c.jsx(Xl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:P=>P.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:c.jsx(D,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:P=>P.preventDefault(),...y,...O,onPlaced:()=>M(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Ie(y.onKeyDown,P=>{const Q=P.ctrlKey||P.altKey||P.metaKey;if(P.key==="Tab"&&P.preventDefault(),!Q&&P.key.length===1&&Z(P.key),["ArrowUp","ArrowDown","Home","End"].includes(P.key)){let re=N().filter(fe=>!fe.disabled).map(fe=>fe.ref.current);if(["ArrowUp","End"].includes(P.key)&&(re=re.slice().reverse()),["ArrowUp","ArrowDown"].includes(P.key)){const fe=P.target,V=re.indexOf(fe);re=re.slice(V+1)}setTimeout(()=>B(re)),P.preventDefault()}})})})})})})});PI.displayName=bJ;var kJ="SelectItemAlignedPosition",OI=x.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,s=mo(oc,r),i=po(oc,r),[o,l]=x.useState(null),[u,d]=x.useState(null),f=Je(t,S=>d(S)),h=ym(r),m=x.useRef(!1),v=x.useRef(!0),{viewport:p,selectedItem:g,selectedItemText:y,focusSelectedItem:E}=i,w=x.useCallback(()=>{if(s.trigger&&s.valueNode&&o&&u&&p&&g&&y){const S=s.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),A=s.valueNode.getBoundingClientRect(),j=y.getBoundingClientRect();if(s.dir!=="rtl"){const fe=j.left-k.left,V=A.left-fe,Ee=S.left-V,ye=S.width+Ee,Be=Math.max(ye,k.width),De=window.innerWidth-Fa,me=dx(V,[Fa,Math.max(Fa,De-Be)]);o.style.minWidth=ye+"px",o.style.left=me+"px"}else{const fe=k.right-j.right,V=window.innerWidth-A.right-fe,Ee=window.innerWidth-S.right-V,ye=S.width+Ee,Be=Math.max(ye,k.width),De=window.innerWidth-Fa,me=dx(V,[Fa,Math.max(Fa,De-Be)]);o.style.minWidth=ye+"px",o.style.right=me+"px"}const I=h(),N=window.innerHeight-Fa*2,W=p.scrollHeight,M=window.getComputedStyle(u),X=parseInt(M.borderTopWidth,10),B=parseInt(M.paddingTop,10),z=parseInt(M.borderBottomWidth,10),Y=parseInt(M.paddingBottom,10),F=X+B+W+Y+z,ne=Math.min(g.offsetHeight*5,F),Z=window.getComputedStyle(p),C=parseInt(Z.paddingTop,10),G=parseInt(Z.paddingBottom,10),L=S.top+S.height/2-Fa,D=N-L,O=g.offsetHeight/2,P=g.offsetTop+O,Q=X+B+P,ee=F-Q;if(Q<=L){const fe=I.length>0&&g===I[I.length-1].ref.current;o.style.bottom="0px";const V=u.clientHeight-p.offsetTop-p.offsetHeight,Ee=Math.max(D,O+(fe?G:0)+V+z),ye=Q+Ee;o.style.height=ye+"px"}else{const fe=I.length>0&&g===I[0].ref.current;o.style.top="0px";const Ee=Math.max(L,X+p.offsetTop+(fe?C:0)+O)+ee;o.style.height=Ee+"px",p.scrollTop=Q-L+p.offsetTop}o.style.margin=`${Fa}px 0`,o.style.minHeight=ne+"px",o.style.maxHeight=N+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,s.trigger,s.valueNode,o,u,p,g,y,s.dir,n]);gr(()=>w(),[w]);const[_,T]=x.useState();gr(()=>{u&&T(window.getComputedStyle(u).zIndex)},[u]);const b=x.useCallback(S=>{S&&v.current===!0&&(w(),E==null||E(),v.current=!1)},[w,E]);return c.jsx(AJ,{scope:r,contentWrapper:o,shouldExpandOnScrollRef:m,onScrollButtonChange:b,children:c.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:c.jsx(Pe.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});OI.displayName=kJ;var CJ="SelectPopperPosition",fx=x.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Fa,...s}=e,i=wm(r);return c.jsx(I1,{...i,...s,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});fx.displayName=CJ;var[AJ,Jy]=du(oc,{}),hx="SelectViewport",FI=x.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,s=po(hx,r),i=Jy(hx,r),o=Je(t,s.onViewportChange),l=x.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),c.jsx(xm.Slot,{scope:r,children:c.jsx(Pe.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Ie(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=i;if(h!=null&&h.current&&f){const m=Math.abs(l.current-d.scrollTop);if(m>0){const v=window.innerHeight-Fa*2,p=parseFloat(f.style.minHeight),g=parseFloat(f.style.height),y=Math.max(p,g);if(y<v){const E=y+m,w=Math.min(v,E),_=E-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});FI.displayName=hx;var DI="SelectGroup",[jJ,NJ]=du(DI),IJ=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=kr();return c.jsx(jJ,{scope:r,id:a,children:c.jsx(Pe.div,{role:"group","aria-labelledby":a,...n,ref:t})})});IJ.displayName=DI;var MI="SelectLabel",LI=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=NJ(MI,r);return c.jsx(Pe.div,{id:a.id,...n,ref:t})});LI.displayName=MI;var b0="SelectItem",[RJ,UI]=du(b0),BI=x.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:s,...i}=e,o=mo(b0,r),l=po(b0,r),u=o.value===n,[d,f]=x.useState(s??""),[h,m]=x.useState(!1),v=Je(t,E=>{var w;return(w=l.itemRefCallback)==null?void 0:w.call(l,E,n,a)}),p=kr(),g=x.useRef("touch"),y=()=>{a||(o.onValueChange(n),o.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(RJ,{scope:r,value:n,disabled:a,textId:p,isSelected:u,onItemTextChange:x.useCallback(E=>{f(w=>w||((E==null?void 0:E.textContent)??"").trim())},[]),children:c.jsx(xm.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:c.jsx(Pe.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...i,ref:v,onFocus:Ie(i.onFocus,()=>m(!0)),onBlur:Ie(i.onBlur,()=>m(!1)),onClick:Ie(i.onClick,()=>{g.current!=="mouse"&&y()}),onPointerUp:Ie(i.onPointerUp,()=>{g.current==="mouse"&&y()}),onPointerDown:Ie(i.onPointerDown,E=>{g.current=E.pointerType}),onPointerMove:Ie(i.onPointerMove,E=>{var w;g.current=E.pointerType,a?(w=l.onItemLeave)==null||w.call(l):g.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ie(i.onPointerLeave,E=>{var w;E.currentTarget===document.activeElement&&((w=l.onItemLeave)==null||w.call(l))}),onKeyDown:Ie(i.onKeyDown,E=>{var _;((_=l.searchRef)==null?void 0:_.current)!==""&&E.key===" "||(vJ.includes(E.key)&&y(),E.key===" "&&E.preventDefault())})})})})});BI.displayName=b0;var $u="SelectItemText",$I=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...s}=e,i=mo($u,r),o=po($u,r),l=UI($u,r),u=EJ($u,r),[d,f]=x.useState(null),h=Je(t,y=>f(y),l.onItemTextChange,y=>{var E;return(E=o.itemTextRefCallback)==null?void 0:E.call(o,y,l.value,l.disabled)}),m=d==null?void 0:d.textContent,v=x.useMemo(()=>c.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:g}=u;return gr(()=>(p(v),()=>g(v)),[p,g,v]),c.jsxs(c.Fragment,{children:[c.jsx(Pe.span,{id:l.textId,...s,ref:h}),l.isSelected&&i.valueNode&&!i.valueNodeHasChildren?fc.createPortal(s.children,i.valueNode):null]})});$I.displayName=$u;var zI="SelectItemIndicator",VI=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return UI(zI,r).isSelected?c.jsx(Pe.span,{"aria-hidden":!0,...n,ref:t}):null});VI.displayName=zI;var mx="SelectScrollUpButton",WI=x.forwardRef((e,t)=>{const r=po(mx,e.__scopeSelect),n=Jy(mx,e.__scopeSelect),[a,s]=x.useState(!1),i=Je(t,n.onScrollButtonChange);return gr(()=>{if(r.viewport&&r.isPositioned){let o=function(){const u=l.scrollTop>0;s(u)};const l=r.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),a?c.jsx(GI,{...e,ref:i,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=r;o&&l&&(o.scrollTop=o.scrollTop-l.offsetHeight)}}):null});WI.displayName=mx;var px="SelectScrollDownButton",HI=x.forwardRef((e,t)=>{const r=po(px,e.__scopeSelect),n=Jy(px,e.__scopeSelect),[a,s]=x.useState(!1),i=Je(t,n.onScrollButtonChange);return gr(()=>{if(r.viewport&&r.isPositioned){let o=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;s(d)};const l=r.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),a?c.jsx(GI,{...e,ref:i,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=r;o&&l&&(o.scrollTop=o.scrollTop+l.offsetHeight)}}):null});HI.displayName=px;var GI=x.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,s=po("SelectScrollButton",r),i=x.useRef(null),o=ym(r),l=x.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return x.useEffect(()=>()=>l(),[l]),gr(()=>{var d;const u=o().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[o]),c.jsx(Pe.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Ie(a.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:Ie(a.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:Ie(a.onPointerLeave,()=>{l()})})}),PJ="SelectSeparator",qI=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return c.jsx(Pe.div,{"aria-hidden":!0,...n,ref:t})});qI.displayName=PJ;var gx="SelectArrow",OJ=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=wm(r),s=mo(gx,r),i=po(gx,r);return s.open&&i.position==="popper"?c.jsx(R1,{...a,...n,ref:t}):null});OJ.displayName=gx;var FJ="SelectBubbleInput",JI=x.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=x.useRef(null),s=Je(n,a),i=fy(t);return x.useEffect(()=>{const o=a.current;if(!o)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(i!==t&&d){const f=new Event("change",{bubbles:!0});d.call(o,t),o.dispatchEvent(f)}},[i,t]),c.jsx(Pe.select,{...r,style:{...MT,...r.style},ref:s,defaultValue:t})});JI.displayName=FJ;function KI(e){return e===""||e===void 0}function XI(e){const t=dr(e),r=x.useRef(""),n=x.useRef(0),a=x.useCallback(i=>{const o=r.current+i;t(o),function l(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(o)},[t]),s=x.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,s]}function YI(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let i=DJ(e,Math.max(s,0));a.length===1&&(i=i.filter(u=>u!==r));const l=i.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return l!==r?l:void 0}function DJ(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var MJ=bI,ZI=kI,LJ=AI,UJ=jI,BJ=NI,QI=II,$J=FI,eR=LI,tR=BI,zJ=$I,VJ=VI,rR=WI,nR=HI,aR=qI;const nr=MJ,ar=LJ,Jt=x.forwardRef(({className:e,children:t,...r},n)=>c.jsxs(ZI,{ref:n,className:Te("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,c.jsx(UJ,{asChild:!0,children:c.jsx(fr,{className:"h-4 w-4 opacity-50"})})]}));Jt.displayName=ZI.displayName;const sR=x.forwardRef(({className:e,...t},r)=>c.jsx(rR,{ref:r,className:Te("flex cursor-default items-center justify-center py-1",e),...t,children:c.jsx(bn,{className:"h-4 w-4"})}));sR.displayName=rR.displayName;const iR=x.forwardRef(({className:e,...t},r)=>c.jsx(nR,{ref:r,className:Te("flex cursor-default items-center justify-center py-1",e),...t,children:c.jsx(fr,{className:"h-4 w-4"})}));iR.displayName=nR.displayName;const Kt=x.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>c.jsx(BJ,{children:c.jsxs(QI,{ref:a,className:Te("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[c.jsx(sR,{}),c.jsx($J,{className:Te("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),c.jsx(iR,{})]})}));Kt.displayName=QI.displayName;const WJ=x.forwardRef(({className:e,...t},r)=>c.jsx(eR,{ref:r,className:Te("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));WJ.displayName=eR.displayName;const st=x.forwardRef(({className:e,children:t,...r},n)=>c.jsxs(tR,{ref:n,className:Te("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(VJ,{children:c.jsx(ya,{className:"h-4 w-4"})})}),c.jsx(zJ,{children:t})]}));st.displayName=tR.displayName;const HJ=x.forwardRef(({className:e,...t},r)=>c.jsx(aR,{ref:r,className:Te("-mx-1 my-1 h-px bg-muted",e),...t}));HJ.displayName=aR.displayName;const GJ=()=>{const{safras:e}=vm(),[t,r]=x.useState(""),[n,a]=x.useState(""),[s,i]=x.useState(!1),o=async()=>{var u,d;if(!t||!n){ce.error("Selecione as safras de origem e destino");return}if(t===n){ce.error("As safras de origem e destino devem ser diferentes");return}i(!0);try{const{data:{user:f}}=await Ce.auth.getUser();if(!f)throw new Error("Usurio no autenticado");const{data:h,error:m}=await Ce.from("programacao_cultivares").select("*").eq("user_id",f.id).eq("safra",t);if(m)throw m;const{data:v,error:p}=await Ce.from("programacao_adubacao").select("*").eq("user_id",f.id).eq("safra_id",t);if(p)throw p;const{data:g,error:y}=await Ce.from("aplicacoes_defensivos").select("*").eq("user_id",f.id);if(y)throw y;const E=(g==null?void 0:g.map(j=>j.id))||[],{data:w,error:_}=await Ce.from("programacao_defensivos").select("*").eq("user_id",f.id).eq("safra_id",t).in("aplicacao_id",E);if(_)throw _;let T=0,b=0,S=0;if(h&&h.length>0){const j=h.map(({id:N,created_at:W,updated_at:M,...X})=>({...X,safra:n})),{error:I}=await Ce.from("programacao_cultivares").insert(j);if(I)throw I;T=j.length}if(v&&v.length>0){const j=v.map(({id:N,created_at:W,updated_at:M,...X})=>({...X,safra_id:n})),{error:I}=await Ce.from("programacao_adubacao").insert(j);if(I)throw I;b=j.length}if(g&&g.length>0)for(const j of g){const{id:I,created_at:N,updated_at:W,...M}=j,{data:X,error:B}=await Ce.from("aplicacoes_defensivos").insert(M).select().single();if(B)throw B;const z=(w==null?void 0:w.filter(Y=>Y.aplicacao_id===I))||[];if(z.length>0){const Y=z.map(({id:ne,created_at:Z,updated_at:C,...G})=>({...G,aplicacao_id:X.id,safra_id:n})),{error:F}=await Ce.from("programacao_defensivos").insert(Y);if(F)throw F;S+=Y.length}}const k=(u=e.find(j=>j.id===t))==null?void 0:u.nome,A=(d=e.find(j=>j.id===n))==null?void 0:d.nome;ce.success(`Replicao concluda! ${T} cultivares, ${b} adubaes e ${S} defensivos copiados de ${k} para ${A}`),r(""),a("")}catch(f){console.error("Erro ao replicar safras:",f),ce.error(`Erro ao replicar: ${f.message}`)}finally{i(!1)}},l=e.filter(u=>u.ativa);return c.jsx(Ue,{className:"p-6",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Replicar Programaes entre Safras"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Copie todas as programaes (cultivares, adubaes e defensivos) de uma safra para outra."})]}),c.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ue,{htmlFor:"safra-origem",children:"Safra de Origem *"}),c.jsxs(nr,{value:t,onValueChange:r,children:[c.jsx(Jt,{id:"safra-origem",children:c.jsx(ar,{placeholder:"Selecione a safra origem"})}),c.jsx(Kt,{children:l.map(u=>c.jsxs(st,{value:u.id,children:[u.nome,u.is_default&&" (Padro)"]},u.id))})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ue,{htmlFor:"safra-destino",children:"Safra de Destino *"}),c.jsxs(nr,{value:n,onValueChange:a,children:[c.jsx(Jt,{id:"safra-destino",children:c.jsx(ar,{placeholder:"Selecione a safra destino"})}),c.jsx(Kt,{children:l.map(u=>c.jsxs(st,{value:u.id,children:[u.nome,u.is_default&&" (Padro)"]},u.id))})]})]})]}),c.jsxs(ae,{onClick:o,disabled:!t||!n||s,className:"w-full",children:[c.jsx(y1,{className:"mr-2 h-4 w-4"}),s?"Replicando...":"Replicar Programaes"]})]})})},la={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},qJ=()=>{const{toast:e}=dn(),t=bt(),[r,n]=x.useState(""),{data:a=[]}=Tt({queryKey:["admin-tratamentos"],queryFn:async()=>{const u=la==null?void 0:la.VITE_API_URL,d=typeof window<"u"?window.location.hostname:"127.0.0.1",f=u||`http://${d}:5000`,h=await fetch(`${f}/tratamentos_sementes`);if(!h.ok){const v=await h.text();throw new Error(v)}const m=await h.json();return(m==null?void 0:m.items)||[]}}),s=ot({mutationFn:async({id:u,ativo:d,cultura:f})=>{const h=la==null?void 0:la.VITE_API_URL,m=typeof window<"u"?window.location.hostname:"127.0.0.1",v=h||`http://${m}:5000`,p=await fetch(`${v}/tratamentos_sementes/${u}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({ativo:d,cultura:f})});if(!p.ok){const g=await p.text();throw new Error(g)}},onSuccess:()=>{t.invalidateQueries({queryKey:["admin-tratamentos"]}),e({title:"Tratamento atualizado"})},onError:u=>{e({title:"Erro ao atualizar tratamento",description:u.message,variant:"destructive"})}}),i=ot({mutationFn:async()=>{const u=la==null?void 0:la.VITE_API_URL,d=typeof window<"u"?window.location.hostname:"127.0.0.1",f=u||`http://${d}:5000`,h=await fetch(`${f}/tratamentos_sementes`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nome:r,ativo:!0})});if(!h.ok){const m=await h.text();throw new Error(m)}},onSuccess:()=>{t.invalidateQueries({queryKey:["admin-tratamentos"]}),e({title:"Tratamento cadastrado com sucesso!"}),n("")},onError:u=>{e({title:"Erro ao cadastrar tratamento",description:u.message,variant:"destructive"})}}),o=ot({mutationFn:async u=>{const d=la==null?void 0:la.VITE_API_URL,f=typeof window<"u"?window.location.hostname:"127.0.0.1",h=d||`http://${f}:5000`,m=await fetch(`${h}/tratamentos_sementes/${u}`,{method:"DELETE"});if(!m.ok){const v=await m.text();throw new Error(v)}},onSuccess:()=>{t.invalidateQueries({queryKey:["admin-tratamentos"]}),e({title:"Tratamento excludo com sucesso!"})},onError:u=>{e({title:"Erro ao excluir tratamento",description:u.message,variant:"destructive"})}}),l=u=>{if(u.preventDefault(),!r.trim()){e({title:"Erro",description:"Digite o nome do tratamento",variant:"destructive"});return}i.mutate()};return c.jsxs(Ue,{children:[c.jsxs(vt,{children:[c.jsx(xt,{children:"Gerenciar Tratamentos de Sementes"}),c.jsx(aa,{children:"Cadastre e gerencie os tratamentos disponveis para milho e soja"})]}),c.jsxs(pt,{className:"space-y-6",children:[c.jsx("form",{onSubmit:l,className:"space-y-4",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ue,{children:"Nome do Tratamento"}),c.jsx(we,{value:r,onChange:u=>n(u.target.value),placeholder:"Ex: Tratamento Premium",required:!0})]}),c.jsx("div",{className:"flex items-end",children:c.jsxs(ae,{type:"submit",className:"w-full",disabled:i.isPending,children:[c.jsx(Xa,{className:"h-4 w-4 mr-2"}),"Adicionar"]})})]})}),c.jsx("div",{className:"border rounded-lg",children:c.jsxs(Hr,{children:[c.jsx(Gr,{children:c.jsxs(Ye,{children:[c.jsx(Ne,{children:"Nome"}),c.jsx(Ne,{children:"Status"}),c.jsx(Ne,{className:"w-[100px]",children:"Aes"})]})}),c.jsx(qr,{children:a.map(u=>c.jsxs(Ye,{children:[c.jsx(Se,{children:u.nome}),c.jsx(Se,{children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("select",{defaultValue:u.cultura||"",onChange:d=>s.mutate({id:u.id,cultura:d.target.value||null}),className:"border rounded px-2 py-1",children:[c.jsx("option",{value:"",children:"Sem cultura"}),c.jsx("option",{value:"MILHO",children:"MILHO"}),c.jsx("option",{value:"SOJA",children:"SOJA"})]}),c.jsx(ae,{variant:u.ativo?"secondary":"default",onClick:()=>s.mutate({id:u.id,ativo:!u.ativo}),disabled:s.isPending,children:u.ativo?"Desativar":"Ativar"})]})}),c.jsx(Se,{children:c.jsx(ae,{variant:"destructive",size:"icon",onClick:()=>o.mutate(u.id),disabled:o.isPending,children:c.jsx(vr,{className:"h-4 w-4"})})})]},u.id))})]})})]})]})},Rs={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},JJ=()=>{const{toast:e}=dn(),t=bt(),[r,n]=x.useState(""),{data:a=[]}=Tt({queryKey:["admin-justificativas"],queryFn:async()=>{const l=Rs==null?void 0:Rs.VITE_API_URL,u=typeof window<"u"?window.location.hostname:"127.0.0.1",d=l||`http://${u}:5000`,f=await fetch(`${d}/justificativas_adubacao`);if(!f.ok){const m=await f.text();throw new Error(m)}const h=await f.json();return(h==null?void 0:h.items)||[]}}),s=ot({mutationFn:async()=>{const l=Rs==null?void 0:Rs.VITE_API_URL,u=typeof window<"u"?window.location.hostname:"127.0.0.1",d=l||`http://${u}:5000`,f=await fetch(`${d}/justificativas_adubacao`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({descricao:r,ativo:!0})});if(!f.ok){const h=await f.text();throw new Error(h)}},onSuccess:()=>{t.invalidateQueries({queryKey:["admin-justificativas"]}),e({title:"Justificativa cadastrada com sucesso!"}),n("")},onError:l=>{e({title:"Erro ao cadastrar justificativa",description:l.message,variant:"destructive"})}}),i=ot({mutationFn:async l=>{const u=Rs==null?void 0:Rs.VITE_API_URL,d=typeof window<"u"?window.location.hostname:"127.0.0.1",f=u||`http://${d}:5000`,h=await fetch(`${f}/justificativas_adubacao/${l}`,{method:"DELETE"});if(!h.ok){const m=await h.text();throw new Error(m)}},onSuccess:()=>{t.invalidateQueries({queryKey:["admin-justificativas"]}),e({title:"Justificativa excluda com sucesso!"})},onError:l=>{e({title:"Erro ao excluir justificativa",description:l.message,variant:"destructive"})}}),o=l=>{if(l.preventDefault(),!r.trim()){e({title:"Erro",description:"Digite a descrio da justificativa",variant:"destructive"});return}s.mutate()};return c.jsxs(Ue,{children:[c.jsxs(vt,{children:[c.jsx(xt,{children:"Gerenciar Justificativas de Adubao"}),c.jsx(aa,{children:"Cadastre e gerencie as justificativas para quando o produtor no realizar adubao"})]}),c.jsxs(pt,{className:"space-y-6",children:[c.jsx("form",{onSubmit:o,className:"space-y-4",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ue,{children:"Descrio da Justificativa"}),c.jsx(we,{value:r,onChange:l=>n(l.target.value),placeholder:"Ex: Solo j adubado",required:!0})]}),c.jsx("div",{className:"flex items-end",children:c.jsxs(ae,{type:"submit",className:"w-full",disabled:s.isPending,children:[c.jsx(Xa,{className:"h-4 w-4 mr-2"}),"Adicionar"]})})]})}),c.jsx("div",{className:"border rounded-lg",children:c.jsxs(Hr,{children:[c.jsx(Gr,{children:c.jsxs(Ye,{children:[c.jsx(Ne,{children:"Descrio"}),c.jsx(Ne,{children:"Status"}),c.jsx(Ne,{className:"w-[100px]",children:"Aes"})]})}),c.jsx(qr,{children:a.map(l=>c.jsxs(Ye,{children:[c.jsx(Se,{children:l.descricao}),c.jsx(Se,{children:l.ativo?"Ativo":"Inativo"}),c.jsx(Se,{children:c.jsx(ae,{variant:"destructive",size:"icon",onClick:()=>i.mutate(l.id),disabled:i.isPending,children:c.jsx(vr,{className:"h-4 w-4"})})})]},l.id))})]})})]})]})},tg={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},KJ=()=>{const[e,t]=x.useState(null),[r,n]=x.useState(!1),[a,s]=x.useState(0),[i,o]=x.useState(!1),[l,u]=x.useState(0),[d,f]=x.useState(!1),[h,m]=x.useState(0),v=g=>{var E;const y=(E=g.target.files)==null?void 0:E[0];y&&t(y)},p=async()=>{if(!e){ce.error("Por favor, selecione um arquivo");return}n(!0),s(0),m(0);try{const g=await e.arrayBuffer(),y=_s(g),E=y.Sheets[y.SheetNames[0]],_=ho.sheet_to_json(E).map(I=>({cod_aplic:String(I["Cd. aplic."]||I.cod_aplic||"").trim(),descr_aplicacao:String(I["Descr. aplicao"]||I.descr_aplicacao||"").trim(),cod_aplic_ger:I["Cd. aplic. ger."]||I.cod_aplic_ger||null,cod_classe:String(I["Cd. classe"]||I.cod_classe||"").trim(),descricao_classe:String(I["Descrio classe"]||I.descricao_classe||"").trim(),trat_sementes:I["Trat. sementes"]||I.trat_sementes||null})).filter(I=>I.cod_aplic&&I.descr_aplicacao),T=Array.from(new Map(_.map(I=>[I.cod_aplic,I])).values()),b=tg==null?void 0:tg.VITE_API_URL,S=typeof window<"u"?window.location.hostname:"127.0.0.1",k=b||`http://${S}:5000`,A=await fetch(`${k}/calendario_aplicacoes/import`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({limpar_antes:d,items:T,user_id:null,arquivo_nome:e.name})});if(!A.ok){const I=await A.text();throw new Error(I)}const j=await A.json();m(Number((j==null?void 0:j.deleted)||0)),u(Number((j==null?void 0:j.imported)||T.length)),s(100),o(!0),ce.success(`${Number((j==null?void 0:j.imported)||T.length)} registros importados com sucesso!`),t(null),f(!1)}catch(g){console.error("Erro ao processar arquivo:",g),ce.error("Erro ao processar arquivo")}finally{n(!1)}};return c.jsxs(Ue,{children:[c.jsxs(vt,{children:[c.jsx(xt,{children:"Importar Calendrio de Aplicaes"}),c.jsx(aa,{children:"Faa upload de uma planilha Excel com as colunas: Cd. aplic., Descr. aplicao, Cd. aplic. ger., Cd. classe, Descrio classe, Trat. sementes"})]}),c.jsxs(pt,{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(we,{type:"file",accept:".xlsx,.xls",onChange:v,disabled:r}),c.jsx(ae,{onClick:p,disabled:r||!e,children:r?"Importando...":"Importar"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Ot,{id:"limpar-antes",checked:d,onCheckedChange:g=>f(g),disabled:r}),c.jsx(ue,{htmlFor:"limpar-antes",className:"cursor-pointer text-sm",children:"Limpar todos os registros antes de importar"})]}),r&&c.jsxs("div",{className:"space-y-2",children:[c.jsx(ni,{value:a}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Importando: ",a,"%"]})]}),c.jsx(jn,{open:i,onOpenChange:o,children:c.jsxs(hn,{children:[c.jsxs(mn,{children:[c.jsx(gn,{children:"Importao Concluda"}),c.jsxs(vn,{children:[h>0&&c.jsxs(c.Fragment,{children:[h," registros foram removidos.",c.jsx("br",{})]}),l," registros foram importados com sucesso."]})]}),c.jsx(pn,{children:c.jsx(si,{onClick:()=>o(!1),children:"OK"})})]})})]})]})};function rs(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function cc(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const oR=6048e5,XJ=864e5;let YJ={};function Em(){return YJ}function Vd(e,t){var o,l,u,d;const r=Em(),n=(t==null?void 0:t.weekStartsOn)??((l=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=rs(e),s=a.getDay(),i=(s<n?7:0)+s-n;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function T0(e){return Vd(e,{weekStartsOn:1})}function cR(e){const t=rs(e),r=t.getFullYear(),n=cc(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=T0(n),s=cc(e,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const i=T0(s);return t.getTime()>=a.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function qS(e){const t=rs(e);return t.setHours(0,0,0,0),t}function JS(e){const t=rs(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function ZJ(e,t){const r=qS(e),n=qS(t),a=+r-JS(r),s=+n-JS(n);return Math.round((a-s)/XJ)}function QJ(e){const t=cR(e),r=cc(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),T0(r)}function eK(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function tK(e){if(!eK(e)&&typeof e!="number")return!1;const t=rs(e);return!isNaN(Number(t))}function rK(e){const t=rs(e),r=cc(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const nK={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},aK=(e,t,r)=>{let n;const a=nK[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function vl(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const sK={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},iK={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},oK={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},cK={date:vl({formats:sK,defaultWidth:"full"}),time:vl({formats:iK,defaultWidth:"full"}),dateTime:vl({formats:oK,defaultWidth:"full"})},lK={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},uK=(e,t,r,n)=>lK[e];function ms(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):i;a=e.formattingValues[o]||e.formattingValues[i]}else{const i=e.defaultWidth,o=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[o]||e.values[i]}const s=e.argumentCallback?e.argumentCallback(t):t;return a[s]}}const dK={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},fK={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},hK={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},mK={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},pK={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},gK={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},vK=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},xK={ordinalNumber:vK,era:ms({values:dK,defaultWidth:"wide"}),quarter:ms({values:fK,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ms({values:hK,defaultWidth:"wide"}),day:ms({values:mK,defaultWidth:"wide"}),dayPeriod:ms({values:pK,defaultWidth:"wide",formattingValues:gK,defaultFormattingWidth:"wide"})};function ps(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;const i=s[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?wK(o,f=>f.test(i)):yK(o,f=>f.test(i));let u;u=e.valueCallback?e.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(i.length);return{value:u,rest:d}}}function yK(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function wK(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function lR(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],s=t.match(e.parsePattern);if(!s)return null;let i=e.valueCallback?e.valueCallback(s[0]):s[0];i=r.valueCallback?r.valueCallback(i):i;const o=t.slice(a.length);return{value:i,rest:o}}}const EK=/^(\d+)(th|st|nd|rd)?/i,_K=/\d+/i,SK={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},bK={any:[/^b/i,/^(a|c)/i]},TK={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},kK={any:[/1/i,/2/i,/3/i,/4/i]},CK={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},AK={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},jK={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},NK={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},IK={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},RK={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},PK={ordinalNumber:lR({matchPattern:EK,parsePattern:_K,valueCallback:e=>parseInt(e,10)}),era:ps({matchPatterns:SK,defaultMatchWidth:"wide",parsePatterns:bK,defaultParseWidth:"any"}),quarter:ps({matchPatterns:TK,defaultMatchWidth:"wide",parsePatterns:kK,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ps({matchPatterns:CK,defaultMatchWidth:"wide",parsePatterns:AK,defaultParseWidth:"any"}),day:ps({matchPatterns:jK,defaultMatchWidth:"wide",parsePatterns:NK,defaultParseWidth:"any"}),dayPeriod:ps({matchPatterns:IK,defaultMatchWidth:"any",parsePatterns:RK,defaultParseWidth:"any"})},OK={code:"en-US",formatDistance:aK,formatLong:cK,formatRelative:uK,localize:xK,match:PK,options:{weekStartsOn:0,firstWeekContainsDate:1}};function FK(e){const t=rs(e);return ZJ(t,rK(t))+1}function DK(e){const t=rs(e),r=+T0(t)-+QJ(t);return Math.round(r/oR)+1}function uR(e,t){var d,f,h,m;const r=rs(e),n=r.getFullYear(),a=Em(),s=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(h=a.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,i=cc(e,0);i.setFullYear(n+1,0,s),i.setHours(0,0,0,0);const o=Vd(i,t),l=cc(e,0);l.setFullYear(n,0,s),l.setHours(0,0,0,0);const u=Vd(l,t);return r.getTime()>=o.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function MK(e,t){var o,l,u,d;const r=Em(),n=(t==null?void 0:t.firstWeekContainsDate)??((l=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=uR(e,t),s=cc(e,0);return s.setFullYear(a,0,n),s.setHours(0,0,0,0),Vd(s,t)}function LK(e,t){const r=rs(e),n=+Vd(r,t)-+MK(r,t);return Math.round(n/oR)+1}function ft(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const di={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return ft(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):ft(r+1,2)},d(e,t){return ft(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return ft(e.getHours()%12||12,t.length)},H(e,t){return ft(e.getHours(),t.length)},m(e,t){return ft(e.getMinutes(),t.length)},s(e,t){return ft(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return ft(a,t.length)}},Oc={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},KS={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return di.y(e,t)},Y:function(e,t,r,n){const a=uR(e,n),s=a>0?a:1-a;if(t==="YY"){const i=s%100;return ft(i,2)}return t==="Yo"?r.ordinalNumber(s,{unit:"year"}):ft(s,t.length)},R:function(e,t){const r=cR(e);return ft(r,t.length)},u:function(e,t){const r=e.getFullYear();return ft(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return ft(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return ft(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return di.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return ft(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=LK(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):ft(a,t.length)},I:function(e,t,r){const n=DK(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):ft(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):di.d(e,t)},D:function(e,t,r){const n=FK(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):ft(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return ft(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return ft(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return ft(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Oc.noon:n===0?a=Oc.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Oc.evening:n>=12?a=Oc.afternoon:n>=4?a=Oc.morning:a=Oc.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return di.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):di.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):ft(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):ft(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):di.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):di.s(e,t)},S:function(e,t){return di.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return YS(n);case"XXXX":case"XX":return So(n);case"XXXXX":case"XXX":default:return So(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return YS(n);case"xxxx":case"xx":return So(n);case"xxxxx":case"xxx":default:return So(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+XS(n,":");case"OOOO":default:return"GMT"+So(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+XS(n,":");case"zzzz":default:return"GMT"+So(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return ft(n,t.length)},T:function(e,t,r){const n=e.getTime();return ft(n,t.length)}};function XS(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),s=n%60;return s===0?r+String(a):r+String(a)+t+ft(s,2)}function YS(e,t){return e%60===0?(e>0?"-":"+")+ft(Math.abs(e)/60,2):So(e,t)}function So(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=ft(Math.trunc(n/60),2),s=ft(n%60,2);return r+a+t+s}const ZS=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},dR=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},UK=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return ZS(e,t);let s;switch(n){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",ZS(n,t)).replace("{{time}}",dR(a,t))},BK={p:dR,P:UK},$K=/^D+$/,zK=/^Y+$/,VK=["D","DD","YY","YYYY"];function WK(e){return $K.test(e)}function HK(e){return zK.test(e)}function GK(e,t,r){const n=qK(e,t,r);if(console.warn(n),VK.includes(e))throw new RangeError(n)}function qK(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const JK=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,KK=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,XK=/^'([^]*?)'?$/,YK=/''/g,ZK=/[a-zA-Z]/;function QK(e,t,r){var d,f,h,m,v,p,g,y;const n=Em(),a=(r==null?void 0:r.locale)??n.locale??OK,s=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,i=(r==null?void 0:r.weekStartsOn)??((p=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:p.weekStartsOn)??n.weekStartsOn??((y=(g=n.locale)==null?void 0:g.options)==null?void 0:y.weekStartsOn)??0,o=rs(e);if(!tK(o))throw new RangeError("Invalid time value");let l=t.match(KK).map(E=>{const w=E[0];if(w==="p"||w==="P"){const _=BK[w];return _(E,a.formatLong)}return E}).join("").match(JK).map(E=>{if(E==="''")return{isToken:!1,value:"'"};const w=E[0];if(w==="'")return{isToken:!1,value:eX(E)};if(KS[w])return{isToken:!0,value:E};if(w.match(ZK))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:E}});a.localize.preprocessor&&(l=a.localize.preprocessor(o,l));const u={firstWeekContainsDate:s,weekStartsOn:i,locale:a};return l.map(E=>{if(!E.isToken)return E.value;const w=E.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&HK(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&WK(w))&&GK(w,t,String(e));const _=KS[w[0]];return _(o,w,a.localize,u)}).join("")}function eX(e){const t=e.match(XK);return t?t[1].replace(YK,"'"):e}const tX={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},rX=(e,t,r)=>{let n;const a=tX[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+n:"h "+n:n},nX={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},aX={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},sX={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},iX={date:vl({formats:nX,defaultWidth:"full"}),time:vl({formats:aX,defaultWidth:"full"}),dateTime:vl({formats:sX,defaultWidth:"full"})},oX={lastWeek:e=>{const t=e.getDay();return"'"+(t===0||t===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},cX=(e,t,r,n)=>{const a=oX[e];return typeof a=="function"?a(t):a},lX={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},uX={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},dX={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},fX={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},hX={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},mX={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},pX=(e,t)=>{const r=Number(e);return(t==null?void 0:t.unit)==="week"?r+"":r+""},gX={ordinalNumber:pX,era:ms({values:lX,defaultWidth:"wide"}),quarter:ms({values:uX,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ms({values:dX,defaultWidth:"wide"}),day:ms({values:fX,defaultWidth:"wide"}),dayPeriod:ms({values:hX,defaultWidth:"wide",formattingValues:mX,defaultFormattingWidth:"wide"})},vX=/^(\d+)[o]?/i,xX=/\d+/i,yX={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},wX={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},EX={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},_X={any:[/1/i,/2/i,/3/i,/4/i]},SX={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},bX={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},TX={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},kX={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},CX={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},AX={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},jX={ordinalNumber:lR({matchPattern:vX,parsePattern:xX,valueCallback:e=>parseInt(e,10)}),era:ps({matchPatterns:yX,defaultMatchWidth:"wide",parsePatterns:wX,defaultParseWidth:"any"}),quarter:ps({matchPatterns:EX,defaultMatchWidth:"wide",parsePatterns:_X,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ps({matchPatterns:SX,defaultMatchWidth:"wide",parsePatterns:bX,defaultParseWidth:"any"}),day:ps({matchPatterns:TX,defaultMatchWidth:"wide",parsePatterns:kX,defaultParseWidth:"any"}),dayPeriod:ps({matchPatterns:CX,defaultMatchWidth:"any",parsePatterns:AX,defaultParseWidth:"any"})},NX={code:"pt-BR",formatDistance:rX,formatLong:iX,formatRelative:cX,localize:gX,match:jX,options:{weekStartsOn:0,firstWeekContainsDate:1}},IX=()=>{const{data:e=[],isLoading:t}=Tt({queryKey:["import-history"],queryFn:async()=>{const{data:n,error:a}=await Ce.from("import_history").select("*").order("created_at",{ascending:!1}).limit(100);if(a)throw a;return n}}),r=n=>({calendario_aplicacoes:"Calendrio de Aplicaes",cultivares_catalog:"Cultivares",defensivos_catalog:"Defensivos",fertilizantes_catalog:"Fertilizantes",produtores:"Produtores",fazendas:"Fazendas",consultores:"Consultores"})[n]||n;return t?c.jsx(Ue,{children:c.jsx(pt,{className:"py-8",children:c.jsx("p",{className:"text-center text-muted-foreground",children:"Carregando histrico..."})})}):c.jsxs(Ue,{children:[c.jsxs(vt,{children:[c.jsx(xt,{children:"Histrico de Importaes"}),c.jsx(aa,{children:"ltimas 100 importaes realizadas no sistema"})]}),c.jsx(pt,{children:c.jsx("div",{className:"border rounded-lg",children:c.jsxs(Hr,{children:[c.jsx(Gr,{children:c.jsxs(Ye,{children:[c.jsx(Ne,{children:"Data/Hora"}),c.jsx(Ne,{children:"Tabela"}),c.jsx(Ne,{children:"Arquivo"}),c.jsx(Ne,{className:"text-right",children:"Importados"}),c.jsx(Ne,{className:"text-right",children:"Deletados"}),c.jsx(Ne,{className:"text-center",children:"Limpou Antes"})]})}),c.jsx(qr,{children:e.length===0?c.jsx(Ye,{children:c.jsx(Se,{colSpan:6,className:"text-center text-muted-foreground",children:"Nenhuma importao registrada"})}):e.map(n=>c.jsxs(Ye,{children:[c.jsx(Se,{className:"whitespace-nowrap",children:QK(new Date(n.created_at),"dd/MM/yyyy HH:mm",{locale:NX})}),c.jsx(Se,{children:r(n.tabela_nome)}),c.jsx(Se,{className:"max-w-[200px] truncate",title:n.arquivo_nome||"",children:n.arquivo_nome||"-"}),c.jsx(Se,{className:"text-right font-medium text-green-600",children:n.registros_importados}),c.jsx(Se,{className:"text-right font-medium text-red-600",children:n.registros_deletados}),c.jsx(Se,{className:"text-center",children:n.limpar_antes?c.jsx(ht,{variant:"destructive",children:"Sim"}):c.jsx(ht,{variant:"secondary",children:"No"})})]},n.id))})]})})})]})},fR=()=>{const{toast:e}=dn(),t=bt(),{data:r,isLoading:n,error:a}=Tt({queryKey:["usuarios"],queryFn:async()=>{const{data:i,error:o}=await Ce.from("profiles").select("*").order("created_at",{ascending:!1});if(o)throw o;const l=[];for(const u of i||[]){const{data:d}=await Ce.from("user_roles").select("role").eq("user_id",u.user_id).maybeSingle();l.push({id:u.user_id,email:u.user_id,nome:u.nome,numerocm_consultor:u.numerocm_consultor,ativo:u.ativo,role:(d==null?void 0:d.role)||null,created_at:u.created_at||""})}return l}}),s=ot({mutationFn:async({userId:i,updates:o})=>{const{nome:l,numerocm_consultor:u,ativo:d,role:f}=o;if(l!==void 0||u!==void 0||d!==void 0){const{error:h}=await Ce.from("profiles").update({...l!==void 0&&{nome:l},...u!==void 0&&{numerocm_consultor:u},...d!==void 0&&{ativo:d}}).eq("user_id",i);if(h)throw h}if(f!==void 0&&(await Ce.from("user_roles").delete().eq("user_id",i),f)){const{error:h}=await Ce.from("user_roles").insert([{user_id:i,role:f}]);if(h)throw h}},onSuccess:()=>{t.invalidateQueries({queryKey:["usuarios"]}),e({title:"Usurio atualizado",description:"As informaes foram salvas com sucesso."})},onError:i=>{e({title:"Erro ao atualizar usurio",description:i.message,variant:"destructive"})}});return{usuarios:r,isLoading:n,error:a,updateUsuario:s.mutate,isUpdating:s.isPending}};var _m="Switch",[RX,VZ]=Vr(_m),[PX,OX]=RX(_m),hR=x.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:s,required:i,disabled:o,value:l="on",onCheckedChange:u,form:d,...f}=e,[h,m]=x.useState(null),v=Je(t,w=>m(w)),p=x.useRef(!1),g=h?d||!!h.closest("form"):!0,[y,E]=Ta({prop:a,defaultProp:s??!1,onChange:u,caller:_m});return c.jsxs(PX,{scope:r,checked:y,disabled:o,children:[c.jsx(Pe.button,{type:"button",role:"switch","aria-checked":y,"aria-required":i,"data-state":vR(y),"data-disabled":o?"":void 0,disabled:o,value:l,...f,ref:v,onClick:Ie(e.onClick,w=>{E(_=>!_),g&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})}),g&&c.jsx(gR,{control:h,bubbles:!p.current,name:n,value:l,checked:y,required:i,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});hR.displayName=_m;var mR="SwitchThumb",pR=x.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=OX(mR,r);return c.jsx(Pe.span,{"data-state":vR(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});pR.displayName=mR;var FX="SwitchBubbleInput",gR=x.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},s)=>{const i=x.useRef(null),o=Je(i,s),l=fy(r),u=A1(t);return x.useEffect(()=>{const d=i.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&m){const v=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(v)}},[l,r,n]),c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:o,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});gR.displayName=FX;function vR(e){return e?"checked":"unchecked"}var xR=hR,DX=pR;const yR=x.forwardRef(({className:e,...t},r)=>c.jsx(xR,{className:Te("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:c.jsx(DX,{className:Te("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));yR.displayName=xR.displayName;const MX=()=>{const{usuarios:e,isLoading:t,updateUsuario:r}=fR(),{toast:n}=dn(),[a,s]=x.useState(null),[i,o]=x.useState(!1),[l,u]=x.useState(!1),[d,f]=x.useState({email:"",senha:"",nome:"",numerocm_consultor:"",role:"user"}),h=p=>{s({id:p.id,nome:p.nome||"",numerocm_consultor:p.numerocm_consultor||"",ativo:p.ativo,role:p.role||"user"}),o(!0)},m=()=>{a&&r({userId:a.id,updates:{nome:a.nome,numerocm_consultor:a.numerocm_consultor,ativo:a.ativo,role:a.role}},{onSuccess:()=>{o(!1),s(null)}})},v=async()=>{try{const{data:p,error:g}=await Ce.functions.invoke("admin-create-user",{body:{email:d.email,password:d.senha,nome:d.nome,numerocm_consultor:d.numerocm_consultor,role:d.role}});if(g)throw g;if(p!=null&&p.error)throw new Error(p.error);n({title:"Usurio criado",description:"O novo usurio foi criado com sucesso."}),u(!1),f({email:"",senha:"",nome:"",numerocm_consultor:"",role:"user"}),window.location.reload()}catch(p){n({title:"Erro ao criar usurio",description:p.message,variant:"destructive"})}};return t?c.jsx("div",{children:"Carregando usurios..."}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-2xl font-bold",children:"Gerenciar Usurios"}),c.jsxs(ka,{open:l,onOpenChange:u,children:[c.jsx(cB,{asChild:!0,children:c.jsxs(ae,{children:[c.jsx(QF,{className:"mr-2 h-4 w-4"}),"Novo Usurio"]})}),c.jsxs(Zn,{children:[c.jsxs(Qn,{children:[c.jsx(ea,{children:"Criar Novo Usurio"}),c.jsx(Yv,{children:"Preencha os dados do novo usurio"})]}),c.jsxs("div",{className:"space-y-4 py-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ue,{htmlFor:"new-email",children:"Email"}),c.jsx(we,{id:"new-email",type:"email",value:d.email,onChange:p=>f({...d,email:p.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ue,{htmlFor:"new-senha",children:"Senha"}),c.jsx(we,{id:"new-senha",type:"password",value:d.senha,onChange:p=>f({...d,senha:p.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ue,{htmlFor:"new-nome",children:"Nome"}),c.jsx(we,{id:"new-nome",value:d.nome,onChange:p=>f({...d,nome:p.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ue,{htmlFor:"new-numerocm",children:"Nmero CM"}),c.jsx(we,{id:"new-numerocm",value:d.numerocm_consultor,onChange:p=>f({...d,numerocm_consultor:p.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ue,{htmlFor:"new-role",children:"Papel"}),c.jsxs(nr,{value:d.role,onValueChange:p=>f({...d,role:p}),children:[c.jsx(Jt,{id:"new-role",children:c.jsx(ar,{})}),c.jsxs(Kt,{children:[c.jsx(st,{value:"user",children:"Usurio"}),c.jsx(st,{value:"consultor",children:"Consultor"}),c.jsx(st,{value:"gestor",children:"Gestor"}),c.jsx(st,{value:"admin",children:"Administrador"})]})]})]})]}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx(ae,{variant:"outline",onClick:()=>u(!1),children:"Cancelar"}),c.jsx(ae,{onClick:v,children:"Criar Usurio"})]})]})]})]}),c.jsxs(Hr,{children:[c.jsx(Gr,{children:c.jsxs(Ye,{children:[c.jsx(Ne,{children:"Email"}),c.jsx(Ne,{children:"Nome"}),c.jsx(Ne,{children:"Nmero CM"}),c.jsx(Ne,{children:"Papel"}),c.jsx(Ne,{children:"Status"}),c.jsx(Ne,{children:"Aes"})]})}),c.jsx(qr,{children:e==null?void 0:e.map(p=>c.jsxs(Ye,{children:[c.jsx(Se,{children:p.email}),c.jsx(Se,{children:p.nome||"-"}),c.jsx(Se,{children:p.numerocm_consultor||"-"}),c.jsx(Se,{children:p.role==="admin"?"Administrador":p.role==="gestor"?"Gestor":p.role==="consultor"?"Consultor":"Usurio"}),c.jsx(Se,{children:c.jsx("span",{className:p.ativo?"text-green-600 font-medium":"text-red-600 font-medium",children:p.ativo?"Ativo":"Inativo"})}),c.jsx(Se,{children:c.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>h(p),children:c.jsx(Qa,{className:"h-4 w-4"})})})]},p.id))})]}),c.jsx(ka,{open:i,onOpenChange:o,children:c.jsxs(Zn,{children:[c.jsxs(Qn,{children:[c.jsx(ea,{children:"Editar Usurio"}),c.jsx(Yv,{children:"Altere as informaes do usurio"})]}),a&&c.jsxs("div",{className:"space-y-4 py-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ue,{htmlFor:"nome",children:"Nome"}),c.jsx(we,{id:"nome",value:a.nome,onChange:p=>s({...a,nome:p.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ue,{htmlFor:"numerocm",children:"Nmero CM"}),c.jsx(we,{id:"numerocm",value:a.numerocm_consultor,onChange:p=>s({...a,numerocm_consultor:p.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ue,{htmlFor:"role",children:"Papel"}),c.jsxs(nr,{value:a.role,onValueChange:p=>s({...a,role:p}),children:[c.jsx(Jt,{id:"role",children:c.jsx(ar,{})}),c.jsxs(Kt,{children:[c.jsx(st,{value:"user",children:"Usurio"}),c.jsx(st,{value:"consultor",children:"Consultor"}),c.jsx(st,{value:"gestor",children:"Gestor"}),c.jsx(st,{value:"admin",children:"Administrador"})]})]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(ue,{htmlFor:"ativo",children:"Usurio Ativo"}),c.jsx(yR,{id:"ativo",checked:a.ativo,onCheckedChange:p=>s({...a,ativo:p})})]})]}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx(ae,{variant:"outline",onClick:()=>o(!1),children:"Cancelar"}),c.jsx(ae,{onClick:m,children:"Salvar"})]})]})})]})},rg={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},Ky=()=>{const{data:e,isLoading:t,error:r}=Tt({queryKey:["consultores"],queryFn:async()=>{const n=rg==null?void 0:rg.VITE_API_URL,a=typeof window<"u"?window.location.hostname:"127.0.0.1",s=n||`http://${a}:5000`,i=await fetch(`${s}/consultores`);if(!i.ok)throw new Error(`Erro ao carregar consultores: ${i.status}`);const o=await i.json();return(o==null?void 0:o.items)??[]}});return{data:e??[],isLoading:t,error:r}},Fc={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},LX=()=>{const{data:e=[],isLoading:t,error:r}=Ky(),[n,a]=x.useState(""),[s,i]=x.useState("consultor"),[o,l]=x.useState("asc"),[u,d]=x.useState(1),[f,h]=x.useState(10),[m,v]=x.useState(null),[p,g]=x.useState(null),[y,E]=x.useState(""),[w,_]=x.useState(""),T=bt(),b=x.useMemo(()=>{const M=n.trim().toLowerCase();return M?(e||[]).filter(X=>`${X.numerocm_consultor??""} ${X.consultor??""} ${X.email??""}`.toLowerCase().includes(M)):e},[e,n]),S=x.useMemo(()=>{const M=[...b];return M.sort((X,B)=>{const z=String(X[s]??"").toLowerCase(),Y=String(B[s]??"").toLowerCase();return z<Y?o==="asc"?-1:1:z>Y?o==="asc"?1:-1:0}),M},[b,s,o]),k=Math.max(1,Math.ceil(S.length/f)),A=x.useMemo(()=>{const M=(u-1)*f;return S.slice(M,M+f)},[S,u,f]),j=M=>{s===M?l(X=>X==="asc"?"desc":"asc"):(i(M),l("asc"))},I=async M=>{try{const X=Fc==null?void 0:Fc.VITE_API_URL,B=typeof window<"u"?window.location.hostname:"127.0.0.1",z=X||`http://${B}:5000`,Y=await fetch(`${z}/consultores/${M}`,{method:"DELETE"});if(!Y.ok)throw new Error(`Erro ao remover consultor: ${Y.status}`);ce.success("Consultor removido"),T.invalidateQueries({queryKey:["consultores"]})}catch(X){ce.error(X.message||"Erro ao remover consultor")}finally{v(null)}},N=M=>{g(M),E(M.consultor??""),_(M.email??"")},W=async()=>{if(p)try{const M=Fc==null?void 0:Fc.VITE_API_URL,X=typeof window<"u"?window.location.hostname:"127.0.0.1",B=M||`http://${X}:5000`,z=await fetch(`${B}/consultores/${p.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({consultor:y,email:w})});if(!z.ok)throw new Error(`Erro ao atualizar consultor: ${z.status}`);ce.success("Consultor atualizado"),T.invalidateQueries({queryKey:["consultores"]}),g(null)}catch(M){ce.error(M.message||"Erro ao atualizar consultor")}};return c.jsxs(Ue,{children:[c.jsx(vt,{children:c.jsx(xt,{children:"Consultores"})}),c.jsxs(pt,{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(we,{placeholder:"Buscar por nome, CM consultor, email...",value:n,onChange:M=>a(M.target.value)}),c.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[c.jsx(ue,{htmlFor:"pageSize",className:"text-xs",children:"Itens/pgina"}),c.jsxs("select",{id:"pageSize",className:"border rounded h-8 px-2 text-sm",value:f,onChange:M=>{h(Number(M.target.value)),d(1)},children:[c.jsx("option",{value:10,children:"10"}),c.jsx("option",{value:20,children:"20"}),c.jsx("option",{value:50,children:"50"})]})]})]}),t?c.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando consultores..."}):r?c.jsx("p",{className:"text-sm text-destructive",children:"Erro ao carregar consultores."}):c.jsxs(Hr,{children:[c.jsx(Gr,{children:c.jsxs(Ye,{children:[c.jsx(Ne,{className:"w-[160px]",children:c.jsxs("button",{className:"flex items-center gap-1",onClick:()=>j("numerocm_consultor"),children:["CM Consultor ",s==="numerocm_consultor"&&(o==="asc"?c.jsx(bn,{className:"h-3 w-3"}):c.jsx(fr,{className:"h-3 w-3"}))]})}),c.jsx(Ne,{children:c.jsxs("button",{className:"flex items-center gap-1",onClick:()=>j("consultor"),children:["Nome ",s==="consultor"&&(o==="asc"?c.jsx(bn,{className:"h-3 w-3"}):c.jsx(fr,{className:"h-3 w-3"}))]})}),c.jsx(Ne,{children:c.jsxs("button",{className:"flex items-center gap-1",onClick:()=>j("email"),children:["Email ",s==="email"&&(o==="asc"?c.jsx(bn,{className:"h-3 w-3"}):c.jsx(fr,{className:"h-3 w-3"}))]})}),c.jsx(Ne,{className:"w-[120px]",children:"Aes"})]})}),c.jsxs(qr,{children:[A.map(M=>c.jsxs(Ye,{children:[c.jsx(Se,{children:M.numerocm_consultor}),c.jsx(Se,{children:M.consultor}),c.jsx(Se,{children:M.email}),c.jsx(Se,{children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>N(M),children:[c.jsx(Qa,{className:"h-3.5 w-3.5"})," Editar"]}),c.jsxs(ae,{variant:"destructive",size:"sm",onClick:()=>v(M.id),children:[c.jsx(vr,{className:"h-3.5 w-3.5"})," Excluir"]})]})})]},M.id)),A.length===0&&c.jsx(Ye,{children:c.jsx(Se,{colSpan:4,className:"text-muted-foreground",children:"Nenhum resultado encontrado."})})]})]}),c.jsxs("div",{className:"flex items-center justify-between mt-3",children:[c.jsxs("div",{className:"text-xs text-muted-foreground",children:["Pgina ",u," de ",k]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ae,{variant:"outline",size:"sm",disabled:u<=1,onClick:()=>d(M=>Math.max(1,M-1)),children:"Anterior"}),c.jsx(ae,{variant:"outline",size:"sm",disabled:u>=k,onClick:()=>d(M=>Math.min(k,M+1)),children:"Prxima"})]})]}),c.jsx(jn,{open:!!m,onOpenChange:M=>!M&&v(null),children:c.jsxs(hn,{children:[c.jsxs(mn,{children:[c.jsx(gn,{children:"Excluir consultor?"}),c.jsx(vn,{children:"Esta ao no pode ser desfeita. O consultor ser removido da base."})]}),c.jsxs(pn,{children:[c.jsx(sa,{children:"Cancelar"}),c.jsx(si,{onClick:()=>m&&I(m),children:"Excluir"})]})]})}),c.jsx(ka,{open:!!p,onOpenChange:M=>!M&&g(null),children:c.jsxs(Zn,{children:[c.jsx(Qn,{children:c.jsx(ea,{children:"Editar consultor"})}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx(ue,{children:"Nome"}),c.jsx(we,{value:y,onChange:M=>E(M.target.value)})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(ue,{children:"Email"}),c.jsx(we,{value:w,onChange:M=>_(M.target.value)})]})]}),c.jsxs(ts,{children:[c.jsx(ae,{variant:"outline",onClick:()=>g(null),children:"Cancelar"}),c.jsx(ae,{onClick:W,children:"Salvar"})]})]})})]})]})},ng={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},UX=()=>{const{data:e=[],isLoading:t,error:r}=mc(),[n,a]=x.useState(""),[s,i]=x.useState("nome"),[o,l]=x.useState("asc"),[u,d]=x.useState(1),[f,h]=x.useState(10),[m,v]=x.useState(null),p=bt(),g=x.useMemo(()=>{const b=n.trim().toLowerCase();return b?(e||[]).filter(S=>`${S.numerocm??""} ${S.nome??""} ${S.consultor??""} ${S.numerocm_consultor??""}`.toLowerCase().includes(b)):e},[e,n]),y=x.useMemo(()=>{const b=[...g];return b.sort((S,k)=>{const A=String(S[s]??"").toLowerCase(),j=String(k[s]??"").toLowerCase();return A<j?o==="asc"?-1:1:A>j?o==="asc"?1:-1:0}),b},[g,s,o]),E=Math.max(1,Math.ceil(y.length/f)),w=x.useMemo(()=>{const b=(u-1)*f;return y.slice(b,b+f)},[y,u,f]),_=b=>{s===b?l(S=>S==="asc"?"desc":"asc"):(i(b),l("asc"))},T=async b=>{try{const S=ng==null?void 0:ng.VITE_API_URL,k=typeof window<"u"?window.location.hostname:"127.0.0.1",A=S||`http://${k}:5000`,j=await fetch(`${A}/produtores/${b}`,{method:"DELETE"});if(!j.ok){const I=await j.text();throw new Error(I)}ce.success("Produtor removido"),p.invalidateQueries({queryKey:["produtores","by-consultor"]})}catch(S){ce.error(S.message||"Erro ao remover produtor")}finally{v(null)}};return c.jsxs(Ue,{children:[c.jsx(vt,{children:c.jsx(xt,{children:"Produtores"})}),c.jsxs(pt,{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(we,{placeholder:"Buscar por nome, nmero CM, consultor...",value:n,onChange:b=>a(b.target.value)}),c.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[c.jsx(ue,{htmlFor:"pageSize",className:"text-xs",children:"Itens/pgina"}),c.jsxs("select",{id:"pageSize",className:"border rounded h-8 px-2 text-sm",value:f,onChange:b=>{h(Number(b.target.value)),d(1)},children:[c.jsx("option",{value:10,children:"10"}),c.jsx("option",{value:20,children:"20"}),c.jsx("option",{value:50,children:"50"})]})]})]}),t?c.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando produtores..."}):r?c.jsx("p",{className:"text-sm text-destructive",children:"Erro ao carregar produtores."}):c.jsxs(Hr,{className:"w-full",children:[c.jsx(Gr,{children:c.jsxs(Ye,{children:[c.jsx(Ne,{children:c.jsxs("button",{className:"flex items-center gap-1",onClick:()=>_("nome"),children:["Produtor ",s==="nome"&&(o==="asc"?c.jsx(bn,{className:"h-3 w-3"}):c.jsx(fr,{className:"h-3 w-3"}))]})}),c.jsx(Ne,{className:"w-[120px]",children:"Ao"})]})}),c.jsxs(qr,{children:[w.map(b=>c.jsxs(Ye,{children:[c.jsx(Se,{children:c.jsxs("span",{className:"block whitespace-normal break-words",title:`${b.numerocm??""} - ${b.nome??""}`,children:[b.numerocm,b.nome?` - ${b.nome}`:""]})}),c.jsx(Se,{children:c.jsx("div",{className:"flex items-center gap-2",children:c.jsxs(ae,{variant:"destructive",size:"sm",onClick:()=>v(b.id),children:[c.jsx(vr,{className:"h-3.5 w-3.5"})," Excluir"]})})})]},b.id)),w.length===0&&c.jsx(Ye,{children:c.jsx(Se,{colSpan:3,className:"text-muted-foreground",children:"Nenhum resultado encontrado."})})]})]}),c.jsxs("div",{className:"flex items-center justify-between mt-3",children:[c.jsxs("div",{className:"text-xs text-muted-foreground",children:["Pgina ",u," de ",E]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ae,{variant:"outline",size:"sm",disabled:u<=1,onClick:()=>d(b=>Math.max(1,b-1)),children:"Anterior"}),c.jsx(ae,{variant:"outline",size:"sm",disabled:u>=E,onClick:()=>d(b=>Math.min(E,b+1)),children:"Prxima"})]})]}),c.jsx(jn,{open:!!m,onOpenChange:b=>!b&&v(null),children:c.jsxs(hn,{children:[c.jsxs(mn,{children:[c.jsx(gn,{children:"Excluir produtor?"}),c.jsx(vn,{children:"Esta ao no pode ser desfeita. O produtor ser removido da base."})]}),c.jsxs(pn,{children:[c.jsx(sa,{children:"Cancelar"}),c.jsx(si,{onClick:()=>m&&T(m),children:"Excluir"})]})]})})]})]})},ag={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},BX=()=>{const{data:e=[],isLoading:t,error:r}=eo(),[n,a]=x.useState(""),[s,i]=x.useState("nomefazenda"),[o,l]=x.useState("asc"),[u,d]=x.useState(1),[f,h]=x.useState(10),[m,v]=x.useState(null),[p,g]=x.useState(null),[y,E]=x.useState(""),[w,_]=x.useState(""),T=bt(),{data:b=[]}=Ky(),{data:S=[]}=mc(),k=x.useMemo(()=>{const B=n.trim().toLowerCase();return B?(e||[]).filter(z=>{var C,G,L;const Y=((C=S.find(D=>String(D.numerocm||"")===String(z.numerocm||"")))==null?void 0:C.nome)||"",F=((G=b.find(D=>String(D.numerocm_consultor||"")===String(z.numerocm_consultor||"")))==null?void 0:G.consultor)||"",ne=((L=b.find(D=>String(D.numerocm_consultor||"")===String(z.numerocm_consultor||"")))==null?void 0:L.numerocm_consultor)||"";return`${z.nomefazenda??""} ${z.idfazenda??""} ${z.numerocm??""} ${String(z.numerocm_consultor??"")} ${Y} ${F} ${ne}`.toLowerCase().includes(B)}):e},[e,n,S,b]),A=x.useMemo(()=>{const B=[...k];return B.sort((z,Y)=>{var Z,C,G,L;let F="",ne="";if(s==="produtor_nome"){const D=(Z=S.find(P=>String(P.numerocm||"")===String(z.numerocm||"")))==null?void 0:Z.nome,O=(C=S.find(P=>String(P.numerocm||"")===String(Y.numerocm||"")))==null?void 0:C.nome;F=String(D??"").toLowerCase(),ne=String(O??"").toLowerCase()}else if(s==="consultor_nome"){const D=(G=b.find(P=>String(P.numerocm_consultor||"")===String(z.numerocm_consultor||"")))==null?void 0:G.consultor,O=(L=b.find(P=>String(P.numerocm_consultor||"")===String(Y.numerocm_consultor||"")))==null?void 0:L.consultor;F=String(D??"").toLowerCase(),ne=String(O??"").toLowerCase()}else{const D=z[s],O=Y[s];F=String(D??"").toLowerCase(),ne=String(O??"").toLowerCase()}return F<ne?o==="asc"?-1:1:F>ne?o==="asc"?1:-1:0}),B},[k,s,o,S,b]),j=Math.max(1,Math.ceil(A.length/f)),I=x.useMemo(()=>{const B=(u-1)*f;return A.slice(B,B+f)},[A,u,f]),N=B=>{s===B?l(z=>z==="asc"?"desc":"asc"):(i(B),l("asc"))},W=async B=>{try{const{error:z}=await Ce.from("fazendas").delete().eq("idfazenda",B.idfazenda).eq("numerocm",B.numerocm);if(z)throw z;ce.success("Fazenda removida"),T.invalidateQueries({queryKey:["fazendas","by-consultor"]})}catch(z){ce.error(z.message||"Erro ao remover fazenda")}finally{v(null)}},M=B=>{g(B),E(B.nomefazenda??""),_(B.numerocm_consultor!=null?String(B.numerocm_consultor):"")},X=async()=>{if(p)try{const B={nomefazenda:y};B.numerocm_consultor=w?String(w):null;const z=ag==null?void 0:ag.VITE_API_URL,Y=typeof window<"u"?window.location.hostname:"127.0.0.1",F=z||`http://${Y}:5000`,ne=await fetch(`${F}/fazendas/by_key`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({numerocm:p.numerocm,idfazenda:p.idfazenda,...B})});if(!ne.ok){const Z=await ne.text();throw new Error(Z)}ce.success("Fazenda atualizada"),T.invalidateQueries({queryKey:["fazendas","by-consultor"]}),g(null)}catch(B){ce.error(B.message||"Erro ao atualizar fazenda")}};return c.jsxs(Ue,{children:[c.jsx(vt,{children:c.jsx(xt,{children:"Fazendas"})}),c.jsxs(pt,{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(we,{placeholder:"Buscar por nome, ID fazenda, nmero CM...",value:n,onChange:B=>a(B.target.value)}),c.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[c.jsx(ue,{htmlFor:"pageSize",className:"text-xs",children:"Itens/pgina"}),c.jsxs("select",{id:"pageSize",className:"border rounded h-8 px-2 text-sm",value:f,onChange:B=>{h(Number(B.target.value)),d(1)},children:[c.jsx("option",{value:10,children:"10"}),c.jsx("option",{value:20,children:"20"}),c.jsx("option",{value:50,children:"50"})]})]})]}),t?c.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando fazendas..."}):r?c.jsx("p",{className:"text-sm text-destructive",children:"Erro ao carregar fazendas."}):c.jsxs(Hr,{children:[c.jsx(Gr,{children:c.jsxs(Ye,{children:[c.jsx(Ne,{className:"w-[130px]",children:c.jsxs("button",{className:"flex items-center gap-1",onClick:()=>N("numerocm"),children:["Produtor ",s==="numerocm"&&(o==="asc"?c.jsx(bn,{className:"h-3 w-3"}):c.jsx(fr,{className:"h-3 w-3"}))]})}),c.jsx(Ne,{children:c.jsxs("button",{className:"flex items-center gap-1",onClick:()=>N("nomefazenda"),children:["Fazenda ",s==="nomefazenda"&&(o==="asc"?c.jsx(bn,{className:"h-3 w-3"}):c.jsx(fr,{className:"h-3 w-3"}))]})}),c.jsx(Ne,{children:c.jsxs("button",{className:"flex items-center gap-1",onClick:()=>N("consultor_nome"),children:["Consultor ",s==="consultor_nome"&&(o==="asc"?c.jsx(bn,{className:"h-3 w-3"}):c.jsx(fr,{className:"h-3 w-3"}))]})}),c.jsx(Ne,{className:"w-[120px]",children:"Aes"})]})}),c.jsxs(qr,{children:[I.map(B=>c.jsxs(Ye,{children:[c.jsx(Se,{children:(()=>{const z=S.find(Z=>String(Z.numerocm||"")===String(B.numerocm||"")),Y=B.numerocm?String(B.numerocm):"",F=(z==null?void 0:z.nome)||"";return`${Y}${Y&&F?" - ":""}${F}`.trim()||""})()}),c.jsx(Se,{children:(()=>{const z=B.idfazenda??"",Y=B.nomefazenda??"";return`${z}${z&&Y?" - ":""}${Y}`.trim()||""})()}),c.jsx(Se,{children:(()=>{const z=b.find(Z=>String(Z.numerocm_consultor||"")===String(B.numerocm_consultor||""));if(!z)return"";const Y=z.numerocm_consultor?String(z.numerocm_consultor):"",F=z.consultor||"";return`${Y}${Y&&F?" - ":""}${F}`.trim()||""})()}),c.jsx(Se,{children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>M(B),children:[c.jsx(Qa,{className:"h-3.5 w-3.5"})," Editar"]}),c.jsxs(ae,{variant:"destructive",size:"sm",onClick:()=>v({idfazenda:B.idfazenda,numerocm:B.numerocm}),children:[c.jsx(vr,{className:"h-3.5 w-3.5"})," Excluir"]})]})})]},`${B.numerocm}-${B.idfazenda}`)),I.length===0&&c.jsx(Ye,{children:c.jsx(Se,{colSpan:4,className:"text-muted-foreground",children:"Nenhum resultado encontrado."})})]})]}),c.jsxs("div",{className:"flex items-center justify-between mt-3",children:[c.jsxs("div",{className:"text-xs text-muted-foreground",children:["Pgina ",u," de ",j]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ae,{variant:"outline",size:"sm",disabled:u<=1,onClick:()=>d(B=>Math.max(1,B-1)),children:"Anterior"}),c.jsx(ae,{variant:"outline",size:"sm",disabled:u>=j,onClick:()=>d(B=>Math.min(j,B+1)),children:"Prxima"})]})]}),c.jsx(jn,{open:!!m,onOpenChange:B=>!B&&v(null),children:c.jsxs(hn,{children:[c.jsxs(mn,{children:[c.jsx(gn,{children:"Excluir fazenda?"}),c.jsx(vn,{children:"Esta ao no pode ser desfeita. A fazenda ser removida da base."})]}),c.jsxs(pn,{children:[c.jsx(sa,{children:"Cancelar"}),c.jsx(si,{onClick:()=>m&&W(m),children:"Excluir"})]})]})}),c.jsx(ka,{open:!!p,onOpenChange:B=>!B&&g(null),children:c.jsxs(Zn,{children:[c.jsx(Qn,{children:c.jsx(ea,{children:"Editar fazenda"})}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx(ue,{children:"Nome"}),c.jsx(we,{value:y,onChange:B=>E(B.target.value)})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-3",children:c.jsxs("div",{className:"space-y-1",children:[c.jsx(ue,{children:"Consultor"}),c.jsxs(nr,{value:w||void 0,onValueChange:B=>_(B),children:[c.jsx(Jt,{children:c.jsx(ar,{placeholder:"Selecione o consultor"})}),c.jsx(Kt,{children:b.map(B=>c.jsxs(st,{value:String(B.numerocm_consultor||""),children:[B.numerocm_consultor?String(B.numerocm_consultor):"",B.consultor?` - ${B.consultor}`:""]},B.id))})]})]})})]}),c.jsxs(ts,{children:[c.jsx(ae,{variant:"outline",onClick:()=>g(null),children:"Cancelar"}),c.jsx(ae,{onClick:X,children:"Salvar"})]})]})})]})]})};function $X(){const{data:e=[],isLoading:t}=py(),{data:r=[],isLoading:n}=eo(),a=bt(),[s,i]=x.useState(""),[o,l]=x.useState("nome"),[u,d]=x.useState("asc"),[f,h]=x.useState(null),[m,v]=x.useState(null),[p,g]=x.useState(""),[y,E]=x.useState(""),[w,_]=x.useState(1),[T,b]=x.useState(10),S=x.useMemo(()=>e.map(z=>({...z,fazenda:r.find(Y=>Y.id===z.fazenda_id)})),[e,r]),k=x.useMemo(()=>{if(!s)return S;const z=s.toLowerCase();return S.filter(Y=>{var F,ne;return Y.nome.toLowerCase().includes(z)||((ne=(F=Y.fazenda)==null?void 0:F.nomefazenda)==null?void 0:ne.toLowerCase().includes(z))})},[S,s]),A=x.useMemo(()=>{const z=[...k];return z.sort((Y,F)=>{var C,G;let ne,Z;return o==="fazenda"?(ne=((C=Y.fazenda)==null?void 0:C.nomefazenda)||"",Z=((G=F.fazenda)==null?void 0:G.nomefazenda)||""):(ne=Y[o],Z=F[o]),typeof ne=="string"&&(ne=ne.toLowerCase()),typeof Z=="string"&&(Z=Z.toLowerCase()),ne<Z?u==="asc"?-1:1:ne>Z?u==="asc"?1:-1:0}),z},[k,o,u]),j=x.useMemo(()=>{const z=(w-1)*T;return A.slice(z,z+T)},[A,w,T]),I=Math.ceil(A.length/T),N=z=>{o===z?d(u==="asc"?"desc":"asc"):(l(z),d("asc"))},W=async()=>{if(!f)return;const{error:z}=await Ce.from("talhoes").delete().eq("id",f);z?(ce.error("Erro ao deletar talho"),console.error(z)):(ce.success("Talho deletado com sucesso"),a.invalidateQueries({queryKey:["talhoes"]})),h(null)},M=z=>{v(z),g(z.nome),E(z.area.toString())},X=async()=>{if(!m)return;const z=parseFloat(y);if(isNaN(z)||z<=0){ce.error("rea invlida");return}const{error:Y}=await Ce.from("talhoes").update({nome:p,area:z}).eq("id",m.id);Y?(ce.error("Erro ao atualizar talho"),console.error(Y)):(ce.success("Talho atualizado com sucesso"),a.invalidateQueries({queryKey:["talhoes"]}),v(null))},B=({column:z})=>o!==z?null:u==="asc"?c.jsx(bn,{className:"inline w-4 h-4 ml-1"}):c.jsx(fr,{className:"inline w-4 h-4 ml-1"});return t||n?c.jsx("div",{className:"p-4",children:"Carregando talhes..."}):c.jsxs(c.Fragment,{children:[c.jsxs(Ue,{children:[c.jsx(vt,{children:c.jsxs(xt,{children:["Talhes Cadastrados (",A.length,")"]})}),c.jsxs(pt,{className:"space-y-4",children:[c.jsxs("div",{className:"flex gap-4 items-center",children:[c.jsx(we,{placeholder:"Buscar por nome ou fazenda...",value:s,onChange:z=>i(z.target.value),className:"max-w-sm"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ue,{children:"Itens por pgina:"}),c.jsxs("select",{value:T,onChange:z=>{b(Number(z.target.value)),_(1)},className:"border rounded px-2 py-1",children:[c.jsx("option",{value:10,children:"10"}),c.jsx("option",{value:25,children:"25"}),c.jsx("option",{value:50,children:"50"}),c.jsx("option",{value:100,children:"100"})]})]})]}),c.jsx("div",{className:"border rounded",children:c.jsxs(Hr,{children:[c.jsx(Gr,{children:c.jsxs(Ye,{children:[c.jsxs(Ne,{className:"cursor-pointer",onClick:()=>N("fazenda"),children:["Fazenda ",c.jsx(B,{column:"fazenda"})]}),c.jsxs(Ne,{className:"cursor-pointer",onClick:()=>N("nome"),children:["Talho ",c.jsx(B,{column:"nome"})]}),c.jsxs(Ne,{className:"cursor-pointer text-right",onClick:()=>N("area"),children:["rea (ha) ",c.jsx(B,{column:"area"})]}),c.jsx(Ne,{className:"text-right",children:"Aes"})]})}),c.jsx(qr,{children:j.map(z=>{var Y;return c.jsxs(Ye,{children:[c.jsx(Se,{children:((Y=z.fazenda)==null?void 0:Y.nomefazenda)||"-"}),c.jsx(Se,{children:z.nome}),c.jsx(Se,{className:"text-right",children:z.area.toLocaleString("pt-BR")}),c.jsx(Se,{className:"text-right",children:c.jsxs("div",{className:"flex gap-2 justify-end",children:[c.jsx(ae,{variant:"outline",size:"sm",onClick:()=>M(z),children:c.jsx(Qa,{className:"w-4 h-4"})}),c.jsx(ae,{variant:"destructive",size:"sm",onClick:()=>h(z.id),children:c.jsx(vr,{className:"w-4 h-4"})})]})})]},z.id)})})]})}),I>1&&c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{className:"text-sm text-muted-foreground",children:["Pgina ",w," de ",I]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(ae,{variant:"outline",size:"sm",disabled:w===1,onClick:()=>_(w-1),children:"Anterior"}),c.jsx(ae,{variant:"outline",size:"sm",disabled:w===I,onClick:()=>_(w+1),children:"Prxima"})]})]})]})]}),c.jsx(jn,{open:!!f,onOpenChange:()=>h(null),children:c.jsxs(hn,{children:[c.jsxs(mn,{children:[c.jsx(gn,{children:"Confirmar excluso"}),c.jsx(vn,{children:"Tem certeza que deseja deletar este talho? Esta ao no pode ser desfeita."})]}),c.jsxs(pn,{children:[c.jsx(sa,{children:"Cancelar"}),c.jsx(si,{onClick:W,children:"Deletar"})]})]})}),c.jsx(ka,{open:!!m,onOpenChange:()=>v(null),children:c.jsxs(Zn,{children:[c.jsx(Qn,{children:c.jsx(ea,{children:"Editar Talho"})}),c.jsxs("div",{className:"space-y-4 py-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ue,{htmlFor:"edit-nome",children:"Nome do Talho"}),c.jsx(we,{id:"edit-nome",value:p,onChange:z=>g(z.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ue,{htmlFor:"edit-area",children:"rea (ha)"}),c.jsx(we,{id:"edit-area",type:"number",step:"0.01",value:y,onChange:z=>E(z.target.value)})]})]}),c.jsxs(ts,{children:[c.jsx(ae,{variant:"outline",onClick:()=>v(null),children:"Cancelar"}),c.jsx(ae,{onClick:X,children:"Salvar"})]})]})})]})}function zX(){const[e,t]=x.useState(null),[r,n]=x.useState(!1),[a,s]=x.useState(0),[i,o]=x.useState(!1),[l,u]=x.useState({imported:0,deleted:0}),[d,f]=x.useState(!1),h=v=>{v.target.files&&v.target.files[0]&&t(v.target.files[0])},m=async()=>{if(!e){ce.error("Por favor, selecione um arquivo XLSX");return}n(!0),s(0);try{const{data:{user:v}}=await Ce.auth.getUser();if(!v){ce.error("Usurio no autenticado");return}let p=0;if(d){const{error:I}=await Ce.from("talhoes").delete().neq("id","00000000-0000-0000-0000-000000000000");if(I){console.error("Erro ao limpar tabela:",I),ce.error("Erro ao limpar talhes existentes");return}const{count:N}=await Ce.from("talhoes").select("*",{count:"exact",head:!0});p=N||0}s(10);const g=await e.arrayBuffer(),y=_s(g,{type:"array"}),E=y.SheetNames[0],w=y.Sheets[E],_=ho.sheet_to_json(w);s(30);const T=["fazenda_id","nome","area"],b=_[0]||{},S=T.filter(I=>!(I in b));if(S.length>0){ce.error(`Colunas obrigatrias faltando: ${S.join(", ")}`);return}const k=_.filter(I=>I.fazenda_id&&I.nome&&I.area).map(I=>({fazenda_id:String(I.fazenda_id),nome:String(I.nome),area:parseFloat(I.area)}));if(k.length===0){ce.error("Nenhum registro vlido encontrado no arquivo");return}s(50);const A=500;let j=0;for(let I=0;I<k.length;I+=A){const N=k.slice(I,I+A),{error:W}=await Ce.from("talhoes").upsert(N,{onConflict:"id"});if(W){console.error("Erro no batch:",W),ce.error(`Erro ao importar batch ${Math.floor(I/A)+1}`);return}j+=N.length,s(50+j/k.length*40)}await Ce.from("import_history").insert({user_id:v.id,tabela_nome:"talhoes",arquivo_nome:e.name,registros_importados:j,registros_deletados:p,limpar_antes:d}),s(100),u({imported:j,deleted:p}),o(!0),ce.success(`Importao concluda! ${j} talhes importados.`)}catch(v){console.error("Erro na importao:",v),ce.error("Erro ao processar arquivo")}finally{n(!1),t(null)}};return c.jsxs(c.Fragment,{children:[c.jsxs(Ue,{children:[c.jsx(vt,{children:c.jsx(xt,{children:"Importar Talhes"})}),c.jsxs(pt,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ue,{htmlFor:"file-upload",children:"Arquivo XLSX"}),c.jsx(we,{id:"file-upload",type:"file",accept:".xlsx",onChange:h,disabled:r}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Colunas obrigatrias: fazenda_id, nome, area"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Ot,{id:"limpar-antes",checked:d,onCheckedChange:v=>f(v===!0),disabled:r}),c.jsx(ue,{htmlFor:"limpar-antes",className:"cursor-pointer",children:"Limpar todos os talhes antes de importar"})]}),r&&c.jsxs("div",{className:"space-y-2",children:[c.jsx(ni,{value:a}),c.jsxs("p",{className:"text-sm text-center text-muted-foreground",children:["Importando... ",Math.round(a),"%"]})]}),c.jsx(ae,{onClick:m,disabled:!e||r,className:"w-full",children:r?"Importando...":"Importar Talhes"})]})]}),c.jsx(jn,{open:i,onOpenChange:o,children:c.jsxs(hn,{children:[c.jsxs(mn,{children:[c.jsx(gn,{children:"Importao Concluda"}),c.jsxs(vn,{className:"space-y-2",children:[c.jsxs("p",{children:[" ",l.imported," talhes importados"]}),l.deleted>0&&c.jsxs("p",{children:[" ",l.deleted," talhes deletados"]})]})]}),c.jsx(pn,{children:c.jsx(si,{onClick:()=>o(!1),children:"OK"})})]})})]})}const sg={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},wR=()=>Tt({queryKey:["calendario-aplicacoes"],queryFn:async()=>{const e=sg==null?void 0:sg.VITE_API_URL,t=typeof window<"u"?window.location.hostname:"127.0.0.1",r=e||`http://${t}:5000`,n=await fetch(`${r}/calendario_aplicacoes`);if(!n.ok){const l=await n.text();throw new Error(l)}const a=await n.json(),s=(a==null?void 0:a.items)||[],i=Array.from(new Set(s.map(l=>String(l.descricao_classe||"").trim()).filter(Boolean))),o={};for(const l of s){const u=String(l.descricao_classe||"").trim(),d=String(l.descr_aplicacao||"").trim();!u||!d||(o[u]||(o[u]=[]),o[u].includes(d)||o[u].push(d))}return{rows:s,classes:i,aplicacoesPorClasse:o}}}),Dc={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},VX=()=>{const{data:e,isLoading:t,error:r}=wR(),n=(e==null?void 0:e.rows)||[],[a,s]=x.useState(""),[i,o]=x.useState("descricao_classe"),[l,u]=x.useState("asc"),[d,f]=x.useState(1),[h,m]=x.useState(10),[v,p]=x.useState(null),[g,y]=x.useState(null),[E,w]=x.useState(""),[_,T]=x.useState(""),[b,S]=x.useState(""),[k,A]=x.useState(""),[j,I]=x.useState(""),N=bt(),W=x.useMemo(()=>{const Z=a.trim().toLowerCase();return Z?(n||[]).filter(C=>`${String(C.cod_aplic??"")} ${String(C.descr_aplicacao??"")} ${String(C.cod_classe??"")} ${String(C.descricao_classe??"")} ${String(C.trat_sementes??"")}`.toLowerCase().includes(Z)):n},[n,a]),M=x.useMemo(()=>{const Z=[...W];return Z.sort((C,G)=>{const L=String(C[i]??"").toLowerCase(),D=String(G[i]??"").toLowerCase();return L<D?l==="asc"?-1:1:L>D?l==="asc"?1:-1:0}),Z},[W,i,l]),X=Math.max(1,Math.ceil(M.length/h)),B=x.useMemo(()=>{const Z=(d-1)*h;return M.slice(Z,Z+h)},[M,d,h]),z=Z=>{i===Z?u(C=>C==="asc"?"desc":"asc"):(o(Z),u("asc"))},Y=async Z=>{try{const C=Dc==null?void 0:Dc.VITE_API_URL,G=typeof window<"u"?window.location.hostname:"127.0.0.1",L=C||`http://${G}:5000`,D=await fetch(`${L}/calendario_aplicacoes/${Z}`,{method:"DELETE"});if(!D.ok){const O=await D.text();throw new Error(O)}ce.success("Aplicao removida"),N.invalidateQueries({queryKey:["calendario-aplicacoes"]})}catch(C){ce.error(C.message||"Erro ao remover aplicao")}finally{p(null)}},F=Z=>{y(Z),w(Z.descr_aplicacao??""),T(String(Z.cod_classe??"")),S(Z.descricao_classe??""),A(Z.trat_sementes??""),I(String(Z.cod_aplic_ger??""))},ne=async()=>{if(g)try{const Z=Dc==null?void 0:Dc.VITE_API_URL,C=typeof window<"u"?window.location.hostname:"127.0.0.1",G=Z||`http://${C}:5000`,L={descr_aplicacao:E,cod_classe:_||null,descricao_classe:b,trat_sementes:k||null,cod_aplic_ger:j||null},D=await fetch(`${G}/calendario_aplicacoes/${g.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(L)});if(!D.ok){const O=await D.text();throw new Error(O)}ce.success("Aplicao atualizada"),N.invalidateQueries({queryKey:["calendario-aplicacoes"]}),y(null)}catch(Z){ce.error(Z.message||"Erro ao atualizar aplicao")}};return c.jsxs(Ue,{children:[c.jsx(vt,{children:c.jsx(xt,{children:"Calendrio de Aplicaes"})}),c.jsxs(pt,{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(we,{placeholder:"Buscar por aplicao, classe, cdigo...",value:a,onChange:Z=>s(Z.target.value)}),c.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[c.jsx(ue,{htmlFor:"pageSize",className:"text-xs",children:"Itens/pgina"}),c.jsxs("select",{id:"pageSize",className:"border rounded h-8 px-2 text-sm",value:h,onChange:Z=>{m(Number(Z.target.value)),f(1)},children:[c.jsx("option",{value:10,children:"10"}),c.jsx("option",{value:20,children:"20"}),c.jsx("option",{value:50,children:"50"})]})]})]}),t?c.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando calendrio..."}):r?c.jsx("p",{className:"text-sm text-destructive",children:"Erro ao carregar calendrio."}):c.jsxs(Hr,{children:[c.jsx(Gr,{children:c.jsxs(Ye,{children:[c.jsx(Ne,{className:"w-[140px]",children:c.jsxs("button",{className:"flex items-center gap-1",onClick:()=>z("cod_aplic"),children:["Cd. Aplicao ",i==="cod_aplic"&&(l==="asc"?c.jsx(bn,{className:"h-3 w-3"}):c.jsx(fr,{className:"h-3 w-3"}))]})}),c.jsx(Ne,{children:c.jsxs("button",{className:"flex items-center gap-1",onClick:()=>z("descr_aplicacao"),children:["Aplicao ",i==="descr_aplicacao"&&(l==="asc"?c.jsx(bn,{className:"h-3 w-3"}):c.jsx(fr,{className:"h-3 w-3"}))]})}),c.jsx(Ne,{className:"w-[140px]",children:c.jsxs("button",{className:"flex items-center gap-1",onClick:()=>z("cod_classe"),children:["Cd. Classe ",i==="cod_classe"&&(l==="asc"?c.jsx(bn,{className:"h-3 w-3"}):c.jsx(fr,{className:"h-3 w-3"}))]})}),c.jsx(Ne,{children:c.jsxs("button",{className:"flex items-center gap-1",onClick:()=>z("descricao_classe"),children:["Classe ",i==="descricao_classe"&&(l==="asc"?c.jsx(bn,{className:"h-3 w-3"}):c.jsx(fr,{className:"h-3 w-3"}))]})}),c.jsx(Ne,{children:c.jsxs("button",{className:"flex items-center gap-1",onClick:()=>z("trat_sementes"),children:["Trat. Sementes ",i==="trat_sementes"&&(l==="asc"?c.jsx(bn,{className:"h-3 w-3"}):c.jsx(fr,{className:"h-3 w-3"}))]})}),c.jsx(Ne,{className:"w-[120px]",children:"Aes"})]})}),c.jsxs(qr,{children:[B.map((Z,C)=>c.jsxs(Ye,{children:[c.jsx(Se,{children:String(Z.cod_aplic??"")}),c.jsx(Se,{children:Z.descr_aplicacao??""}),c.jsx(Se,{children:String(Z.cod_classe??"")}),c.jsx(Se,{children:Z.descricao_classe??""}),c.jsx(Se,{children:Z.trat_sementes??""}),c.jsx(Se,{children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>F(Z),children:[c.jsx(Qa,{className:"h-3.5 w-3.5"})," Editar"]}),c.jsxs(ae,{variant:"destructive",size:"sm",onClick:()=>Z.id&&p(Z.id),children:[c.jsx(vr,{className:"h-3.5 w-3.5"})," Excluir"]})]})})]},`${Z.cod_aplic}-${C}`)),B.length===0&&c.jsx(Ye,{children:c.jsx(Se,{colSpan:6,className:"text-muted-foreground",children:"Nenhum resultado encontrado."})})]})]}),c.jsxs("div",{className:"flex items-center justify-between mt-3",children:[c.jsxs("div",{className:"text-xs text-muted-foreground",children:["Pgina ",d," de ",X]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ae,{variant:"outline",size:"sm",disabled:d<=1,onClick:()=>f(Z=>Math.max(1,Z-1)),children:"Anterior"}),c.jsx(ae,{variant:"outline",size:"sm",disabled:d>=X,onClick:()=>f(Z=>Math.min(X,Z+1)),children:"Prxima"})]})]}),c.jsx(jn,{open:!!v,onOpenChange:Z=>!Z&&p(null),children:c.jsxs(hn,{children:[c.jsxs(mn,{children:[c.jsx(gn,{children:"Excluir aplicao?"}),c.jsx(vn,{children:"Esta ao no pode ser desfeita. A aplicao ser removida da base."})]}),c.jsxs(pn,{children:[c.jsx(sa,{children:"Cancelar"}),c.jsx(si,{onClick:()=>v&&Y(v),children:"Excluir"})]})]})}),c.jsx(ka,{open:!!g,onOpenChange:Z=>!Z&&y(null),children:c.jsxs(Zn,{children:[c.jsx(Qn,{children:c.jsx(ea,{children:"Editar aplicao"})}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx(ue,{children:"Cd. aplicao (somente leitura)"}),c.jsx(we,{value:String((g==null?void 0:g.cod_aplic)??""),readOnly:!0})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(ue,{children:"Aplicao"}),c.jsx(we,{value:E,onChange:Z=>w(Z.target.value)})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx(ue,{children:"Cd. classe"}),c.jsx(we,{value:_,onChange:Z=>T(Z.target.value)})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(ue,{children:"Classe"}),c.jsx(we,{value:b,onChange:Z=>S(Z.target.value)})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx(ue,{children:"Trat. sementes"}),c.jsx(we,{value:k,onChange:Z=>A(Z.target.value)})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(ue,{children:"Cd. aplic. ger."}),c.jsx(we,{value:j,onChange:Z=>I(Z.target.value)})]})]})]}),c.jsxs(ts,{children:[c.jsx(ae,{variant:"outline",onClick:()=>y(null),children:"Cancelar"}),c.jsx(ae,{onClick:ne,children:"Salvar"})]})]})})]})]})},ig={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},WX=e=>Tt({queryKey:["tratamentos-sementes",e],queryFn:async()=>{const t=ig==null?void 0:ig.VITE_API_URL,r=typeof window<"u"?window.location.hostname:"127.0.0.1",n=t||`http://${r}:5000`,a=new URLSearchParams;a.set("ativo","true");const s=await fetch(`${n}/tratamentos_sementes?${a.toString()}`);if(!s.ok){const o=await s.text();throw new Error(o)}const i=await s.json();return(i==null?void 0:i.items)||[]}}),og={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},ER=e=>Tt({queryKey:["tratamentos-por-cultivar",e],queryFn:async()=>{if(!e)return[];const t=og==null?void 0:og.VITE_API_URL,r=typeof window<"u"?window.location.hostname:"127.0.0.1",n=t||`http://${r}:5000`,a=await fetch(`${n}/cultivares_tratamentos?cultivar=${encodeURIComponent(e)}`);if(!a.ok){const i=await a.text();throw new Error(i)}const s=await a.json();return(s==null?void 0:s.items)||[]},enabled:!!e}),cg={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},HX=()=>{const{data:e}=gm(),{data:t}=WX(),[r,n]=x.useState(""),[a,s]=x.useState([]),[i,o]=x.useState("por_tratamento"),[l,u]=x.useState(""),{data:d=[]}=ER(l||void 0);if(i==="por_cultivar"&&l&&a.length===0&&d.length>0){const p=d.map(g=>String(g.id));s(p)}const[f,h]=x.useState(!1),m=p=>{s(g=>g.includes(p)?g.filter(y=>y!==p):[...g,p])},v=async()=>{if(!r){ce.error("Selecione um tratamento");return}if(a.length===0){ce.error("Selecione pelo menos um cultivar");return}h(!0);try{const p=cg==null?void 0:cg.VITE_API_URL,g=typeof window<"u"?window.location.hostname:"127.0.0.1",y=p||`http://${g}:5000`;if(i==="por_tratamento"){const E=await fetch(`${y}/cultivares_tratamentos/bulk`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tratamento_id:r,cultivares:a})});if(!E.ok){const w=await E.text();throw new Error(w)}ce.success("Cultivares vinculados ao tratamento com sucesso!"),n(""),s([])}else if(!l)ce.error("Selecione um cultivar");else{const E=a,w=await fetch(`${y}/cultivares_tratamentos/set_for_cultivar`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cultivar:l,tratamento_ids:E})});if(!w.ok){const _=await w.text();throw new Error(_)}ce.success("Tratamentos vinculados ao cultivar com sucesso!"),u(""),s([])}}catch{ce.error("Erro ao salvar vnculos")}finally{h(!1)}};return c.jsxs(Ue,{children:[c.jsx(vt,{children:c.jsx(xt,{children:"Vnculos entre Cultivares e Tratamentos"})}),c.jsxs(pt,{className:"space-y-4",children:[c.jsxs("div",{className:"flex gap-4 items-end",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ue,{children:"Modo"}),c.jsxs(nr,{value:i,onValueChange:p=>o(p),children:[c.jsx(Jt,{children:c.jsx(ar,{})}),c.jsxs(Kt,{children:[c.jsx(st,{value:"por_tratamento",children:"Por Tratamento"}),c.jsx(st,{value:"por_cultivar",children:"Por Cultivar"})]})]})]}),i==="por_tratamento"?c.jsxs("div",{className:"flex-1",children:[c.jsx(ue,{children:"Tratamento"}),c.jsxs(nr,{value:r,onValueChange:n,children:[c.jsx(Jt,{children:c.jsx(ar,{placeholder:"Selecione um tratamento"})}),c.jsx(Kt,{children:t==null?void 0:t.map(p=>c.jsx(st,{value:p.id,children:p.nome},p.id))})]})]}):c.jsxs("div",{className:"flex-1",children:[c.jsx(ue,{children:"Cultivar"}),c.jsxs(nr,{value:l,onValueChange:p=>{u(p),s([])},children:[c.jsx(Jt,{children:c.jsx(ar,{placeholder:"Selecione um cultivar"})}),c.jsx(Kt,{children:e==null?void 0:e.map(p=>c.jsxs(st,{value:p.cultivar,children:[p.cultivar," - ",p.cultura]},p.cultivar))})]})]})]}),i==="por_tratamento"&&r&&c.jsxs("div",{className:"space-y-2",children:[c.jsx(ue,{children:"Cultivares Disponveis"}),c.jsx("div",{className:"border rounded-md p-4 space-y-2 max-h-64 overflow-y-auto",children:e==null?void 0:e.map(p=>c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Ot,{id:p.cultivar,checked:a.includes(p.cultivar),onCheckedChange:()=>m(p.cultivar)}),c.jsxs(ue,{htmlFor:p.cultivar,className:"cursor-pointer",children:[p.cultivar," - ",p.cultura]})]},p.cultivar))})]}),i==="por_cultivar"&&l&&c.jsxs("div",{className:"space-y-2",children:[c.jsx(ue,{children:"Tratamentos Disponveis"}),c.jsx("div",{className:"border rounded-md p-4 space-y-2 max-h-64 overflow-y-auto",children:t==null?void 0:t.map(p=>c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Ot,{id:p.id,checked:a.includes(p.id),onCheckedChange:()=>m(p.id)}),c.jsxs(ue,{htmlFor:p.id,className:"cursor-pointer",children:[p.nome," ",p.cultura?`- ${p.cultura}`:""]})]},p.id))})]}),c.jsx(ae,{onClick:v,disabled:f||(i==="por_tratamento"?!r:!l),children:f?"Salvando...":"Salvar Vnculos"})]})]})},lg={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},GX=()=>{const[e,t]=x.useState(""),[r,n]=x.useState(""),{toast:a}=dn(),s=bt(),i=ot({mutationFn:async l=>{const u=lg==null?void 0:lg.VITE_API_URL,d=typeof window<"u"?window.location.hostname:"127.0.0.1",f=u||`http://${d}:5000`,h=await fetch(`${f}/epocas`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nome:l.nome,descricao:l.descricao||null,ativa:!0})});if(!h.ok){const m=await h.text();throw new Error(m)}},onSuccess:()=>{s.invalidateQueries({queryKey:["admin-epocas"]}),a({title:"Sucesso",description:"poca cadastrada com sucesso"}),t(""),n("")},onError:l=>{a({title:"Erro ao cadastrar",description:l.message,variant:"destructive"})}}),o=l=>{if(l.preventDefault(),!e.trim()){a({title:"Erro",description:"O nome  obrigatrio",variant:"destructive"});return}i.mutate({nome:e.trim(),descricao:r.trim()})};return c.jsxs(Ue,{children:[c.jsx(vt,{children:c.jsx(xt,{children:"Cadastrar Nova poca"})}),c.jsx(pt,{children:c.jsxs("form",{onSubmit:o,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ue,{htmlFor:"nome",children:"Nome da poca *"}),c.jsx(we,{id:"nome",value:e,onChange:l=>t(l.target.value),placeholder:"Ex: poca 1",required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ue,{htmlFor:"descricao",children:"Descrio"}),c.jsx(we,{id:"descricao",value:r,onChange:l=>n(l.target.value),placeholder:"Descrio opcional"})]}),c.jsxs(ae,{type:"submit",disabled:i.isPending,children:[c.jsx(Xa,{className:"h-4 w-4 mr-2"}),"Adicionar poca"]})]})})]})},Mc={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},qX=()=>{const{toast:e}=dn(),t=bt(),{data:r,isLoading:n}=Tt({queryKey:["admin-epocas"],queryFn:async()=>{const s=Mc==null?void 0:Mc.VITE_API_URL,i=typeof window<"u"?window.location.hostname:"127.0.0.1",o=s||`http://${i}:5000`,l=await fetch(`${o}/epocas`);if(!l.ok){const d=await l.text();throw new Error(d)}const u=await l.json();return u==null?void 0:u.items}}),a=ot({mutationFn:async s=>{const i=Mc==null?void 0:Mc.VITE_API_URL,o=typeof window<"u"?window.location.hostname:"127.0.0.1",l=i||`http://${o}:5000`,u=await fetch(`${l}/epocas/${s}`,{method:"DELETE"});if(!u.ok){const d=await u.text();throw new Error(d)}},onSuccess:()=>{t.invalidateQueries({queryKey:["admin-epocas"]}),e({title:"Sucesso",description:"poca excluda com sucesso"})},onError:s=>{e({title:"Erro ao excluir",description:s.message,variant:"destructive"})}});return n?c.jsx("div",{className:"flex justify-center p-8",children:c.jsx(Ll,{className:"h-6 w-6 animate-spin"})}):c.jsxs(Ue,{children:[c.jsxs(vt,{children:[c.jsx(xt,{children:"pocas Cadastradas"}),c.jsx(aa,{children:"Lista de todas as pocas no sistema"})]}),c.jsx(pt,{children:c.jsxs(Hr,{children:[c.jsx(Gr,{children:c.jsxs(Ye,{children:[c.jsx(Ne,{children:"Nome"}),c.jsx(Ne,{children:"Descrio"}),c.jsx(Ne,{children:"Status"}),c.jsx(Ne,{className:"text-right",children:"Aes"})]})}),c.jsx(qr,{children:r==null?void 0:r.map(s=>c.jsxs(Ye,{children:[c.jsx(Se,{className:"font-medium",children:s.nome}),c.jsx(Se,{children:s.descricao||"-"}),c.jsx(Se,{children:c.jsx(ht,{variant:s.ativa?"default":"secondary",children:s.ativa?"Ativa":"Inativa"})}),c.jsx(Se,{className:"text-right",children:c.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>a.mutate(s.id),disabled:a.isPending,children:c.jsx(vr,{className:"h-4 w-4"})})})]},s.id))})]})})]})},JX=e=>{const{toast:t}=dn(),r=bt(),{data:n,isLoading:a,error:s}=Tt({queryKey:["gestor-consultores",e],queryFn:async()=>{if(!e)return[];const{data:l,error:u}=await Ce.from("gestor_consultores").select("*").eq("user_id",e).order("created_at",{ascending:!1});if(u)throw u;return l},enabled:!!e}),i=ot({mutationFn:async({userId:l,numerocmConsultor:u})=>{const{data:d,error:f}=await Ce.from("gestor_consultores").insert({user_id:l,numerocm_consultor:u}).select().single();if(f)throw f;return d},onSuccess:()=>{r.invalidateQueries({queryKey:["gestor-consultores"]}),r.invalidateQueries({queryKey:["produtores"]}),r.invalidateQueries({queryKey:["fazendas"]}),t({title:"Consultor associado",description:"O consultor foi associado com sucesso ao gestor."})},onError:l=>{t({title:"Erro ao associar consultor",description:l.message,variant:"destructive"})}}),o=ot({mutationFn:async l=>{const{error:u}=await Ce.from("gestor_consultores").delete().eq("id",l);if(u)throw u},onSuccess:()=>{r.invalidateQueries({queryKey:["gestor-consultores"]}),r.invalidateQueries({queryKey:["produtores"]}),r.invalidateQueries({queryKey:["fazendas"]}),t({title:"Associao removida",description:"A associao com o consultor foi removida."})},onError:l=>{t({title:"Erro ao remover associao",description:l.message,variant:"destructive"})}});return{consultores:n??[],isLoading:a,error:s,addConsultor:i.mutate,removeConsultor:o.mutate,isAdding:i.isPending,isRemoving:o.isPending}};function KX(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var Xy="ScrollArea",[_R,WZ]=Vr(Xy),[XX,ja]=_R(Xy),SR=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:s=600,...i}=e,[o,l]=x.useState(null),[u,d]=x.useState(null),[f,h]=x.useState(null),[m,v]=x.useState(null),[p,g]=x.useState(null),[y,E]=x.useState(0),[w,_]=x.useState(0),[T,b]=x.useState(!1),[S,k]=x.useState(!1),A=Je(t,I=>l(I)),j=sf(a);return c.jsx(XX,{scope:r,type:n,dir:j,scrollHideDelay:s,scrollArea:o,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:v,scrollbarXEnabled:T,onScrollbarXEnabledChange:b,scrollbarY:p,onScrollbarYChange:g,scrollbarYEnabled:S,onScrollbarYEnabledChange:k,onCornerWidthChange:E,onCornerHeightChange:_,children:c.jsx(Pe.div,{dir:j,...i,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});SR.displayName=Xy;var bR="ScrollAreaViewport",TR=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...s}=e,i=ja(bR,r),o=x.useRef(null),l=Je(t,o,i.onViewportChange);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),c.jsx(Pe.div,{"data-radix-scroll-area-viewport":"",...s,ref:l,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:c.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});TR.displayName=bR;var ks="ScrollAreaScrollbar",Yy=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ja(ks,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:i}=a,o=e.orientation==="horizontal";return x.useEffect(()=>(o?s(!0):i(!0),()=>{o?s(!1):i(!1)}),[o,s,i]),a.type==="hover"?c.jsx(YX,{...n,ref:t,forceMount:r}):a.type==="scroll"?c.jsx(ZX,{...n,ref:t,forceMount:r}):a.type==="auto"?c.jsx(kR,{...n,ref:t,forceMount:r}):a.type==="always"?c.jsx(Zy,{...n,ref:t}):null});Yy.displayName=ks;var YX=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ja(ks,e.__scopeScrollArea),[s,i]=x.useState(!1);return x.useEffect(()=>{const o=a.scrollArea;let l=0;if(o){const u=()=>{window.clearTimeout(l),i(!0)},d=()=>{l=window.setTimeout(()=>i(!1),a.scrollHideDelay)};return o.addEventListener("pointerenter",u),o.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),o.removeEventListener("pointerenter",u),o.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),c.jsx(fn,{present:r||s,children:c.jsx(kR,{"data-state":s?"visible":"hidden",...n,ref:t})})}),ZX=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ja(ks,e.__scopeScrollArea),s=e.orientation==="horizontal",i=bm(()=>l("SCROLL_END"),100),[o,l]=KX("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(o==="idle"){const u=window.setTimeout(()=>l("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[o,a.scrollHideDelay,l]),x.useEffect(()=>{const u=a.viewport,d=s?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(l("SCROLL"),i()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,s,l,i]),c.jsx(fn,{present:r||o!=="hidden",children:c.jsx(Zy,{"data-state":o==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Ie(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Ie(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),kR=x.forwardRef((e,t)=>{const r=ja(ks,e.__scopeScrollArea),{forceMount:n,...a}=e,[s,i]=x.useState(!1),o=e.orientation==="horizontal",l=bm(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;i(o?u:d)}},10);return Hl(r.viewport,l),Hl(r.content,l),c.jsx(fn,{present:n||s,children:c.jsx(Zy,{"data-state":s?"visible":"hidden",...a,ref:t})})}),Zy=x.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=ja(ks,e.__scopeScrollArea),s=x.useRef(null),i=x.useRef(0),[o,l]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=IR(o.viewport,o.content),d={...n,sizes:o,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:h=>i.current=h};function f(h,m){return aY(h,i.current,o,m)}return r==="horizontal"?c.jsx(QX,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const h=a.viewport.scrollLeft,m=QS(h,o,a.dir);s.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):r==="vertical"?c.jsx(eY,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const h=a.viewport.scrollTop,m=QS(h,o);s.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),QX=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,s=ja(ks,e.__scopeScrollArea),[i,o]=x.useState(),l=x.useRef(null),u=Je(t,l,s.onScrollbarXChange);return x.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),c.jsx(AR,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Sm(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),PR(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&s.viewport&&i&&n({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:C0(i.paddingLeft),paddingEnd:C0(i.paddingRight)}})}})}),eY=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,s=ja(ks,e.__scopeScrollArea),[i,o]=x.useState(),l=x.useRef(null),u=Je(t,l,s.onScrollbarYChange);return x.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),c.jsx(AR,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Sm(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),PR(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&s.viewport&&i&&n({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:C0(i.paddingTop),paddingEnd:C0(i.paddingBottom)}})}})}),[tY,CR]=_R(ks),AR=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:s,onThumbPointerUp:i,onThumbPointerDown:o,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,m=ja(ks,r),[v,p]=x.useState(null),g=Je(t,A=>p(A)),y=x.useRef(null),E=x.useRef(""),w=m.viewport,_=n.content-n.viewport,T=dr(d),b=dr(l),S=bm(f,10);function k(A){if(y.current){const j=A.clientX-y.current.left,I=A.clientY-y.current.top;u({x:j,y:I})}}return x.useEffect(()=>{const A=j=>{const I=j.target;(v==null?void 0:v.contains(I))&&T(j,_)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[w,v,_,T]),x.useEffect(b,[n,b]),Hl(v,S),Hl(m.content,S),c.jsx(tY,{scope:r,scrollbar:v,hasThumb:a,onThumbChange:dr(s),onThumbPointerUp:dr(i),onThumbPositionChange:b,onThumbPointerDown:dr(o),children:c.jsx(Pe.div,{...h,ref:g,style:{position:"absolute",...h.style},onPointerDown:Ie(e.onPointerDown,A=>{A.button===0&&(A.target.setPointerCapture(A.pointerId),y.current=v.getBoundingClientRect(),E.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),k(A))}),onPointerMove:Ie(e.onPointerMove,k),onPointerUp:Ie(e.onPointerUp,A=>{const j=A.target;j.hasPointerCapture(A.pointerId)&&j.releasePointerCapture(A.pointerId),document.body.style.webkitUserSelect=E.current,m.viewport&&(m.viewport.style.scrollBehavior=""),y.current=null})})})}),k0="ScrollAreaThumb",jR=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=CR(k0,e.__scopeScrollArea);return c.jsx(fn,{present:r||a.hasThumb,children:c.jsx(rY,{ref:t,...n})})}),rY=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,s=ja(k0,r),i=CR(k0,r),{onThumbPositionChange:o}=i,l=Je(t,f=>i.onThumbChange(f)),u=x.useRef(void 0),d=bm(()=>{u.current&&(u.current(),u.current=void 0)},100);return x.useEffect(()=>{const f=s.viewport;if(f){const h=()=>{if(d(),!u.current){const m=sY(f,o);u.current=m,o()}};return o(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[s.viewport,d,o]),c.jsx(Pe.div,{"data-state":i.hasThumb?"visible":"hidden",...a,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Ie(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),v=f.clientX-m.left,p=f.clientY-m.top;i.onThumbPointerDown({x:v,y:p})}),onPointerUp:Ie(e.onPointerUp,i.onThumbPointerUp)})});jR.displayName=k0;var Qy="ScrollAreaCorner",NR=x.forwardRef((e,t)=>{const r=ja(Qy,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?c.jsx(nY,{...e,ref:t}):null});NR.displayName=Qy;var nY=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=ja(Qy,r),[s,i]=x.useState(0),[o,l]=x.useState(0),u=!!(s&&o);return Hl(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),l(d)}),Hl(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),i(d)}),u?c.jsx(Pe.div,{...n,ref:t,style:{width:s,height:o,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function C0(e){return e?parseInt(e,10):0}function IR(e,t){const r=e/t;return isNaN(r)?0:r}function Sm(e){const t=IR(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function aY(e,t,r,n="ltr"){const a=Sm(r),s=a/2,i=t||s,o=a-i,l=r.scrollbar.paddingStart+i,u=r.scrollbar.size-r.scrollbar.paddingEnd-o,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return RR([l,u],f)(e)}function QS(e,t,r="ltr"){const n=Sm(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-a,i=t.content-t.viewport,o=s-n,l=r==="ltr"?[0,i]:[i*-1,0],u=dx(e,l);return RR([0,i],[0,o])(u)}function RR(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function PR(e,t){return e>0&&e<t}var sY=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const s={left:e.scrollLeft,top:e.scrollTop},i=r.left!==s.left,o=r.top!==s.top;(i||o)&&t(),r=s,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function bm(e,t){const r=dr(e),n=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),x.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Hl(e,t){const r=dr(t);gr(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var OR=SR,iY=TR,oY=NR;const FR=x.forwardRef(({className:e,children:t,...r},n)=>c.jsxs(OR,{ref:n,className:Te("relative overflow-hidden",e),...r,children:[c.jsx(iY,{className:"h-full w-full rounded-[inherit]",children:t}),c.jsx(DR,{}),c.jsx(oY,{})]}));FR.displayName=OR.displayName;const DR=x.forwardRef(({className:e,orientation:t="vertical",...r},n)=>c.jsx(Yy,{ref:n,orientation:t,className:Te("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:c.jsx(jR,{className:"relative flex-1 rounded-full bg-border"})}));DR.displayName=Yy.displayName;const cY=()=>{const{usuarios:e,isLoading:t}=fR(),{data:r,isLoading:n}=Ky(),[a,s]=x.useState(""),[i,o]=x.useState([]),{consultores:l,addConsultor:u,removeConsultor:d,isAdding:f}=JX(a),h=(e==null?void 0:e.filter(y=>y.role==="gestor"))??[],m=(r==null?void 0:r.filter(y=>!l.some(E=>E.numerocm_consultor===y.numerocm_consultor)))??[],v=y=>{o(E=>E.includes(y)?E.filter(w=>w!==y):[...E,y])},p=()=>{i.length===m.length?o([]):o(m.map(y=>y.numerocm_consultor))},g=async()=>{if(a&&i.length>0){for(const y of i)u({userId:a,numerocmConsultor:y});o([])}};return t||n?c.jsx("div",{children:"Carregando..."}):c.jsx("div",{className:"space-y-6",children:c.jsxs(Ue,{children:[c.jsx(vt,{children:c.jsx(xt,{children:"Gerenciar Associaes de Gestores"})}),c.jsxs(pt,{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Selecione um Gestor"}),c.jsxs(nr,{value:a,onValueChange:s,children:[c.jsx(Jt,{children:c.jsx(ar,{placeholder:"Escolha um gestor"})}),c.jsx(Kt,{children:h.map(y=>c.jsx(st,{value:y.id,children:y.nome||y.email},y.id))})]})]}),a&&c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Consultores Associados"}),m.length>0&&c.jsxs("div",{className:"mb-4 space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ot,{id:"select-all-consultores",checked:i.length===m.length&&m.length>0,onCheckedChange:p}),c.jsxs("label",{htmlFor:"select-all-consultores",className:"text-sm font-medium cursor-pointer",children:["Selecionar todos (",m.length,")"]})]}),c.jsxs(ae,{onClick:g,disabled:i.length===0||f,size:"sm",children:[c.jsx(Xa,{className:"h-4 w-4 mr-2"}),"Adicionar (",i.length,")"]})]}),c.jsx(FR,{className:"h-[200px] border rounded-md p-2 bg-muted/30",children:c.jsx("div",{className:"space-y-2",children:m.map(y=>c.jsxs("div",{className:`flex items-center gap-2 p-2 rounded hover:bg-accent transition-colors ${i.includes(y.numerocm_consultor)?"bg-primary/10":""}`,children:[c.jsx(Ot,{id:`consultor-${y.id}`,checked:i.includes(y.numerocm_consultor),onCheckedChange:()=>v(y.numerocm_consultor)}),c.jsxs("label",{htmlFor:`consultor-${y.id}`,className:"text-sm cursor-pointer flex-1",children:[y.consultor," - ",y.email]})]},y.id))})})]}),l.length>0?c.jsxs(Hr,{children:[c.jsx(Gr,{children:c.jsxs(Ye,{children:[c.jsx(Ne,{children:"Consultor"}),c.jsx(Ne,{children:"Email"}),c.jsx(Ne,{children:"Cdigo"}),c.jsx(Ne,{className:"w-[100px]",children:"Aes"})]})}),c.jsx(qr,{children:l.map(y=>{const E=r==null?void 0:r.find(w=>w.numerocm_consultor===y.numerocm_consultor);return c.jsxs(Ye,{children:[c.jsx(Se,{children:(E==null?void 0:E.consultor)||y.numerocm_consultor}),c.jsx(Se,{className:"text-muted-foreground",children:(E==null?void 0:E.email)||"-"}),c.jsx(Se,{children:c.jsx(ht,{variant:"outline",children:y.numerocm_consultor})}),c.jsx(Se,{children:c.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>d(y.id),children:c.jsx(vr,{className:"h-4 w-4 text-destructive"})})})]},y.id)})})]}):c.jsx("p",{className:"text-muted-foreground text-sm",children:"Nenhum consultor associado"}),c.jsx("div",{className:"mt-4 p-3 bg-muted rounded-lg",children:c.jsx("p",{className:"text-sm text-muted-foreground",children:" O gestor ter acesso a todos os produtores, fazendas, talhes e programaes dos consultores associados."})})]})})]})]})})},xl={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},lY=()=>Tt({queryKey:["system-config"],queryFn:async()=>{const e=typeof window<"u"?window.location.hostname:"127.0.0.1",r=(xl==null?void 0:xl.VITE_API_URL)||`http://${e}:5000`,n=await fetch(`${r}/config`);if(!n.ok)throw new Error(`Erro ao carregar configuraes: ${n.status}`);const a=await n.json();return(a==null?void 0:a.items)??[]}}),uY=async e=>{const t=typeof window<"u"?window.location.hostname:"127.0.0.1",n=(xl==null?void 0:xl.VITE_API_URL)||`http://${t}:5000`,a=await fetch(`${n}/config/bulk`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:e})});if(!a.ok){const s=await a.json().catch(()=>null);throw new Error((s==null?void 0:s.error)||`Erro ao salvar configuraes: ${a.status}`)}return a.json()},dY=()=>{const e=bt(),{data:t=[],isLoading:r,error:n}=lY(),a=x.useMemo(()=>{const N={};for(const W of t)N[W.config_key]=String(W.config_value??"");return N},[t]),[s,i]=x.useState(""),[o,l]=x.useState(""),[u,d]=x.useState(""),[f,h]=x.useState(""),[m,v]=x.useState(""),[p,g]=x.useState(!1),[y,E]=x.useState("30"),[w,_]=x.useState(""),[T,b]=x.useState(""),[S,k]=x.useState(""),[A,j]=x.useState("");x.useEffect(()=>{i(a.api_defensivos_client_id??""),l(a.api_defensivos_secret??""),d(a.api_defensivos_exp??""),h(a.api_defensivos_url??""),v(a.api_defensivos_aud??""),g((a.defensivos_sync_enabled??"").toLowerCase()==="true"||(a.defensivos_sync_enabled??"")==="1"),E(a.defensivos_sync_interval_minutes??"30"),_(a.api_fertilizantes_cliente_id??""),b(a.api_fertilizantes_secret??""),k(a.api_fertilizantes_exp??""),j(a.api_fertilizantes_url??"")},[a]);const I=async()=>{const N=[{config_key:"api_defensivos_client_id",config_value:s,description:"Client ID para autenticao JWT na API de defensivos"},{config_key:"api_defensivos_secret",config_value:o,description:"Secret para gerao do JWT da API de defensivos"},{config_key:"api_defensivos_exp",config_value:u,description:"Timestamp de expirao do JWT para API de defensivos"},{config_key:"api_defensivos_url",config_value:f,description:"URL da API externa para sincronizao de defensivos"},{config_key:"api_defensivos_aud",config_value:m,description:"Audience JWT (se exigido pela API externa)"},{config_key:"defensivos_sync_enabled",config_value:p?"true":"false",description:"Ativar sincronizao automtica de defensivos"},{config_key:"defensivos_sync_interval_minutes",config_value:y||"30",description:"Intervalo da sincronizao automtica em minutos"},{config_key:"api_fertilizantes_cliente_id",config_value:w,description:"Client ID para autenticao JWT na API de fertilizantes"},{config_key:"api_fertilizantes_secret",config_value:T,description:"Secret para gerao do JWT da API de fertilizantes"},{config_key:"api_fertilizantes_exp",config_value:S,description:"Timestamp de expirao do JWT para API de fertilizantes"},{config_key:"api_fertilizantes_url",config_value:A,description:"URL da API externa para sincronizao de fertilizantes"}];try{await uY(N),ce.success("Configuraes salvas"),await e.invalidateQueries({queryKey:["system-config"]})}catch(W){ce.error((W==null?void 0:W.message)||String(W))}};return c.jsxs(Ue,{children:[c.jsx(vt,{children:c.jsx(xt,{children:"Configuraes de Sistema"})}),c.jsxs(pt,{className:"space-y-4",children:[r?c.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando..."}):n?c.jsx("p",{className:"text-sm text-destructive",children:"Erro ao carregar configuraes."}):c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ue,{children:"Client ID (Defensivos)"}),c.jsx(we,{value:s,onChange:N=>i(N.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ue,{children:"Sincronizao automtica (Defensivos)"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"checkbox",checked:p,onChange:N=>g(N.target.checked)}),c.jsx("span",{className:"text-sm",children:"Ativar"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ue,{children:"Intervalo (minutos)"}),c.jsx(we,{value:y,onChange:N=>E(N.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ue,{children:"Secret (Defensivos)"}),c.jsx(we,{value:o,onChange:N=>l(N.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ue,{children:"Expirao JWT (timestamp)"}),c.jsx(we,{value:u,onChange:N=>d(N.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ue,{children:"URL API (Defensivos)"}),c.jsx(we,{value:f,onChange:N=>h(N.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ue,{children:"Audience (Defensivos)"}),c.jsx(we,{value:m,onChange:N=>v(N.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ue,{children:"Client ID (Fertilizantes)"}),c.jsx(we,{value:w,onChange:N=>_(N.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ue,{children:"Secret (Fertilizantes)"}),c.jsx(we,{value:T,onChange:N=>b(N.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ue,{children:"Expirao JWT Fertilizantes (timestamp)"}),c.jsx(we,{value:S,onChange:N=>k(N.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ue,{children:"URL API (Fertilizantes)"}),c.jsx(we,{value:A,onChange:N=>j(N.target.value)})]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(ae,{variant:"outline",onClick:()=>e.invalidateQueries({queryKey:["system-config"]}),children:"Atualizar"}),c.jsx(ae,{onClick:I,children:"Salvar"})]})]})]})};function fY(){const e=rf(),[t,r]=x.useState(""),[n,a]=x.useState(!1),{data:s,isLoading:i}=ty(),[o,l]=x.useState("cultivares"),[u,d]=x.useState({produtos:!0,pessoas:!0,gerais:!0});x.useEffect(()=>{(async()=>{const{data:{session:m}}=await Ce.auth.getSession();m||e("/auth")})()},[e]);const f=async h=>{h.preventDefault();try{const{data:m,error:v}=await Ce.functions.invoke("admin-auth",{body:{password:t}});if(v){console.error("Error calling admin-auth:",v),ce.error("Erro ao verificar senha");return}if(m!=null&&m.error){ce.error(m.error);return}a(!0),ce.success("Acesso autorizado!"),window.location.reload()}catch(m){console.error("Error in handlePasswordSubmit:",m),ce.error("Erro ao processar autenticao")}};return i?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("p",{children:"Carregando..."})}):!n&&!(s!=null&&s.isAdmin)?c.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:c.jsxs(Ue,{className:"w-full max-w-md",children:[c.jsxs(vt,{children:[c.jsx(xt,{children:"Acesso Administrativo"}),c.jsx(aa,{children:"Digite a senha para acessar a rea administrativa"})]}),c.jsx(pt,{children:c.jsxs("form",{onSubmit:f,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ue,{htmlFor:"password",children:"Senha"}),c.jsx(we,{id:"password",type:"password",value:t,onChange:h=>r(h.target.value),placeholder:"Digite a senha de admin"})]}),c.jsx(ae,{type:"submit",className:"w-full",children:"Entrar"})]})})]})}):c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsxs("div",{className:"flex justify-between items-center px-6 py-4 border-b bg-card",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"rea Administrativa"}),c.jsx("p",{className:"text-muted-foreground",children:"Importao de catlogos"})]}),c.jsx(ae,{variant:"outline",onClick:()=>e("/"),children:"Voltar ao Dashboard"})]}),c.jsxs("div",{className:"flex",children:[c.jsx("aside",{className:"w-64 shrink-0 border-r bg-card",children:c.jsxs("nav",{className:"p-4 space-y-4",children:[c.jsxs("div",{children:[c.jsxs("button",{type:"button",className:"flex w-full items-center justify-between text-sm font-semibold py-1",onClick:()=>d(h=>({...h,produtos:!h.produtos})),children:[c.jsx("span",{children:"Produtos"}),u.produtos?c.jsx(fr,{className:"h-4 w-4"}):c.jsx(lp,{className:"h-4 w-4"})]}),u.produtos&&c.jsxs("div",{className:"mt-1 ml-3 space-y-1",children:[c.jsx(ae,{variant:o==="cultivares"?"secondary":"ghost",className:"w-full justify-start",size:"sm",onClick:()=>l("cultivares"),children:"Cultivares"}),c.jsx(ae,{variant:o==="fertilizantes"?"secondary":"ghost",className:"w-full justify-start",size:"sm",onClick:()=>l("fertilizantes"),children:"Fertilizantes"}),c.jsx(ae,{variant:o==="defensivos"?"secondary":"ghost",className:"w-full justify-start",size:"sm",onClick:()=>l("defensivos"),children:"Defensivos"})]})]}),c.jsxs("div",{children:[c.jsxs("button",{type:"button",className:"flex w-full items-center justify-between text-sm font-semibold py-1",onClick:()=>d(h=>({...h,pessoas:!h.pessoas})),children:[c.jsx("span",{children:"Pessoas"}),u.pessoas?c.jsx(fr,{className:"h-4 w-4"}):c.jsx(lp,{className:"h-4 w-4"})]}),u.pessoas&&c.jsxs("div",{className:"mt-1 ml-3 space-y-1",children:[c.jsx(ae,{variant:o==="produtores"?"secondary":"ghost",className:"w-full justify-start",size:"sm",onClick:()=>l("produtores"),children:"Produtores"}),c.jsx(ae,{variant:o==="fazendas"?"secondary":"ghost",className:"w-full justify-start",size:"sm",onClick:()=>l("fazendas"),children:"Fazendas"}),c.jsx(ae,{variant:o==="talhoes"?"secondary":"ghost",className:"w-full justify-start",size:"sm",onClick:()=>l("talhoes"),children:"Talhes"}),c.jsx(ae,{variant:o==="consultores"?"secondary":"ghost",className:"w-full justify-start",size:"sm",onClick:()=>l("consultores"),children:"Consultores"}),c.jsx(ae,{variant:o==="gestores"?"secondary":"ghost",className:"w-full justify-start",size:"sm",onClick:()=>l("gestores"),children:"Gestores"})]})]}),c.jsxs("div",{children:[c.jsxs("button",{type:"button",className:"flex w-full items-center justify-between text-sm font-semibold py-1",onClick:()=>d(h=>({...h,gerais:!h.gerais})),children:[c.jsx("span",{children:"Gerais"}),u.gerais?c.jsx(fr,{className:"h-4 w-4"}):c.jsx(lp,{className:"h-4 w-4"})]}),u.gerais&&c.jsxs("div",{className:"mt-1 ml-3 space-y-1",children:[c.jsx(ae,{variant:o==="config"?"secondary":"ghost",className:"w-full justify-start",size:"sm",onClick:()=>l("config"),children:"Configuraes"}),c.jsx(ae,{variant:o==="usuarios"?"secondary":"ghost",className:"w-full justify-start",size:"sm",onClick:()=>l("usuarios"),children:"Usurios"}),c.jsx(ae,{variant:o==="safras"?"secondary":"ghost",className:"w-full justify-start",size:"sm",onClick:()=>l("safras"),children:"Safras"}),c.jsx(ae,{variant:o==="tratamentos"?"secondary":"ghost",className:"w-full justify-start",size:"sm",onClick:()=>l("tratamentos"),children:"Tratamentos"}),c.jsx(ae,{variant:o==="cultivares-tratamentos"?"secondary":"ghost",className:"w-full justify-start",size:"sm",onClick:()=>l("cultivares-tratamentos"),children:"Cultivares x Tratamentos"}),c.jsx(ae,{variant:o==="justificativas"?"secondary":"ghost",className:"w-full justify-start",size:"sm",onClick:()=>l("justificativas"),children:"Justificativas"}),c.jsx(ae,{variant:o==="calendario"?"secondary":"ghost",className:"w-full justify-start",size:"sm",onClick:()=>l("calendario"),children:"Calendrio"}),c.jsx(ae,{variant:o==="epocas"?"secondary":"ghost",className:"w-full justify-start",size:"sm",onClick:()=>l("epocas"),children:"pocas"}),c.jsx(ae,{variant:o==="replicar"?"secondary":"ghost",className:"w-full justify-start",size:"sm",onClick:()=>l("replicar"),children:"Replicar"}),c.jsx(ae,{variant:o==="historico"?"secondary":"ghost",className:"w-full justify-start",size:"sm",onClick:()=>l("historico"),children:"Histrico"})]})]})]})}),c.jsxs("main",{className:"flex-1 p-6 space-y-6",children:[o==="cultivares"&&c.jsxs(c.Fragment,{children:[c.jsx(nJ,{}),c.jsx(iJ,{})]}),o==="fertilizantes"&&c.jsxs(c.Fragment,{children:[c.jsx(cJ,{}),c.jsx(lJ,{})]}),o==="defensivos"&&c.jsxs(c.Fragment,{children:[c.jsx(uJ,{}),c.jsx(dJ,{})]}),o==="calendario"&&c.jsxs(c.Fragment,{children:[c.jsx(KJ,{}),c.jsx(VX,{})]}),o==="consultores"&&c.jsxs(c.Fragment,{children:[c.jsx(fJ,{}),c.jsx(LX,{})]}),o==="produtores"&&c.jsxs(c.Fragment,{children:[c.jsx(hJ,{}),c.jsx(UX,{})]}),o==="fazendas"&&c.jsxs(c.Fragment,{children:[c.jsx(mJ,{}),c.jsx(BX,{})]}),o==="talhoes"&&c.jsxs(c.Fragment,{children:[c.jsx(zX,{}),c.jsx($X,{})]}),o==="safras"&&c.jsx(pJ,{}),o==="tratamentos"&&c.jsx(qJ,{}),o==="cultivares-tratamentos"&&c.jsx(HX,{}),o==="justificativas"&&c.jsx(JJ,{}),o==="epocas"&&c.jsxs(c.Fragment,{children:[c.jsx(GX,{}),c.jsx(qX,{})]}),o==="usuarios"&&c.jsx(MX,{}),o==="config"&&c.jsx(dY,{}),o==="gestores"&&c.jsx(cY,{}),o==="replicar"&&c.jsx(GJ,{}),o==="historico"&&c.jsx(IX,{})]})]})]})}var Tm="Popover",[MR,HZ]=Vr(Tm,[eu]),mf=eu(),[hY,go]=MR(Tm),LR=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:i=!1}=e,o=mf(t),l=x.useRef(null),[u,d]=x.useState(!1),[f,h]=Ta({prop:n,defaultProp:a??!1,onChange:s,caller:Tm});return c.jsx($k,{...o,children:c.jsx(hY,{scope:t,contentId:kr(),triggerRef:l,open:f,onOpenChange:h,onOpenToggle:x.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:x.useCallback(()=>d(!0),[]),onCustomAnchorRemove:x.useCallback(()=>d(!1),[]),modal:i,children:r})})};LR.displayName=Tm;var UR="PopoverAnchor",mY=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=go(UR,r),s=mf(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:o}=a;return x.useEffect(()=>(i(),()=>o()),[i,o]),c.jsx(Z0,{...s,...n,ref:t})});mY.displayName=UR;var BR="PopoverTrigger",$R=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=go(BR,r),s=mf(r),i=Je(t,a.triggerRef),o=c.jsx(Pe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":GR(a.open),...n,ref:i,onClick:Ie(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?o:c.jsx(Z0,{asChild:!0,...s,children:o})});$R.displayName=BR;var ew="PopoverPortal",[pY,gY]=MR(ew,{forceMount:void 0}),zR=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,s=go(ew,t);return c.jsx(pY,{scope:t,forceMount:r,children:c.jsx(fn,{present:r||s.open,children:c.jsx(Qd,{asChild:!0,container:a,children:n})})})};zR.displayName=ew;var Gl="PopoverContent",VR=x.forwardRef((e,t)=>{const r=gY(Gl,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,s=go(Gl,e.__scopePopover);return c.jsx(fn,{present:n||s.open,children:s.modal?c.jsx(xY,{...a,ref:t}):c.jsx(yY,{...a,ref:t})})});VR.displayName=Gl;var vY=Zo("PopoverContent.RemoveScroll"),xY=x.forwardRef((e,t)=>{const r=go(Gl,e.__scopePopover),n=x.useRef(null),a=Je(t,n),s=x.useRef(!1);return x.useEffect(()=>{const i=n.current;if(i)return ny(i)},[]),c.jsx(im,{as:vY,allowPinchZoom:!0,children:c.jsx(WR,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ie(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),s.current||(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ie(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0,u=o.button===2||l;s.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Ie(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),yY=x.forwardRef((e,t)=>{const r=go(Gl,e.__scopePopover),n=x.useRef(!1),a=x.useRef(!1);return c.jsx(WR,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i,o;(i=e.onCloseAutoFocus)==null||i.call(e,s),s.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),WR=x.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:i,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:d,...f}=e,h=go(Gl,r),m=mf(r);return ry(),c.jsx(am,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:c.jsx(Xl,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:d,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:c.jsx(I1,{"data-state":GR(h.open),role:"dialog",id:h.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),HR="PopoverClose",wY=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=go(HR,r);return c.jsx(Pe.button,{type:"button",...n,ref:t,onClick:Ie(e.onClick,()=>a.onOpenChange(!1))})});wY.displayName=HR;var EY="PopoverArrow",_Y=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=mf(r);return c.jsx(R1,{...a,...n,ref:t})});_Y.displayName=EY;function GR(e){return e?"open":"closed"}var SY=LR,bY=$R,TY=zR,qR=VR;const Ea=SY,_a=bY,Wn=x.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>c.jsx(TY,{children:c.jsx(qR,{ref:a,align:t,sideOffset:r,className:Te("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Wn.displayName=qR.displayName;var eb=1,kY=.9,CY=.8,AY=.17,ug=.1,dg=.999,jY=.9999,NY=.99,IY=/[\\\/_+.#"@\[\(\{&]/,RY=/[\\\/_+.#"@\[\(\{&]/g,PY=/[\s-]/,JR=/[\s-]/g;function vx(e,t,r,n,a,s,i){if(s===t.length)return a===e.length?eb:NY;var o=`${a},${s}`;if(i[o]!==void 0)return i[o];for(var l=n.charAt(s),u=r.indexOf(l,a),d=0,f,h,m,v;u>=0;)f=vx(e,t,r,n,u+1,s+1,i),f>d&&(u===a?f*=eb:IY.test(e.charAt(u-1))?(f*=CY,m=e.slice(a,u-1).match(RY),m&&a>0&&(f*=Math.pow(dg,m.length))):PY.test(e.charAt(u-1))?(f*=kY,v=e.slice(a,u-1).match(JR),v&&a>0&&(f*=Math.pow(dg,v.length))):(f*=AY,a>0&&(f*=Math.pow(dg,u-a))),e.charAt(u)!==t.charAt(s)&&(f*=jY)),(f<ug&&r.charAt(u-1)===n.charAt(s+1)||n.charAt(s+1)===n.charAt(s)&&r.charAt(u-1)!==n.charAt(s))&&(h=vx(e,t,r,n,u+1,s+2,i),h*ug>f&&(f=h*ug)),f>d&&(d=f),u=r.indexOf(l,u+1);return i[o]=d,d}function tb(e){return e.toLowerCase().replace(JR," ")}function OY(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,vx(e,t,tb(e),tb(t),0,0,{})}var ju='[cmdk-group=""]',fg='[cmdk-group-items=""]',FY='[cmdk-group-heading=""]',KR='[cmdk-item=""]',rb=`${KR}:not([aria-disabled="true"])`,xx="cmdk-item-select",$c="data-value",DY=(e,t,r)=>OY(e,t,r),XR=x.createContext(void 0),pf=()=>x.useContext(XR),YR=x.createContext(void 0),tw=()=>x.useContext(YR),ZR=x.createContext(void 0),QR=x.forwardRef((e,t)=>{let r=zc(()=>{var C,G;return{search:"",value:(G=(C=e.value)!=null?C:e.defaultValue)!=null?G:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=zc(()=>new Set),a=zc(()=>new Map),s=zc(()=>new Map),i=zc(()=>new Set),o=eP(e),{label:l,children:u,value:d,onValueChange:f,filter:h,shouldFilter:m,loop:v,disablePointerSelection:p=!1,vimBindings:g=!0,...y}=e,E=kr(),w=kr(),_=kr(),T=x.useRef(null),b=qY();lc(()=>{if(d!==void 0){let C=d.trim();r.current.value=C,S.emit()}},[d]),lc(()=>{b(6,W)},[]);let S=x.useMemo(()=>({subscribe:C=>(i.current.add(C),()=>i.current.delete(C)),snapshot:()=>r.current,setState:(C,G,L)=>{var D,O,P,Q;if(!Object.is(r.current[C],G)){if(r.current[C]=G,C==="search")N(),j(),b(1,I);else if(C==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let ee=document.getElementById(_);ee?ee.focus():(D=document.getElementById(E))==null||D.focus()}if(b(7,()=>{var ee;r.current.selectedItemId=(ee=M())==null?void 0:ee.id,S.emit()}),L||b(5,W),((O=o.current)==null?void 0:O.value)!==void 0){let ee=G??"";(Q=(P=o.current).onValueChange)==null||Q.call(P,ee);return}}S.emit()}},emit:()=>{i.current.forEach(C=>C())}}),[]),k=x.useMemo(()=>({value:(C,G,L)=>{var D;G!==((D=s.current.get(C))==null?void 0:D.value)&&(s.current.set(C,{value:G,keywords:L}),r.current.filtered.items.set(C,A(G,L)),b(2,()=>{j(),S.emit()}))},item:(C,G)=>(n.current.add(C),G&&(a.current.has(G)?a.current.get(G).add(C):a.current.set(G,new Set([C]))),b(3,()=>{N(),j(),r.current.value||I(),S.emit()}),()=>{s.current.delete(C),n.current.delete(C),r.current.filtered.items.delete(C);let L=M();b(4,()=>{N(),(L==null?void 0:L.getAttribute("id"))===C&&I(),S.emit()})}),group:C=>(a.current.has(C)||a.current.set(C,new Set),()=>{s.current.delete(C),a.current.delete(C)}),filter:()=>o.current.shouldFilter,label:l||e["aria-label"],getDisablePointerSelection:()=>o.current.disablePointerSelection,listId:E,inputId:_,labelId:w,listInnerRef:T}),[]);function A(C,G){var L,D;let O=(D=(L=o.current)==null?void 0:L.filter)!=null?D:DY;return C?O(C,r.current.search,G):0}function j(){if(!r.current.search||o.current.shouldFilter===!1)return;let C=r.current.filtered.items,G=[];r.current.filtered.groups.forEach(D=>{let O=a.current.get(D),P=0;O.forEach(Q=>{let ee=C.get(Q);P=Math.max(ee,P)}),G.push([D,P])});let L=T.current;X().sort((D,O)=>{var P,Q;let ee=D.getAttribute("id"),re=O.getAttribute("id");return((P=C.get(re))!=null?P:0)-((Q=C.get(ee))!=null?Q:0)}).forEach(D=>{let O=D.closest(fg);O?O.appendChild(D.parentElement===O?D:D.closest(`${fg} > *`)):L.appendChild(D.parentElement===L?D:D.closest(`${fg} > *`))}),G.sort((D,O)=>O[1]-D[1]).forEach(D=>{var O;let P=(O=T.current)==null?void 0:O.querySelector(`${ju}[${$c}="${encodeURIComponent(D[0])}"]`);P==null||P.parentElement.appendChild(P)})}function I(){let C=X().find(L=>L.getAttribute("aria-disabled")!=="true"),G=C==null?void 0:C.getAttribute($c);S.setState("value",G||void 0)}function N(){var C,G,L,D;if(!r.current.search||o.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let O=0;for(let P of n.current){let Q=(G=(C=s.current.get(P))==null?void 0:C.value)!=null?G:"",ee=(D=(L=s.current.get(P))==null?void 0:L.keywords)!=null?D:[],re=A(Q,ee);r.current.filtered.items.set(P,re),re>0&&O++}for(let[P,Q]of a.current)for(let ee of Q)if(r.current.filtered.items.get(ee)>0){r.current.filtered.groups.add(P);break}r.current.filtered.count=O}function W(){var C,G,L;let D=M();D&&(((C=D.parentElement)==null?void 0:C.firstChild)===D&&((L=(G=D.closest(ju))==null?void 0:G.querySelector(FY))==null||L.scrollIntoView({block:"nearest"})),D.scrollIntoView({block:"nearest"}))}function M(){var C;return(C=T.current)==null?void 0:C.querySelector(`${KR}[aria-selected="true"]`)}function X(){var C;return Array.from(((C=T.current)==null?void 0:C.querySelectorAll(rb))||[])}function B(C){let G=X()[C];G&&S.setState("value",G.getAttribute($c))}function z(C){var G;let L=M(),D=X(),O=D.findIndex(Q=>Q===L),P=D[O+C];(G=o.current)!=null&&G.loop&&(P=O+C<0?D[D.length-1]:O+C===D.length?D[0]:D[O+C]),P&&S.setState("value",P.getAttribute($c))}function Y(C){let G=M(),L=G==null?void 0:G.closest(ju),D;for(;L&&!D;)L=C>0?HY(L,ju):GY(L,ju),D=L==null?void 0:L.querySelector(rb);D?S.setState("value",D.getAttribute($c)):z(C)}let F=()=>B(X().length-1),ne=C=>{C.preventDefault(),C.metaKey?F():C.altKey?Y(1):z(1)},Z=C=>{C.preventDefault(),C.metaKey?B(0):C.altKey?Y(-1):z(-1)};return x.createElement(Pe.div,{ref:t,tabIndex:-1,...y,"cmdk-root":"",onKeyDown:C=>{var G;(G=y.onKeyDown)==null||G.call(y,C);let L=C.nativeEvent.isComposing||C.keyCode===229;if(!(C.defaultPrevented||L))switch(C.key){case"n":case"j":{g&&C.ctrlKey&&ne(C);break}case"ArrowDown":{ne(C);break}case"p":case"k":{g&&C.ctrlKey&&Z(C);break}case"ArrowUp":{Z(C);break}case"Home":{C.preventDefault(),B(0);break}case"End":{C.preventDefault(),F();break}case"Enter":{C.preventDefault();let D=M();if(D){let O=new Event(xx);D.dispatchEvent(O)}}}}},x.createElement("label",{"cmdk-label":"",htmlFor:k.inputId,id:k.labelId,style:KY},l),km(e,C=>x.createElement(YR.Provider,{value:S},x.createElement(XR.Provider,{value:k},C))))}),MY=x.forwardRef((e,t)=>{var r,n;let a=kr(),s=x.useRef(null),i=x.useContext(ZR),o=pf(),l=eP(e),u=(n=(r=l.current)==null?void 0:r.forceMount)!=null?n:i==null?void 0:i.forceMount;lc(()=>{if(!u)return o.item(a,i==null?void 0:i.id)},[u]);let d=tP(a,s,[e.value,e.children,s],e.keywords),f=tw(),h=no(b=>b.value&&b.value===d.current),m=no(b=>u||o.filter()===!1?!0:b.search?b.filtered.items.get(a)>0:!0);x.useEffect(()=>{let b=s.current;if(!(!b||e.disabled))return b.addEventListener(xx,v),()=>b.removeEventListener(xx,v)},[m,e.onSelect,e.disabled]);function v(){var b,S;p(),(S=(b=l.current).onSelect)==null||S.call(b,d.current)}function p(){f.setState("value",d.current,!0)}if(!m)return null;let{disabled:g,value:y,onSelect:E,forceMount:w,keywords:_,...T}=e;return x.createElement(Pe.div,{ref:Yo(s,t),...T,id:a,"cmdk-item":"",role:"option","aria-disabled":!!g,"aria-selected":!!h,"data-disabled":!!g,"data-selected":!!h,onPointerMove:g||o.getDisablePointerSelection()?void 0:p,onClick:g?void 0:v},e.children)}),LY=x.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:a,...s}=e,i=kr(),o=x.useRef(null),l=x.useRef(null),u=kr(),d=pf(),f=no(m=>a||d.filter()===!1?!0:m.search?m.filtered.groups.has(i):!0);lc(()=>d.group(i),[]),tP(i,o,[e.value,e.heading,l]);let h=x.useMemo(()=>({id:i,forceMount:a}),[a]);return x.createElement(Pe.div,{ref:Yo(o,t),...s,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},r&&x.createElement("div",{ref:l,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),km(e,m=>x.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},x.createElement(ZR.Provider,{value:h},m))))}),UY=x.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,a=x.useRef(null),s=no(i=>!i.search);return!r&&!s?null:x.createElement(Pe.div,{ref:Yo(a,t),...n,"cmdk-separator":"",role:"separator"})}),BY=x.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,a=e.value!=null,s=tw(),i=no(u=>u.search),o=no(u=>u.selectedItemId),l=pf();return x.useEffect(()=>{e.value!=null&&s.setState("search",e.value)},[e.value]),x.createElement(Pe.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":l.listId,"aria-labelledby":l.labelId,"aria-activedescendant":o,id:l.inputId,type:"text",value:a?e.value:i,onChange:u=>{a||s.setState("search",u.target.value),r==null||r(u.target.value)}})}),$Y=x.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...a}=e,s=x.useRef(null),i=x.useRef(null),o=no(u=>u.selectedItemId),l=pf();return x.useEffect(()=>{if(i.current&&s.current){let u=i.current,d=s.current,f,h=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let m=u.offsetHeight;d.style.setProperty("--cmdk-list-height",m.toFixed(1)+"px")})});return h.observe(u),()=>{cancelAnimationFrame(f),h.unobserve(u)}}},[]),x.createElement(Pe.div,{ref:Yo(s,t),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":o,"aria-label":n,id:l.listId},km(e,u=>x.createElement("div",{ref:Yo(i,l.listInnerRef),"cmdk-list-sizer":""},u)))}),zY=x.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:a,contentClassName:s,container:i,...o}=e;return x.createElement(oy,{open:r,onOpenChange:n},x.createElement(cy,{container:i},x.createElement(cm,{"cmdk-overlay":"",className:a}),x.createElement(lm,{"aria-label":e.label,"cmdk-dialog":"",className:s},x.createElement(QR,{ref:t,...o}))))}),VY=x.forwardRef((e,t)=>no(r=>r.filtered.count===0)?x.createElement(Pe.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),WY=x.forwardRef((e,t)=>{let{progress:r,children:n,label:a="Loading...",...s}=e;return x.createElement(Pe.div,{ref:t,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},km(e,i=>x.createElement("div",{"aria-hidden":!0},i)))}),Nn=Object.assign(QR,{List:$Y,Item:MY,Input:BY,Group:LY,Separator:UY,Dialog:zY,Empty:VY,Loading:WY});function HY(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function GY(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function eP(e){let t=x.useRef(e);return lc(()=>{t.current=e}),t}var lc=typeof window>"u"?x.useEffect:x.useLayoutEffect;function zc(e){let t=x.useRef();return t.current===void 0&&(t.current=e()),t}function no(e){let t=tw(),r=()=>e(t.snapshot());return x.useSyncExternalStore(t.subscribe,r,r)}function tP(e,t,r,n=[]){let a=x.useRef(),s=pf();return lc(()=>{var i;let o=(()=>{var u;for(let d of r){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():a.current}})(),l=n.map(u=>u.trim());s.value(e,o,l),(i=t.current)==null||i.setAttribute($c,o),a.current=o}),a}var qY=()=>{let[e,t]=x.useState(),r=zc(()=>new Map);return lc(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,a)=>{r.current.set(n,a),t({})}};function JY(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function km({asChild:e,children:t},r){return e&&x.isValidElement(t)?x.cloneElement(JY(t),{ref:t.ref},r(t.props.children)):r(t)}var KY={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Hn=x.forwardRef(({className:e,...t},r)=>c.jsx(Nn,{ref:r,className:Te("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));Hn.displayName=Nn.displayName;const Gn=x.forwardRef(({className:e,...t},r)=>c.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[c.jsx(ZF,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),c.jsx(Nn.Input,{ref:r,className:Te("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));Gn.displayName=Nn.Input.displayName;const qn=x.forwardRef(({className:e,...t},r)=>c.jsx(Nn.List,{ref:r,className:Te("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));qn.displayName=Nn.List.displayName;const Jn=x.forwardRef((e,t)=>c.jsx(Nn.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));Jn.displayName=Nn.Empty.displayName;const Kn=x.forwardRef(({className:e,...t},r)=>c.jsx(Nn.Group,{ref:r,className:Te("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));Kn.displayName=Nn.Group.displayName;const XY=x.forwardRef(({className:e,...t},r)=>c.jsx(Nn.Separator,{ref:r,className:Te("-mx-1 h-px bg-border",e),...t}));XY.displayName=Nn.Separator.displayName;const Xn=x.forwardRef(({className:e,...t},r)=>c.jsx(Nn.Item,{ref:r,className:Te("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));Xn.displayName=Nn.Item.displayName;const nb=({onSubmit:e,onCancel:t,isLoading:r=!1,initialData:n,title:a="Nova Aplicao de Defensivos",submitLabel:s="Salvar aplicao"})=>{var D,O;const{data:i}=mc(),{data:o}=qy(),{data:l}=wR(),[u,d]=x.useState(""),[f,h]=x.useState(""),[m,v]=x.useState(!1),{data:p}=eo(u),[g,y]=x.useState(0),{safras:E,defaultSafra:w}=vm(),[_,T]=x.useState(""),[b,S]=x.useState(!1),[k,A]=x.useState([{tempId:ll(),defensivo:"",dose:0,unidade:"L/ha",alvo:"",aplicacoes:[],produto_salvo:!1,deve_faturar:!0,porcentagem_salva:100,area_hectares:0,total:0}]),[j,I]=x.useState(!1);x.useEffect(()=>{var P,Q,ee;if(n){d(n.produtor_numerocm||""),h(n.area||"");const re=(Q=(P=n.defensivos)==null?void 0:P[0])==null?void 0:Q.safra_id;re&&T(String(re)),n.defensivos&&n.defensivos.length>0&&(A(n.defensivos.map(fe=>({...fe,tempId:ll(),aplicacoes:fe.alvo?fe.alvo.split(",").map(V=>V.trim()):[],porcentagem_salva:Math.min(100,Math.max(1,Number(fe.porcentagem_salva??100))),total:(Number(fe.dose)||0)*(Number(fe.area_hectares)||0)*(Math.min(100,Math.max(1,Number(fe.porcentagem_salva??100)))/100)}))),y(((ee=n.defensivos[0])==null?void 0:ee.area_hectares)||0))}},[n]),x.useEffect(()=>{!n&&!_&&w&&T(String(w.id))},[w,n,_]),x.useEffect(()=>{if(n||_)return;const P=E||[];if(!P.length)return;const Q=w||P.find(ee=>ee==null?void 0:ee.is_default)||P.find(ee=>ee==null?void 0:ee.ativa)||P[0];Q!=null&&Q.id&&T(String(Q.id))},[E,w,n,_]),x.useEffect(()=>{A(P=>P.map(Q=>({...Q,total:(Number(Q.dose)||0)*(g||0)*(Math.min(100,Math.max(1,Number(Q.porcentagem_salva??100)))/100)})))},[g]);const N=()=>{A([{tempId:ll(),classe:"",defensivo:"",dose:0,unidade:"L/ha",alvo:"",aplicacoes:[],produto_salvo:!1,deve_faturar:!0,porcentagem_salva:100,area_hectares:0,total:0},...k])},W=P=>{k.length!==1&&A(k.filter(Q=>Q.tempId!==P))},M=(P,Q,ee)=>{A(re=>re.map(fe=>{if(fe.tempId===P){const V={...fe,[Q]:ee};if(Q==="porcentagem_salva"){const Ee=parseFloat(ee),ye=isNaN(Ee)?100:Math.min(100,Math.max(0,Ee));V.porcentagem_salva=ye}if(Q==="dose"||Q==="porcentagem_salva"){const Ee=Number(Q==="dose"?ee:V.dose)||0,ye=Math.min(100,Math.max(0,Number(V.porcentagem_salva??100)));V.total=Ee*(g||0)*(ye/100)}return V}return fe}))},X=x.useMemo(()=>{const P={};return k.forEach(Q=>{const ee=Q.aplicacoes&&Q.aplicacoes[0]||Q.alvo||"",re=String(ee||"").trim(),fe=String(Q.defensivo||"").trim();!re||!fe||(P[re]||(P[re]=[]),P[re].push(fe))}),P},[k]),B=P=>{if(P.preventDefault(),!_){alert("Selecione a Safra antes do Produtor/Fazenda");return}if(!u||!f){alert("Por favor, preencha Produtor e Fazenda");return}if(!ne){alert("No  possvel cadastrar defensivos antes de registrar a programao de Cultivar para este produtor/fazenda.");return}if(k.length===0||Number(g)<=0||k.some(ee=>!ee.defensivo||Number(ee.dose)<=0)){alert("Por favor, adicione pelo menos um defensivo vlido com dose e rea");return}const Q=k.map(({tempId:ee,total:re,aplicacoes:fe,...V})=>({...V,safra_id:_,area_hectares:g,alvo:fe&&fe.length>0?fe.join(", "):V.alvo}));e({produtor_numerocm:u,area:f,defensivos:Q})},z=i==null?void 0:i.find(P=>P.numerocm===u),{programacoes:Y=[],isLoading:F}=af(),ne=x.useMemo(()=>{if(!u||!f||!_)return!1;const P=String(f||"").trim(),Q=String(u||"").trim(),ee=String(_||"").trim();return(Y||[]).some(re=>String(re.produtor_numerocm||"").trim()===Q&&String(re.area||"").trim()===P&&String(re.safra||"").trim()===ee)},[Y,u,f,_]);x.useEffect(()=>{if(!u||!f||!_)return;(async()=>{try{const Q=(p||[]).find(Ee=>Ee.nomefazenda===f);if(!Q)return;const{data:ee,error:re}=await Ce.from("programacoes").select("id").eq("produtor_numerocm",u).eq("fazenda_idfazenda",Q.idfazenda).eq("safra_id",_).maybeSingle();if(re||!(ee!=null&&ee.id))return;const{data:fe,error:V}=await Ce.rpc("get_programacao_area_total",{programacao_uuid:ee.id});!V&&fe!==null&&fe!==void 0&&y(Number(fe))}catch(Q){console.error("Erro ao buscar rea programada:",Q)}})()},[u,f,_,p]);const Z=x.useMemo(()=>{if(!_)return[];const P=String(_),Q=new Set((Y||[]).filter(ee=>String(ee.safra||"")===P).map(ee=>String(ee.produtor_numerocm||"")));return Array.from(Q)},[Y,_]),C=x.useMemo(()=>_?(i||[]).filter(ee=>Z.includes(String(ee.numerocm))):[],[i,Z,_]),G=x.useMemo(()=>{const P=new Set;if(_&&u){const Q=String(_),ee=String(u);(Y||[]).filter(re=>String(re.safra||"")===Q&&String(re.produtor_numerocm||"")===ee).forEach(re=>P.add(String(re.area||"")))}return P},[Y,_,u]),L=x.useMemo(()=>!_||!u?[]:(p||[]).filter(ee=>G.has(String(ee.nomefazenda))),[p,G,_,u]);return c.jsxs(Ue,{className:"p-6 mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:a}),c.jsxs("form",{onSubmit:B,className:"space-y-6",children:[u&&f&&!F&&!ne&&c.jsx("div",{className:"p-3 rounded-md bg-destructive/10 text-destructive text-sm",children:"No  possvel cadastrar defensivos antes de registrar a programao de Cultivar para este produtor/fazenda."}),c.jsxs("div",{className:"grid gap-4 md:grid-cols-4 lg:grid-cols-12",children:[c.jsxs("div",{className:"space-y-2 md:col-span-1 lg:col-span-1",children:[c.jsx(ue,{children:"Safra *"}),c.jsxs(Ea,{open:b,onOpenChange:S,children:[c.jsx(_a,{asChild:!0,children:c.jsxs(ae,{variant:"outline",role:"combobox",className:"w-full justify-between",children:[_?`${((D=(E||[]).find(P=>String(P.id)===String(_)))==null?void 0:D.nome)||"Selecionada"}`:"Selecione...",c.jsx(wa,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),c.jsx(Wn,{className:"w-full p-0",children:c.jsxs(Hn,{children:[c.jsx(Gn,{placeholder:"Buscar safra..."}),c.jsxs(qn,{children:[c.jsx(Jn,{children:"Nenhuma safra encontrada."}),c.jsx(Kn,{children:(E||[]).map(P=>c.jsxs(Xn,{value:`${P.nome}`,onSelect:()=>{T(String(P.id)),d(""),h(""),y(0),S(!1)},children:[c.jsx(ya,{className:Te("mr-2 h-4 w-4",String(_)===String(P.id)?"opacity-100":"opacity-0")}),P.nome]},String(P.id)))})]})]})})]})]}),c.jsxs("div",{className:"space-y-2 md:col-span-1 lg:col-span-3",children:[c.jsx(ue,{children:"Produtor *"}),c.jsxs(Ea,{open:j,onOpenChange:I,children:[c.jsx(_a,{asChild:!0,children:c.jsxs(ae,{variant:"outline",role:"combobox",className:"w-full justify-between",disabled:!_,children:[z?`${z.numerocm} - ${z.nome}`:"Selecione...",c.jsx(wa,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),c.jsx(Wn,{className:"w-full p-0",children:c.jsxs(Hn,{children:[c.jsx(Gn,{placeholder:"Buscar produtor..."}),c.jsxs(qn,{children:[c.jsx(Jn,{children:"Nenhum produtor com Cultivar nesta safra."}),c.jsx(Kn,{children:(C||[]).map(P=>c.jsxs(Xn,{value:`${P.numerocm} ${P.nome}`,onSelect:()=>{d(P.numerocm),h(""),I(!1)},children:[c.jsx(ya,{className:Te("mr-2 h-4 w-4",u===P.numerocm?"opacity-100":"opacity-0")}),P.numerocm," - ",P.nome]},P.id))})]})]})})]})]}),c.jsxs("div",{className:"space-y-2 md:col-span-2 lg:col-span-6",children:[c.jsx(ue,{htmlFor:"fazenda",children:"Fazenda *"}),c.jsxs(Ea,{open:m,onOpenChange:v,children:[c.jsx(_a,{asChild:!0,children:c.jsxs(ae,{variant:"outline",role:"combobox","aria-expanded":m,className:"w-full justify-between",disabled:!u||!_,children:[f?c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsx("span",{children:((O=p.find(P=>P.nomefazenda===f))==null?void 0:O.nomefazenda)||f}),Number(g||0)>0?c.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",Number(g).toFixed(2)," ha)"]}):c.jsx(ht,{variant:"secondary",className:"text-xs",children:"sem rea(h)"})]}):"Selecione uma fazenda...",c.jsx(wa,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),c.jsx(Wn,{className:"w-full p-0",children:c.jsxs(Hn,{children:[c.jsx(Gn,{placeholder:"Buscar fazenda..."}),c.jsxs(qn,{children:[c.jsx(Jn,{children:"Nenhuma fazenda com Cultivar nesta safra."}),c.jsx(Kn,{children:(L||[]).map(P=>c.jsxs(Xn,{value:P.nomefazenda,onSelect:()=>{h(P.nomefazenda),v(!1)},children:[c.jsx(ya,{className:Te("mr-2 h-4 w-4",f===P.nomefazenda?"opacity-100":"opacity-0")}),c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsx("span",{children:P.nomefazenda}),Number(P.area_cultivavel||0)>0?c.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",Number(P.area_cultivavel||0)," ha)"]}):c.jsx(ht,{variant:"secondary",className:"text-xs",children:"sem rea(h)"})]})]},P.id))})]})]})})]})]}),c.jsxs("div",{className:"space-y-2 lg:col-span-2",children:[c.jsx(ue,{children:"rea cultivvel (ha)"}),c.jsx(we,{type:"number",value:g?g.toFixed(2):"0.00",disabled:!0,className:"bg-muted"})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(ue,{className:"text-base font-semibold",children:"Defensivos aplicados"}),c.jsxs(ae,{type:"button",onClick:N,size:"sm",variant:"outline",children:[c.jsx(Xa,{className:"mr-2 h-4 w-4"}),"Adicionar defensivo"]})]}),k.map((P,Q)=>c.jsx(ZY,{defensivo:P,index:Q,defensivosCatalog:o||[],calendario:l,existingByAplicacao:X,onChange:(ee,re)=>M(P.tempId,ee,re),onRemove:()=>W(P.tempId),canRemove:k.length>1},P.tempId))]}),c.jsxs("div",{className:"flex gap-2 justify-end pt-4",children:[c.jsx(ae,{type:"button",variant:"outline",onClick:t,disabled:r,children:"Cancelar"}),c.jsx(ae,{type:"submit",disabled:r||!F&&!ne,children:r?"Salvando...":s})]})]})]})},Ms=e=>String(e||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toUpperCase(),Ps=e=>{const t=Ms(e);return t.length>3&&t.endsWith("S")?t.slice(0,-1):t},YY=new Set([Ms("Tratamento de Semente - TS")]),ZY=({defensivo:e,index:t,defensivosCatalog:r,calendario:n,existingByAplicacao:a,onChange:s,onRemove:i,canRemove:o})=>{var T,b;const[l,u]=x.useState(!1),[d,f]=x.useState(!1),[h,m]=x.useState(!1),[v,p]=x.useState(""),[g,y]=x.useState(e.aplicacoes||[]);x.useEffect(()=>{y(e.aplicacoes||[])},[e.aplicacoes]),x.useEffect(()=>{var j;if(e.classe&&e.classe.trim()){p(e.classe);return}if(v)return;const S=Object.keys((n==null?void 0:n.aplicacoesPorClasse)||{}),k=String(e.defensivo||"").trim();if(k){const I=(r||[]).find(M=>Ms(String(M.item||""))===Ms(k)),N=String((I==null?void 0:I.grupo)||"").trim();if(N){p(N),s("classe",N);return}const W=(j=k.split("-")[0])==null?void 0:j.trim();if(W){const M=Ps(W),X=S.find(B=>Ps(B)===M);if(X){p(X),s("classe",X);return}}}if(e.aplicacoes&&e.aplicacoes.length>0){const I=e.aplicacoes[0],N=S.find(W=>{var M;return(((M=n==null?void 0:n.aplicacoesPorClasse)==null?void 0:M[W])||[]).some(X=>Ps(X)===Ps(I))});if(N){p(N),s("classe",N);return}}const A=String(e.alvo||"").trim();if(A){const I=Ps(A),N=S.find(W=>{var M;return(((M=n==null?void 0:n.aplicacoesPorClasse)==null?void 0:M[W])||[]).some(X=>Ps(X)===I)});N&&(p(N),s("classe",N))}},[e.classe,e.defensivo,e.aplicacoes,e.alvo,n,v,r,s]),console.log(" Total items in catalog:",r==null?void 0:r.length),console.log(" Selected class:",v);const E=(r==null?void 0:r.filter(S=>S.grupo==="INSETICIDA").length)||0;console.log(' Items com grupo="INSETICIDA" no catlogo original:',E);const _=(r||[]).filter(S=>{var Z;const k=String(v||"").trim();if(!k)return!0;const A=Ps(k),j=Ps(S.grupo||""),I=Ps(((Z=String(S.item||"").split("-")[0])==null?void 0:Z.trim())||"");if(!(j&&j===A||!j&&I===A))return!1;const W=String((g[0]||e.alvo||"").trim());if(!W)return!0;const M=(a[W]||[]).map(C=>Ms(String(C||"").replace(/%/g,""))).filter(C=>C&&C!==Ms(e.defensivo||"")),X=A+" ",B=M.map(C=>C.startsWith(X)?C.slice(X.length).trim():C),z=Ms(S.item||""),Y=Ms(S.marca||""),F=B.some(C=>C&&z.includes(C)),ne=B.some(C=>C&&Y.includes(C));return!(F||ne)});return c.jsx(Ue,{className:"p-4 bg-muted/50",children:c.jsx("div",{className:"flex items-start gap-4",children:c.jsxs("div",{className:"flex-1 grid gap-2 md:grid-cols-2 lg:grid-cols-12",children:[c.jsxs("div",{className:"space-y-2 lg:col-span-2",children:[c.jsx(ue,{children:"Descrio da Classe"}),c.jsxs(Ea,{open:d,onOpenChange:f,children:[c.jsx(_a,{asChild:!0,children:c.jsxs(ae,{variant:"outline",role:"combobox",className:"w-full justify-between",children:[v||"Selecione...",c.jsx(wa,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),c.jsx(Wn,{className:"w-full p-0",children:c.jsxs(Hn,{children:[c.jsx(Gn,{placeholder:"Buscar classe..."}),c.jsxs(qn,{children:[c.jsx(Jn,{children:"Nenhuma classe encontrada."}),c.jsx(Kn,{children:((n==null?void 0:n.classes)||[]).map(S=>c.jsxs(Xn,{value:S,onSelect:()=>{p(S),y([]),s("aplicacoes",[]),s("alvo",""),s("classe",S),s("defensivo",""),s("dose",0),s("porcentagem_salva",0),f(!1)},children:[c.jsx(ya,{className:Te("mr-2 h-4 w-4",v===S?"opacity-100":"opacity-0")}),S]},S))})]})]})})]})]}),c.jsxs("div",{className:"space-y-2 lg:col-span-2",children:[c.jsx(ue,{children:"Descrio da Aplicao"}),c.jsxs(Ea,{open:h,onOpenChange:m,children:[c.jsx(_a,{asChild:!0,children:c.jsxs(ae,{variant:"outline",role:"combobox",className:"w-full justify-between",children:[g.length>0?g[0]:v?"Selecione...":"Selecione uma classe",c.jsx(wa,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),c.jsx(Wn,{className:"w-full p-0",children:c.jsxs(Hn,{children:[c.jsx(Gn,{placeholder:"Buscar aplicao..."}),c.jsxs(qn,{children:[c.jsx(Jn,{children:v?"Nenhuma aplicao encontrada.":"Selecione uma classe primeiro."}),c.jsx(Kn,{children:(((T=n==null?void 0:n.aplicacoesPorClasse)==null?void 0:T[v])||[]).filter(S=>!YY.has(Ms(S))).map(S=>c.jsxs(Xn,{value:S,onSelect:()=>{const k=g.includes(S)?[]:[S];y(k),s("aplicacoes",k),s("alvo",k[0]??"")},children:[c.jsx(ya,{className:Te("mr-2 h-4 w-4",g.includes(S)?"opacity-100":"opacity-0")}),S]},S))})]})]})})]})]}),c.jsxs("div",{className:"space-y-2 lg:col-span-3",children:[c.jsx(ue,{children:"Defensivo *"}),c.jsxs(Ea,{open:l,onOpenChange:u,children:[c.jsx(_a,{asChild:!0,children:c.jsxs(ae,{variant:"outline",role:"combobox",className:"w-full justify-between",children:[e.defensivo||"Selecione...",c.jsx(wa,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),c.jsx(Wn,{className:"w-full p-0",children:c.jsxs(Hn,{children:[c.jsx(Gn,{placeholder:"Buscar defensivo..."}),c.jsxs(qn,{children:[c.jsx(Jn,{children:"Nenhum defensivo encontrado."}),c.jsx(Kn,{children:_.map(S=>c.jsxs(Xn,{value:`${S.item} ${S.marca}`,onSelect:()=>{s("defensivo",S.item||""),u(!1)},children:[c.jsx(ya,{className:Te("mr-2 h-4 w-4",e.defensivo===S.item?"opacity-100":"opacity-0")}),S.item," ",S.marca&&`- ${S.marca}`]},S.cod_item))})]})]})})]})]}),c.jsxs("div",{className:"space-y-2 lg:col-span-1",children:[c.jsx(ue,{children:"Dose *"}),c.jsx(we,{type:"number",step:"0.01",value:e.dose,onChange:S=>s("dose",parseFloat(S.target.value)||0),placeholder:"0.00",required:!0})]}),c.jsxs("div",{className:"space-y-2 lg:col-span-1",children:[c.jsx(ue,{className:"whitespace-nowrap text-xs truncate",children:"Cobertura em %"}),c.jsx(we,{type:"number",step:"0.1",min:"0",max:"100",value:e.porcentagem_salva??100,onChange:S=>{const k=parseFloat(S.target.value),A=isNaN(k)?100:Math.min(100,Math.max(0,k));s("porcentagem_salva",A)},placeholder:"100"})]}),c.jsxs("div",{className:"space-y-2 md:col-span-2 lg:col-span-1",children:[c.jsx(ue,{children:"Total"}),c.jsx(we,{type:"number",step:"0.01",value:((b=e.total)==null?void 0:b.toFixed(2))||"0.00",disabled:!0,className:"bg-muted"})]}),c.jsxs("div",{className:"space-y-3 lg:col-span-1",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Ot,{id:`produto-salvo-${t}`,checked:e.produto_salvo,onCheckedChange:S=>s("produto_salvo",S)}),c.jsx(ue,{htmlFor:`produto-salvo-${t}`,className:"cursor-pointer",children:"Produto proprio"})]}),o&&c.jsx(ae,{type:"button",variant:"ghost",size:"icon",onClick:i,title:"Remover defensivo",className:"h-10 w-10",children:c.jsx(vr,{className:"h-4 w-4"})})]})]})})})},Yr={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},rP=()=>{const{toast:e}=dn(),t=bt(),{data:r,isLoading:n}=Tt({queryKey:["programacoes-list"],queryFn:async()=>{const l=Yr==null?void 0:Yr.VITE_API_URL,u=typeof window<"u"?window.location.hostname:"127.0.0.1",d=l||`http://${u}:5000`,f=await fetch(`${d}/programacoes`,{credentials:"omit"});if(!f.ok)throw new Error(`Erro ao carregar programaes: ${f.status}`);const h=await f.json();return(h==null?void 0:h.items)??[]}}),a=ot({mutationFn:async l=>{const u=Yr==null?void 0:Yr.VITE_API_URL,d=typeof window<"u"?window.location.hostname:"127.0.0.1",f=u||`http://${d}:5000`,h=l.cultivares.reduce((g,y)=>g+y.percentual_cobertura,0);if(Math.abs(h-100)>.1)throw new Error("O percentual de cobertura das cultivares deve somar 100% (tolerncia 0,1)");const m={user_id:void 0,...l},v=await fetch(`${f}/programacoes`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)});if(!v.ok){const g=await v.text();throw new Error(g)}return await v.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["programacoes-list"]}),t.invalidateQueries({queryKey:["programacao-cultivares"]}),t.invalidateQueries({queryKey:["programacao-adubacao"]}),e({title:"Programao criada com sucesso!"})},onError:l=>{e({title:"Erro ao criar programao",description:l.message,variant:"destructive"})}}),s=ot({mutationFn:async l=>{const u=Yr==null?void 0:Yr.VITE_API_URL,d=typeof window<"u"?window.location.hostname:"127.0.0.1",f=u||`http://${d}:5000`,h=await fetch(`${f}/programacoes/${l}`,{method:"DELETE"});if(!h.ok)throw new Error(`Erro ao excluir programao: ${h.status}`)},onSuccess:()=>{t.invalidateQueries({queryKey:["programacoes-list"]}),e({title:"Programao excluda com sucesso!"})},onError:l=>{e({title:"Erro ao excluir programao",description:l.message,variant:"destructive"})}}),i=ot({mutationFn:async({id:l,...u})=>{const d=Yr==null?void 0:Yr.VITE_API_URL,f=typeof window<"u"?window.location.hostname:"127.0.0.1",h=d||`http://${f}:5000`,m=u.cultivares.reduce((p,g)=>p+(Number(g.percentual_cobertura)||0),0);if(Math.abs(m-100)>.1)throw new Error("O percentual de cobertura das cultivares deve somar 100% (tolerncia 0,1)");const v=await fetch(`${h}/programacoes/${l}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)});if(!v.ok){const p=await v.text();throw new Error(p)}},onSuccess:()=>{t.invalidateQueries({queryKey:["programacoes-list"]}),t.invalidateQueries({queryKey:["programacao-cultivares"]}),t.invalidateQueries({queryKey:["programacao-adubacao"]}),e({title:"Programao atualizada com sucesso!"})},onError:l=>{e({title:"Erro ao atualizar programao",description:l.message,variant:"destructive"})}}),o=ot({mutationFn:async({id:l,produtor_numerocm:u,fazenda_idfazenda:d,area_hectares:f,area_name:h})=>{const m=Yr==null?void 0:Yr.VITE_API_URL,v=typeof window<"u"?window.location.hostname:"127.0.0.1",p=m||`http://${v}:5000`;if(!f||Number(f)<=0)throw new Error("A fazenda selecionada no possui rea preenchida");const g=(r||[]).find(N=>N.id===l);if(!g)throw new Error("Programao no encontrada");const y=await fetch(`${p}/programacoes/${l}/children`);if(!y.ok)throw new Error(`Erro ao carregar filhos: ${y.status}`);const E=await y.json(),w=(E==null?void 0:E.tratamentos)||{},_=(E==null?void 0:E.defensivos)||[],T=(E==null?void 0:E.cultivares)||[],b=(E==null?void 0:E.adubacao)||[],S={};_.forEach(N=>{const W=N.programacao_cultivar_id;W&&(S[W]||(S[W]=[]),S[W].push({classe:N.classe,aplicacao:N.aplicacao,defensivo:N.defensivo,dose:N.dose,cobertura:N.cobertura,total:N.total,produto_salvo:!!N.produto_salvo}))});const k=h||g.area,A={produtor_numerocm:u,fazenda_idfazenda:d,area:k,area_hectares:f,safra_id:g.safra_id||void 0,epoca_id:void 0,talhao_ids:(E==null?void 0:E.talhoes)||[],cultivares:T.map(N=>({cultivar:N.cultivar,percentual_cobertura:Number(N.percentual_cobertura)||0,tipo_embalagem:N.tipo_embalagem,tipo_tratamento:N.tipo_tratamento,tratamento_ids:w[N.id]||[],data_plantio:N.data_plantio||null,populacao_recomendada:Number(N.populacao_recomendada)||0,semente_propria:!!N.semente_propria,referencia_rnc_mapa:N.referencia_rnc_mapa||null,sementes_por_saca:Number(N.sementes_por_saca)||0,defensivos_fazenda:N.tipo_tratamento==="NA FAZENDA"?S[N.id]||[]:[]})),adubacao:b.map(N=>({formulacao:N.formulacao,dose:Number(N.dose)||0,percentual_cobertura:Number(N.percentual_cobertura)||0,data_aplicacao:N.data_aplicacao||null,embalagem:N.embalagem||null,justificativa_nao_adubacao_id:N.justificativa_nao_adubacao_id||null,fertilizante_salvo:!!N.fertilizante_salvo,deve_faturar:typeof N.deve_faturar=="boolean"?N.deve_faturar:!0,porcentagem_salva:Number(N.porcentagem_salva)||0}))},j=await fetch(`${p}/programacoes`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(A)});if(!j.ok){const N=await j.text();throw new Error(N)}const I=await j.json();return I==null?void 0:I.id},onSuccess:()=>{t.invalidateQueries({queryKey:["programacoes-list"]}),t.invalidateQueries({queryKey:["programacao-cultivares"]}),t.invalidateQueries({queryKey:["programacao-adubacao"]}),e({title:"Replicao concluda com sucesso!"})},onError:l=>{e({title:"Erro ao replicar programao",description:l.message,variant:"destructive"})}});return{programacoes:r||[],isLoading:n,create:a.mutate,delete:s.mutate,update:i.mutateAsync,isUpdating:i.isPending,replicate:o.mutateAsync,isReplicating:o.isPending}};var Cm="Collapsible",[QY,nP]=Vr(Cm),[eZ,rw]=QY(Cm),aP=x.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:s,onOpenChange:i,...o}=e,[l,u]=Ta({prop:n,defaultProp:a??!1,onChange:i,caller:Cm});return c.jsx(eZ,{scope:r,disabled:s,contentId:kr(),open:l,onOpenToggle:x.useCallback(()=>u(d=>!d),[u]),children:c.jsx(Pe.div,{"data-state":aw(l),"data-disabled":s?"":void 0,...o,ref:t})})});aP.displayName=Cm;var sP="CollapsibleTrigger",iP=x.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,a=rw(sP,r);return c.jsx(Pe.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":aw(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:t,onClick:Ie(e.onClick,a.onOpenToggle)})});iP.displayName=sP;var nw="CollapsibleContent",oP=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=rw(nw,e.__scopeCollapsible);return c.jsx(fn,{present:r||a.open,children:({present:s})=>c.jsx(tZ,{...n,ref:t,present:s})})});oP.displayName=nw;var tZ=x.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:a,...s}=e,i=rw(nw,r),[o,l]=x.useState(n),u=x.useRef(null),d=Je(t,u),f=x.useRef(0),h=f.current,m=x.useRef(0),v=m.current,p=i.open||o,g=x.useRef(p),y=x.useRef(void 0);return x.useEffect(()=>{const E=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(E)},[]),gr(()=>{const E=u.current;if(E){y.current=y.current||{transitionDuration:E.style.transitionDuration,animationName:E.style.animationName},E.style.transitionDuration="0s",E.style.animationName="none";const w=E.getBoundingClientRect();f.current=w.height,m.current=w.width,g.current||(E.style.transitionDuration=y.current.transitionDuration,E.style.animationName=y.current.animationName),l(n)}},[i.open,n]),c.jsx(Pe.div,{"data-state":aw(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!p,...s,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...e.style},children:p&&a})});function aw(e){return e?"open":"closed"}var rZ=aP,nZ=iP,aZ=oP,ns="Accordion",sZ=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[sw,iZ,oZ]=H0(ns),[Am,GZ]=Vr(ns,[oZ,nP]),iw=nP(),cP=pe.forwardRef((e,t)=>{const{type:r,...n}=e,a=n,s=n;return c.jsx(sw.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?c.jsx(dZ,{...s,ref:t}):c.jsx(uZ,{...a,ref:t})})});cP.displayName=ns;var[lP,cZ]=Am(ns),[uP,lZ]=Am(ns,{collapsible:!1}),uZ=pe.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},collapsible:s=!1,...i}=e,[o,l]=Ta({prop:r,defaultProp:n??"",onChange:a,caller:ns});return c.jsx(lP,{scope:e.__scopeAccordion,value:pe.useMemo(()=>o?[o]:[],[o]),onItemOpen:l,onItemClose:pe.useCallback(()=>s&&l(""),[s,l]),children:c.jsx(uP,{scope:e.__scopeAccordion,collapsible:s,children:c.jsx(dP,{...i,ref:t})})})}),dZ=pe.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...s}=e,[i,o]=Ta({prop:r,defaultProp:n??[],onChange:a,caller:ns}),l=pe.useCallback(d=>o((f=[])=>[...f,d]),[o]),u=pe.useCallback(d=>o((f=[])=>f.filter(h=>h!==d)),[o]);return c.jsx(lP,{scope:e.__scopeAccordion,value:i,onItemOpen:l,onItemClose:u,children:c.jsx(uP,{scope:e.__scopeAccordion,collapsible:!0,children:c.jsx(dP,{...s,ref:t})})})}),[fZ,jm]=Am(ns),dP=pe.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:a,orientation:s="vertical",...i}=e,o=pe.useRef(null),l=Je(o,t),u=iZ(r),f=sf(a)==="ltr",h=Ie(e.onKeyDown,m=>{var k;if(!sZ.includes(m.key))return;const v=m.target,p=u().filter(A=>{var j;return!((j=A.ref.current)!=null&&j.disabled)}),g=p.findIndex(A=>A.ref.current===v),y=p.length;if(g===-1)return;m.preventDefault();let E=g;const w=0,_=y-1,T=()=>{E=g+1,E>_&&(E=w)},b=()=>{E=g-1,E<w&&(E=_)};switch(m.key){case"Home":E=w;break;case"End":E=_;break;case"ArrowRight":s==="horizontal"&&(f?T():b());break;case"ArrowDown":s==="vertical"&&T();break;case"ArrowLeft":s==="horizontal"&&(f?b():T());break;case"ArrowUp":s==="vertical"&&b();break}const S=E%y;(k=p[S].ref.current)==null||k.focus()});return c.jsx(fZ,{scope:r,disabled:n,direction:a,orientation:s,children:c.jsx(sw.Slot,{scope:r,children:c.jsx(Pe.div,{...i,"data-orientation":s,ref:l,onKeyDown:n?void 0:h})})})}),A0="AccordionItem",[hZ,ow]=Am(A0),fP=pe.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...a}=e,s=jm(A0,r),i=cZ(A0,r),o=iw(r),l=kr(),u=n&&i.value.includes(n)||!1,d=s.disabled||e.disabled;return c.jsx(hZ,{scope:r,open:u,disabled:d,triggerId:l,children:c.jsx(rZ,{"data-orientation":s.orientation,"data-state":xP(u),...o,...a,ref:t,disabled:d,open:u,onOpenChange:f=>{f?i.onItemOpen(n):i.onItemClose(n)}})})});fP.displayName=A0;var hP="AccordionHeader",mP=pe.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=jm(ns,r),s=ow(hP,r);return c.jsx(Pe.h3,{"data-orientation":a.orientation,"data-state":xP(s.open),"data-disabled":s.disabled?"":void 0,...n,ref:t})});mP.displayName=hP;var yx="AccordionTrigger",pP=pe.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=jm(ns,r),s=ow(yx,r),i=lZ(yx,r),o=iw(r);return c.jsx(sw.ItemSlot,{scope:r,children:c.jsx(nZ,{"aria-disabled":s.open&&!i.collapsible||void 0,"data-orientation":a.orientation,id:s.triggerId,...o,...n,ref:t})})});pP.displayName=yx;var gP="AccordionContent",vP=pe.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=jm(ns,r),s=ow(gP,r),i=iw(r);return c.jsx(aZ,{role:"region","aria-labelledby":s.triggerId,"data-orientation":a.orientation,...i,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});vP.displayName=gP;function xP(e){return e?"open":"closed"}var mZ=cP,pZ=fP,gZ=mP,yP=pP,wP=vP;const vZ=mZ,EP=x.forwardRef(({className:e,...t},r)=>c.jsx(pZ,{ref:r,className:Te("border-b",e),...t}));EP.displayName="AccordionItem";const _P=x.forwardRef(({className:e,children:t,...r},n)=>c.jsx(gZ,{className:"flex",children:c.jsxs(yP,{ref:n,className:Te("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,c.jsx(fr,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));_P.displayName=yP.displayName;const SP=x.forwardRef(({className:e,children:t,...r},n)=>c.jsx(wP,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:c.jsx("div",{className:Te("pb-4 pt-0",e),children:t})}));SP.displayName=wP.displayName;const xZ=()=>{var D;const[e,t]=x.useState(!1),[r,n]=x.useState(null),{aplicacoes:a,isLoading:s,create:i,duplicate:o,remove:l,update:u,isCreating:d,isUpdating:f,replicate:h,isReplicating:m}=ey(),{data:v=[]}=mc(),{programacoes:p=[]}=rP(),{programacoes:g=[]}=af(),y=p.length>0,[E,w]=x.useState(!1),[_,T]=x.useState(null),[b,S]=x.useState(""),[k,A]=x.useState(""),[j,I]=x.useState([]),[N,W]=x.useState(!1),[M,X]=x.useState(!1),[B,z]=x.useState([]),{data:Y=[]}=eo(b),F=x.useMemo(()=>{const O=new Set;for(const P of g){const Q=String(P.produtor_numerocm||"").trim();Q&&O.add(Q)}return O},[g]),ne=x.useMemo(()=>{const O=new Map;for(const P of g){const Q=String(P.produtor_numerocm||"").trim(),ee=String(P.area||"").trim();!Q||!ee||(O.has(Q)||O.set(Q,new Set),O.get(Q).add(ee))}return O},[g]),Z=x.useMemo(()=>_&&a.find(O=>O.id===_)||null,[a,_]),C=x.useMemo(()=>{if(!Z)return"";const O=(Z.defensivos||[]).find(P=>P&&P.safra_id);return String((O==null?void 0:O.safra_id)||"").trim()},[Z]),G=O=>{try{if(!O)return"";const Q=localStorage.getItem("aplicacoes_defensivos_produtor_map");return((Q?JSON.parse(Q):{})[O]||"").trim()}catch{return""}},L=O=>{i(O),t(!1)};return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx("header",{className:"border-b bg-card",children:c.jsx("div",{className:"container mx-auto px-4 py-4",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(No,{to:"/",children:c.jsx(ae,{variant:"ghost",size:"icon",children:c.jsx(x1,{className:"h-5 w-5"})})}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Zh,{className:"h-6 w-6 text-primary"}),c.jsx("h1",{className:"text-xl font-bold",children:"Defensivos"})]})]})})}),c.jsxs("main",{className:"container mx-auto px-4 py-8",children:[c.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Programao de Defensivos"}),c.jsx("p",{className:"text-muted-foreground",children:"Programao planejadas por rea"})]}),c.jsxs(ae,{onClick:()=>t(!e),disabled:!y,children:[c.jsx(Xa,{className:"mr-2 h-4 w-4"}),"Nova Programao"]})]}),!y&&c.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:c.jsx("p",{className:"text-yellow-800 font-medium",children:"  necessrio ter programao de cultivares e adubao antes de programar defensivos."})}),e&&!r&&c.jsx(nb,{onSubmit:L,onCancel:()=>t(!1),isLoading:d}),r&&c.jsx(nb,{title:"Editar Programao de Defensivo",submitLabel:"Salvar alteraes",initialData:{produtor_numerocm:r.produtor_numerocm||G(r.id),area:r.area,defensivos:r.defensivos},onSubmit:O=>{u({id:r.id,...O}),n(null)},onCancel:()=>n(null),isLoading:f}),s?c.jsx("p",{className:"text-muted-foreground",children:"Carregando programao..."}):c.jsx("div",{className:"grid gap-4",children:a.length===0?c.jsx(Ue,{className:"p-6",children:c.jsx("p",{className:"text-muted-foreground",children:"Nenhuma programao cadastrada."})}):a.map(O=>{var P;return c.jsx(Ue,{className:"hover:shadow-lg transition-shadow",children:c.jsx(vZ,{type:"single",collapsible:!0,className:"w-full",children:c.jsxs(EP,{value:"item-1",className:"border-none",children:[c.jsxs("div",{className:"flex items-center justify-between p-6 pb-0",children:[c.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[c.jsx(Zh,{className:"h-5 w-5 text-primary"}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("h3",{className:"font-semibold text-lg",children:[O.produtor_numerocm," - ",((P=v.find(Q=>Q.numerocm===O.produtor_numerocm))==null?void 0:P.nome)||""," "]}),O.produtor_numerocm&&c.jsx("p",{className:"text-sm text-muted-foreground",children:O.area}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:[O.defensivos.length," defensivo(s) programado(s)"]})]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(ae,{variant:"outline",size:"icon",onClick:()=>n(O),title:"Editar programao",children:c.jsx(Qa,{className:"h-4 w-4"})}),c.jsx(ae,{variant:"outline",size:"icon",onClick:()=>{T(O.id),S(""),A(""),w(!0)},title:"Replicar programao",children:c.jsx(y1,{className:"h-4 w-4"})}),c.jsx(ae,{variant:"outline",size:"icon",onClick:()=>l(O.id),title:"Excluir programao",children:c.jsx(vr,{className:"h-4 w-4"})})]})]}),c.jsx(_P,{className:"px-6 py-4 hover:no-underline",children:c.jsx("span",{className:"text-sm font-medium",children:"Ver defensivos aplicados"})}),c.jsx(SP,{className:"px-6 pb-6",children:c.jsx("div",{className:"grid gap-3 pt-2 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:O.defensivos.map((Q,ee)=>c.jsxs("div",{className:"bg-muted/50 p-4 rounded-md",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("span",{className:"font-semibold",children:Q.defensivo}),Q.produto_salvo&&c.jsx(ht,{variant:"secondary",className:"text-xs",children:"Produto Salvo"})]}),c.jsxs("div",{className:"grid gap-5 text-sm",children:[c.jsxs("p",{children:[c.jsx("span",{className:"text-muted-foreground",children:"Dose:"})," ",Q.dose," ",Q.unidade]}),Q.alvo&&c.jsxs("p",{children:[c.jsx("span",{className:"text-muted-foreground",children:"Alvo:"})," ",Q.alvo]}),Q.produto_salvo&&Q.porcentagem_salva>0&&c.jsxs("p",{children:[c.jsx("span",{className:"text-muted-foreground",children:"% Salva:"})," ",Q.porcentagem_salva,"%"]})]})]},Q.id||ee))})})]})})},O.id)})})]}),c.jsx(ka,{open:E,onOpenChange:O=>w(O),children:c.jsxs(Zn,{children:[c.jsx(Qn,{children:c.jsx(ea,{children:"Replicar programao"})}),c.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Produtor"}),c.jsxs(Ea,{open:N,onOpenChange:W,children:[c.jsx(_a,{asChild:!0,children:c.jsxs(ae,{variant:"outline",role:"combobox",className:"w-full justify-between",children:[b?`${b} - ${((D=v.find(O=>O.numerocm===b))==null?void 0:D.nome)||""}`:"Selecione produtor...",c.jsx(wa,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),c.jsx(Wn,{className:"w-full p-0",children:c.jsxs(Hn,{children:[c.jsx(Gn,{placeholder:"Buscar produtor..."}),c.jsxs(qn,{children:[c.jsx(Jn,{children:"Nenhum produtor encontrado."}),c.jsx(Kn,{children:v.filter(O=>F.has(String(O.numerocm))).filter(O=>!Z||String(O.numerocm)!==String(Z.produtor_numerocm)).map(O=>c.jsxs(Xn,{value:`${O.numerocm} ${O.nome}`,onSelect:()=>{S(O.numerocm),z([]),W(!1)},children:[c.jsx(ya,{className:Te("mr-2 h-4 w-4",b===O.numerocm?"opacity-100":"opacity-0")}),O.numerocm," - ",O.nome]},O.id))})]})]})})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"reas (fazendas)"}),c.jsxs(Ea,{open:M,onOpenChange:X,children:[c.jsx(_a,{asChild:!0,children:c.jsxs(ae,{variant:"outline",role:"combobox","aria-expanded":M,className:"w-full justify-between",disabled:!b,children:[B.length>0?`${B.length} rea(s) selecionada(s)`:"Selecione reas...",c.jsx(wa,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),c.jsx(Wn,{className:"w-full p-0",children:c.jsxs(Hn,{children:[c.jsx(Gn,{placeholder:"Buscar rea..."}),c.jsxs(qn,{children:[c.jsx(Jn,{children:"Nenhuma rea encontrada."}),c.jsx(Kn,{children:Y.filter(O=>{const P=ne.get(String(b)),Q=String(O.nomefazenda),ee=Number(O.area_cultivavel||0)>0,re=!!P&&P.has(Q),fe=C?g.some(Ee=>String(Ee.produtor_numerocm)===String(b)&&String(Ee.area)===Q&&String(Ee.safra||"")===String(C)):!0,V=!!Z&&String(b)===String(Z.produtor_numerocm)&&Q===String(Z.area);return re&&fe&&ee&&!V}).map(O=>{var ee;const P=((ee=v.find(re=>re.numerocm===O.numerocm))==null?void 0:ee.nome)||"",Q=B.some(re=>re.produtor_numerocm===b&&re.area===O.nomefazenda);return c.jsxs(Xn,{value:`${O.numerocm} ${P} / ${O.nomefazenda}`,onSelect:()=>{Z&&String(b)===String(Z.produtor_numerocm)&&String(O.nomefazenda)===String(Z.area)||z(fe=>fe.some(Ee=>Ee.produtor_numerocm===b&&Ee.area===O.nomefazenda)?fe.filter(Ee=>!(Ee.produtor_numerocm===b&&Ee.area===O.nomefazenda)):[...fe,{produtor_numerocm:b,area:O.nomefazenda}])},children:[c.jsx(Ot,{checked:Q,className:"mr-2 h-4 w-4"}),c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsxs("span",{children:[O.numerocm," - ",P," / ",O.nomefazenda]}),Number(O.area_cultivavel||0)>0?c.jsxs("span",{className:"ml-2 text-xs text-muted-foreground",children:["(",Number(O.area_cultivavel||0)," ha)"]}):c.jsx(ht,{variant:"secondary",className:"text-xs",children:"sem rea(h)"})]})]},`${O.id}-${O.numerocm}`)})})]})]})})]})]})]}),c.jsx("div",{className:"mt-4 flex items-center gap-2",children:c.jsx(ae,{variant:"outline",onClick:()=>{if(B.length===0)return;const O=[...j];for(const P of B)O.some(ee=>ee.produtor_numerocm===P.produtor_numerocm&&ee.area===P.area)||O.push(P);I(O),z([])},disabled:B.length===0,children:"Adicionar destino"})}),j.length>0&&c.jsxs("div",{className:"mt-2 space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Destinos selecionados"}),c.jsx("div",{className:"space-y-2",children:j.map((O,P)=>{var Q;return c.jsxs("div",{className:"flex items-center justify-between rounded-md border p-2",children:[c.jsxs("div",{className:"text-sm",children:[c.jsxs("span",{className:"font-medium",children:[O.produtor_numerocm," - ",((Q=v.find(ee=>ee.numerocm===O.produtor_numerocm))==null?void 0:Q.nome)||""]}),c.jsxs("span",{className:"ml-2 text-muted-foreground",children:["/ ",O.area]})]}),c.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>{I(j.filter((ee,re)=>re!==P))},title:"Remover destino",children:c.jsx(vr,{className:"h-4 w-4"})})]},`${O.produtor_numerocm}-${O.area}-${P}`)})})]}),c.jsxs(ts,{children:[c.jsx(ae,{variant:"secondary",onClick:()=>{w(!1),T(null),S(""),A(""),I([]),z([])},children:"Cancelar"}),c.jsx(ae,{onClick:async()=>{if(!_||j.length===0)return;const O=await Promise.allSettled(j.map(ee=>h({id:_,produtor_numerocm:ee.produtor_numerocm,area:ee.area}))),P=O.filter(ee=>ee.status==="fulfilled").length,Q=O.filter(ee=>ee.status==="rejected").length;P>0&&ce.success(`Replicao concluda: ${P} sucesso(s)`),Q>0&&ce.error(`Falhas em ${Q} destino(s)`),w(!1),T(null),S(""),A(""),z([]),I([])},disabled:m||!_||j.length===0,children:"Replicar"})]})]})})]})},hg=e=>{const t=Number(e);return Number.isFinite(t)?t:0},yZ=()=>{const{programacoes:e}=af(),{programacoes:t}=Q1(),{aplicacoes:r}=ey(),n=e??[],a=t??[],s=r??[],i=x.useMemo(()=>{const o=n.reduce((h,m)=>h+hg(m.quantidade),0),l=n.reduce((h,m)=>{const v=m.area,p=typeof v=="string"?v.match(/(\d+(\.\d+)?)/):null;return p?h+parseFloat(p[1]):h},0),u=a.reduce((h,m)=>h+hg(m.total),0),d=s.reduce((h,m)=>{const v=m.defensivos.reduce((p,g)=>p+hg(g.dose),0);return h+v},0),f=new Set;return n.forEach(h=>{const m=String(h.safra??"").trim();m&&f.add(m)}),{cultivares:n.length,quantidadeSementes:o,hectares:l,adubacoes:a.length,volumeAdubacao:u,defensivos:s.length,volumeDefensivo:d,safras:Array.from(f)}},[n,a,s]);return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx("header",{className:"border-b bg-card",children:c.jsx("div",{className:"container mx-auto px-4 py-4",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(No,{to:"/",children:c.jsx(ae,{variant:"ghost",size:"icon",children:c.jsx(x1,{className:"h-5 w-5"})})}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ik,{className:"h-6 w-6 text-primary"}),c.jsx("h1",{className:"text-xl font-bold",children:"Relatorios"})]})]})})}),c.jsxs("main",{className:"container mx-auto px-4 py-8",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Relatorios consolidados"}),c.jsx("p",{className:"text-muted-foreground",children:"Visualize dados consolidados via Supabase"})]}),c.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[c.jsxs(Ue,{className:"p-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Resumo de cultivares"}),c.jsxs("div",{className:"space-y-3 mb-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-muted-foreground",children:"Cultivares"}),c.jsx("span",{className:"font-semibold",children:i.cultivares})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-muted-foreground",children:"Quantidade total"}),c.jsx("span",{className:"font-semibold",children:i.quantidadeSementes.toFixed(2)})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-muted-foreground",children:"Hectares identificados"}),c.jsxs("span",{className:"font-semibold",children:[i.hectares.toFixed(2)," ha"]})]})]}),c.jsxs(ae,{className:"w-full",variant:"outline",children:[c.jsx(Mf,{className:"mr-2 h-4 w-4"}),"Exportar CSV"]})]}),c.jsxs(Ue,{className:"p-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Resumo de adubacoes"}),c.jsxs("div",{className:"space-y-3 mb-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-muted-foreground",children:"Programacoes"}),c.jsx("span",{className:"font-semibold",children:i.adubacoes})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-muted-foreground",children:"Volume total"}),c.jsx("span",{className:"font-semibold",children:i.volumeAdubacao.toFixed(2)})]})]}),c.jsxs(ae,{className:"w-full",variant:"outline",children:[c.jsx(Mf,{className:"mr-2 h-4 w-4"}),"Exportar PDF"]})]}),c.jsxs(Ue,{className:"p-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Resumo de defensivos"}),c.jsxs("div",{className:"space-y-3 mb-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-muted-foreground",children:"Aplicacoes"}),c.jsx("span",{className:"font-semibold",children:i.defensivos})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-muted-foreground",children:"Volume total"}),c.jsx("span",{className:"font-semibold",children:i.volumeDefensivo.toFixed(2)})]})]}),c.jsxs(ae,{className:"w-full",variant:"outline",children:[c.jsx(Mf,{className:"mr-2 h-4 w-4"}),"Exportar Excel"]})]}),c.jsxs(Ue,{className:"p-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Safras monitoradas"}),c.jsx("div",{className:"space-y-3 mb-4",children:i.safras.length===0?c.jsx("p",{className:"text-muted-foreground",children:"Nenhuma safra identificada nas consultas."}):i.safras.map(o=>c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-muted-foreground",children:o}),c.jsx("span",{className:"font-semibold",children:n.filter(l=>String(l.safra??"")===o).length})]},o))}),c.jsxs(ae,{className:"w-full",variant:"outline",children:[c.jsx(Mf,{className:"mr-2 h-4 w-4"}),"Exportar resumo"]})]})]})]})]})},mg={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},wZ=()=>Tt({queryKey:["justificativas-adubacao"],queryFn:async()=>{const e=mg==null?void 0:mg.VITE_API_URL,t=typeof window<"u"?window.location.hostname:"127.0.0.1",r=e||`http://${t}:5000`,n=await fetch(`${r}/justificativas_adubacao?ativas=true`);if(!n.ok){const s=await n.text();throw new Error(s)}const a=await n.json();return(a==null?void 0:a.items)||[]}}),pg={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"},EZ=()=>Tt({queryKey:["epocas"],queryFn:async()=>{const e=pg==null?void 0:pg.VITE_API_URL,t=typeof window<"u"?window.location.hostname:"127.0.0.1",r=e||`http://${t}:5000`,n=await fetch(`${r}/epocas?ativas=true`);if(!n.ok){const s=await n.text();throw new Error(s)}const a=await n.json();return(a==null?void 0:a.items)||[]}});function _Z({item:e,index:t,cultivaresDistinct:r,cultivaresCatalog:n,canRemove:a,areaHectares:s,onChange:i,onRemove:o}){const{toast:l}=dn(),[u,d]=x.useState(e.cultura||"");x.useEffect(()=>{e.cultura&&e.cultura!==u&&d(e.cultura)},[e.cultura]);const f=n.find(b=>b.cultivar===e.cultivar),h=f==null?void 0:f.cultivar,{data:m=[]}=ER(h),{data:v=[]}=qy(),p=x.useMemo(()=>{const b=new Set;for(const S of n){const k=String(S.cultura||"").trim();k&&b.add(k)}return Array.from(b).sort((S,k)=>S.localeCompare(k,"pt-BR",{sensitivity:"base"}))},[n]),g=x.useMemo(()=>{const b=n.filter(k=>String(k.cultivar||"").trim()?u?String(k.cultura||"").trim()===u:!0:!1).map(k=>String(k.cultivar||"").trim());return Array.from(new Set(b)).map(k=>({cultivar:k}))},[u,n]),[y,E]=x.useState(e.defensivos_fazenda||[{tempId:ll(),classe:"",aplicacao:"Tratamento de Semente - TS",defensivo:"",dose:0,cobertura:100,total:0,produto_salvo:!1,porcentagem_salva:100}]);x.useEffect(()=>{i(t,"defensivos_fazenda",y)},[y]);const w=()=>{E([{tempId:ll(),classe:"",aplicacao:"Tratamento de Semente - TS",defensivo:"",dose:0,cobertura:100,total:0,produto_salvo:!1,porcentagem_salva:100},...y])},_=b=>{y.length!==1&&E(y.filter(S=>S.tempId!==b))},T=(b,S,k)=>{if(S==="defensivo"&&k&&y.find(j=>j.tempId!==b&&j.defensivo===k&&!j.produto_salvo)){l({title:"Produto no pode ser repetido",description:"Para repetir este produto, marque a flag 'Produto salvo' no registro anterior.",variant:"destructive"});return}if(S==="produto_salvo"&&!k){const A=y.find(j=>j.tempId===b);if(A!=null&&A.defensivo&&y.filter(I=>I.tempId!==b&&I.defensivo===A.defensivo&&!I.produto_salvo).length>0){l({title:"No  possvel desmarcar",description:"Existe outro produto igual sem a flag marcada. Ao menos um deve ter a flag 'Produto salvo' marcada.",variant:"destructive"});return}}E(A=>A.map(j=>{if(j.tempId===b){const I={...j,[S]:k};if(S==="dose"||S==="cobertura"){const N=Number(S==="dose"?k:j.dose)||0,W=Math.min(100,Math.max(0,Number(S==="cobertura"?k:j.cobertura)||100));I.total=N*(s||0)*(W/100),I.cobertura=W}return I}return j}))};return c.jsxs("div",{className:"space-y-3 p-3 md:p-4 border rounded-lg",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-7 gap-3",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ue,{children:"Cultura"}),c.jsxs(nr,{value:u,onValueChange:b=>{d(b),i(t,"cultura",b),i(t,"cultivar","")},children:[c.jsx(Jt,{children:c.jsx(ar,{placeholder:"Selecione cultura"})}),c.jsx(Kt,{children:p.map(b=>c.jsx(st,{value:b||"",children:b},b))})]})]}),c.jsxs("div",{className:"space-y-2 sm:col-span-2 lg:col-span-2 xl:col-span-2",children:[c.jsx(ue,{children:"Cultivar"}),c.jsxs(nr,{value:e.cultivar,onValueChange:b=>i(t,"cultivar",b),disabled:!u,children:[c.jsx(Jt,{children:c.jsx(ar,{placeholder:u?"Selecione":"Selecione cultura primeiro"})}),c.jsx(Kt,{children:g.map(b=>c.jsx(st,{value:b.cultivar||"",children:b.cultivar},`cult-${b.cultivar??"null"}`))})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ue,{children:"Tipo Embalagem"}),c.jsx("div",{className:"flex gap-2",children:c.jsxs(nr,{value:e.tipo_embalagem,onValueChange:b=>i(t,"tipo_embalagem",b),children:[c.jsx(Jt,{className:"flex-1",children:c.jsx(ar,{})}),c.jsxs(Kt,{children:[c.jsx(st,{value:"BAG 5000K",children:"BAG 5000K"}),c.jsx(st,{value:"SACAS 200K",children:"SACAS 200K"})]})]})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ue,{children:"Tipo Tratamento"}),c.jsxs(nr,{value:e.tipo_tratamento,onValueChange:b=>{i(t,"tipo_tratamento",b),b==="NO"&&(i(t,"tratamento_ids",[]),i(t,"tratamento_id",void 0))},children:[c.jsx(Jt,{children:c.jsx(ar,{})}),c.jsxs(Kt,{children:[c.jsx(st,{value:"NO",children:"NO"}),c.jsx(st,{value:"NA FAZENDA",children:"NA FAZENDA"}),c.jsx(st,{value:"INDUSTRIAL",children:"INDUSTRIAL"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ue,{children:"Data provvel de plantio"}),c.jsx(we,{type:"date",value:e.data_plantio||"",onChange:b=>i(t,"data_plantio",b.target.value)})]}),c.jsxs("div",{className:"space-y-2 sm:col-span-2 lg:col-span-1",children:[c.jsx(ue,{children:"% Cobertura"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(we,{type:"number",step:"0.1",min:"1",max:"100",value:e.percentual_cobertura??100,onChange:b=>{const S=Number(b.target.value),k=Number.isFinite(S)?Math.min(100,Math.max(1,S)):100;i(t,"percentual_cobertura",k)},className:"flex-1"}),c.jsx(ae,{type:"button",variant:"destructive",size:"icon",onClick:()=>o(t),disabled:!a,className:"shrink-0",children:c.jsx(vr,{className:"h-4 w-4"})})]})]})]}),e.cultivar&&e.tipo_tratamento!=="NO"&&e.tipo_tratamento!=="NA FAZENDA"&&c.jsxs("div",{className:"space-y-2",children:[c.jsx(ue,{children:"Tratamento Especfico"}),c.jsxs(Ea,{children:[c.jsx(_a,{asChild:!0,children:c.jsxs(ae,{variant:"outline",type:"button",role:"combobox",className:"w-full justify-between",children:[Array.isArray(e.tratamento_ids)&&e.tratamento_ids.length>0?`${e.tratamento_ids.length} selecionado(s)`:"Selecione o(s) tratamento(s)...",c.jsx(wa,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),c.jsx(Wn,{className:"w-full p-0",children:c.jsxs(Hn,{shouldFilter:!0,children:[c.jsx(Gn,{placeholder:"Buscar tratamento..."}),c.jsxs(qn,{children:[c.jsx(Jn,{children:"Nenhum tratamento encontrado."}),c.jsx(Kn,{children:m.map(b=>{const S=Array.isArray(e.tratamento_ids)?e.tratamento_ids.includes(b.id):!1;return c.jsxs(Xn,{value:`${b.nome}`,onSelect:()=>{const k=Array.isArray(e.tratamento_ids)?[...e.tratamento_ids]:[],j=k.includes(b.id)?k.filter(I=>I!==b.id):[...k,b.id];i(t,"tratamento_ids",j)},children:[c.jsx(ya,{className:Te("mr-2 h-4 w-4",S?"opacity-100":"opacity-0")}),b.nome]},b.id)})})]})]})})]})]}),e.cultivar&&e.tipo_tratamento==="NA FAZENDA"&&c.jsxs("div",{className:"space-y-3 pt-3 border-t",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[c.jsx(ue,{className:"text-sm font-semibold",children:"Defensivos para o TS"}),c.jsxs(ae,{type:"button",variant:"outline",size:"sm",onClick:w,className:"w-full sm:w-auto",children:[c.jsx(Xa,{className:"h-4 w-4 mr-1"}),"Adicionar defensivo"]})]}),y.map((b,S)=>c.jsx("div",{className:"space-y-3 p-3 border rounded-md bg-muted/30",children:c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-3",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ue,{children:"Aplicao"}),c.jsx(we,{value:"Tratamento de Semente - TS",disabled:!0,className:"bg-muted"})]}),c.jsxs("div",{className:"space-y-2 sm:col-span-2 lg:col-span-2",children:[c.jsx(ue,{children:"Defensivo *"}),c.jsxs(Ea,{children:[c.jsx(_a,{asChild:!0,children:c.jsxs(ae,{variant:"outline",type:"button",role:"combobox",className:"w-full justify-between",children:[b.defensivo||"Selecione...",c.jsx(wa,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),c.jsx(Wn,{className:"w-full p-0",children:c.jsxs(Hn,{shouldFilter:!0,children:[c.jsx(Gn,{placeholder:"Buscar defensivo..."}),c.jsxs(qn,{children:[c.jsx(Jn,{children:"Nenhum defensivo encontrado."}),c.jsx(Kn,{children:v.map(k=>c.jsxs(Xn,{value:`${k.item}`,onSelect:()=>T(b.tempId,"defensivo",k.item),children:[c.jsx(ya,{className:Te("mr-2 h-4 w-4",b.defensivo===k.item?"opacity-100":"opacity-0")}),k.item]},k.cod_item))})]})]})})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ue,{children:"Dose *"}),c.jsx(we,{type:"text",inputMode:"decimal",value:String(b.dose||""),onChange:k=>{let A=k.target.value.replace(",",".");(A===""||/^\d*\.?\d*$/.test(A))&&T(b.tempId,"dose",A)},onBlur:k=>{let A=k.target.value.replace(",",".");const j=A===""?0:parseFloat(A);isNaN(j)?T(b.tempId,"dose",0):T(b.tempId,"dose",j)}})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ue,{children:"Cobertura em %"}),c.jsx(we,{type:"number",step:"0.1",min:"0",max:"100",value:b.cobertura,onChange:k=>T(b.tempId,"cobertura",parseFloat(k.target.value)||100)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ue,{children:"Total"}),c.jsx(we,{type:"number",value:b.total.toFixed(2),disabled:!0,className:"bg-muted"})]}),c.jsxs("div",{className:"space-y-2 sm:col-span-2 lg:col-span-3 xl:col-span-1 flex flex-col sm:flex-row items-start sm:items-center gap-2 justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ot,{id:`produto-salvo-${b.tempId}`,checked:b.produto_salvo,onCheckedChange:k=>T(b.tempId,"produto_salvo",!!k)}),c.jsx(ue,{htmlFor:`produto-salvo-${b.tempId}`,className:"text-sm whitespace-nowrap",children:"Produto proprio."})]}),y.length>1&&c.jsx(ae,{type:"button",variant:"ghost",size:"icon",onClick:()=>_(b.tempId),className:"shrink-0",children:c.jsx(vr,{className:"h-4 w-4"})})]})]})},b.tempId))]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ot,{id:`cultivar-salvo-${e.uiId||t}`,checked:!!e.semente_propria,onCheckedChange:b=>i(t,"semente_propria",!!b)}),c.jsx(ue,{htmlFor:`cultivar-salvo-${e.uiId||t}`,children:"Semente propria"})]})]})}const ab=({onSubmit:e,onCancel:t,title:r,submitLabel:n,initialData:a})=>{var Zt,Gt,ir;const{toast:s}=dn();bt();const{profile:i}=pA(),{data:o}=ty(),l=!!(o!=null&&o.isAdmin);i!=null&&i.numerocm_consultor;const{data:u=[]}=mc(),{data:d=[]}=eo(),{data:f=[]}=gm(),{data:h=[]}=SI(),{safras:m=[],defaultSafra:v}=vm(),{data:p=[]}=wZ(),{data:g=[]}=EZ(),y=he=>{const be=String(he||"").toUpperCase().trim();return be==="NO"||be==="NAO"?"NO":be==="NA FAZENDA"||be.includes("FAZENDA")?"NA FAZENDA":be==="INDUSTRIAL"||be.startsWith("INDUSTR")?"INDUSTRIAL":"NO"},E=x.useMemo(()=>{const he=new Set;return(h||[]).filter(be=>{const ke=String(be.item||"").trim();return!ke||he.has(ke)?!1:(he.add(ke),!0)})},[h]),w=x.useMemo(()=>{const he=new Set;return(f||[]).filter(be=>{const ke=String(be.cultivar||"").trim();return!ke||he.has(ke)?!1:(he.add(ke),!0)})},[f]),[_,T]=x.useState((a==null?void 0:a.produtor_numerocm)||""),[b,S]=x.useState((a==null?void 0:a.fazenda_idfazenda)||""),[k,A]=x.useState((a==null?void 0:a.area)||""),[j,I]=x.useState(String((a==null?void 0:a.area_hectares)||"")),[N,W]=x.useState((a==null?void 0:a.safra_id)||""),[M,X]=x.useState((a==null?void 0:a.epoca_id)||""),[B,z]=x.useState([]),[Y,F]=x.useState(!1),ne=()=>`${Date.now().toString(36)}-${Math.random().toString(36).slice(2)}`,[Z,C]=x.useState(a!=null&&a.cultivares&&a.cultivares.length>0?a.cultivares.map(he=>({...he,uiId:ne()})):[{uiId:ne(),cultivar:"",percentual_cobertura:0,tipo_embalagem:"BAG 5000K",tipo_tratamento:"NO"}]),[G,L]=x.useState(a!=null&&a.adubacao&&a.adubacao.length>0?a.adubacao:[{formulacao:"",dose:0,percentual_cobertura:0}]),[D,O]=x.useState([]),[P,Q]=x.useState(!1),ee=x.useRef(!1),re=(Zt=D.find(he=>he.idfazenda===b))==null?void 0:Zt.id,{data:fe=[]}=py(re);x.useEffect(()=>{!N&&(v!=null&&v.id)&&W(v.id)},[v,N]),x.useEffect(()=>{if(a){if(ee.current=!0,typeof a.produtor_numerocm=="string"){T(a.produtor_numerocm);const he=d.filter(be=>be.numerocm===a.produtor_numerocm);O(he)}if(typeof a.fazenda_idfazenda=="string"&&S(a.fazenda_idfazenda),typeof a.area=="string"&&A(a.area),typeof a.area_hectares<"u"&&I(String(a.area_hectares||"")),typeof a.safra_id=="string"&&W(a.safra_id),typeof a.epoca_id=="string"&&X(a.epoca_id),Array.isArray(a.talhao_ids)&&z(a.talhao_ids),Array.isArray(a.cultivares)&&C(a.cultivares.map(he=>{const be=y(he.tipo_tratamento),ke={...he,tipo_tratamento:be,uiId:ne()};return be==="NO"&&(ke.tratamento_ids=[],ke.tratamento_id=void 0),ke})),Array.isArray(a.adubacao)&&L(a.adubacao),Array.isArray(a.adubacao)){const he=a.adubacao.some(ke=>!!ke.formulacao),be=a.adubacao.some(ke=>!!ke.justificativa_nao_adubacao_id);F(!!be&&!he)}setTimeout(()=>{ee.current=!1},100)}},[a,d]),x.useEffect(()=>{var he;if(Y){const be=((he=G[0])==null?void 0:he.justificativa_nao_adubacao_id)||"";L([{formulacao:"",dose:0,percentual_cobertura:0,justificativa_nao_adubacao_id:be}])}else{const be=G.length===1&&!G[0].formulacao;(G.length===0||be)&&L([{formulacao:"",dose:0,percentual_cobertura:100}])}},[Y]),x.useEffect(()=>{if(!ee.current&&_){const he=d.filter(be=>be.numerocm===_);O(he),S(""),A(""),z([]),I("")}},[_,d]),x.useEffect(()=>{if(ee.current||!b)return;const he=D.find(be=>be.idfazenda===b);A((he==null?void 0:he.nomefazenda)||""),z([]),I("")},[b,D]),x.useEffect(()=>{if(B.length===0){I("");return}const he=fe.filter(be=>B.includes(be.id)).reduce((be,ke)=>be+Number(ke.area||0),0);I(String(he))},[B,fe]);const V=()=>{C([{uiId:ne(),cultivar:"",percentual_cobertura:100,tipo_embalagem:"BAG 5000K",tipo_tratamento:"NO"},...Z])},Ee=he=>{C(Z.filter((be,ke)=>ke!==he))},ye=(he,be,ke)=>{const gt=[...Z];gt[he]={...gt[he],[be]:ke},C(gt)},Be=()=>{L([{formulacao:"",dose:0,percentual_cobertura:100},...G])},De=he=>{const be=G.filter((ke,gt)=>gt!==he);L(be),be.length===0&&(F(!0),L([{formulacao:"",dose:0,percentual_cobertura:0,justificativa_nao_adubacao_id:""}]))},me=(he,be,ke)=>{const gt=[...G];gt[he]={...gt[he],[be]:ke},L(gt)},Ze=()=>Z.reduce((he,be)=>he+(Number(be.percentual_cobertura)||0),0),kt=()=>G.reduce((he,be)=>he+(Number(be.percentual_cobertura)||0),0),yt=he=>{he.preventDefault();const be=Ze();if(Math.abs(be-100)>.1){s({title:"Erro de validao",description:"O percentual de cobertura das cultivares deve somar 100% (tolerncia 0,1)",variant:"destructive"});return}const ke=d.find(et=>et.idfazenda===b&&et.numerocm===_)||D.find(et=>et.idfazenda===b),gt=(ke==null?void 0:ke.nomefazenda)||k,Nt=ke!=null&&ke.area_cultivavel&&Number(ke.area_cultivavel)>0?Number(ke.area_cultivavel):Number(j);if(!b){s({title:"Erro de validao",description:"Selecione a fazenda antes de salvar",variant:"destructive"});return}if(!gt){s({title:"Erro de validao",description:"Nome da rea no definido. Selecione a fazenda novamente.",variant:"destructive"});return}if(!Nt||Number.isNaN(Nt)||Nt<=0){s({title:"Erro de validao",description:"Preencha a rea (hectares) com um valor vlido",variant:"destructive"});return}const Jr=G.filter(et=>!!et.formulacao);if(!Y&&Jr.length===0){s({title:"Erro de validao",description:"Adicione pelo menos uma adubao ou marque 'No fazer adubao'",variant:"destructive"});return}if(B.length===0){s({title:"Erro de validao",description:"Selecione pelo menos um talho",variant:"destructive"});return}const ze={produtor_numerocm:_,fazenda_idfazenda:b,area:gt,area_hectares:Nt,safra_id:N||void 0,epoca_id:M||void 0,talhao_ids:B,cultivares:Z.filter(et=>et.cultivar).map(({uiId:et,...lt})=>{if(lt.tipo_tratamento==="NA FAZENDA"){const ia={...lt,defensivos_fazenda:lt.defensivos_fazenda||[]},fu=(Array.isArray(lt.tratamento_ids)?lt.tratamento_ids:[])[0]||lt.tratamento_id||void 0;return ia.tratamento_id=fu,ia}if(lt.tipo_tratamento==="NO"){const ia={...lt};return ia.tratamento_ids=[],ia.tratamento_id=void 0,ia}const Nr=(Array.isArray(lt.tratamento_ids)?lt.tratamento_ids:[])[0]||lt.tratamento_id||void 0;return{...lt,tratamento_id:Nr}}),adubacao:Y?(()=>{var lt;const et=(lt=G[0])==null?void 0:lt.justificativa_nao_adubacao_id;return et?[{formulacao:"",dose:0,percentual_cobertura:0,justificativa_nao_adubacao_id:et}]:(s({title:"Erro de validao",description:"Selecione a justificativa para no fazer adubao",variant:"destructive"}),[])})():Jr};e(ze)};return c.jsxs(Ue,{className:"overflow-hidden",children:[c.jsxs("form",{onSubmit:yt,className:"p-4 sm:p-6 space-y-6",children:[r&&c.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-2",children:r}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ue,{children:"Produtor"}),c.jsxs(nr,{value:_,onValueChange:T,children:[c.jsx(Jt,{children:c.jsx(ar,{placeholder:"Selecione o produtor"})}),c.jsx(Kt,{children:u.map(he=>c.jsx(st,{value:he.numerocm,children:he.nome},he.numerocm))})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[c.jsx(ue,{children:"Fazenda"}),b&&re&&c.jsxs(ae,{type:"button",variant:"ghost",size:"sm",onClick:()=>Q(!0),className:"h-8 gap-1 w-full sm:w-auto",children:[c.jsx(Yh,{className:"h-4 w-4"}),c.jsx("span",{className:"sm:inline",children:"Gerenciar Talhes"})]})]}),c.jsxs(nr,{value:b,onValueChange:S,disabled:!_,children:[c.jsx(Jt,{children:c.jsx(ar,{placeholder:"Selecione a fazenda"})}),c.jsx(Kt,{children:D.map(he=>{const be=!he.area_cultivavel||Number(he.area_cultivavel)<=0;return c.jsx(st,{value:he.idfazenda,children:c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("span",{children:he.nomefazenda}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",Number(he.area_cultivavel||0)," ha)"]}),be&&c.jsx(ht,{variant:"destructive",className:"text-xs",children:"sem rea"})]})]})},he.idfazenda)})})]})]}),b&&fe.length>0&&c.jsxs("div",{className:"space-y-2 lg:col-span-2",children:[c.jsx(ue,{children:"Talhes da Fazenda *"}),c.jsx("div",{className:"border rounded-lg p-3 space-y-2 max-h-60 overflow-y-auto",children:fe.map(he=>c.jsxs("div",{className:"flex items-center space-x-2 py-1",children:[c.jsx(Ot,{id:`talhao-${he.id}`,checked:B.includes(he.id),onCheckedChange:be=>{z(be?[...B,he.id]:B.filter(ke=>ke!==he.id))}}),c.jsxs(ue,{htmlFor:`talhao-${he.id}`,className:"flex-1 cursor-pointer font-normal text-sm",children:[he.nome," - ",Number(he.area).toFixed(2)," ha"]})]},he.id))}),B.length>0&&c.jsxs("div",{className:"text-xs sm:text-sm text-muted-foreground bg-muted/30 p-2 rounded",children:[B.length," talho(es) selecionado(s)  Total: ",j," ha"]})]}),b&&fe.length===0&&c.jsxs("div",{className:"space-y-2 p-3 border border-destructive/50 rounded-lg bg-destructive/5 lg:col-span-2",children:[c.jsx(ht,{variant:"destructive",className:"mb-1",children:"Fazenda sem talhes"}),c.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:'Cadastre os talhes usando o boto "Gerenciar Talhes" acima.'})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ue,{children:"Safra"}),c.jsxs(nr,{value:N,onValueChange:W,children:[c.jsx(Jt,{children:c.jsx(ar,{placeholder:"Selecione a safra"})}),c.jsx(Kt,{children:(m||[]).filter(he=>he.ativa).map(he=>c.jsxs(st,{value:he.id,children:[he.nome,he.is_default?" (Padro)":""]},he.id))})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ue,{children:"poca"}),c.jsxs(nr,{value:M,onValueChange:X,children:[c.jsx(Jt,{children:c.jsx(ar,{placeholder:"Selecione a poca"})}),c.jsx(Kt,{children:(g||[]).map(he=>c.jsx(st,{value:he.id,children:he.nome},he.id))})]})]})]}),c.jsxs("div",{className:"border-t pt-6 space-y-4",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Cultivares / Sementes"}),c.jsxs(ae,{type:"button",onClick:V,variant:"outline",size:"sm",className:"w-full sm:w-auto",children:[c.jsx(Xa,{className:"h-4 w-4 mr-1"}),"Adicionar"]})]}),c.jsx("div",{className:"space-y-4",children:Z.map((he,be)=>c.jsx(_Z,{item:he,index:be,cultivaresDistinct:w,cultivaresCatalog:f,canRemove:Z.length>1,areaHectares:Number(j)||0,onChange:ye,onRemove:Ee},he.uiId))}),c.jsxs("div",{className:`text-sm font-medium ${Ze()===100?"text-green-600":"text-red-600"}`,children:["Total: ",Ze().toFixed(2),"% ",Ze()!==100&&"(deve ser 100%)"]})]}),c.jsxs("div",{className:"border-t pt-6 space-y-4",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Adubao"}),c.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3",children:[c.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[c.jsx("input",{type:"checkbox",checked:Y,onChange:he=>F(he.target.checked),className:"rounded"}),"No fazer adubao"]}),!Y&&c.jsxs(ae,{type:"button",onClick:Be,variant:"outline",size:"sm",className:"w-full sm:w-auto",children:[c.jsx(Xa,{className:"h-4 w-4 mr-1"}),"Adicionar"]})]})]}),Y?c.jsxs("div",{className:"space-y-4",children:[c.jsx(ue,{children:"Justificativa para no fazer adubao *"}),c.jsxs(nr,{value:((Gt=G[0])==null?void 0:Gt.justificativa_nao_adubacao_id)||"",onValueChange:he=>{const be=[...G];be.length===0?be.push({formulacao:"",dose:0,percentual_cobertura:0,justificativa_nao_adubacao_id:he}):be[0].justificativa_nao_adubacao_id=he,L(be)},children:[c.jsx(Jt,{children:c.jsx(ar,{placeholder:"Selecione a justificativa"})}),c.jsx(Kt,{children:p.map(he=>c.jsx(st,{value:he.id,children:he.descricao},he.id))})]})]}):c.jsx("div",{className:"space-y-4",children:G.map((he,be)=>c.jsxs("div",{className:"p-3 md:p-4 border rounded-lg space-y-3",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-3",children:[c.jsxs("div",{className:"space-y-2 sm:col-span-2 lg:col-span-2",children:[c.jsx(ue,{children:"Formulao"}),c.jsxs(nr,{value:he.formulacao,onValueChange:ke=>me(be,"formulacao",ke),children:[c.jsx(Jt,{children:c.jsx(ar,{placeholder:"Selecione"})}),c.jsxs(Kt,{children:[he.formulacao&&!E.some(ke=>(ke.item||"")===he.formulacao)&&c.jsx(st,{value:he.formulacao,children:he.formulacao}),E.map(ke=>c.jsx(st,{value:ke.item||"",children:ke.item},ke.cod_item??ke.item))]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ue,{children:"Dose (kg/ha)"}),c.jsx(we,{type:"number",step:"0.01",value:he.dose,onChange:ke=>me(be,"dose",Number(ke.target.value))})]}),c.jsxs("div",{className:"space-y-2 sm:col-span-2 lg:col-span-1",children:[c.jsx(ue,{children:"Data provvel"}),c.jsx(we,{type:"date",value:he.data_aplicacao||"",onChange:ke=>me(be,"data_aplicacao",ke.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ue,{children:"Embalagem"}),c.jsxs(nr,{value:he.embalagem||"",onValueChange:ke=>me(be,"embalagem",ke),children:[c.jsx(Jt,{children:c.jsx(ar,{placeholder:"Selecione"})}),c.jsxs(Kt,{children:[c.jsx(st,{value:"Big Bag",children:"Big Bag"}),c.jsx(st,{value:"Saca",children:"Saca"})]})]})]}),c.jsxs("div",{className:"space-y-2 sm:col-span-2 lg:col-span-1",children:[c.jsx(ue,{children:"% Cobertura"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(we,{type:"number",step:"0.1",min:"1",max:"100",value:he.percentual_cobertura??100,onChange:ke=>{const gt=Number(ke.target.value),Nt=Number.isFinite(gt)?Math.min(100,Math.max(1,gt)):100;me(be,"percentual_cobertura",Nt)},className:"flex-1"}),c.jsx(ae,{type:"button",variant:"destructive",size:"icon",onClick:()=>De(be),disabled:!1,className:"shrink-0",children:c.jsx(vr,{className:"h-4 w-4"})})]})]})]}),c.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t sm:col-span-2 lg:col-span-3 xl:col-span-5",children:[c.jsx(Ot,{id:`adubacao-salvo-${be}`,checked:!!he.fertilizante_salvo,onCheckedChange:ke=>me(be,"fertilizante_salvo",!!ke)}),c.jsx(ue,{htmlFor:`adubacao-salvo-${be}`,className:"text-sm",children:"Fertilizante proprio"})]})]},be))}),c.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:!Y&&`Total cobertura: ${kt().toFixed(2)}%`})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-6",children:[c.jsx(ae,{type:"button",variant:"outline",onClick:t,className:"w-full sm:w-auto",children:"Cancelar"}),c.jsx(ae,{type:"submit",className:"w-full sm:w-auto",children:n||"Salvar Programao"})]})]}),re&&c.jsx(gy,{fazendaId:re,fazendaNome:((ir=D.find(he=>he.id===re))==null?void 0:ir.nomefazenda)||"",open:P,onOpenChange:Q})]})},gg={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:8080/api",VITE_DASHBOARD_SUMMARY_ENABLED:"false",VITE_SUPABASE_PROJECT_ID:"kndaphgvedudbbmikqye",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtuZGFwaGd2ZWR1ZGJibWlrcXllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMTU5MDIsImV4cCI6MjA3Njc5MTkwMn0.WM3dy-0BZ53v_ApyhaDLnOrT1lTF3XRjTn834Ot0nyM",VITE_SUPABASE_URL:"https://kndaphgvedudbbmikqye.supabase.co"};function SZ(){var D;const[e,t]=x.useState(!1),[r,n]=x.useState(null),[a,s]=x.useState({}),[i,o]=x.useState({}),{programacoes:l,isLoading:u,create:d,delete:f,update:h,isUpdating:m,replicate:v,isReplicating:p}=rP(),{data:g=[]}=eo(),{data:y=[]}=mc(),{programacoes:E=[]}=af(),{programacoes:w=[]}=Q1(),{data:_=[]}=gm(),[T,b]=x.useState(!1),[S,k]=x.useState(null),[A,j]=x.useState(""),[I,N]=x.useState(!1),[W,M]=x.useState(!1),[X,B]=x.useState([]),[z,Y]=x.useState([]),{data:F=[]}=eo(A),[ne,Z]=x.useState(!1),[C,G]=x.useState(null),L=g.length>0;return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx("header",{className:"border-b bg-card",children:c.jsx("div",{className:"container mx-auto px-4 py-4",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(No,{to:"/",children:c.jsx(ae,{variant:"ghost",size:"icon",children:c.jsx(x1,{className:"h-5 w-5"})})}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(hv,{className:"h-6 w-6 text-primary"}),c.jsx("h1",{className:"text-xl font-bold",children:"Programao"})]})]})})}),c.jsxs("main",{className:"container mx-auto px-4 py-8",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Programao"}),c.jsx("p",{className:"text-muted-foreground",children:"Planejamento de sementes e fertilizantes"})]}),c.jsx(ae,{onClick:()=>t(!0),disabled:!L,children:"Nova Programao"})]}),!L&&c.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:c.jsx("p",{className:"text-yellow-800 font-medium",children:" No h reas cadastradas. Por favor, cadastre fazendas antes de criar programaes."})}),e&&!r&&c.jsx(ab,{onSubmit:O=>{d(O),t(!1)},onCancel:()=>t(!1)}),r&&c.jsx(ab,{title:"Editar Programao",submitLabel:m?"Salvando...":"Salvar alteraes",initialData:{produtor_numerocm:r.produtor_numerocm,fazenda_idfazenda:r.fazenda_idfazenda,area:r.area,area_hectares:r.area_hectares,safra_id:r.safra_id||void 0,epoca_id:r.epoca_id||void 0,talhao_ids:r.talhao_ids||[],cultivares:E.filter(P=>P.programacao_id===r.id).map(P=>{const Q=_.find(ee=>ee.cultivar===P.cultivar);return{cultivar:P.cultivar,cultura:(Q==null?void 0:Q.cultura)||"",percentual_cobertura:Number(P.percentual_cobertura)||0,tipo_embalagem:P.tipo_embalagem,tipo_tratamento:P.tipo_tratamento,tratamento_ids:a[P.id]??(Array.isArray(P.tratamento_ids)?P.tratamento_ids:P.tratamento_id?[P.tratamento_id]:[]),tratamento_id:P.tratamento_id||void 0,data_plantio:P.data_plantio||void 0,populacao_recomendada:Number(P.populacao_recomendada)||0,semente_propria:!!P.semente_propria,referencia_rnc_mapa:P.referencia_rnc_mapa||void 0,sementes_por_saca:Number(P.sementes_por_saca)||0,defensivos_fazenda:i[P.id]||[]}}),adubacao:w.filter(P=>P.programacao_id===r.id).map(P=>({formulacao:P.formulacao,dose:Number(P.dose)||0,percentual_cobertura:Number(P.percentual_cobertura)||0,data_aplicacao:P.data_aplicacao||void 0,embalagem:P.embalagem||void 0,justificativa_nao_adubacao_id:P.justificativa_nao_adubacao_id||void 0}))},onSubmit:O=>{h({id:r.id,...O}).then(()=>{n(null),s({}),o({})})},onCancel:()=>{n(null),s({}),o({})}}),u?c.jsx("p",{className:"text-muted-foreground",children:"Carregando programaes..."}):c.jsx("div",{className:"grid gap-4",children:l.length===0?c.jsx(Ue,{className:"p-6",children:c.jsx("p",{className:"text-muted-foreground",children:"Nenhuma programao encontrada."})}):l.map(O=>{const P=y.find(ee=>ee.numerocm===O.produtor_numerocm),Q=g.find(ee=>ee.idfazenda===O.fazenda_idfazenda&&ee.numerocm===O.produtor_numerocm);return c.jsx(Ue,{className:"p-6 hover:shadow-lg transition-shadow",children:c.jsxs("div",{className:"flex items-start justify-between gap-4",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c.jsx(hv,{className:"h-5 w-5 text-primary"}),c.jsxs("h3",{className:"font-semibold text-lg",children:[O.produtor_numerocm," - ",(P==null?void 0:P.nome)||""]}),c.jsxs("p",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-medium",children:"Fazenda:"}),c.jsx("span",{children:(Q==null?void 0:Q.nomefazenda)||""}),c.jsx(ae,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>{Q&&(G({id:Q.id,nome:Q.nomefazenda}),Z(!0))},title:"Gerenciar talhes",children:c.jsx(Yh,{className:"h-4 w-4"})})]})]}),c.jsx("div",{className:"grid gap-2 text-sm text-muted-foreground"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ae,{variant:"outline",size:"icon",onClick:async()=>{const ee=gg==null?void 0:gg.VITE_API_URL,re=typeof window<"u"?window.location.hostname:"127.0.0.1",fe=ee||`http://${re}:5000`,V=await fetch(`${fe}/programacoes/${O.id}/children`);if(!V.ok){ce.error("Erro ao carregar dados da programao para edio");return}const Ee=await V.json(),ye=((Ee==null?void 0:Ee.talhoes)||[]).map(yt=>({talhao_id:yt})),Be=(Ee==null?void 0:Ee.cultivares)||[],De=(Ee==null?void 0:Ee.tratamentos)||{},me=(Ee==null?void 0:Ee.defensivos)||[],Ze={},kt=Be.length>0?Be[0].epoca_id:void 0;for(const yt of Be)if(yt.tipo_tratamento==="NA FAZENDA"){const Zt=me.filter(Gt=>Gt.programacao_cultivar_id===yt.id).map(Gt=>({tempId:ll(),classe:Gt.classe||"",aplicacao:Gt.aplicacao,defensivo:Gt.defensivo,dose:Number(Gt.dose)||0,cobertura:Number(Gt.cobertura)||100,total:Number(Gt.total)||0,produto_salvo:!!Gt.produto_salvo,porcentagem_salva:100}));Ze[yt.id]=Zt}s(De),o(Ze),n({...O,epoca_id:kt,talhao_ids:(ye||[]).map(yt=>yt.talhao_id)})},title:"Editar",children:c.jsx(Qa,{className:"h-4 w-4"})}),c.jsx(ae,{variant:"outline",size:"icon",onClick:()=>{k(O.id),j(""),b(!0),B([]),Y([])},title:"Replicar",children:c.jsx(y1,{className:"h-4 w-4"})}),c.jsx(ae,{variant:"outline",size:"icon",onClick:()=>f(O.id),title:"Excluir",children:c.jsx(vr,{className:"h-4 w-4"})})]})]})},O.id)})})]}),c.jsx(ka,{open:T,onOpenChange:O=>b(O),children:c.jsxs(Zn,{children:[c.jsx(Qn,{children:c.jsx(ea,{children:"Replicar programao"})}),c.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Produtor"}),c.jsxs(Ea,{open:I,onOpenChange:N,children:[c.jsx(_a,{asChild:!0,children:c.jsxs(ae,{variant:"outline",role:"combobox",className:"w-full justify-between",children:[A?`${A} - ${((D=y.find(O=>O.numerocm===A))==null?void 0:D.nome)||""}`:"Selecione produtor...",c.jsx(wa,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),c.jsx(Wn,{className:"w-full p-0",children:c.jsxs(Hn,{children:[c.jsx(Gn,{placeholder:"Buscar produtor..."}),c.jsxs(qn,{children:[c.jsx(Jn,{children:"Nenhum produtor encontrado."}),c.jsx(Kn,{children:y.map(O=>c.jsxs(Xn,{value:`${O.numerocm} ${O.nome}`,onSelect:()=>{j(O.numerocm),B([]),N(!1)},children:[c.jsx(ya,{className:Te("mr-2 h-4 w-4",A===O.numerocm?"opacity-100":"opacity-0")}),O.numerocm," - ",O.nome]},O.id))})]})]})})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"reas (fazendas)"}),c.jsxs(Ea,{open:W,onOpenChange:M,children:[c.jsx(_a,{asChild:!0,children:c.jsxs(ae,{variant:"outline",role:"combobox","aria-expanded":W,className:"w-full justify-between",disabled:!A,children:[X.length>0?`${X.length} rea(s) selecionada(s)`:"Selecione reas...",c.jsx(wa,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),c.jsx(Wn,{className:"w-full p-0",children:c.jsxs(Hn,{children:[c.jsx(Gn,{placeholder:"Buscar rea..."}),c.jsxs(qn,{children:[c.jsx(Jn,{children:"Nenhuma rea encontrada."}),c.jsx(Kn,{children:F==null?void 0:F.map(O=>{var re;const P=((re=y.find(fe=>fe.numerocm===O.numerocm))==null?void 0:re.nome)||"",Q=X.some(fe=>fe.produtor_numerocm===A&&fe.fazenda_idfazenda===O.idfazenda),ee=!O.area_cultivavel||Number(O.area_cultivavel)<=0;return c.jsxs(Xn,{value:`${O.numerocm} ${P} / ${O.nomefazenda}`,onSelect:()=>{if(ee){ce.error("Fazenda sem rea preenchida (ha). Atualize na Admin.");return}B(fe=>fe.some(Ee=>Ee.produtor_numerocm===A&&Ee.fazenda_idfazenda===O.idfazenda)?fe.filter(Ee=>!(Ee.produtor_numerocm===A&&Ee.fazenda_idfazenda===O.idfazenda)):[...fe,{produtor_numerocm:A,fazenda_idfazenda:O.idfazenda,nomefazenda:O.nomefazenda,area_hectares:Number(O.area_cultivavel)}])},children:[c.jsx(Ot,{checked:Q,className:"mr-2 h-4 w-4"}),c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsxs("span",{children:[O.numerocm," - ",P," / ",O.nomefazenda]}),Number(O.area_cultivavel||0)>0?c.jsxs("span",{className:"ml-2 text-xs text-muted-foreground",children:["(",Number(O.area_cultivavel||0)," ha)"]}):c.jsx(ht,{variant:"secondary",className:"text-xs",children:"sem rea(h)"})]})]},`${O.idfazenda}-${O.numerocm}`)})})]})]})})]})]})]}),c.jsx("div",{className:"mt-4 flex items-center gap-2",children:c.jsx(ae,{variant:"outline",onClick:()=>{if(X.length===0)return;const O=[...z];for(const P of X)O.some(ee=>ee.produtor_numerocm===P.produtor_numerocm&&ee.fazenda_idfazenda===P.fazenda_idfazenda)||O.push({produtor_numerocm:P.produtor_numerocm,fazenda_idfazenda:P.fazenda_idfazenda,area_hectares:P.area_hectares});Y(O),B([])},disabled:X.length===0,children:"Adicionar destino"})}),z.length>0&&c.jsxs("div",{className:"mt-2 space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Destinos selecionados"}),c.jsx("div",{className:"space-y-2",children:z.map((O,P)=>{var Q,ee;return c.jsxs("div",{className:"flex items-center justify-between rounded-md border p-2",children:[c.jsxs("div",{className:"text-sm",children:[c.jsxs("span",{className:"font-medium",children:[O.produtor_numerocm," - ",((Q=y.find(re=>re.numerocm===O.produtor_numerocm))==null?void 0:Q.nome)||""]}),c.jsxs("span",{className:"ml-2 text-muted-foreground",children:["/ ",((ee=F.find(re=>re.idfazenda===O.fazenda_idfazenda))==null?void 0:ee.nomefazenda)||O.fazenda_idfazenda," (",Number(O.area_hectares)," ha)"]})]}),c.jsx(ae,{variant:"ghost",size:"icon",onClick:()=>{Y(z.filter((re,fe)=>fe!==P))},title:"Remover destino",children:c.jsx(vr,{className:"h-4 w-4"})})]},`${O.produtor_numerocm}-${O.fazenda_idfazenda}-${P}`)})})]}),c.jsxs(ts,{children:[c.jsx(ae,{variant:"secondary",onClick:()=>{b(!1),k(null),j(""),B([]),Y([])},children:"Cancelar"}),c.jsx(ae,{onClick:async()=>{if(!S||z.length===0)return;const O=await Promise.allSettled(z.map(ee=>{var re;return v({id:S,produtor_numerocm:ee.produtor_numerocm,fazenda_idfazenda:ee.fazenda_idfazenda,area_hectares:ee.area_hectares,area_name:((re=F.find(fe=>fe.idfazenda===ee.fazenda_idfazenda))==null?void 0:re.nomefazenda)||""})})),P=O.filter(ee=>ee.status==="fulfilled").length,Q=O.filter(ee=>ee.status==="rejected").length;P>0&&ce.success(`Replicao concluda: ${P} sucesso(s)`),Q>0&&ce.error(`Falhas em ${Q} destino(s)`),b(!1),k(null),j(""),B([]),Y([])},disabled:p||!S||z.length===0,children:"Replicar"})]})]})}),C&&c.jsx(gy,{fazendaId:C.id,fazendaNome:C.nome,open:ne,onOpenChange:Z})]})}const bZ=()=>{const e=au();return x.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),c.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),c.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),c.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},TZ=new mL,Nu=({children:e})=>{const[t,r]=x.useState(null),[n,a]=x.useState(!0);return sU(),x.useEffect(()=>{Ce.auth.getSession().then(({data:{session:i}})=>{r(i),a(!1)});const{data:{subscription:s}}=Ce.auth.onAuthStateChange((i,o)=>{r(o)});return()=>s.unsubscribe()},[]),n?c.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:c.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})}):t?c.jsx(c.Fragment,{children:e}):c.jsx(x5,{to:"/auth",replace:!0})},kZ=()=>c.jsx(yL,{client:TZ,children:c.jsxs(YM,{children:[c.jsx(F3,{}),c.jsx(hD,{}),c.jsx(C5,{future:{v7_relativeSplatPath:!0},children:c.jsxs(w5,{children:[c.jsx(hi,{path:"/auth",element:c.jsx(OB,{})}),c.jsx(hi,{path:"/",element:c.jsx(Nu,{children:c.jsx(gB,{})})}),c.jsx(hi,{path:"/admin",element:c.jsx(Nu,{children:c.jsx(fY,{})})}),c.jsx(hi,{path:"/defensivos",element:c.jsx(Nu,{children:c.jsx(xZ,{})})}),c.jsx(hi,{path:"/programacao",element:c.jsx(Nu,{children:c.jsx(SZ,{})})}),c.jsx(hi,{path:"/relatorios",element:c.jsx(Nu,{children:c.jsx(yZ,{})})}),c.jsx(hi,{path:"*",element:c.jsx(bZ,{})})]})})]})});NT(document.getElementById("root")).render(c.jsx(kZ,{}));
